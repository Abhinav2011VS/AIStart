
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="bd3cd7e6-5240-56b5-a997-0c9a3f57c704")}catch(e){}}();
(()=>{var e,t,s,o,n,a={"./app/devoe/assets/icons/@component-icons/add.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var o,n,a=s("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},i.apply(this,arguments)}const r=(e,t)=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",ref:t},e),o||(o=a.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.2,d:"M12 20c-.28 0-.5-.22-.5-.5v-15c0-.28.22-.5.5-.5s.5.22.5.5v15c0 .28-.22.5-.5.5"})),n||(n=a.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.2,d:"M4 12c0-.28.22-.5.5-.5h15c.28 0 .5.22.5.5s-.22.5-.5.5h-15c-.28 0-.5-.22-.5-.5"}))),l=(0,a.forwardRef)(r)},"./app/devoe/assets/icons/@component-icons/caret-down.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n.apply(this,arguments)}const a=(e,t)=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",ref:t},e),o.createElement("path",{fill:e.colorforeground,d:"M20 8H4l8 8z"})),i=(0,o.forwardRef)(a)},"./app/devoe/assets/icons/@component-icons/caret-up.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n.apply(this,arguments)}const a=(e,t)=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",ref:t},e),o.createElement("path",{fill:e.colorforeground,d:"M20 16H4l8-8z"})),i=(0,o.forwardRef)(a)},"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/chevron-right.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n.apply(this,arguments)}const a=(e,t)=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 8 8",ref:t},e),o.createElement("path",{stroke:e.colorforeground,strokeLinecap:"round",strokeLinejoin:"round",d:"M2.667 6.667 5.333 4 2.667 1.333"})),i=(0,o.forwardRef)(a)},"./app/devoe/assets/icons/@component-icons/google.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n.apply(this,arguments)}const a=(e,t)=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 512 512",width:"1em",height:"1em",ref:t},e),o.createElement("path",{d:"M113.47 309.408 95.648 375.94l-65.139 1.378C11.042 341.211 0 299.9 0 256c0-42.451 10.324-82.483 28.624-117.732h.014L86.63 148.9l25.404 57.644c-5.317 15.501-8.215 32.141-8.215 49.456.002 18.792 3.406 36.797 9.651 53.408",style:{fill:"#fbbb00"}}),o.createElement("path",{d:"M507.527 208.176C510.467 223.662 512 239.655 512 256c0 18.328-1.927 36.206-5.598 53.451-12.462 58.683-45.025 109.925-90.134 146.187l-.014-.014-73.044-3.727-10.338-64.535c29.932-17.554 53.324-45.025 65.646-77.911h-136.89V208.176h245.899",style:{fill:"#518ef8"}}),o.createElement("path",{d:"m416.253 455.624.014.014C372.396 490.901 316.666 512 256 512c-97.491 0-182.252-54.491-225.491-134.681l82.961-67.91c21.619 57.698 77.278 98.771 142.53 98.771 28.047 0 54.323-7.582 76.87-20.818z",style:{fill:"#28b446"}}),o.createElement("path",{d:"m419.404 58.936-82.933 67.896C313.136 112.246 285.552 103.82 256 103.82c-66.729 0-123.429 42.957-143.965 102.724l-83.397-68.276h-.014C71.23 56.123 157.06 0 256 0c62.115 0 119.068 22.126 163.404 58.936",style:{fill:"#f14336"}})),i=(0,o.forwardRef)(a)},"./app/devoe/assets/icons/@component-icons/receive-arrow.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n.apply(this,arguments)}const a=(e,t)=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 27 20",ref:t},e),o.createElement("path",{fill:e.colorforeground,fillRule:"evenodd",d:"M.123 9.388C.119 9.4.117 9.4.115 9.41a1.6 1.6 0 0 0-.115.593c0 .204.043.41.115.592.002 0 .004.011.008.022.082.194.201.377.351.528l8.384 8.386a1.63 1.63 0 0 0 2.286 0 1.615 1.615 0 0 0 0-2.285L5.52 11.62h19.81c.894 0 1.617-.723 1.617-1.617 0-.895-.723-1.617-1.617-1.617H5.52l5.624-5.627A1.615 1.615 0 0 0 10.001 0c-.413 0-.827.162-1.143.474L.474 8.86c-.15.151-.27.324-.351.528",clipRule:"evenodd"})),i=(0,o.forwardRef)(a)},"./app/devoe/assets/icons/@component-icons/recipes/add.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n.apply(this,arguments)}const a=(e,t)=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 17 16",ref:t},e),o.createElement("path",{fill:e.colorforeground,fillRule:"evenodd",d:"M7.5 3c0-.555.445-1 1-1s1 .445 1 1v10c0 .555-.445 1-1 1s-1-.445-1-1z",clipRule:"evenodd"}),o.createElement("path",{fill:e.colorforeground,fillRule:"evenodd",d:"M2.5 8c0-.555.445-1 1-1h10c.555 0 1 .445 1 1s-.445 1-1 1h-10c-.555 0-1-.445-1-1",clipRule:"evenodd"})),i=(0,o.forwardRef)(a)},"./app/devoe/assets/icons/@component-icons/recipes/arrow-left.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o,n,a=s("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},i.apply(this,arguments)}const r=(e,t)=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 21 21",ref:t},e),o||(o=a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.75 10.5c0-.483.392-.875.875-.875h15.75a.875.875 0 1 1 0 1.75H2.625a.875.875 0 0 1-.875-.875",clipRule:"evenodd"})),n||(n=a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M8.494 4.631a.875.875 0 0 1 0 1.238L3.862 10.5l4.632 4.631a.875.875 0 0 1-1.238 1.238l-5.25-5.25a.875.875 0 0 1 0-1.238l5.25-5.25a.875.875 0 0 1 1.238 0",clipRule:"evenodd"}))),l=(0,a.forwardRef)(r)},"./app/devoe/assets/icons/@component-icons/recipes/arrow-right.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o,n,a=s("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},i.apply(this,arguments)}const r=(e,t)=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 21 21",ref:t},e),o||(o=a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.75 10.5c0-.483.392-.875.875-.875h15.75a.875.875 0 1 1 0 1.75H2.625a.875.875 0 0 1-.875-.875",clipRule:"evenodd"})),n||(n=a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.506 4.631a.875.875 0 0 1 1.238 0l5.25 5.25a.875.875 0 0 1 0 1.238l-5.25 5.25a.875.875 0 1 1-1.238-1.238l4.632-4.631-4.632-4.631a.875.875 0 0 1 0-1.238",clipRule:"evenodd"}))),l=(0,a.forwardRef)(r)},"./app/devoe/assets/icons/@component-icons/recipes/back-arrow.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var o,n=s("./node_modules/react/index.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},a.apply(this,arguments)}const i=(e,t)=>n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 11 10",ref:t},e),o||(o=n.createElement("path",{fill:"#A0AEC0",d:"M4.889 9.17.582 4.865 4.889.556l.83.822-2.884 2.885h7.247v1.2H2.835L5.72 8.345z"}))),r=(0,n.forwardRef)(i)},"./app/devoe/assets/icons/@component-icons/recipes/clipboard.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o,n=s("./node_modules/react/index.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},a.apply(this,arguments)}const i=(e,t)=>n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 15 15",ref:t},e),o||(o=n.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M5 2V1h5v1zm-.25-2A.75.75 0 0 0 4 .75V1h-.5A1.5 1.5 0 0 0 2 2.5v10A1.5 1.5 0 0 0 3.5 14H7v-1H3.5a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5H4v.25c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75V2h.5a.5.5 0 0 1 .5.5V7h1V2.5A1.5 1.5 0 0 0 11.5 1H11V.75a.75.75 0 0 0-.75-.75zM9 8.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m1.5.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m1.5.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m.5 1.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-.5 2.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m0 2a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m-6-4a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m.5 1.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M8.5 15a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m1.5.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1",clipRule:"evenodd"}))),r=(0,n.forwardRef)(i)},"./app/devoe/assets/icons/@component-icons/recipes/close.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o,n,a=s("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},i.apply(this,arguments)}const r=(e,t)=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 12 12",ref:t},e),o||(o=a.createElement("path",{fill:"#666E7A",fillRule:"evenodd",d:"M9.923 2.107a.364.364 0 0 1 0 .514L2.65 9.893a.364.364 0 0 1-.514-.514l7.273-7.272a.364.364 0 0 1 .514 0",clipRule:"evenodd"})),n||(n=a.createElement("path",{fill:"#666E7A",fillRule:"evenodd",d:"M2.136 2.107a.364.364 0 0 1 .514 0l7.273 7.272a.364.364 0 0 1-.514.515L2.136 2.62a.364.364 0 0 1 0-.514",clipRule:"evenodd"}))),l=(0,a.forwardRef)(r)},"./app/devoe/assets/icons/@component-icons/recipes/download.svg":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var o,n=s("./node_modules/react/index.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},a.apply(this,arguments)}const i=(e,t)=>n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 28 28",ref:t},e),o||(o=n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.002 2.533a.8.8 0 0 1 .8.8v12.291l3.967-3.967a.8.8 0 0 1 1.131 1.131l-5.333 5.333a.8.8 0 0 1-1.132 0l-5.333-5.333a.8.8 0 1 1 1.132-1.131l3.967 3.968V3.333a.8.8 0 0 1 .8-.8m-8.89 15.912c.491 0 .89.398.89.889V22c0 .985.792 1.778 1.77 1.778h12.454c.98 0 1.775-.795 1.775-1.778v-2.666a.889.889 0 1 1 1.778 0V22a3.554 3.554 0 0 1-3.553 3.556H7.773A3.55 3.55 0 0 1 4.223 22v-2.666c0-.491.399-.89.89-.89",clipRule:"evenodd"}))),r=(0,n.forwardRef)(i)},"./app/devoe/assets/icons/@component-icons/recipes/lock-active.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o,n,a=s("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},i.apply(this,arguments)}const r=(e,t)=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 11 12",ref:t},e),o||(o=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.522 2.286C1.522 1.023 2.82 0 4.418 0h1.448c1.6 0 2.896 1.023 2.896 2.286v2.857H7.314V2.286c0-.631-.648-1.143-1.448-1.143H4.418c-.8 0-1.448.512-1.448 1.143v2.857H1.522z",clipRule:"evenodd"})),n||(n=a.createElement("path",{fill:"currentColor",d:"M8.762 5.143h-7.24c-.8 0-1.448.511-1.448 1.143v4.571C.074 11.488.722 12 1.522 12h7.24c.8 0 1.448-.512 1.448-1.143V6.286c0-.632-.648-1.143-1.448-1.143"}))),l=(0,a.forwardRef)(r)},"./app/devoe/assets/icons/@component-icons/recipes/minus.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o,n=s("./node_modules/react/index.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},a.apply(this,arguments)}const i=(e,t)=>n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16",ref:t},e),o||(o=n.createElement("path",{fill:"#1D1E23",fillRule:"evenodd",d:"M0 8c0-.37.272-.667 1.043-.667h13.914C15.728 7.334 16 7.63 16 8s-.271.667-1.043.667H1.043C.272 8.667 0 8.37 0 8",clipRule:"evenodd"}))),r=(0,n.forwardRef)(i)},"./app/devoe/assets/icons/@component-icons/recipes/plus.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o,n,a=s("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},i.apply(this,arguments)}const r=(e,t)=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16",ref:t},e),o||(o=a.createElement("path",{fill:"#1D1E23",fillRule:"evenodd",d:"M7.333 1.043C7.333.271 7.63 0 8 0s.667.271.667 1.043V14.95C8.667 15.72 8.37 16 8 16s-.667-.279-.667-1.05z",clipRule:"evenodd"})),n||(n=a.createElement("path",{fill:"#1D1E23",fillRule:"evenodd",d:"M0 8c0-.37.272-.667 1.043-.667h13.914C15.728 7.334 16 7.63 16 8s-.271.667-1.043.667H1.043C.272 8.667 0 8.37 0 8",clipRule:"evenodd"}))),l=(0,a.forwardRef)(r)},"./app/devoe/assets/icons/@component-icons/recipes/training/chevron-left.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o,n=s("./node_modules/react/index.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},a.apply(this,arguments)}const i=(e,t)=>n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 64 64",ref:t},e),o||(o=n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M37.633 50.526a2 2 0 0 1-2.827-.091l-16-17.067a2 2 0 0 1 0-2.736l16-17.066a2 2 0 0 1 2.918 2.736L23.007 32l14.717 15.7a2 2 0 0 1-.091 2.826",clipRule:"evenodd"}))),r=(0,n.forwardRef)(i)},"./app/devoe/assets/icons/@component-icons/recipes/training/chevron-right.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o,n=s("./node_modules/react/index.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},a.apply(this,arguments)}const i=(e,t)=>n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 64 64",ref:t},e),o||(o=n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M26.367 13.474a2 2 0 0 1 2.827.091l16 17.067a2 2 0 0 1 0 2.736l-16 17.066a2 2 0 0 1-2.918-2.735l14.717-15.7-14.717-15.698a2 2 0 0 1 .091-2.827",clipRule:"evenodd"}))),r=(0,n.forwardRef)(i)},"./app/actions/assets.ts":(e,t,s)=>{"use strict";s.d(t,{P:()=>c,c:()=>d});var o=s("./app/api/hooks/assets/asset.ts"),n=s("./app/api/hooks/assets/assets.ts"),a=s("./app/api/hooks/assets/useRecentAssetsGrid.ts"),i=s("./app/api/tasks.ts"),r=s("./app/actions/flash.ts"),l=s("./app/actions/popup.ts");const c=function(e){let{history:t,asTeamId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c=>{c((0,l.showPopup)({title:"Delete Asset",message:"Are you sure you want to delete this asset? This will not change the amount of credits you have.",acceptBtnType:"WARNING",acceptBtn:"Delete",cancelBtn:"Cancel",onAccept:async()=>{e.url?await(0,o.mo)(e.id):await(0,i._5)(e.id,{asTeamId:s}),(0,a.Zh)(),(0,n.CF)(e.id,"delete"),c((0,r.showFlash)({message:`Deleted ${e.name}`,type:"SUCCESS"})),t&&t.push("/assets")}}))}},d=(e,t,s)=>{t((0,l.showPopup)({title:"Rename Asset",message:"",acceptBtnType:"PRIMARY",acceptBtn:"Rename",cancelBtn:"Cancel",inputDefault:e.name,inputMessage:"Asset Name",onAccept:async i=>{(0,o.Fy)(e?.id,i).then((o=>{s?s():(0,n.CF)(e.id,"rename",o),(0,a.Zh)(),t((0,r.showFlash)({type:"SUCCESS",message:"Asset renamed"}))})).catch((e=>{t((0,r.showFlash)({message:e.message,type:"WARNING"}))}))}}))}},"./app/actions/flash.ts":(e,t,s)=>{"use strict";s.r(t),s.d(t,{hideFlash:()=>n,showFlash:()=>o});const o=e=>({type:"SHOW_FLASH",flash:e}),n=()=>({type:"HIDE_FLASH"})},"./app/actions/performance.ts":(e,t,s)=>{"use strict";s.d(t,{HD:()=>c,Kh:()=>p,XU:()=>u,ai:()=>r,lt:()=>l,nl:()=>d});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/detect-gpu/dist/detect-gpu.esm.js"),a=s("./app/api-client.ts"),i=s("./app/utils/video-editor/ui.ts");const r=()=>async e=>{const t=await(0,n.M)();t.gpu&&o.YA("gpu",t.gpu),t.tier&&o.YA("gpu.tier",t.tier.toString()),t.isMobile&&o.YA("gpu.mobile",t.isMobile.toString()),t.fps&&o.YA("gpu.fps",t.fps.toString()),t.device&&o.YA("gpu.device",t.device),e({type:"SET_GPU_TIER",GPUTier:t}),e({type:"ui/SET_PREVIEW_QUALITY",previewQuality:(0,i.J)(t.tier)})},l=()=>async e=>{try{e({type:"UPDATE_SYSTEM_STATUS",status:await(0,a.x$)()})}catch(t){e({type:"UPDATE_SYSTEM_STATUS",status:{gpu:!0,builds:!0,payments:!0,support:!0,training:!0,videoTools:!0}})}},c=()=>async e=>{e({type:"UPDATE_FEATURES",features:await(0,a.N$)()})},d=()=>({type:"CLEAR_FEATURES"}),p=()=>({type:"SET_APP_LOADING",loading:!1}),u=e=>({type:"TIME_OPEN",duration:e})},"./app/actions/popup.ts":(e,t,s)=>{"use strict";s.r(t),s.d(t,{hidePopup:()=>h,showErrorPopup:()=>d,showFatalPopup:()=>c,showLogOutConfirmationPopup:()=>u,showPopup:()=>l,showUpdateAppPopup:()=>p,showWebVersionPopup:()=>m,updatePopupMessage:()=>g,updatePopupProgress:()=>f});var o=s("./app/utils/trackEvent.ts"),n=s("./app/utils/auth.ts"),a=s("./app/utils/links.ts"),i=s("./app/utils/constants.ts");const r=s.p+"10481698330d12c2603e78a0e42e7c1d.png",l=e=>({type:"SHOW_POPUP",popup:e}),c=()=>({type:"SHOW_POPUP",popup:{title:"Fatal Error",message:"An unknown error has occurred. Our team has been notified. Please refresh the page.",acceptBtn:"Refresh",onAccept:()=>{window.location.reload()},onCancel:()=>window.location.reload(),isErrorPopup:!0}}),d=(e,t)=>({type:"SHOW_POPUP",popup:{title:e,message:t,acceptBtn:"OK",onAccept:()=>{},isErrorPopup:!0}}),p=()=>{let e="",t="";return e="Refresh to continue",t="This project has been updated in a newer release of Runway. Please refresh to continue.",{type:"SHOW_POPUP",popup:{title:"Refresh to continue",message:"This project has been updated in a newer release of Runway. Please refresh to continue.",acceptBtn:"Refresh",onAccept:()=>{window.location.reload()},onCancel:()=>{window.location.reload()}}}},u=(e,t)=>({type:"SHOW_POPUP",popup:{title:"Log Out",message:"Are you sure you want to log out of your account? All your current workspaces will be lost.",acceptBtnType:"WARNING",acceptBtn:"Log Out",cancelBtn:"Cancel",onAccept:async()=>{(0,n.If)(e),(0,o.L)({event:"Click",name:"Log Out",section:t})}}}),m=e=>({type:"SHOW_POPUP",popup:{title:"Access Runway anywhere",message:"You can now access Runway on the web!",acceptBtn:"Open Web Version",image:r,imageWidth:"65%",type:"CUSTOM",onAccept:()=>{(0,a.n)(`${i.yR}${e?`/?email=${e}`:""}`),(0,o.L)({event:"Click",name:"Open Web Version from Popup",section:"Go to Web Popup"})}}}),h=()=>({type:"HIDE_POPUP"}),g=e=>({type:"UPDATE_POPUP_MESSAGE",message:e}),f=e=>({type:"UPDATE_POPUP_PROGRESS",progress:e})},"./app/actions/settings.ts":(e,t,s)=>{"use strict";s.d(t,{fC:()=>a,n1:()=>o,y3:()=>n});const o=e=>({type:"USER_HAS_SEEN_ANNOUNCEMENT",name:e}),n=e=>({type:"SET_LAST_USED_TEAM",team:e}),a=e=>({type:"SET_LAST_USED_TEAMSPACE",teamspace:e})},"./app/actions/signinModal.ts":(e,t,s)=>{"use strict";s.d(t,{l:()=>n,t:()=>o});const o=()=>({type:"HIDE_SIGNIN_MODAL"}),n=e=>({type:"SHOW_SIGNIN_MODAL",signinType:e,title:"Sign in to Runway"})},"./app/actions/ui.ts":(e,t,s)=>{"use strict";s.d(t,{EK:()=>n,Iv:()=>i,RG:()=>a});var o=s("./app/actions/video-editor/layers.ts");const n=e=>({type:"UI_EVENT",event:e.event,name:e.name,section:e.section,model:e.model,file:e.file,item:e.item,...e.otherProperties??{}}),a=(e,t)=>s=>{const n=(0,o.vt)(),a=(0,o.Iz)();if(!n||!a)return;const i=n.state,r=a.data?.clip?.assetId;let l;switch(e){case"EXPORT":{const e=i.keyframes||[];let s=[];e.forEach((e=>{s=[...s,...e.points]})),l={videoAssetId:r,excludePointCount:s.filter((e=>"EXCLUDE"===e.type)).length,includePointCount:s.filter((e=>"INCLUDE"===e.type)).length,keyframeCount:e.length,name:"Export Green Screen",pointCount:s.length,taskId:t.taskId,compositionURL:t.compositionURL,compositionDurationMs:a.endMs,timeSpentDurationMs:(new Date).getTime()-new Date(a.createdAt).getTime()};break}case"DELETE_KEYFRAME":const e=t.keyframe;l={videoAssetId:r,excludePointCount:e.points.filter((e=>"EXCLUDE"===e.type)).length,includePointCount:e.points.filter((e=>"INCLUDE"===e.type)).length,pointCount:e.points.length,keyframeId:e.id,keyframeTimeMs:e.timeMs,name:"Delete Green Screen Keyframe"}}s({type:"GREEN_SCREEN_EVENT",section:"Green Screen",...l})},i=e=>({type:"SET_RIGHT_CLICK_MENU_OPTIONS",options:e})},"./app/actions/user.ts":(e,t,s)=>{"use strict";s.r(t),s.d(t,{checkMachineAuthorization:()=>c,logOut:()=>m,refreshUser:()=>d,updateUser:()=>p,updateUserToken:()=>u});var o=s("./app/integrations/braze/Braze.ts"),n=s("./node_modules/@sentry/core/esm/exports.js"),a=s("./app/api-client.ts"),i=s("./app/utils/auth.ts"),r=s("./app/utils/video-editor/clipboard.ts"),l=s("./app/actions/performance.ts");const c=()=>async(e,t)=>{const{user:s}=t();if(!s?.token)return;await a.Mi()||e(m())},d=()=>async e=>{if(!(0,i.Pc)())return;const t=(0,i.bW)(),s=await a.Ai(t);s&&(e((0,l.HD)()),e((0,l.lt)()),e(p({...s,token:t})))},p=e=>(e?.token&&((0,i.uB)(e.token),e.id&&(n.e((t=>{t.setUser({id:e.id?.toString(),username:e.username,email:e.email})})),(0,o.b)().setUserInformation(e))),{type:"UPDATE_USER_SETTINGS",user:e}),u=e=>({type:"UPDATE_USER_TOKEN",token:e}),m=()=>async e=>{(0,i.bW)()&&((0,r.m)(null),(0,i.uB)(null),e({type:"LOG_OUT"}))}},"./app/actions/video-editor/asset-layer-validation.ts":(e,t,s)=>{"use strict";s.d(t,{GP:()=>m,Nw:()=>g,ae:()=>u,gf:()=>p,ll:()=>d});var o=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),n=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),a=s("./app/utils/filenames.ts"),i=s("./app/utils/urls.ts"),r=s("./app/utils/video.ts"),l=s("./app/utils/video-editor/audio.ts"),c=s("./app/actions/popup.ts");const d=["image","video","audio"],p=async e=>{const t=await(0,r.OO)(e);let s={valid:!0};if(t){const{height:e,width:n,duration:a}=t;e*n>o.Qe&&(s={valid:!1,error:"Video too large",errorType:"TOO_LARGE",errorMessage:"Please add a video that is less than or equal to 4K resolution (4096x4096)."}),a||(s={valid:!1,error:"Video unsupported",errorType:"UNSUPPORTED_FORMAT",errorMessage:"There was an error reading the duration of the video. Please check your video format."});const i=u(a);i.valid||(s=i)}else s={valid:!1,error:"Video unsupported",errorType:"UNSUPPORTED_FORMAT",errorMessage:"There was an error reading the duration of the video. Please check your video format."};return s.valid?Promise.resolve(s):Promise.reject(s)},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VIDEO",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=(0,r.Jm)(s||(0,n.Ad)());return e>1e3*o?{valid:!1,error:("VIDEO"===t?"Video":"Audio")+" too long",errorType:"TOO_LONG",errorMessage:`Please add a ${t.toLowerCase()} that is shorter than ${o/60} minutes.`}:{valid:!0}},m=e=>t=>{t((0,c.showPopup)({title:e.error,message:e.errorMessage,acceptBtn:"Got it"}))},h=["mp3","wav","m4a","mp4","ogg","flac"],g=async e=>{let t={valid:!0};const s=(0,a.vN)(e.url).toLowerCase();if(h.includes(s)||(0,i.Gu)(e.url))try{const s=e.metadata?.duration||await(0,l.eo)(e.url),o=u(1e3*s,"AUDIO");o.valid||(t=o)}catch(e){t={valid:!1,error:"Audio unsupported",errorType:"UNSUPPORTED_FORMAT",errorMessage:"There was an error reading the duration of the audio. Please check your video format."}}else t={valid:!1,error:"Audio unsupported",errorType:"UNSUPPORTED_FORMAT",errorMessage:"Audio format not supported."};return t.valid?Promise.resolve(t):Promise.reject(t)}},"./app/actions/video-editor/edit-context-history.ts":(e,t,s)=>{"use strict";s.d(t,{AG:()=>m,BN:()=>l,W9:()=>p,Wx:()=>d,p6:()=>u,pW:()=>r,sN:()=>x});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/store.ts"),a=s("./app/utils/video-editor/edit-context-history.ts"),i=s("./app/actions/video-editor/masks.ts");const r=(e,t)=>s=>{s({type:"ui/ADD_TO_HISTORY",layerId:e,historyObject:(0,a.wV)(t)})},l=(e,t)=>s=>{const{history:n}=(0,i.Am)(e);if(!n)return;const a=(0,o.findLastIndex)(n.undoQueue,(e=>JSON.stringify(e)===JSON.stringify(t)));if(-1===a)return;n.undoQueue.splice(a,1);s({type:"ui/SET_HISTORY",newHistory:{...n,undoQueue:(0,o.cloneDeep)(n.undoQueue)},layerId:e})},c=(e,t)=>s=>{const{history:n}=(0,i.Am)(e);if(!n)return;const a=(0,o.cloneDeep)(n.redoQueue).filter(t);s({type:"ui/SET_HISTORY",newHistory:{undoQueue:(0,o.cloneDeep)(n.undoQueue).filter(t),redoQueue:a,_present:a.length>0?(0,o.cloneDeep)(a[0]):null},layerId:e})},d=(e,t)=>s=>{s(c(e,(e=>e.type!==t)))},p=e=>t=>{t(c(e,(()=>!1)))},u=e=>t=>{const{history:s,state:n}=(0,i.Am)(e),a=0===s.undoQueue.length?null:s.undoQueue[0];if(a){const s=(0,o.cloneDeep)(n),i=(0,o.cloneDeep)({...n,...a.state});t({type:"ui/UNDO",layerId:e}),g({action:"UNDO",historyType:a.type,layerId:e,dispatch:t},s,i)}},m=e=>t=>{const{history:s,state:n}=(0,i.Am)(e),a=0===s.redoQueue.length?null:s.redoQueue[0];if(a){const s=(0,o.cloneDeep)(n),i=(0,o.cloneDeep)({...n,...a.state});t({type:"ui/REDO",layerId:e}),g({action:"REDO",historyType:a.type,layerId:e,dispatch:t},s,i)}};let h=null;const g=(e,t,s)=>{h||(h=(0,o.cloneDeep)(t)),f(e,t,s)},f=(e,t,s)=>{const n=(0,i.Am)(e.layerId);switch(e.historyType){case"MASK/CREATE_KEYFRAME":case"MASK/DELETE_KEYFRAME":{const[a]=(0,o.differenceBy)(s.keyframes,t.keyframes,"id");a&&e.dispatch((0,i.sS)(e.layerId,a)),"MASK"===n?.contextKey&&s.keyframes&&s.keyframes.length<=0&&e.dispatch({type:"ui/SELECT_LAYER_EDIT_CONTEXT_SELECTED_OPTION",layerId:e.layerId,selectedOption:"MASK:INCLUDE"});break}}const a=s.keyframes;y(a,e.layerId,e.dispatch,n?.contextKey)},y=(e,t,s,o)=>{if("TRACKING"!==o&&e){if(s({type:"composition/SET_LAYER_KEYFRAMES",keyframes:e,layerId:t,contextKey:o}),"MASK"!==o)return;(e.length<=0||1===e.length)&&s({type:"composition/UPDATE_LAYER_MASK_EFFECTS",layerId:t,keyframesLength:e.length})}},x=(e,t)=>{let{layerId:s,historyType:a}=e;const l=(0,o.cloneDeep)((0,i.Am)(s)?.state);t(),n.Z.dispatch(r(s,{state:l,type:a}))}},"./app/actions/video-editor/history.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>l,Y:()=>r});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/react-redux/es/index.js"),a=s("./app/api/video-editor/composition.ts"),i=s("./app/actions/video-editor/selection.ts");const r=()=>(e,t)=>{const{composition:s,ui:a}=t().videoEditor,i=(0,o.cloneDeep)(s);(0,n.dC)((()=>{e({type:"history/UNDO"}),e({type:"SCENE_EDITOR_EVENT",name:"Undo"});const s=(0,o.cloneDeep)(t().videoEditor.composition);e(c({fromState:i,toState:s,ui:a}))}))},l=()=>(e,t)=>{const{composition:s,ui:a}=t().videoEditor,i=(0,o.cloneDeep)(s);(0,n.dC)((()=>{e({type:"history/REDO"}),e({type:"SCENE_EDITOR_EVENT",name:"Redo"});const s=(0,o.cloneDeep)(t().videoEditor.composition);e(c({fromState:i,toState:s,ui:a}))}))},c=e=>{let{fromState:t,toState:s,ui:r}=e;return e=>{(0,n.dC)((()=>{e({type:"composition/INCREMENT_EDIT_VERSION"});(0,o.differenceBy)(Object.values(t.layers),Object.values(s.layers),"id").forEach((t=>{r.selection.LAYER===t.id&&e(i.f),e({type:"ui/DELETE_LAYER_VIEWPORT_EFFECT",layerId:t.id})})),t.metadata.name!==s.metadata.name&&(0,a.V_)(s.metadata.id,s.metadata.name)}))}}},"./app/actions/video-editor/keyframe.ts":(e,t,s)=>{"use strict";s.d(t,{Y:()=>i,n:()=>r});var o=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerEffects.tsx"),n=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts"),a=s("./app/utils/video-editor/keyframe.ts");const i=e=>(t,s)=>{const{composition:o}=s().videoEditor,n=(0,a.lE)(o,e);if(!n)return;const i=(0,a.id)(o,n);i&&t({type:"composition/ADD_KEYFRAME",effectId:n.effectId,layerId:n.layerId,property:n.property,value:i.value,timeMs:i.timeMs,easing:i.easing})},r=e=>{let{layer:t,property:s,projectTimeMs:a,effectId:i,newKeyframeId:r}=e;return e=>{if(i){const n=(0,o.dn)(t,a),l=n.find((e=>e.id===i))?.values?.[s];if(!l)return;const c=l.value;e({type:"composition/ADD_KEYFRAME",layerId:t.id,effectId:i,property:s,value:c,timeMs:a-t.startMs,keyframeId:r})}else{const o=(0,n.qw)(t,a);if(!o)return;const i=(0,n.s1)(o)[s];e({type:"composition/ADD_KEYFRAME",layerId:t.id,property:s,value:i,timeMs:a-t.startMs,keyframeId:r})}}}},"./app/actions/video-editor/layers.ts":(e,t,s)=>{"use strict";s.d(t,{BV:()=>ie,Bn:()=>Z,Iz:()=>Q,KB:()=>ee,Ki:()=>q,NB:()=>z,VU:()=>$,dG:()=>R,eC:()=>H,fR:()=>F,gH:()=>ne,gM:()=>G,kX:()=>B,kq:()=>oe,mv:()=>se,nQ:()=>K,vM:()=>ae,vt:()=>te,zs:()=>Y});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./app/api/video-editor/composition.ts"),r=s("./app/components/Views/VideoTools/Composition/composition.ts"),l=s("./app/store.ts"),c=s("./app/utils/string.ts"),d=s("./app/utils/waitForPaint.ts"),p=s("./app/utils/createSentryTransactionFor.ts"),u=s("./app/utils/trackEvent.ts"),m=s("./app/utils/video-editor/layer.ts"),h=s("./app/utils/video-editor/tracks.ts"),g=s("./app/actions/popup.ts"),f=s("./app/actions/video-editor/asset-layer-validation.ts"),y=s("./app/actions/video-editor/edit-context-history.ts"),x=s("./app/actions/video-editor/notification.tsx"),v=s("./app/utils/video-editor/selection.ts"),b=s("./app/api/video-editor/inpaint-network.ts"),w=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/ShapeLayer/constants.ts"),_=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts"),I=s("./app/components/Views/VideoTools/VideoEditor/Timeline/Layer/dnd.ts"),T=s("./app/components/Views/VideoTools/VideoEditor/VideoEditorTracking/utils/LoadingMonitor.ts"),j=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),k=s("./app/components/Views/VideoTools/VideoEditor/edit-context-definitions.ts"),C=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),E=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),S=s("./app/reducers/video-editor/composition.ts"),A=s("./app/reducers/video-editor/history.ts"),M=s("./app/utils/filenames.ts"),P=(s("./app/utils/video-editor/parenting.ts"),s("./app/utils/video-editor/store.ts")),N=s("./app/utils/video-editor/timeline.ts"),D=s("./app/utils/video-editor/tracking.ts"),O=s("./app/actions/video-editor/timeline.ts"),L=s("./app/actions/video-editor/viewport.ts");const R=(e,t,s)=>async(o,n)=>{const{startMs:i,targetTrackIndex:r,spliceTrackIndex:d=null,undoable:p}=t||{undoable:!1,spliceTrackIndex:null};return new Promise((async(t,h)=>{const y=o((0,x.sc)({message:`Loading ${e.mediaType}`,type:"PROGRESS"}));if(o((0,T.SX)({type:"ui/START_LOADING"})),"video"===e.mediaType||"audio"===e.mediaType)try{"video"===e.mediaType?await(0,f.gf)(e):await(0,f.Nw)(e)}catch(e){switch(e.errorType){case"TOO_LARGE":case"UNSUPPORTED_FORMAT":o((0,g.showErrorPopup)(e.error,e.errorMessage));break;case"TOO_LONG":o((0,f.GP)(e))}return void o((0,x.no)(y))}finally{o({type:"ui/STOP_LOADING"})}const{videoEditor:v}=n(),{composition:w}=v,_=0===w.settings.durationMs,I=(0,E.Zx)()&&("video"===e.mediaType||"image"===e.mediaType),k=(0,E.Zn)()&&"video"===e.mediaType,C=(0,E.iL)()&&"video"===e.mediaType,S=I?"MASK":k?"INPAINT":C?"TRACKING":null;try{const n=await(0,m.Zr)({asset:e,composition:w,options:{fitToCanvas:!(I||k||C)}});(0,a.dC)((()=>{if(S){if(o({type:"ui/SET_LEFT_PANEL_MODE",mode:null}),o(X(n,w.metadata.id,S)),o((0,L.fT)()),k)(0,b.Z)("video_inpainting",n.data.clip,{startOffset:n.startOffsetMs,duration:n.endMs-n.startMs});else if(C&&"clip"in n.data){if(!Boolean((0,D.zq)(n))){const e=(0,P.Ny)(n);(0,a.dC)((()=>{l.Z.dispatch({type:"composition/ADD_LAYER",layer:e}),l.Z.dispatch({type:"composition/ADD_CHILDREN_LAYER_ID",layerId:n.id,childLayerId:e.id})}))}(0,b.Z)("tracking",n.data.clip,{startOffset:n.startOffsetMs,duration:n.endMs-n.startMs})}}else p?(0,A.w)((()=>{o(U({layer:n,spliceTrackIndex:d??void 0,startMs:i,targetTrackIndex:r}))})):o(U({layer:n,spliceTrackIndex:d??void 0,startMs:i,targetTrackIndex:r})),_&&!S&&(o((0,O.SO)({targetWidth:window.innerWidth-j.QT-j.ho,startMs:n.startMs,endMs:n.endMs,shouldNotFill:!0})),o((0,O.SO)({targetWidth:window.innerWidth-j.QT-j.ho,startMs:n.startMs,endMs:n.endMs,numSubticksPadding:1})));(0,u.L)({event:"General",name:`Add ${(0,c.Oo)(e.mediaType)} Asset`,section:I?"Green Screen":"Scene Editor"}),o({type:"ui/STOP_LOADING"}),s&&s(n)})),setTimeout((()=>{o((0,x.no)(y))}),500),t(n)}catch(t){o((0,x.sc)({message:`Error loading ${e.name}`,type:"ERROR"})),o({type:"ui/STOP_LOADING"}),h(t)}}))},Z=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timeOffset:0,startMs:0,fitCompositionToTimeline:!1};return async o=>{let n,c;if(t.schemaVersion!==j.Bf){const e=await(0,i.UQ)(t.id),s=(0,r.c)(e).composition;n=s.layers,c=s.tracks}else n=e.layers,c=e.tracks;const d=0===Object.values(l.Z.getState().videoEditor.composition.layers).filter((e=>"AUDIO"!==e.type)).length;(0,u.L)({event:"Click",name:"Use Template",section:"Sequel Projects",otherProperties:{from:"video editor",templateName:t.name,templateTag:t.tags[0]}});const p=()=>{j.VL.forEach((e=>{c.filter((t=>t.type===e)).reverse().forEach((e=>{e.layers.forEach((e=>{const t=n[e];o($(t,void 0,{targetStartMs:t.startMs+(s.startMs||(0,C.q)()+s.timeOffset||0),selectLayer:!1}))}))}))}))};return(0,a.dC)((()=>{s.undoable?(d&&o({type:"composition/RESIZE_ARTBOARD",width:e.width,height:e.height}),(0,A.w)(p)):(o({type:"composition/RESIZE_ARTBOARD",width:e.width,height:e.height}),p())})),s.fitCompositionToTimeline&&o((0,O.SO)({targetWidth:window.innerWidth-j.QT-j.ho,startMs:0,endMs:(0,m.lM)(n),numSubticksPadding:1})),Promise.resolve(!0)}},U=e=>{let{layer:t,startMs:s,targetTrackIndex:n,spliceTrackIndex:a}=e;return e=>{const i=(0,h.No)(t,s,n),r=!(0,o.isNil)(a);if(i.shouldSplice||r||e((0,I.Bw)({startMs:i.startMs,endMs:i.endMs,trackIndex:i.trackIndex})),e(G(t,i.trackIndex)),e({type:"composition/UPDATE_LAYER_DURATION",layerId:t.id,startMs:i.startMs,endMs:i.endMs}),i.shouldSplice||r)e({type:"composition/INSERT_LAYER_AT_TRACK_INDEX",layerId:t.id,trackIndex:r?a:i.trackIndex});else{const o=(0,h.No)(t,s,n);o.shouldSplice||r||e((0,I.Bw)({startMs:o.startMs,endMs:o.endMs,trackIndex:o.trackIndex})),e(G(t,o.trackIndex)),e({type:"composition/UPDATE_LAYER_DURATION",layerId:t.id,startMs:o.startMs,endMs:o.endMs}),o.shouldSplice||r?e({type:"composition/INSERT_LAYER_AT_TRACK_INDEX",layerId:t.id,trackIndex:r?a:o.trackIndex}):e({type:"composition/UPDATE_LAYER_TRACK_INDEX",layerId:t.id,trackIndex:o.trackIndex})}}},z=(e,t)=>async(s,o)=>{const{startMs:i,trackIndex:r,layerId:l}=t;let d=t.endMs;return new Promise(((t,p)=>{(0,a.dC)((async()=>{const a=s((0,x.sc)({message:`Loading ${e.mediaType}`,type:"PROGRESS"}));if(s((0,T.SX)({type:"ui/START_LOADING"})),"video"===e.mediaType||"audio"===e.mediaType)try{"video"===e.mediaType?await(0,f.gf)(e):await(0,f.Nw)(e)}catch(e){switch(e.errorType){case"TOO_LARGE":case"UNSUPPORTED_FORMAT":s((0,g.showErrorPopup)(e.error,e.errorMessage));break;case"TOO_LONG":s((0,f.GP)(e))}return void s((0,x.no)(a))}finally{s({type:"ui/STOP_LOADING"})}const{composition:h}=o().videoEditor;try{const o=await(0,m.Zr)({asset:e,composition:h,options:{fitToCanvas:!0}}),p=h.layers[l];o.effects=p.effects.filter((e=>{let{id:t}=e;return!p.mask.maskEffectIds.includes(t)})),o.transforms=n().cloneDeep(p.transforms);const g=d-i,f=o.endMs-o.startMs;f<g&&"IMAGE"!==o.type&&(d=i+f,o.transforms=V(o.transforms,o.endMs-o.startMs),o.effects=o.effects.map((e=>({...e,values:V(e.values,o.endMs-o.startMs)}))));const y=o.transforms.scale,v=await(0,m.bp)(e);if("VIDEO"===o.type||"IMAGE"===o.type){const e=y.value,t=v.width/p.data.clip.metadata.width,s=v.height/p.data.clip.metadata.height;y.value={x:e.x/t,y:e.y/s};for(const e of y.keyframes)e.value={x:e.value.x/t,y:e.value.y/s}}s({type:"history/START_RECORDING"}),s({type:"composition/DELETE_LAYER",layerId:l}),s(G(o,r));const b=(0,S.G_)(h,p.id);b&&s({type:"composition/SET_CHILDREN_LAYER_IDS",layerId:b.id,childrenLayerIds:[...b.childrenLayerIds,o.id]}),s({type:"composition/UPDATE_LAYER_DURATION",layerId:o.id,startMs:i,endMs:d}),s({type:"composition/UPDATE_LAYER_TRACK_INDEX",layerId:o.id,trackIndex:r}),s({type:"history/STOP_RECORDING"}),setTimeout((()=>{s((0,x.no)(a))}),500),(0,u.L)({event:"General",name:`Add ${(0,c.Oo)(e.mediaType)} Asset`,section:"Scene Editor"}),t(o)}catch(t){s((0,x.sc)({message:`Error loading ${e.name}`,type:"ERROR"})),p(t)}s({type:"ui/STOP_LOADING"})}))}))},V=(e,t)=>{const s={};for(const o in e){const n=e[o];s[o]={...n,keyframes:n.keyframes.filter((e=>e.timeMs<=t))}}return s},B=(e,t)=>(s,o)=>{const n=(t=t??(0,v.f)(o())).filter((t=>t.id!==e)).map((e=>e.id));s({type:"ui/SELECT_LAYERS",layerIds:[e,...n]})},G=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return o=>{(0,a.dC)((()=>{o({type:"composition/ADD_LAYER",layer:e,trackIndex:t}),s&&(0,p.U)(j.sh.SELECT_LAYER,(async()=>{o({type:"ui/SELECT_LAYER",layerId:e.id}),await(0,d.h)()}))}))}},F=e=>t=>{const s=(0,m.iz)(e);t({type:"composition/ADD_LAYER",layer:s,trackIndex:(0,h.No)(s,e.startMs).trackIndex}),t({type:"composition/UPDATE_LAYER_DATA",layerId:e.id,data:{hasAudio:!1,muted:!0}})},$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{selectLayer:!0};return(o,n)=>{const{selectLayer:a,targetTrackIndex:i,targetStartMs:r}=s,l=o((0,m.b7)(e,t)),c=(0,C.q)(),u=(0,h.No)(l,r??c,i);o({type:"composition/UPDATE_LAYER_DURATION",layerId:l.id,startMs:u.startMs,endMs:u.endMs}),u.shouldSplice?o({type:"composition/INSERT_LAYER_AT_TRACK_INDEX",layerId:l.id,trackIndex:u.trackIndex}):o({type:"composition/UPDATE_LAYER_TRACK_INDEX",layerId:l.id,trackIndex:u.trackIndex}),a&&(0,p.U)(j.sh.SELECT_LAYER,(async()=>{o({type:"ui/SELECT_LAYER",layerId:l.id}),await(0,d.h)()}))}},W=e=>{let{layers:t,timeMs:s,trackDelta:o,minLayersStartMs:n,trackIndexes:a}=e,i=!0;for(const e in t){const r=t[e],l=s+r.startMs-n;if((0,I.MM)({startMs:l,endMs:l+(r.endMs-r.startMs),trackIndex:a[e]+o}).length){i=!1;break}}return i},H=(e,t,s)=>(n,i)=>{let r=[];const l=e.map((e=>e.startMs)),c=Math.min.apply(null,l);(0,a.dC)((()=>{j.VL.forEach((a=>{const l=t.filter((e=>e.trackType===a)),[d,p]=(0,N.WW)(i(),a),u=l.map((e=>e.relativeTrackIndex)),g=Math.min.apply(null,u),f=Math.max.apply(null,u)-g+1,y=p-d+1,x=Math.max(f-y,0);(0,o.range)(x).forEach((()=>{n({type:"composition/CREATE_TRACK",trackIndex:d,trackType:a})}));const v=e.filter((e=>(0,h.ZZ)(e.type)===a));if(v.length){const e=n((e=>{let{layersToPaste:t,timeMs:s,trackType:n,minLayersStartMs:a,relativeLayerTrackPositions:i}=e;return(e,r)=>{const l=i.map((e=>e.relativeTrackIndex)),[c]=(0,N.WW)(r(),n);let d=null;const p=-1*(Math.max.apply(null,l)+1),u=(0,o.range)(0,p-1),h=l.map((e=>e+c));for(const e in u){const o=u[e];if(W({layers:t,timeMs:s,trackDelta:o,trackIndexes:h,minLayersStartMs:a})){d=o;break}}null===d&&(d=p);const g=i.map((e=>e.relativeTrackIndex+d)),f=Math.min.apply(null,g),y=f<0?Math.abs(f):0,x=g.map((e=>c+e+y));(0,o.range)(y).forEach((()=>{e({type:"composition/CREATE_TRACK",trackIndex:c,trackType:n})}));const v=[];return t.forEach(((t,o)=>{const n=e((0,m.b7)(t)),i=(0,I.OL)(s+t.startMs-a);e({type:"composition/UPDATE_LAYER_DURATION",startMs:i,endMs:(0,I.OL)(i+(t.endMs-t.startMs)),layerId:n.id});const r=x[o];e({type:"composition/UPDATE_LAYER_TRACK_INDEX",layerId:n.id,trackIndex:r}),v.push(n.id)})),v}})({layersToPaste:v,timeMs:s,trackType:a,relativeLayerTrackPositions:l,minLayersStartMs:c}));r=[...r,...e]}})),n({type:"ui/SELECT_LAYERS",layerIds:r})}))},Y=e=>{const t=(0,h.ZZ)(e.type),[s]=(0,N.WW)(l.Z.getState(),t);return{trackType:t,relativeTrackIndex:(0,h.PS)(e.id)-s,layerId:e.id}},X=(e,t,s)=>o=>{(0,a.dC)((()=>{o({type:"history/RESET"}),(0,A.w)((()=>{o({type:"composition/SET_LAYER",layer:e,contextKey:s})})),o({type:"composition/UPDATE_PREVIEW_IMAGE",value:e.data.clip.thumbnail}),o({type:"composition/RESIZE_ARTBOARD",width:e.data.clip.metadata.width,height:e.data.clip.metadata.height}),(0,p.U)(j.sh.SELECT_LAYER,(async()=>{o({type:"ui/SELECT_LAYER",layerId:e.id}),await(0,d.h)()}));const t=k.X[s]?.initialSelectedOption||"TRACKING:POINT";o({type:"ui/SELECT_LAYER_EDIT_CONTEXT",layerId:e.id,contextKey:s,selectedOption:t,initState:{}}),o({type:"ui/UPDATE_PLAYHEAD",value:0}),o({type:"history/START_RECORDING"}),o((0,y.Wx)(e.id,"MASK/REFINE_MASK"))}));const n=(0,M.Sb)(e.name);(0,i.V_)(t,n).then((()=>{o({type:"composition/RENAME",name:n})}))},q=["mask_blur","mask_threshold"],J=[{name:"mask_blur",enabled:!1},{name:"mask_threshold",enabled:!0}],K=()=>J.map((e=>(0,P.GW)(e.name,e.enabled))),Q=()=>{const e=l.Z.getState(),t=e.videoEditor.ui.selection.LAYER;if(!t)return;return e.videoEditor.composition.layers[t]},ee=()=>{const e=l.Z.getState(),t=e.videoEditor.ui.selection.LAYERS.allIds;if(1===t.length){const s=e.videoEditor.composition.layers[t[0]];return j.Rb.includes(s?.type)&&!s?.missing}return!1},te=e=>{const t=Q();if(!t)return;const s=(e||l.Z.getState()).videoEditor.ui.layerEditContexts[t.id];return s||void 0},se=e=>{const t=Q();if(!t)return null;const s=(e||l.Z.getState()).videoEditor.ui.layerEditContexts[t.id];return s?s.contextKey:null},oe=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s=>{(0,a.dC)((()=>{(0,p.U)(j.sh.SELECT_LAYER,(async()=>{s({type:"ui/SELECT_LAYER",layerId:e.id}),await(0,d.h)()})),t&&s({type:"ui/UPDATE_PLAYHEAD",value:e.startMs}),"TEXT"===e.type&&s({type:"ui/SET_LAST_SELECTED_TEXT_LAYER_ID",layerId:e.id})}))}},ne=(e,t)=>{switch(e.type){case"SHAPE":const{x:s,y:o,scaleX:n,scaleY:a}=(0,_.CD)(e,t),i=2*w.z*(n/100),r=2*w.z*(a/100),l=Math.round(o-r/2),c=Math.round(s+i/2),d=Math.round(o+r/2);return{x:s-i/2,y:o-r/2,width:i,height:r,top:l,right:c,left:Math.round(s-i/2),bottom:d};case"EMPTY":{const{x:s,y:o,scaleX:n,scaleY:a}=(0,_.CD)(e,t),i=j.YS.width*n,r=j.YS.height*a,l=Math.round(o-r/2),c=Math.round(s+i/2);return{x:s-i/2,y:o-r/2,width:i,height:r,top:l,bottom:Math.round(o+r/2),left:Math.round(s-i/2),right:c}}case"TEXT":{const{x:s,y:o,scaleX:n,scaleY:a}=(0,_.CD)(e,t),[i,r]=e.data.textureDimensions||[0,0],l=i*n,c=r*a,d=Math.round(o-c/2),p=Math.round(s+l/2),u=Math.round(o+c/2);return{x:s-l/2,y:o-c/2,width:l,height:c,top:d,right:p,left:Math.round(s-l/2),bottom:u}}default:{const{x:s,y:o,scaleX:n,scaleY:a}=(0,_.CD)(e,t),i=e.data.clip.metadata.width*n,r=e.data.clip.metadata.height*a,l=Math.round(o-r/2),c=Math.round(s+i/2),d=Math.round(o+r/2);return{x:s-i/2,y:o-r/2,width:i,height:r,top:l,right:c,left:Math.round(s-i/2),bottom:d}}}},ae=(e,t)=>(s,o)=>{const{composition:n}=o().videoEditor;Object.values(n.layers).filter((e=>"AUDIO"!==e.type)).forEach((o=>{if(!1===o.transforms?.position?.keyframesEnabled){const{x:n,y:a}=o.transforms.position.value;s({type:"composition/UPDATE_LAYER_TRANSFORM",layerId:o.id,property:"position",value:{x:n+e,y:a+t},timeMs:(0,C.q)()})}}))},ie=(e,t)=>{const s=(0,h.PS)(t.id)-(0,h.PS)(e.id);return 0===s?e.startMs-t.startMs:s}},"./app/actions/video-editor/layout.ts":(e,t,s)=>{"use strict";s.d(t,{DD:()=>u,MR:()=>h,uV:()=>m,zt:()=>g});var o=s("./node_modules/react-redux/es/index.js"),n=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),i=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts"),r=s("./app/reducers/video-editor/history.ts"),l=s("./app/store.ts"),c=s("./app/utils/video-editor/selection.ts"),d=s("./app/actions/video-editor/layers.ts"),p=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/ShapeLayer/constants.ts");const u=e=>{switch(e.type){case"IMAGE":case"VIDEO":case"LOTTIE":return e.data.clip.metadata.width;case"EMPTY":return n.YS.width;case"TEXT":return e.data.textureDimensions?.[0]||0;case"SHAPE":return 2*p.z;default:return 0}},m=e=>{switch(e.type){case"IMAGE":case"VIDEO":case"LOTTIE":return e.data.clip.metadata.height;case"EMPTY":return n.YS.height;case"TEXT":return e.data.textureDimensions?.[1]||0;case"SHAPE":return 2*p.z;default:return 0}};let h=function(e){return e.LEFT="LEFT",e.RIGHT="RIGHT",e.TOP="TOP",e.BOTTOM="BOTTOM",e.CENTER_HORIZONTAL="CENTER_HORIZONTAL",e.CENTER_VERTICAL="CENTER_VERTICAL",e}({});const g=(e,t)=>{const s=(0,a.q)(),p=(0,c.f)().filter((e=>n.Rb.includes(e.type)));if(p.length<1)return;const g=e===h.LEFT||e===h.RIGHT||e===h.CENTER_HORIZONTAL;let f;if(1===p.length){const{width:t,height:s}=l.Z.getState().videoEditor.composition.settings;switch(e){case"LEFT":case"TOP":f=0;break;case"CENTER_HORIZONTAL":f=t/2;break;case"CENTER_VERTICAL":f=s/2;break;case"RIGHT":f=t;break;case"BOTTOM":f=s}}else{const s=p.map((s=>{const o=(0,d.gH)(s,t);return g?"LEFT"===e?o.left:"CENTER_HORIZONTAL"===e?o.x+o.width/2:o.right:"TOP"===e?o.top:"CENTER_VERTICAL"===e?o.y+o.height/2:o.bottom}));switch(e){case"LEFT":case"TOP":f=Math.min(...s);break;case"CENTER_HORIZONTAL":case"CENTER_VERTICAL":f=s.reduce(((e,t)=>e+t),0)/s.length;break;case"RIGHT":case"BOTTOM":f=Math.max(...s)}}(0,r.w)((()=>{(0,o.dC)((()=>{p.forEach((t=>{const o=(0,i.qw)(t,s);let n;n=g?"LEFT"===e?f+u(t)*o.scaleX/2:"CENTER_HORIZONTAL"===e?f:f-u(t)*o.scaleX/2:"TOP"===e?f+m(t)*o.scaleY/2:"CENTER_VERTICAL"===e?f:f-m(t)*o.scaleY/2,l.Z.dispatch({type:"composition/UPDATE_LAYER_TRANSFORM",layerId:t.id,property:"position",value:g?{x:n}:{y:n},timeMs:s})}))}))}))}},"./app/actions/video-editor/masks.ts":(e,t,s)=>{"use strict";s.d(t,{Lu:()=>d,SM:()=>p,N:()=>m,Am:()=>c,dY:()=>h,sS:()=>u});var o=s("./app/api/video-editor/mask-refinement-network.ts"),n=s("./node_modules/react-redux/es/index.js"),a=s("./app/store.ts"),i=s("./app/utils/trackEvent.ts");var r=s("./app/actions/video-editor/edit-context-history.ts"),l=s("./app/actions/video-editor/notification.tsx");const c=(e,t)=>(t??a.Z.getState()).videoEditor.ui.layerEditContexts[e],d=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mask";const n=e.id;return async a=>{a({type:"ui/MASK/SET_PROPAGATION_STREAM",layerId:n,stream:(0,o.O6)(e.mask.stream)}),a({type:"ui/MASK/CREATE_KEYFRAME",layerId:n,keyframe:t,keyframeType:s}),a({type:"ui/MASK/SET_IS_UPDATING_KEYFRAMES",layerId:n,value:!0}),a({type:"ui/MASK/SET_IS_LOADING_MASK",layerId:n,value:!1}),a({type:"ui/MASK/SET_IS_UPDATING_KEYFRAMES",layerId:n,value:!1}),(0,i.L)({event:"General",name:"Add Keyframe",section:"Green Screen"})}},p=e=>async t=>{const{keyframeId:s,layerId:o,abortController:n,undoState:a,keyframeType:i="mask"}=e;t((0,r.pW)(o,{state:a,type:"MASK/DELETE_KEYFRAME"})),t({type:"ui/LOCK_PLAYHEAD"}),t({type:"ui/MASK/SET_IS_UPDATING_KEYFRAMES",layerId:o,value:!0});try{t({type:"ui/MASK/DELETE_KEYFRAME",layerId:o,id:s,keyframeType:i})}catch(e){n?.signal.aborted||(e.message||"").toLowerCase().includes("aborted")||t((0,l.sc)({message:"Error deleting keyframe",type:"ERROR",contextKey:"MASK"}))}t({type:"ui/MASK/SET_IS_UPDATING_KEYFRAMES",layerId:o,value:!1}),t({type:"ui/UNLOCK_PLAYHEAD"})},u=(e,t)=>(s,o)=>{const n=o().videoEditor.composition.layers[e];s({type:"ui/UPDATE_PLAYHEAD",value:t.timeMs+(n?.startMs||0)-(n?.startOffsetMs||0)})},m=e=>async(t,s)=>{(0,n.dC)((()=>{s().videoEditor?.ui?.batchGSLeadLayerId===e&&t({type:"ui/CLEAR_BATCH_GS_LEAD_LAYER_ID"}),t((0,r.W9)(e)),a.Z.dispatch({type:"history/STOP_RECORDING"}),t({type:"ui/SELECT_LAYER_EDIT_CONTEXT",layerId:e,contextKey:"",selectedOption:""}),t({type:"ui/UNLOCK_PLAYHEAD"}),t({type:"ui/SELECT_COMMAND",name:"MOVE"}),t({type:"ui/SHOW_MAGIC_TOOLS_REMINDER"})}))},h=e=>t=>{const{isPlaying:s,selectedLayer:o,editContext:n}=e,a=n.state;var i;s||(i=a,i.keyframes?.length>0&&(!i.maskVideoUpdatedAt||i.maskVideoUpdatedAt<i.keyframesUpdatedAt)&&(t({type:"ui/MASK/SET_MASK_VIDEO_UPDATE_TIME",maskVideoUpdatedAt:new Date,layerId:o.id}),t(g(o)))),t((0,r.Wx)(o.id,"MASK/REFINE_MASK"))},g=e=>{const{loadedVideoSegments:t}=a.Z.getState().videoEditor.ui,s=e.data.clip.url;return{type:"ui/SET_LOADED_VIDEO_SEGMENTS",segments:{...t,[s]:{content:t[s]?.content??[],mask:[]}}}}},"./app/actions/video-editor/notification.tsx":(e,t,s)=>{"use strict";s.d(t,{sc:()=>h,no:()=>g,J9:()=>f});s("./node_modules/react/index.js");var o=s("./node_modules/uuid/dist/esm-browser/v4.js"),n=s("./app/actions/flash.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/components/Prefabs/Block.tsx"),c=s("./app/components/Prefabs/Text.tsx"),d=s("./app/components/Prefabs/TextLink.tsx"),p=s("./node_modules/react/jsx-runtime.js");const u=e=>{let{isHighlight:t}=e;const s=(0,i.k6)();return(0,p.jsxs)(l.X2,{alignCenterVertical:!0,alignCenterHorizontal:!0,gutter:4,pad:[0,14],children:[(0,p.jsxs)(c.Z,{sm:!0,children:["Runway auto-saves your project.",t&&"Find it in your"]}),t&&(0,p.jsx)(m,{primaryText:!0,sm:!0,onClick:()=>{s.push("/video-tools/projects")},children:"Projects page"})]})},m=(0,r.ZP)(d.Z).withConfig({displayName:"AutoSaveMessage__ActionTextLink",componentId:"sc-1o1czlk-0"})(["text-decoration:underline;&:hover{color:'white';}"]),h=e=>t=>{const s=(0,o.Z)(),n=(e.message||"").toString();return t({type:"ui/CREATE_NOTIFICATION",notification:{...e,message:n,id:s}}),"PROGRESS"===e.type||e.doesNotDecay||setTimeout((()=>t(g(s))),5e3),s},g=e=>t=>{t({type:"ui/DELETE_NOTIFICATION",id:e})},f=e=>(t,s)=>{if(e){s().videoEditor.ui.hasShownAutosaveNotification||(t({type:"ui/SHOW_AUTOSAVE_NOTIFICATION"}),t((0,n.showFlash)({message:(0,p.jsx)(u,{isHighlight:(0,a.Ad)()}),type:"SUCCESS"})))}else t((0,n.showFlash)({message:(0,p.jsx)(u,{isHighlight:(0,a.Ad)()}),type:"SUCCESS"}))}},"./app/actions/video-editor/selection.ts":(e,t,s)=>{"use strict";s.d(t,{f:()=>o});const o=e=>{e({type:"ui/DESELECT_LAYERS"}),e({type:"ui/SET_IS_ANIMATING",value:!1})}},"./app/actions/video-editor/timeline.ts":(e,t,s)=>{"use strict";s.d(t,{$1:()=>m,SO:()=>d,YD:()=>u,Yy:()=>g,n4:()=>f,uW:()=>y,ub:()=>p});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/components/Views/VideoTools/VideoEditor/Timeline/timeline-ticks.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),i=s("./app/store.ts"),r=s("./app/utils/video-editor/timeline.ts"),l=s("./app/actions/video-editor/edit-context-history.ts"),c=s("./app/actions/video-editor/layers.ts");const d=e=>{let{targetWidth:t,startMs:s,endMs:a,numSubticksPadding:i=0,shouldNotFill:l=!1}=e;return(e,c)=>{if((0,o.isNil)(t)||(0,o.isNil)(s)||(0,o.isNil)(a)||a-s<1)return;t=Math.max(t,1);const{ui:d}=c().videoEditor,{timelineScale:p}=d,u=(0,r._e)();u<t&&!l&&e(h(u,t));const{dot:m}=n.RH[(0,n.BX)((0,n.SZ)())],g=(i||0)*m,f=(0,r.AS)(a+g-s);e({type:"ui/UPDATE_TIMELINE_SCALE",value:p*t/f})}},p=(e,t)=>(s,o)=>{const n=(0,r.BI)(o())[t],a=e.clientHeight/2,i=n.top-(a-n.height/2);e.scrollTop=i},u=(e,t)=>{e&&e.scrollTo({left:(0,r.AS)(t)})},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&e.scrollTo({top:t})},h=(e,t)=>(s,o)=>{t=Math.max(t,1);const a=o().videoEditor.composition.settings.durationMs;let i=Math.ceil(a/e*t);i=Math.floor(i/n.Jf)*n.Jf,s({type:"composition/UPDATE_SETTING",property:"durationMs",value:i})},g=(e,t)=>{const{frameRate:s}=i.Z.getState().videoEditor.composition.settings,o=1e3/s;let n;switch(t){case"ROUND":n=e%o>o/2?e+(o-e%o):e-e%o;break;case"FLOOR":n=e-e%o;break;case"CEIL":n=e+(o-e%o);break;default:n=e}return n},f=(e,t)=>s=>{const o=g(e,t);s({type:"ui/UPDATE_PLAYHEAD",value:Math.max(o,0)});const n=(0,c.vt)();if("MASK"===n?.contextKey){const e=(0,c.Iz)();s((0,l.Wx)(e.id,"MASK/REFINE_MASK"))}},y=e=>(t,s)=>{const{timelineScale:o}=s().videoEditor.ui,n="IN"===e?2*o:o/2;n<=a.dz&&n>=a.bc&&t({type:"ui/UPDATE_TIMELINE_SCALE",value:n})}},"./app/actions/video-editor/viewport.ts":(e,t,s)=>{"use strict";s.d(t,{cv:()=>d,fT:()=>l,km:()=>c});var o=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts"),n=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),i=s("./app/store.ts"),r=s("./app/actions/video-editor/layers.ts");const l=(e,t)=>(s,i)=>{let l=e;if(e||(l=document.getElementById(n.SL)),!l)return;const c=(0,r.vt)(),d=(0,r.Iz)(),p=n.Dx[c?.contextKey]&&d;let u,m,h;if(p){const e=(0,a.q)(),{scaleX:t,scaleY:s}=(0,o.qw)(d,p?d.startMs:e);m=d.data.clip.metadata.width*t,u=d.data.clip.metadata.height*s}else{const e=i().videoEditor.composition.settings;m=e.width,u=e.height}const g=null===i().videoEditor.ui.leftPanelMode||t?n.ZO:n.om,f=l.offsetHeight,y=l.offsetWidth-g;if(y/f>=m/u){const e=f-2*Math.min(n.X0,.1*f);h=Math.min(e/u,n.Xp)}else{const e=y-2*Math.min(n.X0,.1*y);h=Math.min(e/m,n.Xp)}let x=0,v=0;if(p){const e=(0,a.q)(),{x:t,y:s}=(0,o.qw)(d,e);x=-(t-m/2)*h,v=-(s-u/2)*h}s({type:"ui/UPDATE_VIEWPORT",viewport:{scale:h,translateX:x+(y-m*h)/2+(null===i().videoEditor.ui.leftPanelMode||t?n.ZO:n.om),translateY:v+(f-u*h)/2}})},c=(e,t)=>{let{newScale:s,previewStage:o,viewport:a}=e;if(!o.current)return;const i=o.current.width/2,r=o.current.height/2,l=a.scale;s=Math.max(Math.min(s,n.Xp),n.f7);const c=i/l-o.current.x/l,d=r/l-o.current.y/l;s!==l&&t({type:"ui/UPDATE_VIEWPORT",viewport:{scale:s,translateX:-(c-i/s)*s,translateY:-(d-r/s)*s}})},d=(e,t)=>{let{direction:s,previewStage:o}=e;if(!o.current)return;const a=o.current.width/2,r=o.current.height/2,l=i.Z.getState().videoEditor.ui.viewport.scale;let c="IN"===s?2*l:l/2;c=Math.max(Math.min(c,n.Xp),n.f7);const d=a/l-o.current.x/l,p=r/l-o.current.y/l;c!==l&&t({type:"ui/UPDATE_VIEWPORT",viewport:{scale:c,translateX:-(d-a/c)*c,translateY:-(p-r/c)*c}})}},"./app/animators/manifests/ascend.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>d,Z:()=>p});var o=s("./node_modules/bezier-easing/src/index.js"),n=s.n(o),a=s("./node_modules/gl-matrix/esm/vec2.js"),i=s("./node_modules/lodash/lodash.js"),r=s.n(i),l=s("./app/animators/manifests/utils.ts");const c=n()(.7,0,.84,0),d=a.al(0,100),p={name:"Ascend",defaultDuration:e=>500*e,textOnly:!0,visible:!1,values:{},animateGlyph:(e,t,s,o,n)=>(0,l.h)(e,t.direction,(e=>{const t=r().clamp(s+1-e*o,0,1);return{offset:a.al(0,100*c(t)),opacity:1-t}}))}},"./app/animators/manifests/character-wave.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,r:()=>a});var o=s("./node_modules/gl-matrix/esm/vec2.js"),n=s("./app/animators/manifests/utils.ts");const a=o.al(0,100),i={name:"Character Wave",defaultDuration:e=>2e3,textOnly:!0,visible:!1,values:{},animateGlyph:(e,t,s,a,i)=>(0,n.h)(e,t.direction,(e=>({offset:o.al(0,50*Math.sin(20*e+s/a*10)*(1-e))})))}},"./app/animators/manifests/index.ts":(e,t,s)=>{"use strict";s.d(t,{v:()=>g});var o=s("./app/animators/manifests/ascend.ts"),n=s("./app/animators/manifests/character-wave.ts"),a=s("./app/animators/manifests/utils.ts"),i=s("./node_modules/bezier-easing/src/index.js");const r=s.n(i)()(.7,0,.84,0),l={name:"Door",defaultDuration:500,textOnly:!1,visible:!1,values:{},animate:(e,t,s)=>(0,a.h)(e,t.direction,(e=>({crop:{left:.5-r(e),right:.5-r(e),top:.5-r(e),bottom:.5-r(e)}})))},c={name:"Fade",defaultDuration:2e3,textOnly:!1,visible:!0,values:{},animate:(e,t,s)=>(0,a.h)(e,t.direction,(e=>({opacity:e})))};var d=s("./app/utils/video-editor/easing.ts");const p={name:"Swipe",defaultDuration:700,textOnly:!1,visible:!0,values:{easing:{type:"easing",name:"Easing",value:d.lP.both.linear,config:{type:"easing",options:[d.lP.both.linear,d.lP.both.expo]}},swipeDirection:{type:"direction",name:"Direction",value:"left",config:{type:"direction",options:["up","down","left","right"]}}},animate:(e,t,s,o,n,i)=>(0,a.h)(e,t.direction,(e=>{const r=t,l=(0,d.CP)(r.values.easing);switch(r.values.swipeDirection){case"up":return{transform:(0,a.I)(0,(1-l(0,1,e))*(s.settings.height-o[1]+i[1]*(n[1]/2)))};case"down":return{transform:(0,a.I)(0,(1-l(0,1,e))*(-o[1]-i[1]*(n[1]/2)))};case"left":return{transform:(0,a.I)((1-l(0,1,e))*(s.settings.width-o[0]+i[0]*(n[0]/2)),0)};case"right":return{transform:(0,a.I)((1-l(0,1,e))*(-o[0]-i[0]*(n[0]/2)),0)}}}))};var u=s("./node_modules/lodash/lodash.js");const m={name:"Typewriter",defaultDuration:e=>50*e,textOnly:!0,visible:!0,values:{granularity:{type:"option",name:"Animate",value:"letters",config:{type:"option",options:["letters","words"]}},intensity:{type:"number",name:"Intensity",value:.8,config:{type:"number",min:0,max:1,step:.01}},easing:{type:"easing",name:"Easing",value:d.lP.both.linear,config:{type:"easing",options:[d.lP.both.linear,d.lP.both.expo]}}},animateGlyph:(e,t,s,o,n)=>(0,a.h)(e,t.direction,(e=>{const n=t,a=(0,d.CP)(n.values.easing),i=s/o,r=Math.exp(5*n.values.intensity);return{opacity:(0,u.clamp)(r*(a(0,1,e)-i)+i,0,1)}}))},h={name:"Wave",defaultDuration:2e3,textOnly:!1,visible:!1,values:{frequency:{type:"number",name:"Frequency",value:20,config:{type:"number",min:0,max:100,step:.1}}},animate:(e,t)=>(0,a.h)(e,t.direction,(e=>({transform:(0,a.I)(0,100*Math.sin(e*t.values.frequency)*(1-e))})))},g={ascend:o.Z,door:l,fade:c,wave:h,characterWave:n.Z,swipe:p,typewriter:m}},"./app/animators/manifests/utils.ts":(e,t,s)=>{"use strict";s.d(t,{I:()=>i,h:()=>a});var o=s("./node_modules/gl-matrix/esm/mat3.js"),n=s("./node_modules/gl-matrix/esm/vec2.js");const a=(e,t,s)=>s("out"===t?1-e:e),i=(e,t)=>o.vc(o.Ue(),n.al(e,t))},"./app/api-client.ts":(e,t,s)=>{"use strict";s.d(t,{o8:()=>L,oW:()=>R,Dg:()=>h,py:()=>g,Mi:()=>E,$z:()=>B,gF:()=>S,Gh:()=>_,YH:()=>P,N$:()=>M,c2:()=>b,Ai:()=>k,B3:()=>C,s6:()=>j,SF:()=>D,v6:()=>N,tJ:()=>z,x$:()=>m,x4:()=>y,NI:()=>x,xU:()=>w,Cb:()=>v,kS:()=>I,z2:()=>f,qU:()=>O,hh:()=>A,lF:()=>T,Bj:()=>V,_P:()=>U});var o=s("./app/actions/user.ts"),n=s("./app/api/mixpanel.ts"),a=s("./app/store.ts"),i=s("./app/store/configureStore.ts"),r=s("./app/utils/auth.ts"),l=s("./app/utils/constants.ts"),c=s("./app/utils/http.ts");var d=s("./app/utils/urls.ts");var p=s("./app/utils/validateEmail.ts"),u=s("./app/utils/utm.ts");const m=async()=>{const e=await fetch("https://status.runwayml.com/api/v2/components.json",{method:"GET",headers:{Accept:"application/json"}}),t={q64vr3lrp909:["videoTools"],qpmy0wmffqmw:["videoTools"],dmmy9fznc44n:["gpu","builds","training"],hl94rh0mg6xt:["videoTools","gpu","builds","training","payments"],pxc5jjl6wty0:["payments"],f8yl6htsys9v:["support"]},s={gpu:!0,builds:!0,payments:!0,support:!0,training:!0,videoTools:!0};for(const o of(await e.json()).components)if("operational"!==o.status&&t[o.id])for(const e of t[o.id])s[e]=!1;return s},h=async e=>(await fetch(`${l.T5}/v1/user_available_check?${(0,d.uM)({email:e})}`)).json(),g=async e=>(await fetch(`${l.T5}/v1/user_available_check?username=${e}`)).json(),f=async e=>{const{sessionId:t}=n.sessionMixpanelProperties;return(await fetch(`${l.T5}/v1/register`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({...e,machineId:null,sessionId:t,platform:"web"})})).json()},y=async(e,t)=>{let s,o;(0,p.o)(e)?o=e:s=e;try{return(await fetch(`${l.T5}/v1/login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:s,email:o,password:t,machineId:null})})).json()}catch(e){return{error:"Error while logging in"}}},x=async(e,t)=>{try{return(await(0,r.pb)(`${l.T5}/v1/login_as_user`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,impersonationCode:t,machineId:null})})).json()}catch(e){return{error:"Error while logging in"}}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await fetch(`${l.T5}/v1/login_google`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({idToken:e,machineId:null,sessionId:n.sessionMixpanelProperties.sessionId,platform:"web",utmCodes:(0,u.L)(),...t})})).json()}catch(e){return{error:e}}},b=async()=>(await fetch(`${l.T5}/v1/login_google`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json(),w=async e=>{let{idToken:t,user:s,nonce:o}=e;return(await fetch(`${l.T5}/v1/login_apple`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({idToken:t,nonce:o,...s?{user:s}:{},machineId:null,sessionId:n.sessionMixpanelProperties.sessionId,utmCodes:(0,u.L)(),platform:"web"})})).json()},_=async()=>(await fetch(`${l.T5}/v1/login_apple`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json(),I=async()=>(await(0,r.pb)(`${l.T5}/v1/logout`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({machineId:null})})).json(),T=async(e,t)=>{const s=await fetch(`${l.T5}/v1/verify_user`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({code:e})});if(!s)return!1;try{const{success:e}=await s.json();return e}catch(e){return!1}},j=async()=>{const e=await(0,r.pb)(`${l.T5}/v1/short_jwt`,{method:"POST",headers:{"Content-Type":"application/json"}});return 401===e.status?(a.Z.dispatch((0,o.logOut)()),i.m.replace("/login"),null):(await e.json()).token},k=function(e){const t=new Map;return function(){for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];for(const[e,s]of t.entries())if(e.length===o.length&&e.every(((e,t)=>e===o[t])))return s;const a=e(...o);return t.set(o,a),a.finally((()=>{t.delete(o)})),a}}((async(e,t)=>{const s=t?`?asTeamId=${t.toString()}`:"",n=await fetch(`${l.T5}/v1/profile${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(401===n.status)return a.Z.dispatch((0,o.logOut)()),i.m.replace("/login"),null;const{user:r}=await n.json();return r})),C=async e=>{const t=e?`?asTeamId=${e.toString()}`:"";return await(0,c.HT)(`${l.T5}/v1/profile_for_members${t}`).then((e=>e.user))},E=async()=>{try{const e=await(0,r.pb)(`${l.T5}/v1/check_machine_authorization?machineId=null`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({machineId:null})}),{authorized:t}=await e.json();return!1!==t}catch(e){return!0}},S=async e=>(await fetch(`${l.T5}/v1/forgot_password`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e})})).json(),A=async e=>(await fetch(`${l.T5}/v1/resend_verification_code`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json(),M=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=`${l.T5}/v1/profile/features`;e.asTeamId&&(t+=`?asTeamId=${e.asTeamId}`);const s=await(0,r.pb)(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),o=await s.json();for(const e in o?.features||{}){const t=o.features[e];for(const s in t)"Infinity"===t[s]&&(o.features[e][s]=1/0)}return o},P=async function(){let e="";arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(e+="?teamPlans=true");return(await(0,r.pb)(`${l.T5}/v1/billing/products${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json()},N=async function(){let{asTeamId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,r.bW)();let s="";e&&(s+=`?asTeamId=${e.toString()}`);return(await fetch(`${l.T5}/v1/profile/stripe_customer${s}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${t}`}})).json()},D=async e=>{let t;try{t=await N({asTeamId:e})}catch(e){return[]}return t.customer?.sources?Object.keys(t.customer.sources.data).map((e=>{const s={};return s.brand=t.customer.sources.data[e].brand,s.last4=t.customer.sources.data[e].last4,s.exp_month=t.customer.sources.data[e].exp_month,s.exp_year=t.customer.sources.data[e].exp_year,s.id=t.customer.sources.data[e].id,s})):[]},O=async function(e){let{asTeamId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,r.bW)(),o=await fetch(`${l.T5}/v1/profile/remove_stripe_card`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({cardID:e,asTeamId:t})});return await o.json()},L=async function(e){let{asTeamId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,r.bW)(),o=await fetch(`${l.T5}/v1/profile/add_stripe_card`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({source:e,asTeamId:t})});if(!o.ok)return{error:"There was an error processing your credit card information. Please verify the information and try again."};const n=await o.json(),a={};return Object.keys(n.card).forEach((function(e,t){a.brand=n.card.brand,a.last4=n.card.last4,a.exp_month=n.card.exp_month,a.exp_year=n.card.exp_year,a.id=n.card.id})),a},R=async e=>{const t=(0,r.bW)(),s=await fetch(`${l.T5}/v1/billing/buy_credits`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});return await s.json()},Z={paymentProcessor:"stripe"},U=async(e,t)=>{const s=(0,r.bW)();return(await fetch(`${l.T5}/v1/billing/subscriptions/${e}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...Z,...t})})).json()},z=async e=>{let t="";e&&(t+=`?asTeamId=${e.toString()}`);return(await(0,r.pb)(`${l.T5}/v1/billing/subscriptions${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},V=async(e,t,s)=>{const o=await(0,r.pb)(`${l.T5}/v1/uploads`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({filename:e,numberOfParts:t,type:s})});if(!o.ok)throw new Error("Your upload failed. Please try again later.");return o.json()},B=async(e,t)=>{const s=await(0,r.pb)(`${l.T5}/v1/uploads/${e}/complete`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({parts:t})});if(!s.ok)throw new Error("Your upload failed. Please try again later.");return s.json()}},"./app/api/asset-groups.ts":(e,t,s)=>{"use strict";s.d(t,{FL:()=>d,Hg:()=>h,It:()=>m,RE:()=>b,b1:()=>u,b3:()=>w,gG:()=>y,hO:()=>x,ib:()=>p,lF:()=>g,oi:()=>f,sw:()=>c});var o=s("./app/utils/http.ts"),n=s("./node_modules/lodash/lodash.js"),a=s("./app/utils/auth.ts"),i=s("./app/utils/constants.ts");const r=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;void 0!==e.asTeamId&&(t.append("asTeamId",e.asTeamId.toString()),e.teamspaceId?(t.append("userGroupId",e.teamspaceId),t.append("privateInTeam","false")):"boolean"==typeof e.privateInTeam&&t.append("privateInTeam",e.privateInTeam.toString())),e.offset&&t.append("offset",e.offset.toString()),e.assetGroupId&&t.append("assetGroupId",e.assetGroupId);const s=await(0,a.pb)(`${i.T5}${i.Pn.ASSET_GROUPS}/flat?${t.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch assets and asset groups.");return s.json()},l=e=>e.value.id===e.value.parentAssetGroupId?{...e,value:{...e.value,parentAssetGroupId:null}}:e,c=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.filterOutModels??!0,s=[];let o;do{try{const{assetsAndAssetGroupsFlat:a,continueWithOffset:i}=await r({...e,offset:o});if((0,n.isArray)(a)){const e=a.map(l);for(const o of e){const e="AssetGroup"===o.type,n="Asset"===o.type&&(!t||"model"!==o.value.mediaType);(e||n)&&s.push(o)}}o=i}catch(e){throw o=void 0,new Error(e)}}while(void 0!==o);return s},d=async e=>{let{id:t,name:s,parentAssetGroupId:o,asTeamId:n,privateInTeam:r,teamspaceId:l,favorite:c}=e,d={id:t,name:s,parentAssetGroupId:o,favorite:c};n&&(d={...d,asTeamId:n},l?d={...d,userGroupId:l,privateInTeam:!1}:"boolean"==typeof r&&(d={...d,privateInTeam:r}));const p=await(0,a.pb)(`${i.T5}/v1/asset_groups`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)});if(!p.ok)throw new Error("Failed to create asset group");return p.json()},p=async e=>{let{id:t,childrenIds:s,asTeamId:o}=e,n={childrenIds:s};o&&(n={...n,asTeamId:o});const r=await(0,a.pb)(`${i.T5}/v1/asset_groups/${t}/add`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const{error:e}=await r.json();throw new Error(`${e}`||"Failed to add children to asset group")}return r.json()},u=async e=>{let{id:t,childrenIds:s,asTeamId:o}=e,n={childrenIds:s};o&&(n={...n,asTeamId:o});const r=await(0,a.pb)(`${i.T5}/v1/asset_groups/${t}/remove`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const{error:e}=await r.json();throw new Error(`${e}`||"Failed to remove children from asset group")}return r.json()},m=async e=>{let{id:t,name:s,asTeamId:o}=e,n={name:s};o&&(n={...n,asTeamId:o});const r=await(0,a.pb)(`${i.T5}/v1/asset_groups/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error("Failed to rename asset group");return r.json()},h=async e=>{let{id:t,asTeamId:s}=e;return v({id:t,favorite:!0,asTeamId:s})},g=async e=>{let{id:t,asTeamId:s}=e;return v({id:t,favorite:!1,asTeamId:s})},f=async e=>{let{id:t,privateInTeam:s,asTeamId:o}=e;return v({id:t,privateInTeam:s,asTeamId:o})},y=async e=>{let{id:t,teamspaceId:s,asTeamId:o}=e;return v({id:t,teamspaceId:s,asTeamId:o,removeFromTeamspace:!1})},x=async e=>{let{id:t,asTeamId:s}=e;return v({id:t,asTeamId:s,removeFromTeamspace:!0})},v=async e=>{let{asTeamId:t,favorite:s,id:o,privateInTeam:n,removeFromTeamspace:r,teamspaceId:l}=e,c={};void 0!==n&&(c={...c,privateInTeam:n}),t&&(c={...c,asTeamId:t}),r?c={...c,removeFromUserGroup:r}:l?c={...c,userGroupId:l}:void 0!==s&&(c={...c,favorite:s});const d=await(0,a.pb)(`${i.T5}${i.Pn.ASSET_GROUPS}/${o}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok){const{error:e}=await d.json();throw new Error(`${e}`||"Failed to update asset group privacy")}return d.json()},b=async e=>{let{id:t,asTeamId:s}=e,o={};s&&(o={...o,asTeamId:s});const n=await(0,a.pb)(`${i.T5}/v1/asset_groups/${t}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});if(!n.ok)throw new Error("Failed to delete asset group");return n.json()},w=async e=>{let{id:t,asTeamId:s}=e;return(await(0,o.HT)(`${i.T5}/v1/asset_groups/${t}?asTeamId=${s}`)).assetGroup}},"./app/api/assets.ts":(e,t,s)=>{"use strict";s.d(t,{BR:()=>b,CT:()=>d,Nh:()=>l,O4:()=>g,Rk:()=>u,Vh:()=>r,Vw:()=>m,_Z:()=>y,aZ:()=>x,ci:()=>p,hd:()=>f,ju:()=>h,mo:()=>c});var o=s("./app/utils/auth.ts"),n=s("./app/utils/constants.ts"),a=s("./app/utils/http.ts"),i=s("./app/utils/urls.ts");const r=async e=>{let{q:t,offset:s=0,limit:a=50,mediaType:r,mediaSubtype:l,asTeamId:c,privateInTeam:d}=e;const p=Array.isArray(l)?l.join(","):l,u=await(0,o.pb)(`${n.T5}/v1/assets?${(0,i.uM)({q:t,offset:s,limit:a,mediaType:r,mediaSubtype:p,asTeamId:c,privateInTeam:d})}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!u.ok)throw new Error("Failed to get assets");const{assets:m}=await u.json();return m},l=async e=>{const t=await(0,o.pb)(`${n.T5}/v1/assets/${e}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to get assets");const{asset:s}=await t.json();return s},c=async(e,t)=>{let s={};t&&(s={...s,asTeamId:t});const a=await(0,o.pb)(`${n.T5}/v1/assets/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Failed to get assets");return a.json()},d=async(e,t)=>{const s=await(0,o.pb)(`${n.T5}/v1/assets/${e}/generate_download_link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:t})}),{url:a}=await s.json();return a},p=async(e,t)=>{const s=await(0,o.pb)(`${n.T5}/v1/assets/${e}/${t?"make_private":"make_public"}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to make asset "+(t?"private":"public"));return s.json()},u=async e=>{let{id:t,name:s,asTeamId:a}=e,i={name:s};a&&(i={...i,asTeamId:a});const r=await(0,o.pb)(`${n.T5}/v1/assets/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!r.ok)throw new Error("Failed to rename asset");return r.json()},m=async e=>{let{id:t,asTeamId:s}=e;return v({id:t,favorite:!0,asTeamId:s})},h=async e=>{let{id:t,asTeamId:s}=e;return v({id:t,favorite:!1,asTeamId:s})},g=async e=>{let{id:t,privateInTeam:s,asTeamId:o}=e;return v({id:t,privateInTeam:s,asTeamId:o})},f=async e=>{let{id:t,teamspaceId:s,asTeamId:o}=e;return v({id:t,teamspaceId:s,asTeamId:o,removeFromTeamspace:!1})},y=async e=>{let{id:t,asTeamId:s}=e;return v({id:t,asTeamId:s,removeFromTeamspace:!0})},x=async e=>{let{id:t,asTeamId:s,metadata:o}=e;return v({id:t,asTeamId:s,metadata:o})},v=async e=>{let{asTeamId:t,favorite:s,id:a,metadata:i,privateInTeam:r,removeFromTeamspace:l,teamspaceId:c}=e,d={};void 0!==r&&(d={...d,privateInTeam:r}),t&&(d={...d,asTeamId:t}),l?d={...d,removeFromUserGroup:l}:c?d={...d,userGroupId:c}:i?d={...d,metadata:i}:void 0!==s&&(d={...d,favorite:s});const p=await(0,o.pb)(`${n.T5}${n.Pn.ASSETS}/${a}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)});if(!p.ok){const{error:e}=await p.json();throw new Error(`${e}`||"Failed to update asset privacy")}return p.json()},b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.asTeamId&&(t.append("asTeamId",e.asTeamId.toString()),"boolean"==typeof e.privateInTeam&&t.append("privateInTeam",e.privateInTeam.toString()));const s=await(0,a.HT)(`${n.T5}${n.Pn.PENDING_ASSETS}?${t.toString()}`);if(e.mediaType){const t=e.mediaType.reduce(((e,t)=>(e[t]=!0,e)),{});s.pendingAssets=s.pendingAssets.filter((e=>t[e.mediaType]))}return s.pendingAssets}},"./app/api/billing.ts":(e,t,s)=>{"use strict";s.d(t,{B:()=>r,R:()=>l});var o=s("./app/utils/environment.ts"),n=s("./node_modules/@sentry/core/esm/exports.js"),a=s("./app/utils/constants.ts"),i=s("./app/utils/http.ts");const r=async e=>{let{asTeamId:t,returnURL:s}=e;const o=a.yR;c(s)||(s=o,(0,n.uT)("Stripe: Invalid returnURL",{extra:{returnURL:s}}));let r={returnURL:s};return t&&(r={...r,asTeamId:t}),await(0,i.a4)(`${a.T5}${a.Pn.BILLING}/create_stripe_customer_portal_session`,r)},l=async e=>{let{asTeamId:t,returnURL:s,plan:o,cancelURL:r,metadata:l}=e;const d=a.yR;return c(s)||(s=d,(0,n.uT)("Stripe: Invalid returnURL",{extra:{returnURL:s}})),c(r)||(r=d,(0,n.uT)("Stripe: Invalid cancelURL",{extra:{cancelURL:r}})),await(0,i.a4)(`${a.T5}${a.Pn.BILLING}/create_stripe_checkout_session`,{asTeamId:t,returnURL:s,plan:o,cancelURL:r,metadata:l})},c=e=>((0,o.mx)()?/[^]*/:/https:\/\/(.*\.)*runwayml\.com\//).test(e)},"./app/api/content-moderation.ts":(e,t,s)=>{"use strict";s.d(t,{D2:()=>r,e5:()=>i,rj:()=>l});var o=s("./app/streams/utils.ts"),n=s("./app/utils/auth.ts"),a=s("./app/utils/constants.ts");class i extends Error{}const r=async e=>{const t=(0,o.cU)({path:"/safety_checker/commands/check_safety/result.json",hardware:"gpu",priority:"high",urlParams:{input_image:e}}),s=await(0,n.Df)(t);if(!s?.ok)throw new Error("Network error");if(!1===(await s.json()).safe)throw new i},l=async e=>(await(0,n.pb)(`${a.T5}/v1/generations/${e}/moderation_feedback`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({moderation_feedback:!0})})).json()},"./app/api/datasets.ts":(e,t,s)=>{"use strict";s.d(t,{T:()=>a});s("./app/utils/http.ts");var o=s("./app/utils/auth.ts"),n=s("./app/utils/constants.ts");const a=async e=>{let{asTeamId:t,privateInTeam:s,...a}=e,i={...a};t&&(i={...i,asTeamId:t},"boolean"==typeof s&&(i={...i,privateInTeam:s}));return(await(0,o.pb)(`${n.T5}/v1/datasets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json()}},"./app/api/generations.ts":(e,t,s)=>{"use strict";s.d(t,{BH:()=>h,Cw:()=>m,G7:()=>y,GM:()=>f,TV:()=>u,Y:()=>g});var o=s("./app/utils/auth.ts"),n=s("./app/utils/constants.ts"),a=s("./app/utils/uploads.ts"),i=s("./app/utils/urls.ts"),r=s("./app/utils/blobToB64.ts"),l=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/uuid/dist/esm-browser/v4.js");const d=async e=>{if((0,i.RM)(e)||(0,i.Gu)(e)){const t=await fetch(e),o=await t.blob(),n=await(0,r.b)(o),i=await(async e=>"application/x-mpegurl"===e?"m3u8":(await s.e(94391).then(s.t.bind(s,"./node_modules/mime-types/index.js",19))).extension(e)||"png")(o.type),{url:l}=await(0,a.ax)({body:n,filename:`generation_output_${c.Z()}.${i}`,type:"PROMPT_GENERATION"});return l}return e},p=async e=>{await new Promise((e=>setTimeout(e,5e3)));const t={};return await Promise.all(Object.entries(e).map((async e=>{let[s,o]=e;return(0,l.isArray)(o)?t[s]=await Promise.all(o.map((e=>(0,l.isString)(e)?d(e):Promise.resolve(e)))):(0,l.isString)(o)?t[s]=await d(o):t[s]=o,Promise.resolve()}))),t},u=async e=>{let{toolId:t,outputs:s,prompt:a,settings:i}=e;const[r,l]=await Promise.all([p(s??{}),p(i??{})]),c=await(0,o.pb)(`${n.T5}${n.Pn.GENERATIONS}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({toolId:t,prompt:a,outputs:r,...Object.keys(l).length>0?{settings:l}:{}})});return await c.json()},m=async e=>{let{id:t,update:s}=e;const a={conversion:s.conversion,content_filtered:s.contentFiltered,...s.outputs?{outputs:await p(s.outputs)}:{}},i=await(0,o.pb)(`${n.T5}${n.Pn.GENERATIONS}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});return await i.json()};let h=function(e){return e.TwoThumbs="2-thumbs",e.FiveStars="5-stars",e}({});const g=async e=>{let{id:t,rating:s,ratingType:a}=e;const i=await(0,o.pb)(`${n.T5}${n.Pn.GENERATIONS}/${t}/rate`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({rating:s,ratingType:a})});return await i.json()},f=async e=>{let{id:t,feedback:s}=e;const a=await(0,o.pb)(`${n.T5}${n.Pn.GENERATIONS}/${t}/feedback`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({feedback:s})});return await a.json()},y=async e=>{let{toolId:t}=e;const s=await(0,o.pb)(`${n.T5}${n.Pn.GENERATIONS}/feedback_options?toolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});return await s.json()}},"./app/api/hooks/asset-groups/useAssetsExplorerTree.ts":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>N,_7:()=>E,sT:()=>P});var o=s("./app/components/Views/VideoTools/VideoEditor/Assets/default-assets.ts"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/react-redux/es/index.js"),r=s("./node_modules/swr/dist/index.mjs"),l=s("./app/actions/flash.ts"),c=s("./app/components/Prefabs/FileExplorer/file-explorer.ts"),d=s("./app/components/Prefabs/FileExplorer/react-virtualized-tree/selectors.ts");const p=(e,t)=>{if(!(e?.length>0))return t;{const s=(0,d.u3)(e,t);if(s)return s.children}},u=e=>{let{tree:t,itemId:s,path:o}=e;const n=(0,d.$y)(t).find((e=>e.id===s));if(!n)return t;const a=(0,d.l1)(t,n),i=p(o,a);var r;return i&&(i.push({id:(r=n).id,children:r.children,name:r.name,state:r.state}),i.sort((e=>(0,c.qR)(e)?1:-1))),a},m=e=>{let{tree:t,selection:s,path:o}=e;const n=h({selection:s,tree:t});let a=t;return n.forEach((e=>{a=u({path:o,itemId:e.id,tree:a})})),a},h=e=>{let{tree:t,selection:s}=e;const o=(0,d.$y)(t).filter((e=>s.byId[e.id])),n=o.filter((e=>(0,c.qR)(e)&&!e.state.readOnly)).map((e=>e.id));return o.filter((e=>{if(e.state.readOnly)return!1;return!((e.parents||[]).findIndex((e=>n.includes(e)))>-1)}))},g=(e,t)=>{switch(t.type){case"MOVE_ITEM":return u({path:t.path,itemId:t.itemId,tree:e});case"MOVE_ITEMS":return m({path:t.path,selection:t.selection,tree:e});case"CREATE_FOLDER":{const s=t.id;let o=[...e];return o.push({id:s,name:t.name,children:[],state:{expanded:!0,item:{type:"AssetGroup",value:{createdAt:new Date,id:t.id,name:"New Folder",parentAssetGroupId:null,children:[]}}}}),t.path&&(o=u({path:t.path,itemId:s,tree:o})),o}case"DELETE_FOLDER":{const s=(0,c.lK)({tree:e,nodeId:t.id}),o={allIds:[],byId:{}};s.children.forEach((e=>{o.allIds.push(e.id),o.byId[e.id]=!0}));return(0,d.l1)(e,s)}case"RENAME_ITEM":{const s=(0,d.$y)(e).find((e=>e.id===t.itemId)),o=[...e];if(s){const e=p(s.parents,o).find((e=>e.id===t.itemId));e&&(e.name=t.newName,e.state.item.value.name=t.newName)}return o}case"DELETE_ITEM":{const s=(0,c.lK)({tree:e,nodeId:t.itemId});return s?(0,d.l1)(e,s):e}case"DELETE_ITEMS":{const s=t.selection.allIds.map((t=>(0,c.lK)({tree:e,nodeId:t})));let o=(0,n.cloneDeep)(e);for(const e of s)(0,c.qR)(e)||(o=(0,d.l1)(o,e));return o}default:return e}};var f=s("./app/utils/hooks/useAuthentication.ts"),y=s("./app/utils/hooks/useRecentAssetUploads.ts"),x=s("./app/api/asset-groups.ts"),v=s("./app/api/hooks/assets/useRecentAssetsGrid.ts");var b=s("./node_modules/p-queue/dist/index.js"),w=s("./app/components/Prefabs/FileExplorer/Renderers/drag-drop-renderer.ts"),_=s("./app/api/assets.ts");const I=new b.Z({concurrency:1}),T=(e,t,s,o)=>{switch(t.type){case"MOVE_ITEM":case"MOVE_ITEMS":return new Promise((async(o,n)=>{try{let n;n="MOVE_ITEM"===t.type?[(0,c.lK)({tree:e,nodeId:t.itemId})]:h({selection:t.selection,tree:e});const a=await(e=>{let{tree:t,nodesToMove:s,path:o,asTeamId:n}=e;const a=0===o?.length||!o,i=s.map((e=>e.state.item.value.id));if(a){const e={};s.forEach((s=>{const o=(0,w.rZ)(s);if(o){const n=(0,c.lK)({tree:t,nodeId:o}).state.item.value.id;if(n){e[n]||(e[n]=[]);const t=s.state.item.value.id;e[n].push(t)}}}));const o=[...Object.keys(e).map((t=>{const s=e[t];return(0,x.b1)({childrenIds:s,id:t,asTeamId:n})}))];return Promise.all(o)}{const e=(0,c.lK)({tree:t,nodeId:o[o.length-1]}).state.item.value.id;return(0,x.ib)({childrenIds:i,id:e,asTeamId:n})}})({tree:e,nodesToMove:n,path:t.path,asTeamId:s});o(a)}catch(e){"MOVE_ITEM"===t.type?n(new Error("Failed to move item")):n(new Error("Failed to move items"))}}));case"CREATE_FOLDER":return new Promise((async(n,a)=>{try{let a;if(t.path?.length>0){const s=(0,c.lK)({tree:e,nodeId:t.path[t.path.length-1]});s&&(a=s.state.item.value.id)}const{assetGroup:i}=await(0,x.FL)({id:t.id,name:t.name,parentAssetGroupId:a,asTeamId:s,privateInTeam:o});"CREATE_FOLDER"===t.type&&n(i)}catch(e){a(new Error("Failed to create folder"))}}));case"DELETE_FOLDER":return new Promise((async(o,n)=>{try{const n=(0,c.lK)({tree:e,nodeId:t.id}).state.item.value.id;o(await(0,x.RE)({id:n,asTeamId:s}))}catch(e){n(new Error("Failed to delete folder"))}}));case"RENAME_ITEM":return new Promise((async(o,n)=>{try{const n=(0,c.lK)({tree:e,nodeId:t.itemId});if(n)if((0,c.qR)(n)){o(await(0,x.It)({id:n.state.item.value.id,name:t.newName,asTeamId:s}))}else{o(await(0,_.Rk)({id:n.state.item.value.id,name:t.newName,asTeamId:s}))}}catch(e){n(new Error("Failed to rename item"))}}));case"DELETE_ITEM":return new Promise((async(o,n)=>{try{const n=(0,c.lK)({tree:e,nodeId:t.itemId});if(n){o(await(0,_.mo)(n.state.item.value.id,s))}}catch(e){n(new Error("Failed to delete item"))}}));case"DELETE_ITEMS":return new Promise((async(o,n)=>{const a=t.selection.allIds.map((t=>(0,c.lK)({tree:e,nodeId:t}))).filter((e=>!(0,c.qR)(e))).map((e=>e.state.item.value.id)),i=await Promise.allSettled(a.map((e=>(0,_.mo)(e,s))));i.some((e=>"rejected"===e.status))?n(new Error("Failed to delete items")):o(i)}))}},j=async(e,t,s,o)=>{const n=T(e,t,s,o);try{await I.add((()=>n))}catch(e){throw I.clear(),new Error(e)}},k=new Date,C={DEMO_ASSETS_MAGIC_TOOL:!0,DEMO_ASSETS_VIDEO_EDITOR:!0},E=e=>Boolean(C[e]),S=[{assetGroupProps:{id:"DEMO_ASSETS_MAGIC_TOOL",name:"Demo Images"},assets:o.UL},{assetGroupProps:{id:"DEMO_ASSETS_VIDEO_EDITOR",name:"Demo Assets"},assets:[...o.$L,...o.Ju,...o.L3]}],A=e=>{const t=(0,d.$y)(e).length>0;return S.forEach((s=>{let{assetGroupProps:o,assets:n}=s;const a=(e=>{let{assetGroupProps:t,assets:s,expanded:o=!1}=e;const{id:n,name:a}=t;return{id:n,children:s.map((e=>((e,t)=>({id:e.id,name:e.name,state:{expanded:!0,readOnly:!0,item:{type:"Asset",value:{...e,parentAssetGroupId:t}}},children:null}))(e,n))),name:a,state:{expanded:o,readOnly:!0,item:{type:"AssetGroup",value:{id:n,name:a,createdAt:k,updatedAt:k,createdBy:-1,parentAssetGroupId:null,children:[]}}}}})({assetGroupProps:o,assets:n,expanded:!t});e.unshift(a)})),e},M=e=>{const[t]=(0,f.J)();return(0,a.useMemo)((()=>{const s=[t,"useAssetsExplorerTree"];return e.asTeamId&&(s.push(e.asTeamId),"boolean"==typeof e.privateInTeam&&s.push(e.privateInTeam)),s}),[t,e.asTeamId,e.privateInTeam])},P=function(){const e=M(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return(0,a.useCallback)((()=>{r.J$.default.cache.delete(e)}),[e])},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=M(e),{data:s,mutate:o,error:d}=(0,r.ZP)(t,(async()=>{let s=[];s=e.asTeamId?await(0,x.sw)({asTeamId:e.asTeamId,privateInTeam:e.privateInTeam}):await(0,x.sw)(e);const o=r.J$.default.cache.get(t),n={};o&&o.forEach((e=>{let{id:t,state:s}=e;n[t]=s.expanded}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e=>{const o=e;let n=null;"AssetGroup"===e.type&&e.value.children&&(n=e.value.children.map(s).sort((e=>e.children?1:-1)),delete o.value.children);const a=e.value.id,i=!n||(t[a]??!1),r={id:a,name:e.value.name,state:{expanded:i,item:o},children:n};return"AssetGroup"===e.type&&e.value.userGroupId&&(r.userGroupId=e.value.userGroupId),r};return(e=>{const t={},s=[];return e.forEach((e=>{const{value:s,type:o}=e;"AssetGroup"===o&&(t[s.id]=e,e.value.children||(e.value.children=[]))})),e.forEach((e=>{const{value:o}=e,n=o.parentAssetGroupId;if(n){const s=t[n];void 0===s.value.children&&(s.value.children=[]),s.value.children.push(e)}else s.push(e)})),s})(e).map(s)}(s,n);return A(a)}),{revalidateOnMount:!r.J$.default.cache.get(t),revalidateOnFocus:!1,revalidateOnReconnect:!1,compare:()=>!1}),p=(0,a.useCallback)((e=>{o(e,!1)}),[o]),u=(0,i.I0)(),m=(0,a.useCallback)((t=>{const a=(0,n.cloneDeep)(s),i=g(s,t);p(i),j(a,t,e.asTeamId,e.privateInTeam).then((()=>{if("DELETE_ITEM"===t.type||"DELETE_ITEMS"===t.type||"DELETE_FOLDER"===t.type){const e=(0,c.uf)(i);y.h.update((t=>t.filter((t=>e[t.id])))),(0,v.Zh)()}})).catch((e=>{o(),u((0,l.showFlash)({message:(e.message||"").replace("Error:",""),type:"WARNING"}))}))}),[s,p,o,u,e.asTeamId,e.privateInTeam]);return d?{tree:null,onChange:()=>{},treeDispatch:()=>{},revalidate:()=>{}}:{tree:s,onChange:p,treeDispatch:m,revalidate:o}}},"./app/api/hooks/assets/asset.ts":(e,t,s)=>{"use strict";s.d(t,{Fy:()=>l,Nh:()=>r,mo:()=>i});var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/utils/constants.ts"),a=s("./app/utils/http.ts");const i=async e=>{const t=`${n.T5}${n.Pn.ASSETS}/${e}`;await(0,a.yY)(t)},r=async e=>{const t=`${n.T5}${n.Pn.ASSETS}/${e}`,{asset:s}=await(0,a.XD)((()=>(0,a.HT)(t)));return s},l=async(e,t)=>{const s=`${n.T5}${n.Pn.ASSETS}/${e}`;return await(0,a.uO)(s,{name:t}),(0,o.JG)(`${n.Pn.ASSETS}/${e}`),t}},"./app/api/hooks/assets/assets.ts":(e,t,s)=>{"use strict";s.d(t,{CF:()=>l,Li:()=>p,R3:()=>d});var o=s("./node_modules/swr/dist/index.mjs"),n=(s("./node_modules/swr/infinite/dist/index.mjs"),s("./app/utils/auth.ts"),s("./app/utils/constants.ts")),a=s("./app/utils/hooks/useAPI.ts"),i=s("./app/utils/urls.ts");const r={offset:0,limit:10,sortBy:"createdAt",order:"desc",mediaType:"image,video,audio,text,font"},l=(e,t,s)=>{const n=Array.from(o.J$.default.cache.keys()),a=n.filter((e=>e.includes("paginated-assets")&&!e.includes("err@arg@")&&e.includes("many")));if(a)for(let n=0;n<a.length;n++){const i=o.J$.default.cache.get(a[n]);if(!i)continue;const r=i.map((o=>({assets:c({assets:o?.assets,assetId:e,action:t,newName:s})})));(0,o.JG)(a[n],r)}const i=n.filter((e=>e.includes("paginated-assets")&&!e.includes("err@arg@")&&!e.includes("many")&&!e.includes("size@arg@"))).find((t=>{const s=o.J$.default.cache.get(t);return s?.assets.find((t=>t.id===e))}));if(i){const n=o.J$.default.cache.get(i),a=c({assets:n?.assets,assetId:e,action:t,newName:s});(0,o.JG)(i,{assets:a})}},c=e=>{let{assets:t,assetId:s,action:o,newName:n}=e;return"delete"===o?t.filter((e=>e.id!==s)):"rename"===o&&n?t.map((e=>e.id===s?{...e,name:n}:e)):void 0},d=()=>{Array.from(o.J$.default.cache.keys()).filter((e=>e.includes("paginated-assets")&&!e.includes("err@arg@"))).forEach((e=>(0,o.JG)(e)))},p=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s={...r,...e},o=`${n.Pn.ASSETS}?${(0,i.uM)(s)}`;return(0,a.E)(o,{},t)}},"./app/api/hooks/assets/upload.ts":(e,t,s)=>{"use strict";s.d(t,{Ib:()=>S,O6:()=>P,Ok:()=>N,RS:()=>E,SD:()=>j,Xz:()=>C,c$:()=>M,cp:()=>k});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/lodash/lodash.js"),a=s.n(n),i=s("./node_modules/react/index.js"),r=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),l=s("./app/store.ts"),c=s("./app/streams/streaming-sdk.ts"),d=s("./app/utils/auth.ts"),p=s("./app/utils/constants.ts"),u=s("./app/utils/filenames.ts"),m=s("./app/utils/files.ts"),h=s("./app/utils/heic.ts"),g=s("./app/utils/hooks/useRecentAssetUploads.ts"),f=s("./app/utils/http.ts"),y=s("./app/utils/uploads.ts"),x=s("./app/utils/video.ts"),v=s("./app/utils/video-editor/audio.ts"),b=s("./app/utils/video-editor/image.ts"),w=s("./app/utils/video-editor/layer.ts"),_=s("./app/api/assets.ts"),I=s("./app/api/video.ts");const T=async e=>{let{name:t,uploadId:s,fileCount:o,previewUploadIds:n,type:a,metadata:i,asTeamId:r,privateInTeam:l,isUserUpload:c,parentAssetGroupId:d}=e,u={name:t,uploadId:s,type:a,fileCount:o,previewUploadIds:n,metadata:i,isUserUpload:c,parentAssetGroupId:d};return r&&(u={...u,asTeamId:r},"boolean"==typeof l&&(u={...u,privateInTeam:l})),(0,f.a4)(`${p.T5}/v1/datasets`,u).catch((()=>{throw new Error("Error creating dataset")}))},j=a().memoize((async e=>{const t=(0,m.p_)(e);let s={};if(e.type.includes("video")){const e=await(0,I.b)(t);s={duration:e.duration,frameRate:e.framerate,size:{width:e.width,height:e.height},hasAlphaChannel:e.has_alpha_channel,hasAudio:e.has_audio||!1}}else e.type.includes("audio")?s={duration:await(0,v.eo)(t)}:e.type.includes("image")&&(s={size:await(0,b.A)(t)});return s})),k=async e=>{let{file:t,config:s,uploadOpts:o={}}=e;const n=t.name??"My Asset",a=(0,m.p_)(t),i=(0,u.Nd)(t),c=await(0,x.Jo)(t);t=await(0,h.f4)(t);const d=(0,y.iP)({filename:n,type:"DATASET",mediaType:i,fileSize:t.size,fileObjectURL:a,canViewLocally:c,asTeamId:o.asTeamId,privateInTeam:o.privateInTeam,isUserUpload:o.isUserUpload,parentId:o.parentId});let p=[];const v="image/gif"===t.type;if(c&&"video"===i&&!v)try{const e=await(0,x.nQ)(t);p=await Promise.all(e.map((e=>(0,y.ax)({filename:`${n}_preview.jpg`,body:e,type:"DATASET_PREVIEW"}))))}catch{}return await(0,y.bW)(t,{type:"DATASET",uploadId:d,finalize:async e=>{if((0,y.Ns)(d))throw new Error("CANCELLED");let i;if(t.type.includes("image")||t.type.includes("text"))i=[await(0,y.cT)({file:t,type:"DATASET_PREVIEW"})];else if(t.type.includes("video"))if(p.length>0)i=p;else{const t=await(0,f.XD)((()=>S({videoUpload:e,numImages:5}).catch((()=>{throw new Error("Error while generating preview images")}))),{retries:5});i=await Promise.all(t.filter((e=>e)).map((e=>(0,y.cT)({file:e,type:"DATASET_PREVIEW"}))))}else i=[];const u=i.map((e=>e.id.toString())),m=await C(t,e,a,c),{dataset:h}=await T({name:n,uploadId:e.id.toString(),previewUploadIds:u,fileCount:1,type:{name:s?.name||"images",type:s?.type||"file",isDirectory:!1},metadata:m,asTeamId:o.asTeamId,privateInTeam:o.privateInTeam,isUserUpload:o.isUserUpload,parentAssetGroupId:o.parentId}),x=await(0,f.XD)((()=>(0,_.Nh)(h.id).catch((e=>{throw new Error(`Error while getting asset after upload: ${e.message}`)}))),{retries:5});return g.h.update((e=>[...e,x])),l.Z.dispatch({type:"composition/MIGRATE_CLIPS_WITH_BLOB_URL",from:{fileObjectURL:a},to:{name:x.name,url:x.url,assetId:x.id,thumbnail:x.previewUrls[0],previewImages:x.previewUrls,metadata:await(0,f.XD)((()=>(0,w.bp)(x).catch((e=>{throw new Error(`Error while creating metadata after upload: ${e.message}`)}))),{retries:5})}}),l.Z.dispatch({type:"ui/UPDATE_PLAYHEAD",value:(0,r.q)(),maintainPlayback:!0}),x}})},C=async(e,t,s,n)=>{if(n)try{return await j(e)}catch(e){console.warn("Error while getting metadata",e),o.Tb(e)}if(e.type.includes("video")){const e=await(0,f.XD)((()=>(0,I.b)(t.url).catch((()=>{throw new Error("Error while getting video info")}))),{retries:5});return{duration:e.duration,frameRate:e.framerate,size:{width:e.width,height:e.height},hasAlphaChannel:e.has_alpha_channel,hasAudio:e.has_audio}}if(e.type.includes("audio"))return{duration:await(0,v.eo)(s)}},E=720,S=async e=>{let{videoUpload:t,numImages:s}=e,o=0;const a=await(0,I.b)(t.url);let i;a?.duration&&(o=a.duration),i=0===o||o<.001?[0]:new Array(s).fill("").map(((e,t)=>Math.min(t*(o/(s-1)),o-.001)));const{width:r,height:l}=(0,x.$d)({originalWidth:a.width,originalHeight:a.height,maxWidth:E,maxHeight:E});return new Promise((async e=>{const s=await Promise.all(i.map((e=>A(t.url,{timestamp:e,width:r,height:l}))));e((0,n.compact)(s))}))},A=async(e,t)=>{const{width:s,height:o}=(0,x.$d)({originalWidth:t.width,originalHeight:t.height,maxWidth:E,maxHeight:E,roundToNearestMultipleOf:2}),n={modelName:"raw_video",commandName:"raw_video",inputData:{video:e},outputWidth:s,outputHeight:o,outputFormat:"jpeg",useGPUServer:!1},a=(0,c.mu)({...n,timestamp:t.timestamp||0}),i=await(0,d.Df)(a);if(i&&200===i.status){const t=await i.blob();return t.lastModifiedDate=new Date,t.name=`${(0,u.Sb)(e)}-preview.jpeg`,Promise.resolve(t)}return Promise.resolve(null)},M=e=>e.length<1?null:e.reduce(((e,t)=>e+t.uploadProgress),0)/e.length,P=e=>{const t=M(e),s=(0,i.useRef)("");(0,i.useEffect)((()=>(s.current=window.document.title,()=>{window.document.title=s.current})),[]),(0,i.useEffect)((()=>{window.document.title=null!==t&&t>=0&&t<=1?`(${Math.round(100*t)}%) ${s.current}`:s.current}),[t])},N=e=>{(0,i.useEffect)((()=>{if(0!==e.length)return window.onbeforeunload=()=>!0,()=>{window.onbeforeunload=null}}),[e])}},"./app/api/hooks/assets/useRecentAssetsGrid.ts":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>m,Zh:()=>u});var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/utils/auth.ts"),a=s("./app/utils/constants.ts"),i=s("./app/api/hooks/assets/assets.ts"),r=s("./app/utils/urls.ts");const l={offset:0,limit:4,sortBy:"createdAt",order:"desc",mediaType:"image,video,audio,text,font"},c=(e,t)=>{let s=`${(0,n.bW)()}-useRecentAssetsGrid-${(0,n.bW)()}`;return s+=e?"-all":"-exports",t&&(s+=`-${t}`),s},d=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=await(0,n.pb)(`${a.T5}${a.Pn.ASSETS}?${(0,r.uM)(l)}&includeUploads=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{assets:s}=await t.json();return s},p=async e=>{const t=new URLSearchParams;e&&t.append("asTeamId",e.toString());const s=await(0,n.pb)(`${a.T5}${a.Pn.PENDING_ASSETS}?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{pendingAssets:o}=await s.json();return o},u=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const s=await d(e),n=await p(t);s&&n&&(0,o.JG)(c(e),{assets:s,pendingAssets:n},!1)},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2?arguments[2]:void 0;const{cache:n}=(0,o.kY)(),{data:a}=(0,o.ZP)(c(t,s),(async()=>{const o=n.get(c(t,s)),a=await p(s);let r=o?.assets;const l=a?.length<o?.pendingAssets.length;r&&!l||(r=await d(t),l&&(e(),(0,i.R3)()));const u=a.filter((e=>"model"!==e.mediaType));return{assets:[...r],pendingAssets:[...u],state:"loaded"}}),{refreshInterval:1e4,fallbackData:{assets:[],pendingAssets:[],state:"pending"},revalidateOnMount:!0});return a}},"./app/api/hooks/assets/useUserCanEditAssets.ts":(e,t,s)=>{"use strict";s.d(t,{H:()=>n});var o=s("./app/api/hooks/useTeams.ts");const n=()=>{const e=(0,o.I7)(),t=(0,o.B9)(e?.id);return!e||t}},"./app/api/hooks/useAddAssetToFavorites.ts":(e,t,s)=>{"use strict";s.d(t,{E:()=>r});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/assets.ts"),i=s("./app/api/hooks/useAsset.ts");function r(e,t){const s=(0,o.lt)(e,t),r=(0,i.y)();return(0,n.useCallback)((t=>{const o=(0,a.Vw)({id:t.id,asTeamId:e});return r(t.id,o,{revalidate:!0,populateCache:!1,optimisticData:()=>({...t,favorite:!0})}),s(o,{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const o of e)"Asset"===o.type&&o.value.id===t.id?s.push({...o,value:{...o.value,favorite:!0}}):s.push(o);return s}}),o}),[e,r,s])}},"./app/api/hooks/useAsset.ts":(e,t,s)=>{"use strict";s.d(t,{G:()=>l,y:()=>c});var o=s("./app/utils/hooks/useAuthentication.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/swr/dist/index.mjs"),i=s("./app/api/assets.ts");function r(e,t){return`${e}-asset-${t}`}function l(e,t){const[s]=(0,o.J)();return(0,a.ZP)(r(s,e),(()=>(0,i.Nh)(e)),t)}function c(){const[e]=(0,o.J)(),t=(0,a.kY)();return(0,n.useCallback)(((s,o,n)=>t.mutate(r(e,s),o,n)),[t,e])}},"./app/api/hooks/useAssetGroup.ts":(e,t,s)=>{"use strict";s.d(t,{v:()=>a});var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/api/asset-groups.ts");const a=e=>{let{asTeamId:t,assetGroupId:s,swrOptions:a}=e;return(0,o.ZP)(s?(e=>{let{asTeamId:t,assetGroupId:s}=e;return["asset-group",s,t]})({asTeamId:t,assetGroupId:s}):null,(async()=>{try{return await(0,n.b3)({id:s,asTeamId:t})}catch(e){return null}}),a)}},"./app/api/hooks/useAssetsAndAssetGroups_V2.ts":(e,t,s)=>{"use strict";s.d(t,{hD:()=>r,lt:()=>d,wQ:()=>c});var o=s("./app/api/asset-groups.ts"),n=s("./app/utils/hooks/useAuthentication.ts"),a=s("./node_modules/react/index.js"),i=s("./node_modules/swr/dist/index.mjs");const r="exports";function l(e,t){const[s]=(0,n.J)();return`${s}-assets-and-asset-groups-${e}-${t}`}function c(e,t){const s=l(e,t),{data:n,...a}=(0,i.ZP)(s,(async()=>await(0,o.sw)({asTeamId:e,privateInTeam:t})),{suspense:!0});return{...a,data:n}}function d(e,t){const s=(0,i.kY)(),o=l(e,t);return(0,a.useCallback)(((e,t)=>s.mutate(o,e,t)),[s,o])}},"./app/api/hooks/useAssetsAndAssetsGroups.ts":(e,t,s)=>{"use strict";s.d(t,{RW:()=>i,s:()=>c,zi:()=>l});var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/utils/hooks/useAuthentication.ts"),a=s("./app/api/asset-groups.ts");const i=(e,t)=>{const s=t.privateInTeam?"private":"shared",o=t.teamspaceId?"shared":s;return[e,"useAssetsAndAssetGroups",t.asTeamId,o,t.teamspaceId,t.includeOnly,t.filterOutModels]},r=e=>{const[t]=(0,n.J)();return i(t,e)},l=e=>{const t=r(e);return(e,s)=>{e?(0,o.JG)(t,e,{revalidate:s}):(0,o.JG)(t,(e=>e),{revalidate:!0})}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=r(e);return(0,o.ZP)(s,(async t=>{try{const t=await(0,a.sw)(e),s={};for(const e of t)"AssetGroup"===e.type&&(s[e.value.id]=e.value.name);for(const e of t)e.value.parentAssetGroupName=e.value.parentAssetGroupId?s[e.value.parentAssetGroupId]:void 0;return t}catch(e){return void(0,o.JG)(t)}}),t)}},"./app/api/hooks/useBillingProducts.ts":(e,t,s)=>{"use strict";s.d(t,{z:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/api-client.ts"),i=s("./app/utils/hooks/useAuthentication.ts");function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{suspense:!0};const[s]=(0,i.J)(),r=(0,o.useMemo)((()=>e.teamPlans?[s,"useBillingProducts","teamsPlans"]:[s,"useBillingProducts"]),[s,e]);return(0,n.ZP)(r,(()=>(0,a.YH)(e.teamPlans)),t)}},"./app/api/hooks/useCreateAssetGroup.ts":(e,t,s)=>{"use strict";s.d(t,{L:()=>r});var o=s("./app/api/asset-groups.ts"),n=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),a=s("./node_modules/react/index.js"),i=s("./node_modules/uuid/dist/esm-browser/v4.js");function r(e,t,s){const r=(0,n.lt)(e,t);return(0,a.useCallback)((n=>{let{name:a,parentId:l,favorite:c}=n;const d={createdAt:new Date,createdBy:e,id:i.Z(),name:a,parentAssetGroupId:l||null,updatedAt:(new Date).toISOString(),children:[],favorite:c},p=(0,o.FL)({id:d.id,name:d.name,favorite:d.favorite,parentAssetGroupId:d.parentAssetGroupId??void 0,asTeamId:e,privateInTeam:t,teamspaceId:s});return r(p,{revalidate:!0,populateCache:!1,optimisticData:e=>e?[...e,{type:"AssetGroup",value:d}]:[{type:"AssetGroup",value:d}]}),p}),[e,r,t,s])}},"./app/api/hooks/useCurrentTeamPlan.ts":(e,t,s)=>{"use strict";s.d(t,{K$:()=>p,Pi:()=>u,Q6:()=>c,Vz:()=>l,gG:()=>d,mt:()=>m,ql:()=>h,yG:()=>i});var o=s("./app/api/hooks/useBillingProducts.ts"),n=s("./app/api/hooks/useProfile.ts"),a=s("./app/api/hooks/useTeams.ts");const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{data:s}=(0,n.NF)({asTeamId:e},t),{data:a}=(0,o.z)({teamPlans:!0},t);return r({teamProfile:s,billingProducts:a})},r=e=>{let{teamProfile:t,billingProducts:s}=e;if(t?.plans&&s)return t.plans.length<1?s.freeProduct:s.products.find((e=>e.billingPlans.monthly===t?.plans?.[0]||e.billingPlans.yearly===t?.plans?.[0]))},l=e=>void 0===e.billingPlans.monthly,c=e=>!e||void 0===e.billingPlans.monthly,d=e=>!!e&&"Enterprise"===e.name,p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i(e,t),{data:n}=(0,o.z)({teamPlans:!0},t);if(!n)return;if(!s||l(s))return n.products[0];const a=n.products.findIndex((e=>e.name===s.name)),r=n.products[a+1];return r&&!r.hidden?r:void 0},u=function(){let{asTeamId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,a.I7)(t),o=i(e||s?.id,t);return c(o)},m=function(e){let{asTeamId:t}=e;return!u({asTeamId:t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,a.I7)(t),o=i(e.asTeamId||s?.id,t);return!!o&&"Unlimited"===o.name}},"./app/api/hooks/useEstimateFeatureCostCredits.ts":(e,t,s)=>{"use strict";s.d(t,{u:()=>r});var o=s("./app/utils/hooks/useAuthentication.ts"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/utils/auth.ts"),i=s("./app/utils/constants.ts");const r=(e,t)=>{let{costCalculationFeatureName:s,count:r,asTeamId:l}=e;const[c]=(0,o.J)();let d=[c,"useEstimateFeatureCostCredits"];return s&&(d=[c,"useEstimateFeatureCostCredits",s,r]),(0,n.ZP)(d,(async()=>(async(e,t)=>{let{costCalculationFeatureName:s,count:o=1,asTeamId:n}=e;const r=await(0,a.pb)(`${i.T5}/v1/billing/estimate_feature_cost_credits`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({feature:s,count:o,asTeamId:n,options:t})});if(!r.ok)throw new Error("Failed to estimate feature cost credits");return await r.json()})({costCalculationFeatureName:s,count:r,asTeamId:l},{})),t)}},"./app/api/hooks/useModelCheckpoints.ts":(e,t,s)=>{"use strict";s.d(t,{oZ:()=>r});var o=s("./app/utils/hooks/useAuthentication.ts"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/api/assets.ts");const i=e=>{let{asTeamId:t,subtype:s}=e;const[n]=(0,o.J)();return[n,"useCheckpoints",t,s]},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i(e);return(0,n.ZP)(s,(async()=>(async e=>{let{asTeamId:t,subtype:s}=e;const[o,n]=await Promise.all([(0,a.Vh)({mediaType:"model",mediaSubtype:s,asTeamId:t,q:"",privateInTeam:!1}),(0,a.Vh)({mediaType:"model",mediaSubtype:s,asTeamId:t,q:"",privateInTeam:!0})]);return[...o,...n]})(e)),t)}},"./app/api/hooks/useMoveAssetsOrAssetGroups.ts":(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/asset-groups.ts");function i(e,t){const s=(0,o.lt)(e,t);return(0,n.useCallback)((async(t,o,n)=>{s(async function(){null===n&&null!==o?await(0,a.b1)({id:o,childrenIds:t.map((e=>e.value.id)),asTeamId:e}):null!==n&&await(0,a.ib)({childrenIds:t.map((e=>e.value.id)),id:n,asTeamId:e})}(),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=new Set;for(const e of t)s.add(e.value.id);const o=[];for(const t of e)s.has(t.value.id)?(t.type,o.push({type:t.type,value:{...t.value,parentAssetGroupId:n}})):o.push(t);return o}})}),[e,s])}},"./app/api/hooks/usePendingAssets.ts":(e,t,s)=>{"use strict";s.d(t,{Xk:()=>d,u:()=>c});var o=s("./node_modules/react/index.js"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/utils/hooks/useAuthentication.ts"),i=s("./app/api/assets.ts"),r=s("./app/api/hooks/useAssetsAndAssetsGroups.ts");function l(e,t){const[s]=(0,a.J)();return[s,"usePendingAssets",e,t]}const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=l(e.asTeamId,e.privateInTeam),{data:s,...a}=(0,n.ZP)(t,(async()=>(0,i.BR)({...e,mediaType:["audio","file","font","image","text","video"]})),{refreshInterval:5e3}),c=(0,r.zi)(e),d=(0,o.useRef)(0);return(0,o.useEffect)((()=>{s?(s.length<d.current&&c(),d.current=s.length):d.current=0}),[s,s?.length,c]),{data:s,...a}};function d(e,t){const s=(0,n.kY)(),a=l(e,t);return(0,o.useCallback)(((e,t)=>s.mutate(a,e,t)),[s,a])}},"./app/api/hooks/useProfile.ts":(e,t,s)=>{"use strict";s.d(t,{NF:()=>c,Pd:()=>l,Un:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/api-client.ts"),i=s("./app/utils/hooks/useAuthentication.ts");const r=(e,t)=>{let{asTeamId:s}=e;const[r]=(0,i.J)(),l=(0,o.useMemo)((()=>{const e=["useProfile",r];return s&&e.push(s),e}),[s,r]);return(0,n.ZP)(l,(()=>(0,a.Ai)(r,s)),t)},l=(e,t)=>{let{asTeamId:s}=e;const[r]=(0,i.J)(),l=(0,o.useMemo)((()=>{const e=["useSubscriptions",r];return s&&e.push(s),e}),[s,r]);return(0,n.ZP)(l,(()=>(0,a.tJ)(s)),t)},c=(e,t)=>{let{asTeamId:s}=e;const[r]=(0,i.J)(),l=(0,o.useMemo)((()=>{const e=["useProfileForMembers",r];return s&&e.push(s),e}),[s,r]);return(0,n.ZP)(s?l:null,(async()=>(0,a.B3)(s)),t)}},"./app/api/hooks/useRemoteStagingBranches.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,$:()=>c});var o=s("./app/utils/constants.ts"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/swr/dist/index.mjs"),i=s("./app/utils/hooks/useAuthentication.ts"),r=s("./app/utils/http.ts");const l=e=>{const[t]=(0,i.J)(),s=[t,"useRemoteStagingBranches",e],{cache:n}=(0,a.kY)(),{error:l,data:c}=(0,a.ZP)(s,(async()=>await(async e=>(0,r.HT)(`${o.T5}${o.Pn.DEV}/remote_staging_branches/${e}`))(e)),{revalidateOnMount:!n.get(s),revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenHidden:!1,refreshWhenOffline:!1});return{error:l,branches:c?.branches||[]}},c=()=>(0,n.mapValues)(o.Fk,(e=>{const t="undefined"!=typeof window?new URLSearchParams(window.location.search).get(e):void 0;return t||void 0}))},"./app/api/hooks/useRemoveAssetFromFavorites.ts":(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/assets.ts"),i=s("./app/api/hooks/useAsset.ts");function r(e,t){const s=(0,o.lt)(e,t),r=(0,i.y)();return(0,n.useCallback)((t=>{const o=(0,a.ju)({id:t.id,asTeamId:e});return r(t.id,o,{revalidate:!0,populateCache:!1,optimisticData:()=>({...t,favorite:!1})}),s(o,{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const o of e)"Asset"===o.type&&o.value.id===t.id?s.push({type:"Asset",value:{...o.value,favorite:!1}}):s.push(o);return s}}),o}),[e,r,s])}},"./app/api/hooks/useRenameAssetGroup.ts":(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/asset-groups.ts");function i(e,t){const s=(0,o.lt)(e,t);return(0,n.useCallback)(((t,o)=>s((0,a.It)({id:o,name:t,asTeamId:e}),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const n of e)"AssetGroup"===n.type&&n.value.id===o?s.push({type:"AssetGroup",value:{...n.value,name:t}}):s.push(n);return s}})),[e,s])}},"./app/api/hooks/useSortedAssetsAndAssetGroups.ts":(e,t,s)=>{"use strict";s.d(t,{S3:()=>x,aT:()=>g,aZ:()=>v,c7:()=>f,cp:()=>y});var o=s("./node_modules/react/index.js"),n=s("./app/components/Views/Assets/shared.tsx"),a=s("./app/utils/filenames.ts"),i=s("./app/utils/files.ts"),r=s("./app/utils/sort.ts"),l=s("./app/utils/uploads.ts"),c=s("./app/utils/video.ts"),d=s("./app/api/datasets.ts"),p=s("./app/api/hooks/assets/upload.ts"),u=s("./app/api/hooks/useAssetsAndAssetsGroups.ts");const m={sortAssetsBy:"createdAt",assetsOrder:"desc",sortAssetGroupsBy:"createdAt",assetGroupsOrder:"desc"},h=(e,t)=>e.sort(((e,s)=>{const o="asc"===t.assetsOrder?"ascending":"descending";switch(t.sortAssetsBy){case"createdAt":return(0,r.C)(new Date(e.createdAt),new Date(s.createdAt),o);case"updatedAt":return(0,r.C)(new Date(e.updatedAt),new Date(s.updatedAt),o);case"mediaType":return(0,r.C)(e.mediaType,s.mediaType,o);case"name":return(0,r.C)(e.name,s.name,o);case"favorite":return(0,r.C)(e.favorite,s.favorite,o)}})).filter((e=>{let s=!0;t.assetType&&"All"!==t.assetType&&(s="Exports"===t.assetType?!e.isUserUpload:e.isUserUpload);let o=!0;t.mediaType&&"All"!==t.mediaType&&(o=t.mediaType.toLowerCase()===e.mediaType);let n=!0;return t.q&&(n=e.name.toLowerCase().includes(t.q.toLowerCase())),n&&s&&o})),g=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(o>=50)return[];for(const n of e)if(n.value.id===t)return s.push(n.value),g(e,n.value.parentAssetGroupId,s,o+1);return s},f=e=>{const t={...m,...e},{data:s,...a}=(0,u.s)({asTeamId:t.asTeamId,privateInTeam:t.privateInTeam,teamspaceId:t.teamspaceId},{suspense:!0});let i;t.teamspaceId&&(i=s?.find((e=>"AssetGroup"===e.type&&e.value.userGroupId&&e.value.userGroupId===t.teamspaceId)));const l=t.parentId??i?.value.id??null,{assetGroups:c,assets:d,exports:p}=(0,o.useMemo)((()=>s?((e,t)=>{const s=[],o=[];let a=[];const i={},r={};for(const n of e){if("Asset"===n.type&&(n.value.isUserUpload||a.push(n.value),n.value.parentAssetGroupId===t)){o.push(n.value);continue}if("AssetGroup"===n.type&&(r[n.value.id]=n.value,n.value.parentAssetGroupId===t)){s.push(n.value);continue}const e=n.value.parentAssetGroupId;null!==e&&(i[e]?i[e].push(n):i[e]=[n])}if(t===n.hD)return a=a.map((e=>{if(!e.parentAssetGroupId)return{...e,parentAssetGroupName:"Assets"};const t=r[e.parentAssetGroupId];return{...e,parentAssetGroupName:t.name}})),{assetGroups:[],assets:a,exports:[]};for(const e of s)e.children=i[e.id]||[];return{assetGroups:s,assets:o,exports:a}})(s,l):{assetGroups:[],assets:[],exports:[]}),[s,l]),f=(0,o.useMemo)((()=>((e,t)=>e.sort(((e,s)=>{const o="asc"===t.assetGroupsOrder?"ascending":"descending";switch(t.sortAssetGroupsBy){case"createdAt":return(0,r.C)(new Date(e.createdAt),new Date(s.createdAt),o);case"name":return(0,r.C)(e.name,s.name,o)}})).filter((e=>!t.q||e.name.toLowerCase().includes(t.q.toLowerCase()))))(c,{assetGroupsOrder:t.assetGroupsOrder,sortAssetGroupsBy:t.sortAssetGroupsBy})),[c,t.assetGroupsOrder,t.sortAssetGroupsBy]),y=(0,o.useMemo)((()=>h(d,{q:t.q,assetType:t.assetType,mediaType:t.mediaType,sortAssetsBy:t.sortAssetsBy,assetsOrder:t.assetsOrder})),[d,t.assetType,t.assetsOrder,t.mediaType,t.q,t.sortAssetsBy]),x=(0,o.useMemo)((()=>h(p,{sortAssetsBy:t.sortAssetsBy,assetsOrder:t.assetsOrder})),[p,t.assetsOrder,t.sortAssetsBy]),v=(0,o.useMemo)((()=>null===t.parentId?[]:t.parentId===n.hD?[n.cr]:g(s,t.parentId)),[s,t.parentId]);return{data:{allAssetsAndAssetGroups:s,assetGroups:f,assets:y,exports:x,parents:v},...a}},y=async e=>{let{file:t,parentId:s,asTeamId:o,privateInTeam:n,favorite:r,onUploadId:u,finalize:m,checkCanViewLocally:h=!1}=e;const g=!!h&&await(0,c.Jo)(t),f=t.name??"My Asset",y=(0,i.p_)(t),b=(0,a.Nd)(t),w=(0,l.iP)({filename:f,type:"DATASET",mediaType:b,fileSize:t.size,fileObjectURL:y,canViewLocally:g,parentId:s,asTeamId:o,privateInTeam:n});u?.(w);const _=x(t,f,g);return await(0,l.bW)(t,{uploadId:w,type:"DATASET",finalize:async e=>{let s;s=await _,0===s.length&&(s=await v(t,e));const a=await(0,p.Xz)(t,e,y,g),{dataset:i}=await(0,d.T)({fileCount:1,name:f,uploadId:e.id,previewUploadIds:s,metadata:a,favorite:r,type:{name:b,type:b,isDirectory:!1},asTeamId:o,privateInTeam:n});return await m(i)}})},x=async(e,t,s)=>{if(e.type.includes("image")||e.type.includes("text")){return[(await(0,l.cT)({file:e,type:"DATASET_PREVIEW"})).id]}if(e.type.includes("video")&&s)try{const s=await(0,c.nQ)(e);return(await Promise.all(s.map((e=>(0,l.ax)({filename:`${t}_preview.jpg`,body:e,type:"DATASET_PREVIEW"}))))).map((e=>e.id))}catch{return[]}return[]},v=async(e,t)=>{if(e.type.includes("video")){const e=await(0,p.Ib)({videoUpload:t,numImages:5});return(await Promise.all(e.filter((e=>e)).map((e=>(0,l.cT)({file:e,type:"DATASET_PREVIEW"}))))).map((e=>e.id))}return[]}},"./app/api/hooks/useStripeRedirect.ts":(e,t,s)=>{"use strict";s.d(t,{w:()=>d});var o=s("./app/components/Views/Dashboard/hooks/useSubPageQuery.ts"),n=s("./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./app/api/billing.ts"),l=s("./app/api/hooks/useCurrentTeamPlan.ts"),c=s("./app/api/hooks/useProfile.ts");const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;const{pathname:d}=(0,i.TH)(),p=(0,l.yG)(e,t),u=(0,n.useStripe)(),{data:m}=(0,c.Pd)({asTeamId:e},t),h=(0,o.c)();return(0,a.useCallback)((async t=>{if(!p)return;const o=`${window.location.origin}${d}`.replace(/ /g,"%20"),n=!m||0===m.subscriptions.length;if(t&&n){const{sessionId:n}=await(0,r.R)({asTeamId:e,plan:t,cancelURL:o,returnURL:o,metadata:{dashboardSubpage:d.includes("dashboard")?h:void 0,uiContext:s}});if(!n)return;u?.redirectToCheckout({sessionId:n})}else{const{sessionURL:t}=await(0,r.B)({asTeamId:e,returnURL:o});window.location.href=t}}),[p,d,m,e,h,s,u])}},"./app/api/hooks/useSubscription.ts":(e,t,s)=>{"use strict";s.d(t,{F:()=>a,m:()=>n});var o=s("./app/api/hooks/useProfile.ts");const n=e=>{const{data:t}=(0,o.NF)({asTeamId:e},{suspense:!0});if(!t)throw new Error("User should be defined");const{data:s}=(0,o.Pd)({asTeamId:e},{suspense:!0});if(!s?.subscriptions)return void console.error("Subscriptions should be defined");const n=t.plans?.[0];if(!n||!t.planExpirations)return;const i={plan:n,paymentProcessor:"manual",expiresAt:t.planExpirations[n]};return 0===s.subscriptions.length||a(t)?i:s.subscriptions[0]},a=e=>e.plans?.some((e=>["pro-monthly","pro-yearly"].includes(e)))},"./app/api/hooks/useTask.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./app/utils/hooks/useAuthentication.ts"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/swr/dist/index.mjs"),i=s("./app/api/tasks.ts");const r=function(e){let{taskId:t,asTeamId:s}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=(e=>{let{taskId:t,asTeamId:s}=e;const[n]=(0,o.J)();return[n,"useTask",s,t]})({taskId:t,asTeamId:s}),{data:c,...d}=(0,a.ZP)(l,(()=>{if(!(0,n.isNil)(t)&&!(0,n.isNil)(s))return(0,i._X)(t,{asTeamId:s})}),r);return{...d,data:c}}},"./app/api/hooks/useTasks.ts":(e,t,s)=>{"use strict";s.d(t,{Xi:()=>c,pw:()=>p});var o=s("./app/utils/hooks/useAuthentication.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/swr/dist/index.mjs"),i=s("./app/api/tasks.ts"),r=s("./app/api/hooks/useTask.ts");const l=e=>{let{asTeamId:t,taskTypes:s,statuses:n}=e;const[a]=(0,o.J)();let i=[a,"useTasks",t];return s&&(i=[...i,s.sort().toString()]),n&&(i=[...i,n.sort().toString()]),i},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=l(e),{data:o,...n}=(0,a.ZP)(s,(()=>(0,i.Ak)({taskTypes:e.taskTypes,statuses:e.statuses,asTeamId:e.asTeamId})),t);return{...n,data:o}},d=["CANCELLED","FAILED","SUCCEEDED"];function p(e,t){const[s,o]=(0,n.useState)(!0),{data:a}=(0,r.Z)({taskId:e.taskId,asTeamId:e.asTeamId},{refreshInterval:s?1e3:void 0});return(0,n.useEffect)((()=>{a&&(d.includes(a.status)?o(!1):o(!0))}),[o,a]),t(a)}},"./app/api/hooks/useTeams.ts":(e,t,s)=>{"use strict";s.d(t,{B9:()=>M,FX:()=>k,I7:()=>w,JR:()=>P,Je:()=>I,Nk:()=>x,Qt:()=>T,Tw:()=>b,Z5:()=>A,hA:()=>S,lU:()=>C,l_:()=>N,m4:()=>E,nn:()=>_,t7:()=>j,tl:()=>f,y2:()=>v});var o=s("./app/actions/settings.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./node_modules/swr/dist/index.mjs"),l=s("./app/utils/hooks/useAuthentication.ts"),c=s("./app/utils/hooks/useSelector.ts"),d=s("./app/utils/isTeamsRoute.ts"),p=s("./app/utils/teams.ts"),u=s("./app/api/mixpanel.ts"),m=s("./app/api/teams.ts"),h=s("./app/api/hooks/user.ts");const g=new Set,f=e=>[e,"useTeams"],y=()=>{const[e]=(0,l.J)();return f(e)},x=()=>{const e=y();return(t,s)=>(0,r.JG)(e,t,s)},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=y(),s=(0,r.ZP)(t,m.LK,e);var o;return o=s.data,(0,n.useEffect)((()=>{o&&(o.every((e=>g.has(e.id)))||(o.forEach((e=>g.add(e.id))),(0,u.kb)({properties:{teamIds:o.map((e=>e.id))}})))}),[o]),s},b=e=>{const t=(0,c.Z)((e=>e.videoEditor.composition.metadata.userId)),{data:s=[]}=v(e);return s.find((e=>e.id===t))},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{pathname:t}=(0,i.TH)(),{data:s=[]}=v(e),n=(0,d.B)(t),r=s.find((e=>e.username===n?.params?.teamName)),l=(0,a.I0)();return n&&!r&&(l((0,o.y3)(null)),l((0,o.fC)(null))),r},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=w(e);return A(t?.id,e)},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{data:t=[]}=v(e),{data:s}=(0,h.a)(e);return t.find((e=>e.id===s?.id))||t?.[0]},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=w(e),s=I(e);return t||s},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{data:s=[]}=v(t);return s.find((t=>t.id===e))??null},k=(e,t)=>`${e}-use-team-members-${t}`,C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[s]=(0,l.J)();return(0,r.ZP)(e?k(s,e):null,(()=>(0,m.YY)(e)),t)};function E(e){const[t]=(0,l.J)(),s=(0,r.kY)(),o=k(t,e);return(0,n.useCallback)(((e,t)=>s.mutate(o,e,t)),[s,o])}const S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[s]=(0,l.J)();return(0,r.ZP)([s,"useTeamMembershipRequests",e],(()=>(0,m.VJ)(e)),t)},A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{data:s}=(0,h.a)(t),{data:o=[]}=C(e,t);return o.find((e=>e.user.id===s?.id))?.role},M=function(e){const t=A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return!!t&&P(t)},P=e=>(0,p.rI)(e)>=(0,p.rI)("editor"),N=function(e){const t=A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return!!t&&D(t)},D=e=>(0,p.rI)(e)>=(0,p.rI)("admin")},"./app/api/hooks/useTeamspaces.ts":(e,t,s)=>{"use strict";s.d(t,{BO:()=>c,gb:()=>l});var o=s("./app/utils/hooks/flags/useHasTeamspaces.ts"),n=s("./app/utils/hooks/useAuthentication.ts"),a=s("./node_modules/swr/dist/index.mjs"),i=s("./app/api/teamspaces.ts");const r=e=>{let{teamId:t,teamspaceId:s}=e;const[o]=(0,n.J)();return(e=>{let{token:t,teamId:s,teamspaceId:o}=e;return[t,"useTeamspaces",s,o]})({token:o,teamId:t,teamspaceId:s})},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=r({teamId:e}),n=(0,o.Y)(e);return(0,a.ZP)(n?s:null,(()=>(0,i.K$)({teamId:e})),t)},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=r({teamspaceId:e});return(0,a.ZP)(s,(()=>(0,i.Cw)({teamspaceId:e})),t)}},"./app/api/hooks/user.ts":(e,t,s)=>{"use strict";s.d(t,{a:()=>i});s("./app/utils/hooks/useAPI.ts"),s("./app/utils/constants.ts");var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/utils/hooks/useAuthentication.ts"),a=s("./app/api-client.ts");const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{suspense:!0};const[t]=(0,n.J)();return(0,o.ZP)(["useUser",t],(()=>(0,a.Ai)(t)),e)}},"./app/api/mixpanel.ts":(e,t,s)=>{"use strict";s.d(t,{bc:()=>c,kb:()=>u,m5:()=>d,p6:()=>p,sessionMixpanelProperties:()=>l});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/uuid/dist/esm-browser/v4.js"),a=s("./app/utils/auth.ts"),i=s("./app/utils/constants.ts"),r=s("./app/store.ts");const l={sessionId:(0,n.Z)()},c=async e=>{const t=e.properties??{},s=r.Z.getState().settings.lastUsedTeam?.id;e.properties={workspaceId:s,...l,...t};try{return(await(0,a.pb)(`${i.T5}${i.Pn.MIXPANEL_USER_EVENTS}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){return(0,o.Tb)(e),{}}},d=async e=>{const t=e.properties??{};e.properties={isAnonymous:!0,...l,...t};try{return(await fetch(`${i.T5}${i.Pn.MIXPANEL_ANONYMOUS_EVENTS}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){return(0,o.Tb)(e),{}}},p=async e=>(0,a.Pc)()?c(e):d(e),u=async e=>(await(0,a.pb)(`${i.T5}${i.Pn.MIXPANEL_USER_PROPERTIES}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()},"./app/api/shared-assets.ts":(e,t,s)=>{"use strict";s.d(t,{i:()=>i,v:()=>a});var o=s("./app/utils/auth.ts"),n=s("./app/utils/constants.ts");const a=async e=>{let{asTeamId:t,...s}=e;const a=await(0,o.pb)(`${n.T5}${n.Pn.SHARED_ASSETS}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({asTeamId:t,...s})});if(!a.ok)throw new Error("Failed to create shared asset");return await a.json()},i=async e=>{let{id:t}=e;const s=await(0,o.pb)(`${n.T5}${n.Pn.SHARED_ASSETS}/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to get shared asset");return await s.json()}},"./app/api/tasks.ts":(e,t,s)=>{"use strict";s.d(t,{Ak:()=>p,Pk:()=>y,Zx:()=>f,_5:()=>m,_X:()=>u,el:()=>h,f_:()=>g,qJ:()=>d});var o=s("./app/constants/errors.ts"),n=s("./app/utils/environment.ts"),a=s("./app/utils/urls.ts"),i=s("./node_modules/lodash/lodash.js"),r=s("./app/utils/auth.ts"),l=s("./app/utils/constants.ts"),c=s("./app/api/hooks/useRemoteStagingBranches.ts");const d=async e=>{let t,{taskType:s,internal:a=!1,options:i,asTeamId:d,streamingInferenceStagingBranch:p,throwOnError:u}=e;if(p)t=p;else{const{"streaming-inference":e}=(0,c.$)();"stage"!==e&&(t=e)}const{queue:m}=(0,c.$)(),h=await(async e=>{let{options:t,taskType:s,asTeamId:o,internal:n,streamingInferenceStagingBranch:a,devQueue:i}=e;return(0,r.pb)(`${l.T5}/v1/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({taskType:s,internal:n,options:t,asTeamId:o,streamingInferenceStagingBranch:a??void 0,devQueue:i})})})({taskType:s,internal:a,options:i,asTeamId:d,streamingInferenceStagingBranch:(0,n.mx)()?t:void 0,devQueue:(0,n.mx)()?m:void 0}),{task:g,error:f}=await h.json();if(f){if("You do not have enough credits to run this task."===f){if(u)throw new o.dT;return{error:"NOT_ENOUGH_CREDITS"}}if(429===h.status){if(u)throw new o.Aw;return{error:"RATE_LIMITED"}}if(f.includes("Jobs are limited for free users due to high demand")){if(u)throw new o.yF;return{error:"FREE_PLAN_LIMIT_ERROR"}}throw new Error(f)}return g},p=async e=>{let{offset:t=0,limit:s=99,taskTypes:o,statuses:n,asTeamId:i}=e;const c=`${l.T5}/v1/tasks?${(0,a.uM)({offset:t,limit:s,taskTypes:o?Array.isArray(o)?o.join(","):o:void 0,statuses:n?.join(",")??void 0,asTeamId:i})}`,d=await(0,r.pb)(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{tasks:p,error:u}=await d.json();if(u)throw new Error(u);return p},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.asTeamId?`asTeamId=${t.asTeamId}`:"";s=s?`?${s}`:"";const o=await(0,r.pb)(`${l.T5}/v1/tasks/${e}${s}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{task:n,error:a}=await o.json();if(a)throw new Error(a);return n},m=async function(e){let{asTeamId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,i.isNil)(t)?null:{asTeamId:t},o=await(0,r.pb)(`${l.T5}/v1/tasks/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},...s?{body:JSON.stringify(s)}:{}}),{success:n,error:a}=await o.json();if(a)throw new Error(a);return n},h=async function(e){let{asTeamId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,i.isNil)(t)?null:{asTeamId:t},o=await(0,r.pb)(`${l.T5}/v1/tasks/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},...s?{body:JSON.stringify(s)}:{}}),{success:n,error:a}=await o.json();if(a)throw new Error(a);return n},g=async e=>{const t=await(0,r.pb)(`${l.T5}/v1/tasks/${e}/retry`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{task:s,error:n}=await t.json();if(n){if(n.includes("You do not have enough credits to run this task."))throw new o.dT;throw new Error(n)}return s},f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=`${l.T5}/v1/tasks/${e}/generation`;t.asTeamId&&(s=`${s}?asTeamId=${t.asTeamId}`);const o=await(0,r.pb)(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),{generation:n}=await o.json();return n?.id},y=async(e,t)=>{const s=await(0,r.pb)(`${l.T5}/v1/tasks/estimate_cost`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({taskType:e,options:t})});return await s.json()}},"./app/api/teams.ts":(e,t,s)=>{"use strict";s.d(t,{Ah:()=>g,BR:()=>f,Cm:()=>r,LK:()=>l,Lq:()=>m,NK:()=>y,OJ:()=>x,Om:()=>I,VJ:()=>u,W8:()=>w,YY:()=>p,fC:()=>d,fs:()=>c,hS:()=>h,i3:()=>v,pr:()=>b,sz:()=>_});var o=s("./app/utils/auth.ts"),n=s("./app/utils/trackEvent.ts"),a=s("./app/utils/constants.ts"),i=s("./app/utils/http.ts");const r=async e=>await(0,i.a4)(`${a.T5}${a.Pn.TEAMS}`,e),l=async()=>{try{return await(0,i.HT)(`${a.T5}${a.Pn.TEAMS}`).then((e=>e.teams))}catch(e){if((0,o.Pc)())throw e;return[]}},c=async(e,t)=>await(0,i.uO)(`${a.T5}${a.Pn.TEAMS}/${e}`,t),d=async e=>await(0,i.yY)(`${a.T5}${a.Pn.TEAMS}/${e}`),p=async e=>await(0,i.HT)(`${a.T5}${a.Pn.TEAMS}/${e}/members`).then((e=>e.members)),u=async e=>await(0,i.HT)(`${a.T5}${a.Pn.TEAMS}/${e}/user_membership_requests`).then((e=>e.requests)),m=async(e,t,s)=>await(0,i.a4)(`${a.T5}${a.Pn.TEAMS}/${e}/members`,{email:t,role:s}),h=async(e,t,s)=>await(0,i.uO)(`${a.T5}${a.Pn.TEAMS}/${e}/members`,{email:t,role:s}),g=async(e,t)=>await(0,i.yY)(`${a.T5}${a.Pn.TEAMS}/${e}/members`,{email:t}),f=async e=>{let{linkId:t}=e;return await(0,i.uO)(`${a.T5}${a.Pn.TEAMS}/${t}/request`,{})},y=async e=>{let{teamId:t,userId:s}=e;return await(0,i.a4)(`${a.T5}${a.Pn.TEAMS}/${t}/access_request`,{approved:!0,userId:s})},x=async e=>{let{teamId:t,userId:s}=e;return await(0,i.a4)(`${a.T5}${a.Pn.TEAMS}/${t}/access_request`,{approved:!1,userId:s})},v=async(e,t)=>{const s=await(0,i.a4)(`${a.T5}${a.Pn.PROFILE}/picture/upload`,{filename:e}),{uploadUrl:o,downloadUrl:n,mimeType:r}=s;return await fetch(o,{method:"PUT",headers:{"Content-Type":r},body:t}),n},b=async e=>await(0,i.uO)(`${a.T5}${a.Pn.TEAMS}/${e}/members/accept`,{}),w=async function(e){let{active:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{active:!0};return await(0,i.uO)(`${a.T5}${a.Pn.TEAMS}/${e}/invite_link_settings`,{active:t})},_=async e=>((0,n.L)({event:"Click",name:"Request Plan Upgrade",section:"Upgrade Dialog"}),await(0,i.a4)(`${a.T5}${a.Pn.TEAMS}/${e}/request_plan_upgrade`)),I=async(e,t)=>((0,n.L)({event:"Click",name:"Request Role Upgrade",section:"Upgrade Dialog"}),await(0,i.a4)(`${a.T5}${a.Pn.TEAMS}/${e}/request_role_change`,{role:t}))},"./app/api/teamspaces.ts":(e,t,s)=>{"use strict";s.d(t,{Cw:()=>d,DG:()=>r,K$:()=>i,OC:()=>c,Xn:()=>u,uf:()=>l,vC:()=>p});var o=s("./app/utils/constants.ts"),n=s("./app/utils/http.ts"),a=s("./node_modules/lodash/lodash.js");const i=async e=>{let{teamId:t}=e;const s=await(0,n.HT)(`${o.T5}/v1/user_groups/${t}`);return(0,a.sortBy)(s.userGroupsForTeam,"name")},r=async e=>{let{teamId:t,name:s}=e;return(await(0,n.a4)(`${o.T5}/v1/user_groups/`,{teamId:t,userGroupName:s})).userGroup},l=async e=>{let{teamspaceId:t,newTeamspaceName:s}=e;await(0,n.uO)(`${o.T5}/v1/user_groups/${t}`,{userGroupName:s})},c=async e=>{let{teamspaceId:t}=e;await(0,n.yY)(`${o.T5}/v1/user_groups/${t}`)},d=async e=>{let{teamspaceId:t}=e;return(await(0,n.HT)(`${o.T5}/v1/user_groups/${t}/members`)).members},p=async e=>{let{teamspaceId:t,emails:s,autoInviteAsViewer:a=!1}=e;await(0,n.a4)(`${o.T5}/v1/user_groups/${t}/members`,{emails:s,autoInviteAsViewer:a})},u=async e=>{let{teamspaceId:t,emails:s,asTeamId:a}=e;await(0,n.yY)(`${o.T5}/v1/user_groups/${t}/members`,{emails:s,asTeamId:a})}},"./app/api/text-to-speech.ts":(e,t,s)=>{"use strict";s.d(t,{KZ:()=>u,Nm:()=>d,Su:()=>g,Vi:()=>m,kH:()=>p,w7:()=>c,y4:()=>l});var o=s("./app/components/Views/MagicTools/MagicTool/TextToSpeech/constants.ts"),n=s("./app/components/Views/MagicTools/MagicTool/TextToSpeech/utils.ts"),a=s("./app/utils/constants.ts"),i=s("./app/utils/http.ts"),r=s("./node_modules/lodash/lodash.js");const l=async e=>{const t=new URL(`${a.T5}/v1/generated_audio/search`);t.searchParams.append("asTeamId",e.asTeamId.toString()),t.searchParams.append("query",e.query.toString());return(await(0,i.a4)(t.toString())).results},c=async e=>{const t=new URL(`${a.T5}/v1/generated_audio/voices`);t.searchParams.append("asTeamId",e.asTeamId.toString());const s=await(0,i.HT)(t.toString()),[r,l]=s.voices.reduce(((e,t)=>((0,n.CJ)(t)?e[0].push(t):e[1].push(t),e)),[[],[]]);return[...l.sort(((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())),...r.filter((e=>o.w1.includes(e.voiceId))).map((e=>h(e)))]},d=async e=>{const{id:t,...s}=e;return(0,i.a4)(`${a.T5}/v1/generated_audio/${t}/link_transcript`,s)},p=async e=>{const t=new URL(`${a.T5}/v1/generated_audio/voices`);t.searchParams.append("asTeamId",e.asTeamId.toString()),(0,r.isNil)(e.privateInTeam)||t.searchParams.append("privateInTeam",e.privateInTeam.toString());const s={name:e.name,description:e.description,samples:e.datasetIds};return(await(0,i.a4)(t.toString(),s)).voice},u=e=>{const t=new URL(`${a.T5}/v1/generated_audio/voices/${e.id}`);return t.searchParams.append("asTeamId",e.asTeamId.toString()),(0,i.uO)(t.toString(),{name:e.name,privateInTeam:e.privateInTeam})},m=e=>{const t=new URL(`${a.T5}/v1/generated_audio/voices/${e.voiceId}`);return t.searchParams.append("asTeamId",e.asTeamId.toString()),(0,i.yY)(t.toString())},h=e=>{const t=o.Ub[e.voiceId];if(!t)throw new Error(`No voice available for name: ${e.name}`);return{...e,name:t,labels:Object.entries(e.labels).map((e=>{let[t,s]=e;const o=t.toLowerCase().trim(),n=s.toLowerCase().trim();if(["use case","use_case"].includes(o))return["useCase",n];if("gender"===o){if(["male","masculine"].includes(n))return[o,"masculine"];if(["female","feminine"].includes(n))return[o,"feminine"]}return[o,n]})).reduce(((e,t)=>{let[s,o]=t;return{...e,[s]:o}}),{})}},g=async e=>{const t=new URL(`${a.T5}/v1/generated_audio/voices/${e.voiceId}`);t.searchParams.append("asTeamId",e.asTeamId.toString());const s=(await(0,i.HT)(t.toString())).voice;return(0,n.CJ)(s)?h(s):s}},"./app/api/useSuspendableImageElement.ts":(e,t,s)=>{"use strict";s.d(t,{T:()=>r,_:()=>i});var o=s("./app/utils/image.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/swr/dist/index.mjs");const i=e=>{let{url:t}=e;const{data:s}=(0,a.ZP)(t?[t]:null,o.po,{suspense:!0,refreshInterval:0,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return s},r=e=>{let{urls:t}=e;const[s,a]=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async e=>{e=e.filter((e=>e.length));try{const t=await Promise.all(e.map(o.po));a(t)}catch(e){a([])}})(t)}),[t]),s}},"./app/api/user-properties.ts":(e,t,s)=>{"use strict";s.d(t,{Fe:()=>a,bM:()=>c,jw:()=>r,p:()=>l,sh:()=>i});var o=s("./app/utils/auth.ts"),n=s("./app/utils/constants.ts");let a=function(e){return e.showSwitchWorkspaceDialog="showSwitchWorkspaceDialog",e.hasSeenGen2CustomModelOnboarding="hasSeenGen2CustomModelOnboarding",e.rememberedSaveToAssetGroupIds="rememberedSaveToAssetGroupIds",e.hasSeenGen2MotionBrushOnboarding="hasSeenGen2MotionBrushOnboarding",e.hasSeenGen2MotionPathOnboarding="hasSeenGen2MotionPathOnboarding",e}({});const i=async function(e){let{asTeamId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=t?`asTeamId=${encodeURIComponent(t)}`:"",a=e?`${e.map(((e,t)=>`properties[${t}]=${encodeURIComponent(e)}`)).join("&")}`:"",i=e?.length?`?${a}&${s}`:t?`?${s}`:"";return(await(0,o.pb)(`${n.T5}${n.Pn.USER_PROPERTIES}${i}`,{method:"GET",headers:{Accept:"application/json"}})).json()},r=async function(e){let{asTeamId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await(0,o.pb)(`${n.T5}${n.Pn.USER_PROPERTIES}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({properties:e,asTeamId:t})})).json()},l=async e=>{let{jsonPatch:t,asTeamId:s}=e;return(await(0,o.pb)(`${n.T5}${n.Pn.USER_PROPERTIES}`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({jsonPatch:t,asTeamId:s})})).json()},c=async function(e){let{properties:t}=e,{asTeamId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await(0,o.pb)(`${n.T5}${n.Pn.USER_PROPERTIES}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({properties:t,asTeamId:s})})).json()}},"./app/api/user.ts":(e,t,s)=>{"use strict";s.d(t,{Ax:()=>i,Cz:()=>p,N$:()=>u,Nq:()=>a,OK:()=>c,bo:()=>l,h8:()=>r,sA:()=>d});var o=s("./app/utils/constants.ts"),n=s("./app/utils/http.ts");const a=async e=>await(0,n.uO)(`${o.T5}${o.Pn.PROFILE}`,{user:e}),i=async(e,t)=>{const s=await(0,n.a4)(`${o.T5}${o.Pn.PROFILE}/picture/upload`,{filename:e}),{uploadUrl:a,downloadUrl:i,mimeType:r}=s;return await fetch(a,{method:"PUT",headers:{"Content-Type":r},body:t}),await(0,n.a4)(`${o.T5}${o.Pn.PROFILE}/picture`,{url:i}),i},r=async e=>await(0,n.yY)(`${o.T5}${o.Pn.PROFILE}`,{password:e}),l=async e=>await(0,n.HT)(`${o.T5}${o.Pn.EMAIL_PREFERENCES}?token=${e}`),c=async(e,t)=>{let{general:s,education:a,marketing:i}=t;return await(0,n.a4)(`${o.T5}${o.Pn.EMAIL_UNSUBSCRIBE}`,{token:e,general:s,education:a,marketing:i})},d=async e=>{const t=e?`?asTeamId=${e}`:"";return await(0,n.HT)(`${o.T5}${o.Pn.BILLING}/invoices${t}`)},p=async e=>await(0,n.HT)(`${o.T5}${o.Pn.BILLING}/credits_usages?asTeamId=${e}`),u=async e=>{const t=new URL(`${o.T5}/v1/profile/features`);t.searchParams.append("asTeamId",e.toString());return(await(0,n.HT)(t.toString(),{asTeamId:e})).features}},"./app/api/video-editor/composition-ws.ts":(e,t,s)=>{"use strict";s.d(t,{rg:()=>Q,xU:()=>K,TY:()=>J,XY:()=>q,QY:()=>Y,D:()=>ee,o1:()=>te,T4:()=>se,h:()=>oe});var o=s("./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/yjs/dist/yjs.mjs"),i=s("./app/components/Views/VideoTools/Composition/composition.ts"),r=s("./app/utils/constants.ts"),l=s("./node_modules/process/browser.js");const c=(()=>{if(l.env.WEBSOCKET_SERVER_URL)return l.env.WEBSOCKET_SERVER_URL;const e=l.env.STAGE?l.env.STAGE.toLowerCase():"";return e?.startsWith("stage-")||"stage"===r.j9?"wss://remote-sync.stage.runwayml.cloud":"wss://remote-sync.runwayml.cloud"})(),d="videoComposition";var p=s("./app/reducers/video-editor/composition.ts"),u=s("./app/types/video-editor/remote-sync.ts"),m=s("./node_modules/@sentry/core/esm/exports.js"),h=s("./node_modules/lib0/encoding.js");const g=e=>Array.isArray(e),f=e=>"object"==typeof e&&null!==e,y=e=>e instanceof a.D5,x=e=>e instanceof a.mJ,v=(e,t)=>y(e)?e.get(t):x(e)?e.get(parseInt(t)):void 0,b=(e,t,s)=>{y(e)?e.set(t,s):x(e)&&e.insert(parseInt(t),[s])},w=(e,t)=>{y(e)?e.delete(t):x(e)&&e.delete(parseInt(t),1)},_=(e,t)=>{void 0!==t&&(g(e)?e.forEach((e=>{g(e)?(t.push([new a.mJ]),_(e,t.get(t.length-1))):f(e)?(t.push([new a.D5]),_(e,t.get(t.length-1))):t.push([e])})):f(e)&&Object.keys(e).forEach((s=>{const o=e[s];g(o)?(t.set(s,new a.mJ),_(o,t.get(s))):f(o)?(t.set(s,new a.D5),_(o,t.get(s))):t.set(s,o)})))},I=(e,t)=>{let s=e;const o=t.split("/").slice(1),n=o.pop();return o.forEach((e=>{s=v(s,e)})),{ptr:s,key:n}};var T=s("./node_modules/lib0/broadcastchannel.js"),j=s("./node_modules/lib0/decoding.js"),k=s("./node_modules/lib0/math.js"),C=s("./node_modules/lib0/mutex.js"),E=s("./node_modules/lib0/observable.js"),S=s("./node_modules/lib0/time.js"),A=s("./node_modules/lib0/url.js"),M=s("./node_modules/y-protocols/awareness.js"),P=s("./node_modules/y-protocols/sync.js"),N=s("./app/utils/auth.ts"),D=s("./node_modules/process/browser.js");const O=[];O[u.Cs.Sync]=(e,t,s,o)=>{h.uE(e,u.Cs.Sync);const n=P.zu(t,e,s.doc,s);o&&n===P.Px&&!s.synced&&(s.synced=!0)},O[u.Cs.QueryAwareness]=(e,t,s)=>{h.uE(e,u.Cs.Awareness),h.mP(e,M.xq(s.awareness,Array.from(s.awareness.getStates().keys())))},O[u.Cs.Awareness]=(e,t,s)=>{M.oy(s.awareness,j.HN(t),s)},O[u.Cs.Auth]=(e,t,s)=>{s.sendEvent(u.Cs.Auth,s.roomname,(0,N.bW)(),0)};const L=e=>(t,s,o)=>{const n=j.kf(s),a=j.yg(s);o.emit(e,[{status:n,code:a}])};O[u.Cs.Status]=L("status"),O[u.Cs.Init]=L("init"),O[u.Cs.Delete]=L("delete");const R=(e,t,s)=>{const o=j.l1(t),n=h.Mf(),a=j.yg(o),i=e.messageHandlers[a];return i?i(n,o,e,s,a):console.error("Unable to compute message"),n},Z=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=s=>{e.wsLastMessageReceived=S.ZG();const o=R(e,new Uint8Array(s.data),!0);h.kE(o)>1&&t.send(h._f(o))},t.onclose=t=>{let{code:s}=t;e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,M.Ag(e.awareness,Array.from(e.awareness.getStates().keys()).filter((t=>t!==e.doc.clientID)),e),e.emit("status",[{status:"disconnected",code:s}])):e.wsUnsuccessfulReconnects++,setTimeout(Z,k.VV(1200*k.mv(e.wsUnsuccessfulReconnects+1),2500),e)},t.onopen=()=>{e.wsLastMessageReceived=S.ZG(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const s=h.Mf();if(h.uE(s,u.Cs.Sync),P._J(s,e.doc),t.send(h._f(s)),null!==e.awareness.getLocalState()){const s=h.Mf();h.uE(s,u.Cs.Awareness),h.mP(s,M.xq(e.awareness,[e.doc.clientID])),t.send(h._f(s))}},e.emit("status",[{status:"connecting"}])}},U=(e,t)=>{e.wsconnected&&e.ws.readyState===e.ws.OPEN&&e.ws.send(t),e.bcconnected&&e.mux((()=>{T.nY(e.bcChannel,t)}))};class z extends E.y{bcChannel;url;roomname;doc;_WS;awareness;wsconnected;wsconnecting;bcconnected;wsUnsuccessfulReconnects;messageHandlers;mux;_synced;ws;wsLastMessageReceived;shouldConnect;_resyncInterval;_bcSubscriber;_updateHandler;_awarenessUpdateHandler;_beforeUnloadHandler;_checkInterval;constructor(e,t,s,o){let{connect:n=!0,awareness:a=new M.GL(s),params:i={},WebSocketPolyfill:r=WebSocket,resyncInterval:l=-1}=o;for(super();"/"===e[e.length-1];)e=e.slice(0,e.length-1);const c=A.b(i);this.bcChannel=`${e}/${t}`,this.url=`${e}/${t}${0===c.length?"":`?${c}`}`,this.roomname=t,this.doc=s,this._WS=r,this.awareness=a,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=O.slice(),this.mux=C.M(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=n,this._resyncInterval=0,l>0&&(this._resyncInterval=setInterval((()=>{if(this.ws&&this.wsconnected&&this.ws.readyState===WebSocket.OPEN){const e=h.Mf();h.uE(e,u.Cs.Sync),P._J(e,s),this.ws.send(h._f(e))}}),l)),this._bcSubscriber=e=>{this.mux((()=>{const t=R(this,new Uint8Array(e),!1);h.kE(t)>1&&T.nY(this.bcChannel,h._f(t))}))},this._updateHandler=(e,t)=>{if(t!==this){const t=h.Mf();h.uE(t,u.Cs.Sync),P.lr(t,e),U(this,h._f(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=e=>{let{added:t,updated:s,removed:o}=e;const n=t.concat(s).concat(o),i=h.Mf();h.uE(i,u.Cs.Awareness),h.mP(i,M.xq(a,n)),U(this,h._f(i))},this._beforeUnloadHandler=()=>{M.Ag(this.awareness,[s.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):void 0!==D&&D.on("exit",(()=>this._beforeUnloadHandler)),a.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{this.wsconnected&&2e4<S.ZG()-this.wsLastMessageReceived&&this.ws.close()}),2e4),n&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):void 0!==D&&D.off("exit",(()=>this._beforeUnloadHandler)),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(T.Ld(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux((()=>{const e=h.Mf();h.uE(e,u.Cs.Sync),P._J(e,this.doc),T.nY(this.bcChannel,h._f(e));const t=h.Mf();h.uE(t,u.Cs.Sync),P.K0(t,this.doc),T.nY(this.bcChannel,h._f(t));const s=h.Mf();h.uE(s,u.Cs.QueryAwareness),T.nY(this.bcChannel,h._f(s));const o=h.Mf();h.uE(o,u.Cs.Awareness),h.mP(o,M.xq(this.awareness,[this.doc.clientID])),T.nY(this.bcChannel,h._f(o))}))}disconnectBc(){const e=h.Mf();h.uE(e,u.Cs.Awareness),h.mP(e,M.xq(this.awareness,[this.doc.clientID],new Map)),U(this,h._f(e)),this.bcconnected&&(T.r1(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(Z(this),this.connectBc())}sendEvent(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];const n=function(e){const t=h.Mf();h.uE(t,e);for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return o.forEach((e=>{"string"==typeof e?h.uw(t,e):h.uE(t,e)})),t}(e,...s);this.ws.readyState===this.ws.OPEN&&this.ws.send(h._f(n))}async wait(e){return new Promise(((t,s)=>{const o=n=>{let{status:a,code:i}=n;switch(a){case u.qb.OK:t(null);break;case u.qb.Error:s({status:i});break;default:return}this.off(e,o)};this.on(e,o)}))}}const V=o.create({textDiff:{minLength:Number.MAX_SAFE_INTEGER},arrays:{detectMove:!1}});let B=null,G=null,F=()=>{},$=()=>{},W=e=>{},H=e=>{};const Y=e=>{if(!(0,n.isPlainObject)(e)||0===Object.keys(e).length)return!1;try{const t=(0,p.Ee)(),s=Object.keys(t),{composition:o}=(0,i.c)(e);for(const e of s)if(!o.hasOwnProperty(e)||void 0===o[e])return!1}catch(e){return!1}return!0},X=(0,n.debounce)((()=>{if(null!==B){const e=B.getMap(d).toJSON();Y(e)&&W(e)}}),500),q=e=>{B=new a.QW,G=new z(c,e,B,{resyncInterval:5e3}),B.on("update",((e,t)=>{null!==t&&(a.NG(B,e),X())})),G.on("status",(e=>{let{status:t,code:s}=e;switch(t){case u.qb.OK:F();break;case u.qb.Connecting:$();break;case u.qb.Disconnected:H(s)}}))},J=(e,t)=>(G.sendEvent(u.Cs.Init,e,JSON.stringify(t)),G.wait("init")),K=()=>{F=()=>{},W=()=>{},H=()=>{},null!==G&&(G.destroy(),G=null),null!==B&&(B.destroy(),B=null)},Q=(e,t)=>{let{composition:{metadata:s,...n}}=e;if(null!==B){const e={metadata:s,data:n},i=JSON.parse(JSON.stringify(t)),{metadata:r,...l}=i,c={metadata:r,data:l},p=V.diff(e,c),u=o.formatters.jsonpatch.format(p);((e,t)=>{try{t.forEach((t=>{let{op:s,path:o,value:n,from:i}=t;const{ptr:r,key:l}=I(e,o);if("replace"===s||"add"===s)g(n)?(b(r,l,new a.mJ),_(n,v(r,l))):f(n)?(b(r,l,new a.D5),_(n,v(r,l))):b(r,l,n);else if("remove"===s)w(r,l);else if("move"===s||"copy"===s){const{ptr:t,key:o}=I(e,i);b(r,l,v(t,o)),"move"===s&&w(t,o)}else console.error("unsupported jsonpatch op: ",s)}))}catch(e){console.error("error applying patches: ",e,t),m.Tb(e,{extra:{patches:t}})}})(B.getMap(d),u)}},ee=e=>{W=e},te=e=>{F=e},se=e=>{$=e},oe=e=>{H=e}},"./app/api/video-editor/composition.ts":(e,t,s)=>{"use strict";s.d(t,{B1:()=>l,BK:()=>v,UQ:()=>m,V_:()=>g,XP:()=>h,dL:()=>b,ec:()=>y,s4:()=>u,tZ:()=>f,ul:()=>p,w$:()=>x});var o=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),n=s("./app/utils/auth.ts"),a=s("./app/utils/constants.ts"),i=s("./app/utils/http.ts");const r=JSON.stringify({durationMs:"$.settings.durationMs",previewUrl:"$.settings.previewUrl"}),l=async e=>{const t=c({asTeamId:e.asTeamId,privateInTeam:!1}),s=c({asTeamId:e.asTeamId,privateInTeam:!0}),[o,n]=await Promise.all([(0,i.HT)(t),e.asTeamId?(0,i.HT)(s):{videoCompositions:[],creatorProfiles:[]}]);return d([...o.videoCompositions,...n.videoCompositions],[...o.creatorProfiles,...n.creatorProfiles])},c=e=>{const t=new URLSearchParams;return t.set("jsonPath",r),e.asTeamId&&(t.set("asTeamId",e.asTeamId.toString()),"boolean"==typeof e.privateInTeam&&t.set("privateInTeam",e.privateInTeam.toString())),`${a.T5}${a.Pn.COMPOSITIONS}?${t.toString()}`},d=(e,t)=>e.map(((e,s)=>({...e,creatorProfile:t[s]}))),p=async e=>{const t=new URLSearchParams;t.set("jsonPath",r),e.asTeamId&&t.set("asTeamId",e.asTeamId.toString());return await(0,i.HT)(`${a.T5}${a.Pn.COMPOSITIONS_SHARED_WITH_ME}?${t.toString()}`).then((e=>e.videoCompositionsSharedWithMe))},u=async e=>await(0,i.a4)(`${a.T5}${a.Pn.COMPOSITIONS}`,e),m=async e=>{const t=`${a.T5}${a.Pn.COMPOSITIONS}/${e}?schemaVersion=${o.Bf}&skipShareInviteAcceptance=true`,{videoComposition:s,creatorProfile:n}=await(0,i.XD)((()=>(0,i.HT)(t)));return{...s,creatorProfile:n}},h=async e=>{const t=`${a.T5}${a.Pn.COMPOSITIONS}/${e}`;return await(0,i.yY)(t)},g=async(e,t)=>{const s=`${a.T5}${a.Pn.COMPOSITIONS}/${e}/rename`;return await(0,i.uO)(s,{name:t})},f=async e=>await(0,i.XD)((()=>(0,i.HT)(`${a.T5}${a.Pn.COMPOSITIONS}/${e}/editVersion`))),y=async e=>{const t=await(0,n.pb)(`${a.T5}${a.Pn.COMPOSITIONS}/${e.id}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({videoComposition:{...e.videoComposition,metadata:{...e.videoComposition.metadata,schemaVersion:o.Bf}}})});if(409===t.status)return t.error?.includes("schemaVersion")?{success:!1,message:"STALE_SCHEMA_VERSION"}:{success:!1,message:"STALE_EDIT_VERSION"};if(400===t.status){const{error:e}=await t.json();return{success:!1,message:"SCHEMA_VALIDATION_FAILED",error:e}}return t&&t.ok?t.json():{success:!1,error:"Failed to save project."}},x=e=>{let{compositionId:t}=e;return(0,i.HT)(`${a.T5}${a.Pn.COMPOSITIONS}/${t}/permissions`)},v=(e,t)=>(0,i.uO)(`${a.T5}${a.Pn.COMPOSITIONS_FEATURED}/${e}`,{featured:t}),b=async e=>await(0,i.a4)(`${a.T5}${a.Pn.COMPOSITIONS}/validate`,e)},"./app/api/video-editor/inpaint-network.ts":(e,t,s)=>{"use strict";s.d(t,{C:()=>d,Z:()=>p});var o=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),n=s("./app/streams/streaming-sdk.ts"),a=s("./app/utils/auth.ts"),i=s("./app/utils/functional.ts"),r=s("./app/utils/http.ts"),l=s("./app/utils/video.ts"),c=s("./app/utils/video-editor/hls.ts");const d=async e=>{let{frame:t,mask:s,signal:o}=e;const i=(0,n.So)({modelName:"video_inpainting",commandName:"inpaint_keyframe"}),r=await(0,a.Df)(i,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({frame:t,mask:s}),signal:o});if(!r?.ok)throw new Error("Error getting inpaint frame.");return r.json()},p=async function(e,t,s){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15;if(!t?.url)return;const{width:p,height:u}=(0,l.$d)({originalWidth:t.metadata.width,originalHeight:t.metadata.height,maxWidth:1280,maxHeight:1280,roundToNearestMultipleOf:2}),m=t.metadata.frameRate??o.V1,h=await(0,n.C_)({modelName:e,commandName:"cache_video_flow",outputWidth:p,outputHeight:u,outputFormat:"mpegts",outputFrameRate:m,inputData:{frames:t.url},framePerSegment:o.Tw});try{const e=await(0,r.XD)((()=>(0,c.O)(`${h}&include_response=0`)),{retries:3}),{segments:t}=e,o=t.filter((e=>{const{start:t}=e;return t>=s.startOffset/1e3&&t<=(s.startOffset+s.duration)/1e3})).slice(0,d);(0,i.$6)(2,o,(e=>{let{url:t}=e;return(0,a.Df)(t)}))}catch(e){console.error(e.toString())}}},"./app/api/video-editor/mask-refinement-network.ts":(e,t,s)=>{"use strict";s.d(t,{GC:()=>p,O6:()=>m,bh:()=>u,wM:()=>c,yx:()=>d});var o=s("./app/actions/video-editor/layers.ts"),n=s("./app/store.ts"),a=s("./app/streams/streaming-sdk.ts"),i=s("./app/utils/auth.ts"),r=s("./app/utils/http.ts"),l=s("./app/utils/user.ts");const c=async e=>{let{frame:t,points:s,frameId:o,signal:n}=e;const r=s.map((e=>[e.x,e.y,"EXCLUDE"!==e.type])),l=(0,a.So)({modelName:"clicks_to_mask",commandName:"refine_keyframe_no_mask"}),c=await(0,i.pb)(l,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({frame:t,clicks:r,frameId:o}),signal:n});if(!c.ok)throw new Error("Error getting mask.");return c.json()},d=async e=>{let{image:t,mask:s,points:o,frameId:n,signal:r}=e;const l=o.map((e=>[e.x,e.y,"EXCLUDE"!==e.type])),c=(0,a.So)({modelName:"clicks_to_mask",commandName:"refine_keyframe"}),d=await(0,i.pb)(c,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({frame:t,mask:s,clicks:l,frameId:n}),signal:r});if(!d.ok)throw new Error("Error refining mask.");return d.json()},p=async e=>{let{image:t,mask:s,frameId:o,signal:n}=e;const r=(0,a.So)({modelName:"clicks_to_mask",commandName:"store_keyframe"}),l=await(0,i.pb)(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({frame:t,mask:s,frameId:o}),signal:n});if(!l.ok)throw new Error("Error refining mask.");return l.json()},u=async e=>{let{layer:t,frame:s,keyframes:o,frameId:n}=e;const c=(0,a.So)({modelName:m(t.mask.stream),commandName:"segment_one_frame"}),d=await(0,r.XD)((()=>(0,i.pb)(c,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({frame:s,keyframes:o,frameId:n,upsampling_ab_test:(0,l.CD)()})})),{retries:5});if(!d.ok)throw new Error("Error refining mask.");const{mask:p}=await d.json();return p},m=e=>{if(void 0!==e)return e;const t=n.Z.getState(),s=(0,o.vt)(t)?.contextKey;return"INPAINT"===s||"TRACKING"===s?"memory_network":"propagation_network_avocado_expressionism"}},"./app/api/video.ts":(e,t,s)=>{"use strict";s.d(t,{$:()=>c,b:()=>l});var o=s("./app/constants/errors.ts"),n=s("./app/streams/utils.ts"),a=s("./app/utils/auth.ts"),i=s("./app/utils/urls.ts"),r=s("./app/utils/video.ts");const l=async e=>{if((0,i.Gu)(e)){const{width:t,height:s}=await(0,r.jC)(e),o=await(0,r.a3)(e);return{framerate:await(0,r.Py)(e),duration:await(0,r.Mf)(e),width:t,height:s,has_alpha_channel:!1,has_audio:o.length>0}}const t=(0,n.cU)({path:"/raw_video/commands/info/result.json",urlParams:{input_video:e},hardware:"cpu",priority:"high"}),s=await(0,a.Df)(t);if(s?.ok)return await s.json();throw new Error("Failed to get video info.")},c=async e=>{if((0,i.Gu)(e))return await Promise.resolve({streams:await(0,r.a3)(e)});const t=(0,n.cU)({path:"/raw_audio/commands/info/result.json",urlParams:{input_audio:e},hardware:"cpu",priority:"high"}),s=await(0,a.Df)(t);if(s?.ok)return await s.json();throw 400===s?.status?new o.Sk:new Error("Failed to get audio info.")}},"./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceEvents.ts":(e,t,s)=>{"use strict";s.d(t,{Ct:()=>i,Ji:()=>n,_p:()=>a});var o=s("./app/components/CreateTeam/CreateWorkspaceDialog/events/CreateTeamDialogEvents.ts");let n=function(e){return e.ChooseTeamspace="Choose Teamspace",e.TeamspaceSettings="Teamspace Settings",e.DeleteTeamspace="Delete Teamspace",e.InviteTeamspaceMembersStart="Invite Teamspace Members Start",e.InviteTeamspaceMembersDialogClosed="Invite Teamspace Members Dialog Closed",e.InviteTeamspaceMembersSuccess="Invite Teamspace Members Success",e.InviteTeamspaceMembersError="Invite Teamspace Members Error",e.RemoveTeamspaceMember="Remove Teamspace Member",e.AddAssetToTeamspace="Add Asset to Teamspace",e.AddAssetGroupToTeamspace="Add Asset Group to Teamspace",e.RemoveAssetFromTeamspace="Remove Asset from Teamspace",e.RemoveAssetGroupFromTeamspace="Remove Asset Group from Teamspace",e}({}),a=function(e){return e.OpenSaveToTeamspace="Open Save to Teamspace",e.SelectTeamspace="Select Teamspace",e.ConfirmSaveToTeamspace="Confirm Save to Teamspace",e.CloseSaveToTeamspace="Close Save to Teamspace",e}({});const i={[o.I.CreateTeamStart]:"Create Teamspace Start",[o.I.CreateTeamCancel]:"Create Teamspace Cancel",[o.I.CreateTeamStep1Next]:"Create Teamspace Step 1 Next",[o.I.CreateTeamStep2Next]:"Create Teamspace Step 2 Next",[o.I.CreateTeamSuccess]:"Create Teamspace Success",[o.I.CreateTeamFailure]:"Create Teamspace Failure",[o.I.CreateTeamDialogClosed]:"Create Teamspace Dialog Closed",[o.I.CreateTeamInviteMaybeLater]:"Create Teamspace Invite Maybe Later",[o.I.CreateTeamInviteFailure]:"Create Teamspace Invite Failure",[o.I.CreateTeamInviteAddedMembers]:"Create Teamspace Invited Members"}},"./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceIcon.tsx":(e,t,s)=>{"use strict";s.d(t,{Z5:()=>d,_J:()=>c});var o=s("./app/devoe/themeDark.ts"),n=s("./node_modules/lucide-react/dist/esm/icons/folder-lock.js"),a=s("./node_modules/lucide-react/dist/esm/icons/users-round.js"),i=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),r=s("./node_modules/react/jsx-runtime.js");const l=[o.Z.colors.marketing.magenta,o.Z.colors.marketing.mustard,o.Z.colors.marketing.lime,o.Z.colors.marketing.sky,o.Z.colors.marketing.ocean],c=e=>{let{teamspace:t}=e;if(!t)return(0,r.jsx)(d,{});const s=t.id.toString().split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)%l.length;return(0,r.jsx)(u,{$_css:l[s],children:t.name.trim().substring(0,2)})},d=()=>(0,r.jsx)(m,{height:16,width:16,color:o.Z.colors.textSecondary,strokeWidth:1.8}),p=i.ZP.div.withConfig({displayName:"TeamspaceIcon__TeamspaceIconContainer",componentId:"sc-tntluq-0"})(["width:24px;height:24px;padding:0;margin:0;flex-shrink:0;border-radius:32px;display:flex;align-items:center;justify-content:center;font-size:12px;"]);var u=(0,i.ZP)(p).withConfig({displayName:"TeamspaceIcon___StyledTeamspaceIconContainer",componentId:"sc-tntluq-1"})(["background-color:",";"],(e=>e.$_css));var m=(0,i.ZP)(n.Z).withConfig({displayName:"TeamspaceIcon___StyledFolderLockIcon",componentId:"sc-tntluq-2"})({marginRight:"4px"});(0,i.ZP)(a.Z).withConfig({displayName:"TeamspaceIcon___StyledUsersRoundIcon",componentId:"sc-tntluq-3"})({marginRight:"4px"})},"./app/components/BuyCredits/BuyCreditsContent.tsx":(e,t,s)=>{"use strict";s.d(t,{w:()=>r});var o=s("./app/actions/flash.ts"),n=(s("./node_modules/react/index.js"),s("./node_modules/react-redux/es/index.js")),a=s("./app/components/BuyCredits/Components/BuyCreditsCart.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{onClose:t,onDone:s,teamId:r,uiContext:l,costCalculationFeatureName:c}=e;const d=(0,n.I0)();if(!r)throw new Error("teamId is required");return(0,i.jsx)(a.C,{onSubmit:e=>{d((0,o.showFlash)({message:`You've successfully added ${e} credits to your workspace`,type:"SUCCESS"})),s(e)},onGoBack:t,uiContext:l,teamId:r,costCalculationFeatureName:c})}},"./app/components/BuyCredits/BuyCreditsContext.tsx":(e,t,s)=>{"use strict";s.d(t,{K:()=>y,$:()=>x});var o=s("./app/components/ErrorBoundary.tsx"),n=s("./app/utils/trackEvent.ts"),a=s("./node_modules/react/index.js"),i=s("./app/components/UpgradeDialog/ErrorContent.tsx"),r=s("./app/components/UpgradeDialog/LoadingContent.tsx"),l=s("./app/components/UpgradeDialog/UiContext.ts"),c=s("./app/components/BuyCredits/BuyCreditsContent.tsx"),d=s("./app/components/Prefabs/RadixDialog.tsx"),p=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),u=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),m=s("./node_modules/react/jsx-runtime.js");const h=e=>{let{children:t,onOpenChange:s,...o}=e;return(0,m.jsx)(p.fC,{...o,onOpenChange:e=>{s?.(e)},children:(0,m.jsxs)(p.h_,{children:[(0,m.jsx)(d.t9,{onClick:e=>{e.stopPropagation()}}),(0,m.jsx)(g,{onClick:e=>{e.stopPropagation()},children:t})]})})},g=(0,u.ZP)(d.cZ).withConfig({displayName:"BuyCreditsDialog__Content",componentId:"sc-1uxlc81-0"})(["width:auto;padding:0;"]),f=(0,a.createContext)(void 0),y=e=>{let{children:t}=e;const[s,d]=(0,a.useState)(!1),[p,u]=(0,a.useState)({uiContext:l.K.None,originalUiContext:l.K.None}),g=(0,a.useCallback)((e=>{u(e),d(!0),(0,n.L)({event:"General",name:"Open Buy Credits Dialog",section:"Buy Credits Dialog",otherProperties:{uiContext:e.uiContext,originalUiContext:e.originalUiContext}})}),[]),y=(0,a.useCallback)((()=>{d(!1),(0,n.L)({event:"General",name:"Close Buy Credits Dialog",section:"Buy Credits Dialog",otherProperties:{uiContext:p.uiContext,originalUiContext:p.originalUiContext}})}),[p]);return(0,a.useEffect)((()=>{s||p.onClose?.()}),[s]),(0,m.jsxs)(f.Provider,{value:g,"data-testid":"buy-credits-dialog",children:[t,(0,m.jsx)(h,{open:s,onOpenChange:d,children:(0,m.jsx)(o.S,{FallbackComponent:()=>(0,m.jsx)(i.Q,{onClose:()=>d(!1)}),children:(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(r.v,{}),children:(0,m.jsx)(c.w,{onClose:y,onDone:e=>{p.onDone?.(e),d(!1)},uiContext:p.uiContext||l.K.None,teamId:p.teamId,costCalculationFeatureName:p.costCalculationFeatureName})})})})]})},x=()=>{const e=a.useContext(f);if(!e)throw new Error("useBuyCreditsDialog must be used within a BuyCreditsDialogProvider");return e}},"./app/components/BuyCredits/Components/BuyCreditsCart.tsx":(e,t,s)=>{"use strict";s.d(t,{C:()=>G,A:()=>H});var o=s("./app/api-client.ts"),n=s("./app/utils/constants.ts"),a=s("./app/utils/http.ts");var i=s("./app/api/hooks/useCurrentTeamPlan.ts"),r=s("./app/components/Prefabs/Checkbox.tsx"),l=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),c=s("./app/components/Prefabs/Loader/Loader.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),u=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),m=s("./app/components/Views/MagicTools/Components/Common/IconButton.tsx"),h=s("./app/components/Views/MagicTools/Components/Common/Spinner.tsx"),g=s("./app/components/Views/MagicTools/hooks/useCreditCalculations.ts"),f=s("./app/devoe/assets/icons/@component-icons/add.svg"),y=s("./app/devoe/assets/icons/@component-icons/editor/assets-explorer/chevron-right.svg"),x=s("./app/devoe/assets/icons/@component-icons/recipes/close.svg"),v=s("./app/devoe/assets/icons/@component-icons/recipes/minus.svg"),b=s("./app/devoe/assets/icons/@component-icons/recipes/plus.svg"),w=s("./app/devoe/themeDark.ts"),_=s("./app/utils/trackEvent.ts"),I=s("./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js"),T=s("./node_modules/@xstate/react/es/useInterpret.js"),j=s("./node_modules/@xstate/react/es/useSelector.js"),k=s("./node_modules/@xstate/react/es/useActor.js"),C=s("./node_modules/react/index.js"),E=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),S=s("./app/components/BuyCredits/Constants.ts"),A=s("./node_modules/@sentry/core/esm/exports.js"),M=s("./node_modules/xstate/es/Machine.js"),P=s("./node_modules/xstate/es/index.js"),N=s("./app/components/UpgradeDialog/BuyCreditsDisplay.tsx");function D(e,t){return{numCredits:t,creditsToGenerations:(0,N.Dz)({costCalculationFeatureName:e.costCalculationFeatureName,generationCost:e.generationCost,unit:e.unit,numCredits:t}),costInDollars:t*S.TO}}var O=s("./node_modules/react/jsx-runtime.js");const L=e=>{let{onClick:t,teamId:s}=e;const o=(0,i.yG)(s,{suspense:!0});if(!o)return null;return["Unlimited","Enterprise"].includes(o.name)?null:(0,O.jsxs)(R,{children:["Need unlimited video generations? Get ",(0,O.jsx)(Z,{onClick:t,children:"Unlimited Plan"})]})},R=E.ZP.div.withConfig({displayName:"BuyCreditsUpsellLink__UpsellContainer",componentId:"sc-w9pmxh-0"})(["padding:12px;box-sizing:border-box;text-align:center;background:",";color:",";font-size:",";line-height:",";border-radius:6px;width:100%;"],w.Z.colors.black,w.Z.colors.white,w.Z.fonts.size.sm,w.Z.fonts.size.lg);var Z=(0,E.ZP)("a").withConfig({displayName:"BuyCreditsUpsellLink___StyledA",componentId:"sc-w9pmxh-1"})(["text-decoration-line:underline;cursor:pointer;"]),U=s("./app/components/Views/VideoTools/VideoEditor/Modals/GenZUpsellModal/GenZUpsellModal.tsx"),z=s("./node_modules/framer-motion/dist/framer-motion.es.js");const V=e=>{let{onHide:t,teamId:s}=e;return(0,O.jsxs)(z.M_,{children:["(",(0,O.jsx)(U.Z,{onHide:t,teamId:s,costCalculationFeatureName:"unlimitedPlan"}),")"]})},B=(0,M.C)({predictableActionArguments:!0,id:"payment",initial:"initializing",context:{expandPaymentOptions:!1,cards:[],cardNumberError:void 0,cardNumberComplete:!1,cardholderName:"",cardholderNameError:void 0,cardExpiryError:void 0,cardExpiryComplete:!1,cardCvcError:void 0,cardCvcComplete:!1,zipCode:"",zipCodeError:void 0,activeCardId:"",couponCode:"",couponCodeError:void 0,appliedCouponCodes:[],generationCost:null,unit:null,numCredits:S.tN,costInDollars:0,creditsToGenerations:"",costCalculationFeatureName:"image_generations",totalCoupons:0},on:{TOGGLE_PAYMENT_OPTIONS:{actions:"togglePaymentOptions"}},states:{initializing:{invoke:{src:"getCards",onDone:{target:"preview",actions:["setCards","setDefaultActiveCard"]},onError:{target:"preview",actions:["reportLoadCardsError"]}}},preview:{entry:["trackPreview","setCreditAndCost"],on:{CONFIRM_PAYMENT:{target:"processing",cond:"hasActiveCardOrTotalIsZero"},SKIP_PAYMENT:{target:"done"},ADD_NEW_CARD:{target:"editingNewCard"},REMOVE_CARD:{actions:["sendRemoveRequest","removeCard"]},SET_ACTIVE_CARD:{actions:"setActiveCard"},DISCARD:{actions:"goBack"},SET_COUPON_CODE:{actions:(0,P.assign)({couponCode:(e,t)=>t.value,couponCodeError:e=>""})},APPLY_COUPON:{cond:e=>""!==e.couponCode,target:"applyingCoupon"},UPDATE_NUM_CREDITS:{actions:"updateNumCredits",cond:(e,t)=>t.value.newCredits>=t.value.min&&t.value.newCredits<=t.value.max},ADD_CREDITS:{actions:"addCredits",cond:(e,t)=>e.numCredits+t.value.step<=t.value.max},SUBTRACT_CREDITS:{actions:"subtractCredits",cond:(e,t)=>e.numCredits-t.value.step>=t.value.min},VIEW_UPSELL:{target:"viewingUpsell"}}},editingNewCard:{entry:"trackEditingNewCard",on:{DISCARD:{target:"preview"},UPDATE_CARD_NUMBER:{actions:"updateCardNumber"},UPDATE_CARD_EXPIRY:{actions:"updateCardExpiry"},UPDATE_CARD_CVC:{actions:"updateCardCvc"},UPDATE_CARDHOLDER_NAME:{actions:"updateCardholderName"},UPDATE_ZIP_CODE:{actions:"updateZipCode"},SAVE_CARD:[{target:"addingNewCard",cond:"isValidCard"},{actions:["setCardHolderNameError","setZipCodeError"]}]}},addingNewCard:{invoke:{src:"addCard",onDone:{target:"preview",actions:["saveCard","setNewCardAsActiveCard","clearNewCardData"]},onError:{target:"editingNewCard",actions:["setCardError","reportCardError","trackCardError"]}}},applyingCoupon:{invoke:{src:"redeemCoupon",onDone:{target:"preview",actions:(0,P.assign)(((e,t)=>{let s=e.numCredits;return t.data.creditAmount+e.totalCoupons>e.numCredits&&(s=t.data.creditAmount+e.totalCoupons),{appliedCouponCodes:[...e.appliedCouponCodes,{creditAmount:t.data.creditAmount,couponCode:e.couponCode}],couponCode:"",couponCodeError:void 0,totalCoupons:e.totalCoupons+t.data.creditAmount,numCredits:s}}))},onError:{target:"preview",actions:(0,P.assign)({couponCodeError:e=>"The coupon code is not valid."})}}},processing:{invoke:{src:"processPayment",onDone:{target:"done",actions:"trackPaymentSuccess"},onError:{target:"preview",actions:["setPaymentError","reportPaymentError","trackPaymentError"]}}},viewingUpsell:{entry:"trackViewUpsell",on:{DISCARD:{target:"preview"}}},done:{type:"final",entry:"nextStep"}}},{actions:{setCards:(0,P.assign)({cards:(e,t)=>t.data}),setDefaultActiveCard:(0,P.assign)({activeCardId:(e,t)=>t.data[0]?.id||""}),clearNewCardData:(0,P.assign)((e=>({cardNumberError:void 0,cardNumberComplete:!1,cardholderName:"",cardholderNameError:void 0,cardExpiryError:void 0,cardExpiryComplete:!1,cardCvcError:void 0,cardCvcComplete:!1,zipCode:"",zipCodeError:void 0}))),setActiveCard:(0,P.assign)({activeCardId:(e,t)=>"SET_ACTIVE_CARD"===t.type?t.id:e.activeCardId}),sendRemoveRequest:(e,t)=>{"REMOVE_CARD"===t.type&&(0,o.qU)(t.id)},removeCard:(0,P.assign)(((e,t)=>{if("REMOVE_CARD"!==t.type)return e;const s=e.cards.filter((e=>e.id!==t.id));let o=e.activeCardId;return o===t.id&&(o=s[0]?.id||""),{cards:s,activeCardId:o}})),saveCard:(0,P.assign)({cards:(e,t)=>[...e.cards,t.data]}),setNewCardAsActiveCard:(0,P.assign)({activeCardId:(e,t)=>t.data.id}),togglePaymentOptions:(0,P.assign)({expandPaymentOptions:e=>!e.expandPaymentOptions}),updateCardNumber:(0,P.assign)(((e,t)=>"UPDATE_CARD_NUMBER"===t.type?{cardNumberError:t.event?.error?.message,cardNumberComplete:t.event?.complete}:e)),updateCardExpiry:(0,P.assign)(((e,t)=>"UPDATE_CARD_EXPIRY"===t.type?{cardExpiryError:t.event?.error?.message,cardExpiryComplete:t.event?.complete}:e)),updateCardCvc:(0,P.assign)(((e,t)=>"UPDATE_CARD_CVC"===t.type?{cardCvcError:t.event.error?.message,cardCvcComplete:t.event.complete}:e)),updateCardholderName:(0,P.assign)({cardholderName:(e,t)=>"UPDATE_CARDHOLDER_NAME"===t.type?t.value:e.cardholderName,cardholderNameError:e=>{}}),updateZipCode:(0,P.assign)({zipCode:(e,t)=>"UPDATE_ZIP_CODE"===t.type?t.value:e.zipCode,zipCodeError:e=>{}}),setPaymentError:(0,P.assign)({paymentError:e=>"There was an error processing your request. Please try again."}),reportPaymentError:(e,t)=>{(0,A.Tb)(t.data)},setCardError:(0,P.assign)({cardError:e=>"There was an error adding your card. Please try again."}),reportCardError:(e,t)=>{(0,A.Tb)(t.data)},reportLoadCardsError:(e,t)=>{(0,A.Tb)(t.data)},setCardHolderNameError:(0,P.assign)({cardholderNameError:e=>{if(""===e.cardholderName)return"Please enter a name."}}),setZipCodeError:(0,P.assign)({zipCodeError:e=>{if(""===e.zipCode)return"Please enter a zip code."}}),setCreditAndCost:(0,P.assign)((e=>{const t=(0,N.Dz)({costCalculationFeatureName:e.costCalculationFeatureName,generationCost:e.generationCost,unit:e.unit,numCredits:e.numCredits}),s=e.numCredits*S.TO;return{numCredits:e.numCredits,creditsToGenerations:t,costInDollars:s}})),updateNumCredits:(0,P.assign)(((e,t)=>"UPDATE_NUM_CREDITS"===t.type?D(e,t.value.newCredits):{})),addCredits:(0,P.assign)(((e,t)=>"ADD_CREDITS"===t.type?D(e,e.numCredits+t.value.step):e)),subtractCredits:(0,P.assign)(((e,t)=>"SUBTRACT_CREDITS"===t.type?D(e,e.numCredits-t.value.step):e))},guards:{hasActiveCardOrTotalIsZero:e=>e.numCredits-e.totalCoupons==0||e.cards.length>0&&""!==e.activeCardId,isValidCard:e=>e.cardNumberComplete&&e.cardExpiryComplete&&e.cardCvcComplete&&!e.cardNumberError&&!e.cardExpiryError&&!e.cardCvcError&&e.cardholderName.length>0&&e.zipCode.length>0}}),G=e=>{let{teamId:t,onSubmit:s,onGoBack:r,costCalculationFeatureName:l="image_generations",uiContext:c}=e;const d=(0,I.useStripe)(),p=(0,I.useElements)(),u=(0,i.yG)(t),m=(0,i.gG)(u),{generationCost:h,unit:f}=(0,g.sG)({teamId:t,costCalculationFeatureName:l}),y=(0,T.k)(B,{context:{generationCost:h,unit:f,costCalculationFeatureName:l,numCredits:m?S.Kg:S.tN},actions:{nextStep:e=>{s(e.numCredits)},goBack:()=>{r()},trackPreview:()=>{(0,_.L)({event:"General",section:"Payment",name:"Buy Credits: Cart"})},trackEditingNewCard:()=>{(0,_.L)({event:"General",section:"Payment",name:"Buy Credits: Edit new card"})},trackPaymentSuccess:e=>{(0,_.L)({event:"General",section:"Payment",name:"Buy Credits Success",otherProperties:{uiContext:c,numCredits:e.numCredits,appliedCouponCodes:e.appliedCouponCodes}})},trackPaymentError:e=>{(0,_.L)({event:"General",section:"Payment",name:"Buy Credits Error",otherProperties:{uiContext:c,numCredits:e.numCredits}})},trackCardError:()=>{(0,_.L)({event:"General",section:"Payment",name:"Buy Credits: Card error"})},trackViewUpsell:()=>{(0,_.L)({event:"General",section:"Payment",name:"Buy Credits: View upsell"})}},services:{redeemCoupon:async e=>{if(e.appliedCouponCodes.some((t=>t.couponCode===e.couponCode)))throw{message:"This coupon has already been applied"};return await(async(e,t)=>{let s={code:e};return t&&(s={...s,asTeamId:t}),await(0,a.a4)(`${n.T5}${n.Pn.COUPON_CODES}`,s)})(e.couponCode,t)},getCards:async()=>(0,o.SF)(t),addCard:async e=>{if(!d||!p)throw new Error("Stripe not initialized");const s=p.getElement(I.CardNumberElement);if(!s)throw new Error("Card not initialized");const n=await d.createToken(s,{address_zip:e.zipCode,name:e.cardholderName});if(n.error)throw new Error(n.error.message);const a=await(0,o.o8)(n.token.id,{asTeamId:t});if(a.error)throw new Error(a.error);return a},processPayment:async e=>{let s=e.numCredits;for(const t of e.appliedCouponCodes)s=Math.max(0,s-t.creditAmount);if(0===s)return;const n=await(0,o.oW)({amount:s,paymentProcessor:"stripe",orderId:e.activeCardId,asTeamId:t});if(n.error)throw new Error(n.error);return n}}}),x=(0,j.v)(y,(e=>["initializing","preview","applyingCoupon","processing"].some(e.matches))),v=(0,j.v)(y,(e=>["editingNewCard","addingNewCard"].some(e.matches))),b=(0,j.v)(y,(e=>["viewingUpsell"].some(e.matches)));return x?(0,O.jsx)(F,{onCancel:r,children:(0,O.jsx)(W,{service:y,teamId:t})}):v?(0,O.jsx)(F,{onCancel:r,children:(0,O.jsx)(fe,{service:y})}):b?(0,O.jsx)(V,{teamId:t,onHide:()=>{y.send("DISCARD")}}):null},F=e=>{let{children:t,onCancel:s}=e;const o=(0,C.useRef)(null);return(0,O.jsx)(Te,{flexDirection:"column",ref:o,onClick:e=>{e.stopPropagation(),o.current===e.target&&s()},$_css:w.Z.colors.black,$_css2:w.Z.colors.uiOverlay,children:t})},$=e=>{const t=(0,j.v)(e,(e=>e.context.appliedCouponCodes));let s=(0,j.v)(e,(e=>e.context.costInDollars));for(const e of t)s=Math.max(0,s-e.creditAmount/100);return[s,t]},W=e=>{let{service:t,teamId:s}=e;const o=(0,i.yG)(s),n=(0,i.gG)(o),a=n?5e4:100,r=n?5e4:1e3,u=n?5e5:99999,[m,g]=(0,k.L)(t),[f]=$(t),y=(0,j.v)(t,(e=>e.context.numCredits)),x=(0,C.useCallback)((e=>{g({type:"UPDATE_NUM_CREDITS",value:{newCredits:e,min:r,max:u}})}),[u,r,g]),_=(0,j.v)(t,(e=>e.context.creditsToGenerations));return m.matches("initializing")?(0,O.jsx)(K,{children:(0,O.jsx)(h.Z,{})}):(0,O.jsxs)(J,{children:[(0,O.jsxs)(d.Z,{center:!0,bold:!0,xxl:!0,whiteUI:!0,children:["Get more credits",(0,O.jsx)("br",{})," for your workspace"]}),(0,O.jsx)(X,{children:_}),(0,O.jsxs)(je,{children:[(0,O.jsx)(H,{onClick:()=>{g({type:"SUBTRACT_CREDITS",value:{step:a,min:r,max:u}})},disabled:y<=r,"aria-label":"minus-credit",children:(0,O.jsx)(v.Z,{})}),(0,O.jsx)(ke,{$_css3:w.Z.colors.white,$_css4:w.Z.colors.black,$_css5:w.Z.colors.uiHoverable,children:(0,O.jsx)(l.Z,{value:y,onChange:e=>x(e),displayValueOverride:Math.floor(y).toLocaleString(),min:r,max:u,step:a,formatTextVal:e=>parseInt(e).toFixed(0),grow:!0})}),(0,O.jsx)(H,{onClick:()=>{g({type:"ADD_CREDITS",value:{step:a,min:r,max:u}})},disabled:y>=u,"aria-label":"plus-credit",children:(0,O.jsx)(b.Z,{})})]}),(0,O.jsxs)(Ce,{$_css6:w.Z.fonts.size.xxl,children:["$",y*S.TO," USD"]}),(0,O.jsx)(L,{teamId:s,onClick:()=>{g("VIEW_UPSELL")}}),(0,O.jsxs)(p.x,{flexDirection:"column",gap:"16px",width:"100%",children:[(0,O.jsx)(Y,{}),(0,O.jsxs)(Q,{onClick:()=>g("TOGGLE_PAYMENT_OPTIONS"),"aria-label":"expand-payment-options",children:["Payment option",(0,O.jsx)(ee,{"data-expanded":m.context.expandPaymentOptions})]}),(0,O.jsx)(ce,{service:t}),(0,O.jsx)(Y,{}),(0,O.jsx)(te,{service:t}),(0,O.jsx)(Y,{}),(0,O.jsx)(ie,{service:t}),(0,O.jsx)(Y,{})]}),(0,O.jsxs)(p.x,{gap:"16px",width:"100%",children:[(0,O.jsx)(q,{onClick:()=>g("DISCARD"),children:"Cancel"}),(0,O.jsx)(Ee,{width:"100%",borderRadius:"6px",height:"40px",onClick:()=>{g("CONFIRM_PAYMENT")},disabled:(m.context.cards.length<1||""===m.context.activeCardId)&&f>0,children:m.matches("processing")?(0,O.jsx)(c.Z,{height:24,width:24}):"Purchase now"})]}),m.context.paymentError&&(0,O.jsx)(p.x,{justifyContent:"center",children:(0,O.jsx)(_e,{children:m.context.paymentError})})]})},H=(0,E.ZP)(m.Z).withConfig({displayName:"BuyCreditsCart__CreditPlusMinusButton",componentId:"sc-1f9pclg-0"})(["background:",";:hover{> svg > path{stroke:",";}}&:disabled{visibility:hidden;background:",";}"],(e=>e.theme.colors.grayscale.gray10),(e=>e.theme.colors.black),(e=>e.theme.colors.grayscale.gray10)),Y=E.ZP.div.withConfig({displayName:"BuyCreditsCart__Divider",componentId:"sc-1f9pclg-1"})(["height:1px;width:100%;background:#d6d6d6;"]),X=(0,E.ZP)(d.Z).withConfig({displayName:"BuyCreditsCart__SubtleText",componentId:"sc-1f9pclg-2"})(["color:",";font-size:",";text-align:center;"],w.Z.colors.textInactive,w.Z.fonts.size.sm),q=E.ZP.button.withConfig({displayName:"BuyCreditsCart__SecondaryButton",componentId:"sc-1f9pclg-3"})(["box-sizing:border-box;border:none;border-radius:6px;background-color:#f1f1f4;color:",";height:40px;display:flex;justify-content:center;align-items:center;width:100%;cursor:pointer;&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.colors.textInactive),(e=>e.theme.colors.primary)),J=E.ZP.div.withConfig({displayName:"BuyCreditsCart__PreviewCard",componentId:"sc-1f9pclg-4"})(["background-color:#fff;box-sizing:border-box;border-radius:6px;padding:32px;display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;width:min(493px,95vw);"]);var K=(0,E.ZP)(J).withConfig({displayName:"BuyCreditsCart___StyledPreviewCard",componentId:"sc-1f9pclg-5"})(["min-height:50vh;"]);const Q=E.ZP.button.withConfig({displayName:"BuyCreditsCart__ExpandPaymentButton",componentId:"sc-1f9pclg-6"})(["border:none;background-color:transparent;display:flex;justify-content:space-between;align-items:center;cursor:pointer;width:100%;"]),ee=(0,E.ZP)(y.default).withConfig({displayName:"BuyCreditsCart__StyledChevronRightIcon",componentId:"sc-1f9pclg-7"})(["stroke:",";transform:rotate(0deg);transition:transform 0.2s ease-in-out;&[data-expanded='true']{transform:rotate(90deg);}"],(e=>e.theme.colors.uiHoverable)),te=e=>{let{service:t}=e;const s=(0,j.v)(t,(e=>e.context.couponCode)),o=(0,j.v)(t,(e=>e.context.couponCodeError));return(0,O.jsxs)(p.x,{flexDirection:"column",gap:"6px",children:[(0,O.jsxs)(se,{onSubmit:e=>{e.preventDefault(),t.send({type:"APPLY_COUPON"})},children:[(0,O.jsx)(oe,{value:s,onChange:e=>{t.send({type:"SET_COUPON_CODE",value:e.target.value})},placeholder:"Gift or coupon code"}),(0,O.jsx)(ae,{type:"submit",disabled:!s,children:"Apply"})]}),o&&(0,O.jsx)(ne,{"aria-label":"coupon-error-message",children:"The coupon code is not valid."})]})},se=E.ZP.form.withConfig({displayName:"BuyCreditsCart__CouponContainer",componentId:"sc-1f9pclg-8"})(["border-radius:6px;display:flex;"]),oe=E.ZP.input.withConfig({displayName:"BuyCreditsCart__CouponInput",componentId:"sc-1f9pclg-9"})(["box-sizing:border-box;height:40px;border:1px solid #f1f1f4;border-right:none;flex-grow:1;flex-shrink:1;border-top-left-radius:6px;border-bottom-left-radius:6px;background-color:#f9f9f9;color:#2a2c3a;padding-left:16px;font-size:14px;&::placeholder{color:#a0aec0;}&:focus-visible{border:2px solid ",";z-index:1;}"],(e=>e.theme.colors.primary)),ne=E.ZP.span.withConfig({displayName:"BuyCreditsCart__CouponCodeErrorMessage",componentId:"sc-1f9pclg-10"})(["color:",";font-size:12px;line-height:16px;"],(e=>e.theme.colors.red)),ae=E.ZP.button.withConfig({displayName:"BuyCreditsCart__CouponButton",componentId:"sc-1f9pclg-11"})(["box-sizing:border-box;height:40px;width:108px;border:1px solid #f1f1f4;flex-grow:0;flex-shrink:0;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";color:#fff;cursor:pointer;transition:background-color 0.2s ease-in-out,color 0.2s ease-in-out;&:disabled{background-color:#f1f1f4;color:#a0aec0;cursor:not-allowed;}&:focus-visible{outline:2px solid ",";z-index:1;}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),ie=e=>{let{service:t}=e;const[s,o]=$(t),n=(0,j.v)(t,(e=>e.context.costInDollars));return(0,O.jsxs)(re,{children:[(0,O.jsxs)(le,{children:[(0,O.jsx)(d.Z,{md:!0,whiteUI:!0,children:"Subtotal"}),(0,O.jsx)(d.Z,{md:!0,whiteUI:!0,children:`$${n}.00`})]}),o.map((e=>(0,O.jsxs)(le,{children:[(0,O.jsxs)(d.Z,{md:!0,color:"textInactive",children:["Coupon ",`"${e.couponCode}"`]}),(0,O.jsxs)(d.Z,{md:!0,color:"textInactive",children:["-",`$${(e.creditAmount/100).toFixed(2)}`]})]},e.couponCode))),(0,O.jsxs)(le,{children:[(0,O.jsx)(d.Z,{bold:!0,md:!0,whiteUI:!0,children:"Total"}),(0,O.jsx)(d.Z,{md:!0,whiteUI:!0,"aria-label":"total-usd",children:`$${s.toFixed(2)}`})]}),(0,O.jsx)(X,{children:"* Additional sales tax will be charged where applicable"})]})},re=E.ZP.div.withConfig({displayName:"BuyCreditsCart__StyledPriceList",componentId:"sc-1f9pclg-12"})(["display:flex;flex-direction:column;gap:10px;"]),le=E.ZP.div.withConfig({displayName:"BuyCreditsCart__StyledPriceItem",componentId:"sc-1f9pclg-13"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-left:8px;padding-right:8px;"]),ce=e=>{let{service:t}=e;const[s,o]=(0,k.L)(t);let n=s.context.cards;s.context.expandPaymentOptions||(n=n.filter((e=>e.id===s.context.activeCardId)));const a=s.context.expandPaymentOptions||s.context.cards.length<1;return(0,O.jsxs)(ue,{flexDirection:"column",children:[n.map((e=>(0,O.jsxs)(pe,{children:[(0,O.jsx)(r.Z,{checked:s.context.activeCardId===e.id,label:`${e.brand} •••• ${e.last4}`,onChange:()=>o({type:"SET_ACTIVE_CARD",id:e.id}),marginLeft:8}),(0,O.jsx)(de,{onClick:()=>o({type:"REMOVE_CARD",id:e.id}),children:(0,O.jsx)(x.Z,{})})]},e.id))),a&&(0,O.jsxs)(me,{onClick:()=>o("ADD_NEW_CARD"),children:[(0,O.jsx)(he,{}),"Add payment method"]})]})},de=E.ZP.button.withConfig({displayName:"BuyCreditsCart__RemoveIcon",componentId:"sc-1f9pclg-14"})(["background-color:transparent;border:none;cursor:pointer;font-size:14px;display:none;justify-content:center;align-items:center;"]),pe=E.ZP.div.withConfig({displayName:"BuyCreditsCart__StyledCardContainer",componentId:"sc-1f9pclg-15"})(["box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0px 8px;&:hover{","{display:flex;}}"],de),ue=(0,E.ZP)(p.x).withConfig({displayName:"BuyCreditsCart__StyledCardList",componentId:"sc-1f9pclg-16"})(["flex-direction:column;gap:16px;"]),me=E.ZP.button.withConfig({displayName:"BuyCreditsCart__AddPaymentButton",componentId:"sc-1f9pclg-17"})(["color:",";font-size:12px;background-color:transparent;text-align:center;cursor:pointer;border:none;font-weight:600;display:flex;align-items:center;justify-content:center;gap:4px;"],(e=>e.theme.colors.primary)),he=(0,E.ZP)(f.default).withConfig({displayName:"BuyCreditsCart__StyledAddIcon",componentId:"sc-1f9pclg-18"})(["width:16px;height:16px;& path{stroke:",";}"],(e=>e.theme.colors.primary)),ge={base:{color:w.Z.colors.textWhiteUI,fontFamily:"Inter, sans-serif","::placeholder":{color:w.Z.colors.textSecondary}}},fe=e=>{let{service:t}=e;const[s,o]=(0,k.L)(t);return(0,O.jsxs)(J,{children:[(0,O.jsxs)(ye,{children:[(0,O.jsx)(p.x,{children:(0,O.jsx)(xe,{onClick:()=>o("DISCARD"),children:"Back"})}),(0,O.jsx)(ve,{children:"Add payment method"})]}),(0,O.jsxs)(p.x,{flexDirection:"column",gap:"16px",width:"90%",children:[(0,O.jsxs)(p.x,{flexDirection:"column",gap:"4px",children:[(0,O.jsx)(be,{htmlFor:"card-number",children:"Card number"}),(0,O.jsx)(we,{as:"div","data-error":!!s.context.cardNumberError,children:(0,O.jsx)(I.CardNumberElement,{options:{style:ge},onChange:e=>o({type:"UPDATE_CARD_NUMBER",event:e})})}),s.context.cardNumberError&&(0,O.jsx)(_e,{children:s.context.cardNumberError})]}),(0,O.jsxs)(p.x,{flexDirection:"column",gap:"4px",children:[(0,O.jsx)(be,{htmlFor:"cardholder-name",children:"Cardholder name"}),(0,O.jsx)(we,{id:"cardholder-name",placeholder:"Cardholder name","data-error":!!s.context.cardholderNameError,value:s.context.cardholderName,onChange:e=>o({type:"UPDATE_CARDHOLDER_NAME",value:e.target.value})}),s.context.cardholderNameError&&(0,O.jsx)(_e,{children:s.context.cardholderNameError})]}),(0,O.jsxs)(p.x,{flexDirection:"column",gap:"4px",children:[(0,O.jsx)(be,{htmlFor:"expiration-date",children:"Expiration date"}),(0,O.jsx)(we,{as:"div","data-error":!!s.context.cardExpiryError,children:(0,O.jsx)(I.CardExpiryElement,{options:{style:ge},onChange:e=>o({type:"UPDATE_CARD_EXPIRY",event:e})})}),s.context.cardExpiryError&&(0,O.jsx)(_e,{children:s.context.cardExpiryError})]}),(0,O.jsxs)(p.x,{flexDirection:"column",gap:"4px",children:[(0,O.jsx)(be,{htmlFor:"security-code",children:"Security code (cvc)"}),(0,O.jsx)(we,{as:"div","data-error":!!s.context.cardCvcError,children:(0,O.jsx)(I.CardCvcElement,{options:{style:ge},onChange:e=>o({type:"UPDATE_CARD_CVC",event:e})})}),s.context.cardCvcError&&(0,O.jsx)(_e,{children:s.context.cardCvcError})]}),(0,O.jsxs)(p.x,{flexDirection:"column",gap:"4px",children:[(0,O.jsx)(be,{htmlFor:"zip-code",children:"Postal code"}),(0,O.jsx)(we,{id:"zip-code",placeholder:"Postal code","data-error":!!s.context.zipCodeError,value:s.context.zipCode,onChange:e=>o({type:"UPDATE_ZIP_CODE",value:e.target.value})}),s.context.zipCodeError&&(0,O.jsx)(_e,{children:s.context.zipCodeError})]})]}),(0,O.jsxs)(p.x,{gap:"16px",width:"100%",children:[(0,O.jsx)(q,{onClick:()=>o("DISCARD"),children:"Cancel"}),(0,O.jsx)(u.KM,{width:"100%",borderRadius:"6px",height:"40px",onClick:()=>o({type:"SAVE_CARD"}),disabled:!!s.context.cardNumberError||!!s.context.cardExpiryError||!!s.context.cardCvcError||!s.context.cardNumberComplete||!s.context.cardExpiryComplete||!s.context.cardCvcComplete||s.context.cardholderName.length<1||s.context.zipCode.length<1,children:s.matches("addingNewCard")?(0,O.jsx)(c.Z,{height:24,width:24}):"Done"})]}),s.context.cardError&&(0,O.jsx)(p.x,{justifyContent:"center",children:(0,O.jsx)(_e,{children:s.context.cardError})})]})},ye=E.ZP.div.withConfig({displayName:"BuyCreditsCart__TopRow",componentId:"sc-1f9pclg-19"})(["display:grid;grid-template-columns:1fr 1fr 1fr;"]),xe=E.ZP.button.withConfig({displayName:"BuyCreditsCart__BackButton",componentId:"sc-1f9pclg-20"})(["padding:0;border:0;cursor:pointer;background-color:transparent;color:",";font-size:14px;line-height:20px;"],(e=>e.theme.colors.textSecondary)),ve=E.ZP.p.withConfig({displayName:"BuyCreditsCart__AddCardTitle",componentId:"sc-1f9pclg-21"})(["font-size:16px;line-height:24px;color:",";white-space:nowrap;font-weight:600;"],(e=>e.theme.colors.textWhiteUI)),be=E.ZP.label.withConfig({displayName:"BuyCreditsCart__Label",componentId:"sc-1f9pclg-22"})(["font-size:14px;color:",";"],(e=>e.theme.colors.textWhiteUI)),we=E.ZP.input.withConfig({displayName:"BuyCreditsCart__InputField",componentId:"sc-1f9pclg-23"})(["border:1px solid #d6d6d6;padding:12px;border-radius:4px;color:",";font-size:14px;&::placeholder{color:",";}&[data-error='true']{border-color:",";}"],(e=>e.theme.colors.textWhiteUI),(e=>e.theme.colors.textSecondary),(e=>e.theme.colors.red)),_e=e=>{let{children:t}=e;return(0,O.jsx)(Ie,{"aria-label":"error-message",children:t})},Ie=E.ZP.span.withConfig({displayName:"BuyCreditsCart__ErrorMessageSpan",componentId:"sc-1f9pclg-24"})(["font-size:12px;line-height:16px;color:",";"],(e=>e.theme.colors.red));var Te=(0,E.ZP)(p.x).withConfig({displayName:"BuyCreditsCart___StyledBox",componentId:"sc-1f9pclg-25"})(["top:0;left:0;position:fixed;width:100%;height:100%;gap:8px;justify-content:center;align-items:center;display:flex;color:",";background:",";"],(e=>e.$_css),(e=>e.$_css2)),je=(0,E.ZP)(p.x).withConfig({displayName:"BuyCreditsCart___StyledBox2",componentId:"sc-1f9pclg-26"})(["justify-content:center;align-items:center;width:100%;button{width:50px;height:50px;}gap:24px;"]),ke=(0,E.ZP)(p.x).withConfig({displayName:"BuyCreditsCart___StyledBox3",componentId:"sc-1f9pclg-27"})(["width:214px;height:62px;div,input,span{background:","!important;font-size:32px !important;text-align:center !important;font-weight:700;@media (max-width:400px){font-size:24px !important;width:60%;}}span{color:","!important;left:unset !important;text-align:center !important;text-overflow:ellipsis;white-space:nowrap;}div{border:1px solid ","!important;}"],(e=>e.$_css3),(e=>e.$_css4),(e=>e.$_css5)),Ce=(0,E.ZP)(p.x).withConfig({displayName:"BuyCreditsCart___StyledBox4",componentId:"sc-1f9pclg-28"})(["font-size:",";font-weight:700;"],(e=>e.$_css6)),Ee=(0,E.ZP)(u.KM).withConfig({displayName:"BuyCreditsCart___StyledPrimaryButton",componentId:"sc-1f9pclg-29"})(["transition:none;"])},"./app/components/BuyCredits/Constants.ts":(e,t,s)=>{"use strict";s.d(t,{Kg:()=>n,TO:()=>a,tN:()=>o});const o=1e3,n=5e4,a=.01},"./app/components/CreateTeam/CreateWorkspaceDialog/events/CreateTeamDialogEvents.ts":(e,t,s)=>{"use strict";s.d(t,{I:()=>o});let o=function(e){return e[e.CreateTeamStart=0]="CreateTeamStart",e[e.CreateTeamCancel=1]="CreateTeamCancel",e[e.CreateTeamStep1Next=2]="CreateTeamStep1Next",e[e.CreateTeamStep2Next=3]="CreateTeamStep2Next",e[e.CreateTeamSuccess=4]="CreateTeamSuccess",e[e.CreateTeamFailure=5]="CreateTeamFailure",e[e.CreateTeamDialogClosed=6]="CreateTeamDialogClosed",e[e.CreateTeamInviteMaybeLater=7]="CreateTeamInviteMaybeLater",e[e.CreateTeamInviteFailure=8]="CreateTeamInviteFailure",e[e.CreateTeamInviteAddedMembers=9]="CreateTeamInviteAddedMembers",e}({})},"./app/components/CreateTeam/CreateWorkspaceDialog/events/createTeamDialogEventUtils.ts":(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var o=s("./app/reducers/create-team.ts"),n=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceEvents.ts"),a=s("./app/utils/trackEvent.ts"),i=s("./app/components/CreateTeam/CreateWorkspaceDialog/events/CreateTeamDialogEvents.ts");const r={[i.I.CreateTeamStart]:"Create Workspace Start",[i.I.CreateTeamCancel]:"Create Workspace Cancel",[i.I.CreateTeamStep1Next]:"Create Workspace Step 1 Next",[i.I.CreateTeamStep2Next]:"Create Workspace Step 2 Next",[i.I.CreateTeamSuccess]:"Create Workspace Success",[i.I.CreateTeamFailure]:"Create Workspace Failure",[i.I.CreateTeamDialogClosed]:"Create Workspace Dialog Closed",[i.I.CreateTeamInviteMaybeLater]:"Create Workspace Invite Maybe Later",[i.I.CreateTeamInviteFailure]:"Create Workspace Invite Failure",[i.I.CreateTeamInviteAddedMembers]:"Create Workspace Invited Members"};function l(e){let{event:t,teamType:s,otherProperties:i}=e;const l=s===o.f.Teamspace?n.Ct[t]:r[t];(0,a.L)({event:"General",name:l,section:s===o.f.Teamspace?"Teamspaces":"Workspaces",otherProperties:i})}},"./app/components/CreateTeam/index.tsx":(e,t,s)=>{"use strict";s.d(t,{p:()=>ke,e:()=>Ee});var o=s("./app/reducers/create-team.ts"),n=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/react-redux/es/index.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/utils/hooks/useSelector.ts"),c=s("./app/actions/flash.ts"),d=s("./app/api/hooks/useTeams.ts"),p=s("./app/api/teams.ts"),u=s("./app/components/Prefabs/Text.tsx"),m=s("./app/components/UI/Base.tsx"),h=s("./app/components/UpgradeDialog/UpgradeDialogContext.tsx"),g=s("./app/constants/media.ts"),f=s("./app/devoe/themeBase.ts"),y=s("./app/utils/hooks/useMediaQuery.ts"),x=s("./app/utils/teams.ts"),v=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),b=s("./node_modules/react-router/esm/react-router.js"),w=s("./app/devoe/assets/logos/runway-with-logo.svg"),_=s("./app/components/Prefabs/Block.tsx"),I=s("./app/components/Prefabs/Button.tsx"),T=s("./app/components/CreateTeam/CreateWorkspaceDialog/events/CreateTeamDialogEvents.ts"),j=s("./app/components/CreateTeam/CreateWorkspaceDialog/events/createTeamDialogEventUtils.ts"),k=s("./node_modules/react/jsx-runtime.js");const C=e=>{let{onPrev:t,onSkip:s,onClose:o,currentStep:n,disabled:a,noEmails:i,noWorkSpaceName:l,teamType:c}=e;const d=(0,r.Fg)();return(0,k.jsx)(E,{children:(0,k.jsxs)(S,{children:[1!==n&&(0,k.jsx)(N,{outlineSecondary:!0,round:!0,type:"button",justIcon:!0,icon:"arrow-left",message:"",onClick:()=>t?.(),iconColor:d.colors.textInactive,iconSize:24,$_css:d.colors.uiLevel2,$_css2:d.colors.primary}),(!i&&2===n||!l&&1===n)&&(0,k.jsx)(M,{type:"submit",form:"create-team-form",disabled:a,children:2===n?"Send Invites":"Next"}),1===n&&l&&(0,k.jsx)(P,{type:"button",onClick:()=>{(0,j.C)({event:T.I.CreateTeamCancel,teamType:c}),o?.()},children:"Cancel"}),2===n&&i&&(0,k.jsx)(P,{type:"button",onClick:()=>{(0,j.C)({event:T.I.CreateTeamInviteMaybeLater,teamType:c}),s?.()},children:"Maybe later"})]})})},E=r.ZP.div.withConfig({displayName:"CreateWorkspaceActions__ActionContainer",componentId:"sc-y7g7id-0"})(["width:100%;display:flex;flex-direction:column;gap:16px;"]),S=r.ZP.div.withConfig({displayName:"CreateWorkspaceActions__StyledButtonContainer",componentId:"sc-y7g7id-1"})(["width:100%;position:relative;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:8px;margin-top:28px;"]),A=r.ZP.button.withConfig({displayName:"CreateWorkspaceActions__StyledSubmitButton",componentId:"sc-y7g7id-2"})(["cursor:pointer;height:56px;border:1px solid ",";background-color:",";color:",";font-size:",";font-weight:500;padding:16px 24px;border-radius:96px;&:disabled{border:1px solid ",";background-color:",";cursor:not-allowed;}&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary),(e=>e.theme.colors.white),(e=>e.theme.fonts.size.md),(e=>e.theme.colors.purple100),(e=>e.theme.colors.purple100),(e=>e.theme.colors.primary));var M=(0,r.ZP)(A).withConfig({displayName:"CreateWorkspaceActions___StyledStyledSubmitButton",componentId:"sc-y7g7id-3"})(["flex-grow:0;"]);const P=r.ZP.button.withConfig({displayName:"CreateWorkspaceActions__StyledSkipButton",componentId:"sc-y7g7id-4"})(["cursor:pointer;border:none;background-color:",";color:",";font-size:",";font-weight:500;padding:16px 24px;border-radius:96px;height:56px;&:focus-visible{outline:2px solid ",";outline-offset:-2px;}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.white),(e=>e.theme.fonts.size.md),(e=>e.theme.colors.primary));var N=(0,r.ZP)(I.Z).withConfig({displayName:"CreateWorkspaceActions___StyledButton",componentId:"sc-y7g7id-5"})(["flex-grow:0;height:56px;min-width:56px;border-color:",";&:focus-visible{outline:2px solid ",";outline-offset:-2px;}"],(e=>e.$_css),(e=>e.$_css2));const D=e=>{let{onUpgradeOptionsClick:t}=e;return(0,k.jsxs)(O,{children:[(0,k.jsx)(_.X2,{pad:[4,0,0,0],children:(0,k.jsx)(be,{children:"You’re out of free workspaces"})}),(0,k.jsx)(_.X2,{pad:[4,0,8,0],alignLeft:!0,children:(0,k.jsx)(we,{children:"You can only create 2 free workspaces. Upgrade your plan to get more credits, storage and more."})}),(0,k.jsx)(_.X2,{pad:[32,0],minWidth:356,children:(0,k.jsx)(A,{onClick:t,children:"View upgrade options"})})]})},O=r.ZP.div.withConfig({displayName:"MaxWorkspaceReachedStep__Container",componentId:"sc-xme5ov-0"})(["width:100%;padding:0;height:263px;position:relative;top:-28px;left:-16px;"]);var L=s("./app/constants/teams.ts");const R=e=>{let{step:t,totalSteps:s}=e;const o=[...Array(s)].map(((e,t)=>t));return(0,k.jsx)(U,{flexDirection:"row",width:"100%",gap:"5px",children:o.map(((e,s)=>(0,k.jsx)(Z,{highlight:s+1===t},s)))})},Z=r.ZP.div.withConfig({displayName:"StepIndicator__StepIndicatorNugget",componentId:"sc-7x1g0b-0"})(["width:64px;height:8px;border-radius:8px;background-color:",";"],(e=>{let{theme:t,highlight:s}=e;return s?t.colors.brand.magenta:t.colors.grayscale.gray600}));var U=(0,r.ZP)(m.x).withConfig({displayName:"StepIndicator___StyledBox",componentId:"sc-7x1g0b-1"})(["margin-top:48px;"]);const z=e=>{let{onNext:t,onClose:s,initialState:n,teamType:i}=e;const[r,l]=(0,a.useState)(n.name),[c,d]=(0,a.useState)(n.file),[p,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),g=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)((()=>{requestAnimationFrame((()=>{g.current?.focus()}))}),[]),(0,a.useEffect)((()=>{if(d(n.file),n.file){const e=new FileReader;e.onloadend=()=>{u(e.result)},e.readAsDataURL(n.file)}}),[n.file]);const y=(0,a.useCallback)((e=>{if(h(!1),!e.target.files||e.target.files.length<1)return;const t=e.target.files[0];d(t);const s=new FileReader;s.onloadend=()=>{u(s.result)},s.readAsDataURL(t)}),[]),x=i===o.f.Teamspace,b=x?"teamspace":"workspace";return(0,k.jsxs)(F,{flexDirection:"column",children:[(0,k.jsx)(R,{step:1,totalSteps:2}),(0,k.jsx)(be,{children:x?"Create new teamspace":"Name your workspace"}),(0,k.jsx)(we,{children:x?"A teamspace is where invited members can create assets together and collaborate.":"Your workspace is where you create assets, manage billing, and collaborate."}),(0,k.jsx)($,{id:"create-team-form",onSubmit:e=>{e.preventDefault();const s=r.trim();s.length<1||t({name:s,file:c})},spellCheck:!1,children:(0,k.jsxs)(W,{flexDirection:"row",gap:"8px",justifyContent:"flex-start",alignItems:"center",children:[!x&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("input",{type:"file",id:"teamLogo",accept:"image/*",ref:f,hidden:!0,onChangeCapture:y}),(0,k.jsx)(G,{htmlFor:"teamLogo",containsImage:!!p,onMouseOver:()=>h(!0),onMouseOut:()=>h(!1),onClick:e=>{p&&(e.preventDefault(),u(null),d(null))},children:p?m?(0,k.jsx)(v.XHJ,{width:15,height:15}):(0,k.jsx)(V,{src:p}):m?(0,k.jsx)(v.SPS,{width:15,height:15}):(0,k.jsx)(v.XBm,{width:15,height:15})})]}),(0,k.jsx)(B,{"aria-label":"Team name",ref:g,required:!0,value:r,onChange:e=>l(e.target.value),maxLength:L.l9,placeholder:`Enter ${b} name`})]})}),(0,k.jsx)(C,{currentStep:1,noWorkSpaceName:r.trim().length<1,onClose:s,teamType:i})]})},V=r.ZP.img.withConfig({displayName:"CreateWorkspaceFormStep1__StyledImage",componentId:"sc-y09ehv-0"})(["height:100%;width:100%;object-fit:cover;"]),B=r.ZP.input.withConfig({displayName:"CreateWorkspaceFormStep1__StyledInput",componentId:"sc-y09ehv-1"})(["display:flex;width:75%;max-width:464px;height:32px;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;flex-shrink:0;background:",";border:none;color:",";"],(e=>e.theme.colors.black),(e=>e.theme.colors.white)),G=r.ZP.label.withConfig({displayName:"CreateWorkspaceFormStep1__StyledLogoContainer",componentId:"sc-y09ehv-2"})(["cursor:pointer;height:32px;width:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;background-color:",";overflow:hidden;&:focus{outline:2px solid ",";outline-offset:-2px;}&:hover{background-color:",";}"],(e=>e.containsImage?"transparent":e.theme.colors.uiLevel1),(e=>e.theme.colors.primary),(e=>e.containsImage?e.theme.colors.uiOverlay:e.theme.colors.brand.magenta));var F=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceFormStep1___StyledBox",componentId:"sc-y09ehv-3"})(["max-width:400px;"]),$=(0,r.ZP)("form").withConfig({displayName:"CreateWorkspaceFormStep1___StyledForm",componentId:"sc-y09ehv-4"})(["display:flex;flex-direction:column;"]),W=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceFormStep1___StyledBox2",componentId:"sc-y09ehv-5"})(["box-sizing:border-box;width:100%;height:56px;border-radius:8px;border:1px solid ",";background:",";padding:12px;&:focus-within{outline:2px solid ",";outline-offset:-2px;}"],(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.black),(e=>e.theme.colors.primary)),H=s("./app/components/Prefabs/TextLink.tsx"),Y=s("./app/components/Teams/InviteInput.tsx"),X=s("./app/hooks/useBulkInviteFromEmailsList.ts"),q=s("./app/hooks/useDisableAddingMoreCollaborators.ts"),J=s("./app/hooks/useTeamInviteEmails.ts"),K=s("./app/utils/constants.ts");const Q=e=>{let{initialState:t,teamType:s,onNext:n,onPrev:i}=e;const r=(0,a.useRef)(null);(0,a.useEffect)((()=>{r.current?.focus()}),[]);const l=(0,a.useMemo)((()=>t.collaborators.length?t.collaborators.map((e=>e.email)).filter((e=>""!==e)):[]),[t.collaborators]),c=t.collaborators.length?t.collaborators[0].role:"editor",{emails:d,setEmails:p,verifyListAndAddEmails:u}=(0,J.r)(l),{bulkInviteRole:m,setBulkInviteRole:h,bulkInviteMembersList:g,validMembers:f}=(0,X.E)({emails:d,initRole:c}),y=(0,q.b)({numInvitedMembers:g.length}),x=s===o.f.Teamspace,v=x?void 0:h;return(0,k.jsxs)(te,{flexDirection:"column",justifyContent:"space-evenly",children:[(0,k.jsx)(R,{step:2,totalSteps:2}),(0,k.jsx)(be,{children:x?"Invite members to your teamspace":"Invite members to your workspace"}),(0,k.jsxs)(we,{children:[x?"Choose who can access the assets created in this team.":"Securely share assets, prompts, and credits. Members will be invited via email.",!x&&(0,k.jsx)(se,{md:!0,to:K.En,openInNewTab:!0,children:"More details"})]}),(0,k.jsxs)(oe,{id:"create-team-form",onSubmit:e=>{e.preventDefault(),n({collaborators:f})},spellCheck:!1,children:[y&&(0,k.jsx)(ee,{}),(0,k.jsx)(Y.Z,{emails:d,addEmails:e=>{u({newEmailsList:e})},removeEmail:e=>{p((t=>[...t.filter((t=>t!==e))]))},role:m,onRoleChange:v,darkMode:!0})]}),(0,k.jsx)(C,{currentStep:2,onPrev:()=>i({collaborators:g}),onSkip:()=>n({collaborators:g}),disabled:y,noEmails:d.length<1||f.length<1,teamType:s})]})},ee=()=>(0,k.jsx)(ne,{children:(0,k.jsxs)(ae,{children:["Please contact support to add more than"," ",L.Re," members"]})});var te=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceFormStep2___StyledBox",componentId:"sc-bfmp1x-0"})(["max-width:400px;"]),se=(0,r.ZP)(H.Z).withConfig({displayName:"CreateWorkspaceFormStep2___StyledTextLink",componentId:"sc-bfmp1x-1"})(["font-size:16px;font-style:normal;font-weight:400;line-height:24px;color:",";&:hover{color:",";}&:focus-visible{outline:2px solid ",";outline-offset:-2px;}"],(e=>{let{theme:t}=e;return t.colors.primaryLight}),(e=>{let{theme:t}=e;return t.colors.primaryDark}),(e=>e.theme.colors.primary)),oe=(0,r.ZP)("form").withConfig({displayName:"CreateWorkspaceFormStep2___StyledForm",componentId:"sc-bfmp1x-2"})(["max-height:288px;"]),ne=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceFormStep2___StyledBox2",componentId:"sc-bfmp1x-3"})(["background:",";padding:12px 16px;border-radius:8px;margin-bottom:8px;"],(e=>e.theme.colors.uiLevel1)),ae=(0,r.ZP)(u.Z).withConfig({displayName:"CreateWorkspaceFormStep2___StyledText",componentId:"sc-bfmp1x-4"})(["font-size:14px;font-style:normal;font-weight:400;line-height:18px;"]),ie=s("./node_modules/@radix-ui/react-progress/dist/index.module.js");const re=e=>{let{progressPercent:t,workspaceCreationStatus:s,teamType:n}=e;const i=n===o.f.Teamspace?"teamspace":"workspace",r=(0,a.useMemo)((()=>{switch(s){case"image":return"Uploading Image";case"invites":return"Inviting Collaborators";default:return`Creating ${i}`}}),[s,i]);return(0,k.jsxs)(le,{flexDirection:"column",justifyContent:"space-evenly",children:[(0,k.jsx)(ce,{className:"ProgressRoot",value:t,children:(0,k.jsx)(de,{className:"ProgressIndicator",style:{transform:`translateX(-${100-t}%)`}})}),(0,k.jsx)(we,{children:r})]})};var le=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspacePending___StyledBox",componentId:"sc-7xbxyz-0"})(["max-width:468px;"]),ce=(0,r.ZP)(ie.fC).withConfig({displayName:"CreateWorkspacePending___StyledProgressRoot",componentId:"sc-7xbxyz-1"})(["position:relative;overflow:hidden;background:",";border-radius:96px;width:300px;height:25px;margin-top:72px;transform:translateZ(0);"],(e=>e.theme.colors.uiLevel1)),de=(0,r.ZP)(ie.z$).withConfig({displayName:"CreateWorkspacePending___StyledProgressIndicator",componentId:"sc-7xbxyz-2"})(["background-color:",";width:100%;height:100%;transition:transform 660ms cubic-bezier(0.65,0,0.35,1);"],(e=>e.theme.colors.primaryDark));const pe=e=>{let{children:t,onClick:s}=e;return(0,k.jsx)(ue,{onClick:s,children:t})},ue=r.ZP.button.withConfig({displayName:"CircularButtonWithRadixIcon__StyledButton",componentId:"sc-ym3hy6-0"})(["isolation:isolate;background:",";color:",";border-radius:96px;border-width:0;cursor:pointer;align-items:center;justify-content:center;gap:8px;height:48px;width:48px;display:flex;&:hover{background:",";color:",";}> span{z-index:5;}"],(e=>e.theme.colors.uiBackground),(e=>e.theme.colors.textInactive),(e=>e.theme.colors.grayscale.gray600),(e=>e.theme.colors.white));var me=s("./app/api/hooks/useTeamspaces.ts"),he=s("./app/api/teamspaces.ts"),ge=s("./node_modules/@sentry/core/esm/exports.js");const fe=e=>{let{step:t,teamType:s}=e;const n=s===o.f.Teamspace?"teamspace":"workspace",a=1===t?`${g.yI}app/modals/${n}.png`:`${g.yI}app/modals/invite.png`;return(0,k.jsx)(je,{$_css:a})},ye=e=>{let{teamType:t}=e;const{mutate:s}=(0,d.y2)(),n=(0,i.I0)(),r=(0,b.k6)(),[l,u]=(0,a.useReducer)(Ee,{step:1,name:"",file:null,collaborators:[],initWithDemoResources:!1}),[m,g]=(0,a.useState)(0),[_,I]=(0,a.useState)(null),C=function(e){u({type:"GOTO",step:e,payload:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})},E=(e=>{let{state:t,setWorkspaceCreationStatus:s,setProgressPercent:n}=e;const a=(0,i.I0)(),r=(0,d.Qt)({suspense:!0}),{mutate:l}=(0,me.gb)(r.id);return async e=>{if(2===t.step){let i,d;if(s("team-creation"),t.name?.length&&r){try{i=await(0,he.DG)({name:t.name,teamId:r.id})}catch(e){(0,ge.Tb)(e,{extra:{teamspace:t.name,teamId:r.id}}),(0,j.C)({event:T.I.CreateTeamFailure,teamType:o.f.Teamspace,otherProperties:{error:e}})}n(66),l()}if(i&&e.collaborators?.length){s("invites");try{await(0,he.vC)({teamspaceId:i.id,emails:e.collaborators.map((e=>e.email)),autoInviteAsViewer:!0}),n(85),(0,j.C)({event:T.I.CreateTeamInviteAddedMembers,teamType:o.f.Teamspace,otherProperties:{numEmails:e.collaborators.length}})}catch(t){d=t,(0,ge.Tb)(t,{extra:{teamspaceId:i.id,emails:e.collaborators}}),(0,j.C)({event:T.I.CreateTeamInviteFailure,teamType:o.f.Teamspace,otherProperties:{error:t}})}}i&&!d?(a({type:"CLOSE_CREATE_TEAM_MODAL"}),a((0,c.showFlash)({message:"Teamspace created!",type:"SUCCESS"})),(0,j.C)({event:T.I.CreateTeamSuccess,teamType:o.f.Teamspace})):a((0,c.showFlash)({message:"Error creating Teamspace",type:"WARNING"}))}}})({state:l,setWorkspaceCreationStatus:I,setProgressPercent:g}),S=async e=>{u({type:"NEXT",payload:e}),E(e)},A=async e=>{if(u({type:"NEXT",payload:e}),2===l.step){let t,a;try{l.file&&(I("image"),t=await(0,p.i3)(l.file.name,l.file),g(33))}catch(e){n((0,c.showFlash)({message:"Failed to upload team picture",type:"WARNING"}))}I("team-creation");try{const e=await(0,p.Cm)({name:l.name,picture:t,...l.initWithDemoResources?{initWithTeamResources:!0}:{}});a=e.team,(0,j.C)({event:T.I.CreateTeamSuccess,teamType:o.f.Workspace,otherProperties:{teamId:a.id}}),g(66)}catch(e){return(0,j.C)({event:T.I.CreateTeamFailure,teamType:o.f.Workspace,otherProperties:{error:e?.message}}),void("A user exists with the same username."===e?.message?C(1,{nameError:"A workspace with this name already exists."}):"You cannot create another team."===e?.message?C("upsell"):(n((0,c.showFlash)({message:"Failed to create workspace",type:"WARNING"})),C(1,{nameError:"Failed to create workspace."})))}if(e.collaborators){I("invites");const t=e.collaborators.filter((e=>e.email.length>0)),s=await Promise.allSettled(t.map((e=>(0,p.Lq)(a.id,e.email,e.role))));g(85);const{outcome:i,message:r,successful:l}=(0,x.F3)(s,t);l.length>0&&(0,j.C)({event:T.I.CreateTeamInviteAddedMembers,teamType:o.f.Workspace,otherProperties:{numEmails:l.length}}),"mix"!==i&&"failure"!==i||((0,j.C)({event:T.I.CreateTeamInviteFailure,teamType:o.f.Workspace,otherProperties:{error:r,successfulInvites:l.length,numEmails:t.length}}),n((0,c.showFlash)({type:"WARNING",message:r})))}g(100),n({type:"CLOSE_CREATE_TEAM_MODAL"}),s((e=>[...e||[],a])).then((()=>{r.push(`/video-tools/teams/${a.username}/dashboard`)}))}},M=(0,y.ac)(`(max-width: ${f.u.breakpoints.xs})`),P=(0,h.rz)(),N=t===o.f.Teamspace;return(0,k.jsxs)(_e,{flexDirection:"row",padding:0,children:[(0,k.jsxs)(Ie,{flexDirection:"column",alignItems:"flex-start",children:[!!M&&(0,k.jsx)(ve,{src:w.Z}),1===l.step&&(0,k.jsx)(z,{initialState:l,teamType:t,onNext:e=>{let{name:s,file:o}=e;(0,j.C)({event:T.I.CreateTeamStep1Next,teamType:t}),N?S({name:s}):A({name:s,nameError:void 0,file:o})},onClose:()=>{n({type:"CLOSE_CREATE_TEAM_MODAL"})}}),2===l.step&&(0,k.jsx)(Q,{initialState:l,teamType:t,onGoto:()=>C(1),onPrev:e=>{let{collaborators:t}=e;return u({type:"PREV",payload:{collaborators:t}})},onNext:e=>{let{collaborators:s}=e;(0,j.C)({event:T.I.CreateTeamStep2Next,teamType:t}),t===o.f.Teamspace?S({collaborators:s,collaboratorsError:void 0}):A({collaborators:s,collaboratorsError:void 0})}}),"pending"===l.step&&(0,k.jsx)(re,{progressPercent:m,workspaceCreationStatus:_,teamType:t}),"upsell"===l.step&&(0,k.jsx)(D,{onUpgradeOptionsClick:()=>{n({type:"CLOSE_CREATE_TEAM_MODAL"}),P({uiContext:"max-workspaces-reached"})}})]}),!M&&(0,k.jsx)(fe,{step:l.step,teamType:t}),(0,k.jsx)(Te,{children:(0,k.jsx)(pe,{onClick:()=>{(0,j.C)({event:T.I.CreateTeamDialogClosed,teamType:t}),n({type:"CLOSE_CREATE_TEAM_MODAL"})},children:(0,k.jsx)(v.Pxu,{height:24,width:24})})})]})},xe=(0,r.ZP)(n.VY).withConfig({displayName:"CreateWorkspaceInner__CreateWorkspaceDialogContent",componentId:"sc-1f8d3m4-0"})(["z-index:10;box-sizing:border-box;padding:0;max-width:1024px;max-height:768px;width:75%;height:80%;border-radius:8px;background-color:#000;position:fixed;top:50%;left:50%;overflow-x:hidden;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}@media screen and (max-width:","){width:100%;height:100%;max-width:unset;max-height:unset;}"],(e=>e.theme.breakpoints.sm)),ve=r.ZP.img.withConfig({displayName:"CreateWorkspaceInner__StyledLogo",componentId:"sc-1f8d3m4-1"})(["height:24px;"]),be=r.ZP.h1.withConfig({displayName:"CreateWorkspaceInner__FormTitle",componentId:"sc-1f8d3m4-2"})(["margin-top:48px;color:#fff;font-size:48px;font-style:normal;font-weight:600;line-height:48px;@media screen and (max-width:","){font-size:32px;line-height:40px;margin-top:32px;}"],(e=>e.theme.breakpoints.xs)),we=(0,r.ZP)(u.Z).withConfig({displayName:"CreateWorkspaceInner__FormBlurb",componentId:"sc-1f8d3m4-3"})(["margin-top:24px;font-size:16px;font-style:normal;font-weight:400;line-height:24px;color:",";margin-bottom:48px;@media screen and (max-width:","){margin-bottom:32px;}"],(e=>{let{theme:t}=e;return t.colors.textSecondary}),(e=>e.theme.breakpoints.xs));var _e=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceInner___StyledBox",componentId:"sc-1f8d3m4-4"})(["height:100%;"]),Ie=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceInner___StyledBox2",componentId:"sc-1f8d3m4-5"})(["height:100%;background-color:",";width:50%;padding-top:32px;padding-left:56px;padding-right:16px;@media screen and (max-width:","){width:100%;padding:48px 16px;}"],(e=>{let{theme:t}=e;return t.colors.black}),(e=>e.theme.breakpoints.sm)),Te=(0,r.ZP)("div").withConfig({displayName:"CreateWorkspaceInner___StyledDiv",componentId:"sc-1f8d3m4-6"})(["margin:16px;right:0;top:0;z-index:2;position:absolute;"]),je=(0,r.ZP)(m.x).withConfig({displayName:"CreateWorkspaceInner___StyledBox3",componentId:"sc-1f8d3m4-7"})(["height:100%;justify-content:center;align-items:center;flex-grow:1;background:url('","');background-size:cover;background-repeat:no-repeat;height:100%;aspect-ratio:720 / 1024;"],(e=>e.$_css));const ke=()=>{const e=(0,l.Z)((e=>e.createTeamModal.open)),t=(0,l.Z)((e=>e.createTeamModal.teamType))||o.f.Workspace,s=(0,i.I0)();return(0,k.jsx)(n.fC,{open:e,onOpenChange:()=>{s({type:"CLOSE_CREATE_TEAM_MODAL"}),(0,j.C)({event:T.I.CreateTeamDialogClosed,teamType:t})},children:(0,k.jsxs)(n.h_,{children:[(0,k.jsx)(Ce,{}),(0,k.jsx)(xe,{children:(0,k.jsx)(ye,{teamType:t})})]})})},Ce=(0,r.ZP)(n.aV).withConfig({displayName:"CreateTeam__DialogOverlay",componentId:"sc-1afzzol-0"})(["z-index:1;position:fixed;inset:0;background-color:",";opacity:0.8;animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],(e=>{let{theme:t}=e;return t.colors.uiOverlay})),Ee=(e,t)=>{switch(t.type){case"GOTO":return{...e,...t.payload,step:t.step};case"SET_INIT_WITH_DEMO_RESOURCES":return{...e,initWithDemoResources:t.value}}switch(e.step){case 1:return"NEXT"===t.type?{...e,...t.payload,step:2}:e;case 2:return"PREV"===t.type?{...e,...t.payload,step:1}:"NEXT"===t.type?{...e,...t.payload,step:"pending"}:e}return e}},"./app/components/ErrorBoundary.tsx":(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react/jsx-runtime.js");class a extends o.Component{constructor(e){super(e),this.state={didCatch:!1,error:null}}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}componentDidCatch(e,t){this.props.onError?.(e,t)}resetErrorBoundary=()=>{this.props.onReset?.(),this.setState({didCatch:!1,error:null})};render(){const{children:e,fallback:t,FallbackComponent:s}=this.props;return this.state.didCatch?t||(s?(0,n.jsx)(s,{error:this.state.error,resetErrorBoundary:this.resetErrorBoundary}):null):e}}},"./app/components/Login/Login.tsx":(e,t,s)=>{"use strict";s.d(t,{G:()=>j,ZP:()=>w});var o=s("./node_modules/classnames/bind.js"),n=s.n(o),a=s("./node_modules/react/index.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/components/Login/Login.scss"),c=s("./app/constants/media.ts"),d=s("./app/components/Prefabs/Icon/Icon.tsx"),p=s("./app/devoe/themeDark.ts"),u=s("./app/utils/auth.ts"),m=s("./app/utils/hooks/useBreakpoint.ts"),h=s("./app/utils/hooks/useRedirectTo.ts"),g=s("./app/components/Prefabs/Authentication/index.tsx"),f=s("./app/components/Prefabs/Authentication/Captcha/Captcha.tsx"),y=s("./app/components/Prefabs/PageMeta/PageMeta.tsx"),x=s("./node_modules/react/jsx-runtime.js");const v=n().bind(l.Z);class b extends a.Component{props;state={};getRedirectPath(){const e=(0,h.iJ)(this.props.location.search);if(e)return e;if(this.props.location.state?.from){const{from:e,search:t}=this.props.location.state;return t?`${e}${t}`:e}return"/"}render(){const e="/login"===this.props.location.pathname,t=v({BoxContainer:!0,LoginPageBoxContainer:e}),s=v({Box:!0}),o=v({Container:!0,ContainerWithBackgroundColor:e});return(0,u.bW)()?(0,x.jsx)(i.l_,{to:this.getRedirectPath()}):(0,x.jsxs)("div",{className:o,role:"button",tabIndex:0,children:[(0,x.jsx)(y.Z,{title:"Welcome to Runway"}),(0,x.jsxs)("div",{className:t,children:[e&&(0,x.jsx)(j,{}),(0,x.jsx)("div",{className:s,children:(0,x.jsxs)("div",{className:l.Z.InputContainer,children:[e&&(0,x.jsx)("div",{className:l.Z.LogoFooter,children:(0,x.jsx)(d.Z,{icon:"runway",height:20,width:95,color:p.Z.colors.black})}),(0,x.jsx)("div",{className:l.Z.LoginBoxAndHeader,children:(0,x.jsx)(f.KN,{children:(0,x.jsx)(g.u,{initialState:this.props.initialState})})})]})})]})]})}}const w=b,_=r.ZP.div.withConfig({displayName:"Login__LCContentPanelWrapper",componentId:"sc-14p9ljh-0"})(["background:",";width:50%;height:100%;display:",";flex-direction:column;justify-content:space-between;overflow:hidden;> *{padding-left:2rem;padding-top:16px;}h1{font-size:64px;font-weight:bold;text-align:left;line-height:1;max-width:70%;}p{font-size:",";line-height:",";text-align:left;max-width:60%;padding-top:2rem;}@media only screen and (max-width:1000px){h1{font-size:48px;max-width:80%;}p{font-size:",";line-height:",";text-align:left;max-width:85%;}}"],(e=>e.theme.colors.purple),(e=>e.smallScreen?"none":"flex"),(e=>e.theme.fonts.size.xxl),(e=>e.theme.fonts.lineHeight.xl),(e=>e.theme.fonts.size.xxl),(e=>e.theme.fonts.lineHeight.xl)),I=r.ZP.div.withConfig({displayName:"Login__ImgBackboard",componentId:"sc-14p9ljh-1"})(["background:",";width:80%;padding-top:1rem;padding-left:1rem;align-self:flex-end;border-top-left-radius:15px;display:grid;margin-top:80px;img{max-width:100%;}@media only screen and (max-width:1000px){width:100%;}"],(e=>e.theme.colors.grayscale.gray600)),T=r.ZP.img.withConfig({displayName:"Login__StyledImage",componentId:"sc-14p9ljh-2"})([""]),j=()=>{const e=(0,m.Z)("sm");return(0,x.jsxs)(_,{smallScreen:e,children:[(0,x.jsx)("h1",{children:"Everything you need to make anything you want."}),(0,x.jsx)("p",{children:"With 30+ tools, Runway makes it easy to ideate, generate and edit content like never before. Try it today for free."}),(0,x.jsx)(I,{children:(0,x.jsx)(T,{src:`${c.yI}app/login/login-hero-2000w.webp`})})]})}},"./app/components/PageHeader/AccountDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{d:()=>O});var o=s("./app/api/hooks/useProfile.ts"),n=s("./app/api/hooks/useSubscription.ts"),a=s("./app/api/hooks/useTeams.ts"),i=s("./app/api/hooks/user.ts"),r=s("./app/utils/auth.ts"),l=s("./app/utils/constants.ts"),c=s("./app/utils/string.ts"),d=s("./node_modules/lucide-react/dist/esm/icons/settings.js"),p=s("./node_modules/lucide-react/dist/esm/icons/log-out.js"),u=s("./node_modules/react/index.js"),m=s("./node_modules/react-aria-components/dist/import.mjs"),h=s("./node_modules/react-router/esm/react-router.js"),g=s("./app/devoe/themeDark.ts"),f=s("./app/components/UpgradeDialog/UpgradeDialogContext.tsx");const y="AccountDropdown__trigger__gtdZH",x="AccountDropdown__triggerImage__e5cyw",v="AccountDropdown__triggerInitials__TKEpz",b="AccountDropdown__popover__p2nTu",w="AccountDropdown__profileSection__XwUcm",_="AccountDropdown__profilePicture__eNg9L",I="AccountDropdown__profilePictureImage__VVbwx",T="AccountDropdown__profilePictureInitials__tCsxe",j="AccountDropdown__profileName__AFYEV",k="AccountDropdown__profileEmail__s_Cfo",C="AccountDropdown__separator__PDuhY",E="AccountDropdown__menuItem__NZjoX",S="AccountDropdown__menuItemTextContainer__k7xy1",A="AccountDropdown__menuItemTitle__Wclyt",M="AccountDropdown__menuItemSubtitle__WO8bw",P="AccountDropdown__upgradeItem___4vdv",N="AccountDropdown__footer__h33u8";var D=s("./node_modules/react/jsx-runtime.js");const O=e=>{let{asTeamId:t}=e;const[s,o]=(0,u.useState)(!1),n=(0,i.a)({suspense:!0}),a=n.data.picture,r=`${n.data.firstName} ${n.data.lastName}`;return(0,D.jsxs)(m.hg,{isOpen:s,onOpenChange:o,children:[(0,D.jsx)(m.zx,{className:y,"aria-label":"account dropdown",children:a?(0,D.jsx)("img",{src:a,className:x}):(0,D.jsx)("span",{className:v,children:`${(0,c.Oo)(r.slice(0,2))}`})}),(0,D.jsxs)(m.J2,{placement:"bottom right",className:b,children:[(0,D.jsxs)("div",{className:w,children:[(0,D.jsx)("div",{className:_,children:a?(0,D.jsx)("img",{src:a,className:I}):(0,D.jsx)("span",{className:T,children:`${(0,c.Oo)(r.slice(0,2))}`})}),(0,D.jsx)("span",{className:j,children:r}),(0,D.jsx)("span",{className:k,children:n.data.email})]}),(0,D.jsx)(u.Suspense,{fallback:null,children:(0,D.jsx)(L,{asTeamId:t,onClose:()=>o(!1)})}),(0,D.jsx)(m.Z0,{className:C}),(0,D.jsxs)("span",{className:N,children:["By using Runway, you agree to our"," ",(0,D.jsx)("a",{href:l.lQ,target:"_blank",rel:"noreferrer noopener",children:"Terms of Use"})," ","and"," ",(0,D.jsx)("a",{href:l.hO,target:"_blank",rel:"noreferrer noopener",children:"Privacy Policy"}),"."]})]})]})},L=e=>{let{asTeamId:t,onClose:s}=e;const i=(0,h.k6)(),l=(0,a.t7)(t,{suspense:!0}),c=(0,o.NF)({asTeamId:t},{suspense:!0}),u=(0,a.Z5)(t,{suspense:!0}),y="owner"===u||"admin"===u,x=(0,f.rz)();return(0,D.jsxs)(m.v2,{autoFocus:!0,"aria-label":"account menu",onAction:function(e){switch(e){case"upgrade":x({uiContext:"header: upgrade plan"});break;case"log-out":(0,r.If)(i)}},onClose:s,children:[(0,D.jsxs)(m.sN,{id:"account-settings",textValue:"account-settings",href:"/settings",className:E,children:[(0,D.jsx)(d.Z,{size:16,color:g.Z.colors.textSecondary}),(0,D.jsxs)("div",{className:S,children:[(0,D.jsx)("span",{className:A,children:"My Account"}),(0,D.jsx)("span",{className:M,children:"Edit account profile"})]})]}),(0,D.jsx)(m.Z0,{className:C}),(0,D.jsxs)(m.sN,{id:"workspace-settings",textValue:"workspace-settings",href:`/teams/${l.username}/settings`,className:E,children:[(0,D.jsx)(d.Z,{size:16,color:g.Z.colors.textSecondary}),(0,D.jsxs)("div",{className:S,children:[(0,D.jsx)("span",{className:A,children:"Workspace Settings"}),(0,D.jsx)("span",{className:M,children:"Edit workspace"})]})]}),y?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(m.sN,{id:"billing",textValue:"billing",href:`/teams/${l.username}/settings?tab=billing`,className:E,children:[(0,D.jsx)(d.Z,{size:16,color:g.Z.colors.textSecondary}),(0,D.jsxs)("div",{className:S,children:[(0,D.jsx)("span",{className:A,children:"Manage your plan"}),(0,D.jsx)("span",{className:M,children:"Plans and billing"})]})]}),(0,n.F)(c.data)?null:(0,D.jsx)(m.sN,{id:"upgrade",textValue:"upgrade",className:P,"data-testid":"update-plan",children:"Update Plan"})]}):null,(0,D.jsx)(m.Z0,{className:C}),(0,D.jsxs)(m.sN,{id:"log-out",textValue:"log-out","data-testid":"logout-button",className:E,children:[(0,D.jsx)(p.Z,{size:16,color:g.Z.colors.textSecondary}),(0,D.jsx)("span",{className:A,children:"Logout"})]})]})}},"./app/components/PageHeader/useShouldShowInitialPlanDialog.ts":(e,t,s)=>{"use strict";s.d(t,{a:()=>c,d:()=>d});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/api/hooks/useTeams.ts"),a=s("./app/types/features.ts"),i=s("./app/utils/hooks/useFeatures.ts"),r=s("./app/utils/hooks/useUserProperties.ts"),l=s("./app/utils/teams.ts");const c="seenChooseInitialPlan";function d(e){const[t]=(0,r.Z)(c,!1,{suspense:!0},{asTeamId:e}),s=(0,o.yG)(e,{suspense:!0}),d=(0,i.h)(e),p=void 0===s||(0,o.Vz)(s),u=(0,n.Z5)(e,{suspense:!0});return!((0,l.rI)(u)<(0,l.rI)("admin"))&&(!!d.data.permitted[a.G.ShowInitialUpgradeDialog]&&(!t&&p))}},"./app/components/Prefabs/AmountOfRunningTasksBadge.tsx":(e,t,s)=>{"use strict";s.d(t,{U:()=>o});const o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div.withConfig({displayName:"AmountOfRunningTasksBadge",componentId:"sc-1hsm43s-0"})(["background:",";color:",";box-sizing:border-box;height:24px;min-width:24px;width:max-content;border-radius:20px;display:flex;justify-content:center;align-items:center;font-size:10px;padding:4px;"],(e=>e.theme.colors.primaryLight),(e=>e.theme.colors.textWhiteUI))},"./app/components/Prefabs/AriaModal.tsx":(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var o=s("./node_modules/react-aria-components/dist/import.mjs");const n={overlay:"AriaModal__overlay__ctNs3","modal-fade":"AriaModal__modal-fade__tblZJ",modal:"AriaModal__modal__RlMe7","modal-zoom":"AriaModal__modal-zoom__xqVkf"};var a=s("./node_modules/react/jsx-runtime.js");function i(e){let{children:t,...s}=e;return(0,a.jsx)(o.J_,{...s,isDismissable:!0,isKeyboardDismissDisabled:!0,className:n.overlay,children:(0,a.jsx)(o.u_,{isDismissable:!0,isKeyboardDismissDisabled:!0,className:n.modal,children:t})})}},"./app/components/Prefabs/AudioPlayer/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("./node_modules/react/index.js"),n=s("./app/components/Prefabs/AudioPlayer/useWavesurfer.tsx"),a=s("./app/utils/time.ts");const i={container:"audio-player__container__NfSjL",player:"audio-player__player__rl38V",timecode:"audio-player__timecode__O7ctv",duration:"audio-player__duration__GyBG6",button:"audio-player__button__KQTgP",playPause:"audio-player__playPause__xpWiU",mute:"audio-player__mute__ltBbf",wavesurferMount:"audio-player__wavesurferMount__jaHdF"};var r=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),l=s("./app/components/Prefabs/AudioPlayer/useAudioDuration.tsx"),c=s("./node_modules/lucide-react/dist/esm/icons/play.js"),d=s("./node_modules/react/jsx-runtime.js");const p=o.forwardRef(((e,t)=>{const s=(0,o.useRef)(null),p=(0,o.useMemo)((()=>({url:e.url,waveColor:"rgba(255, 255, 255, 0.3)",progressColor:"white",barWidth:4,barRadius:4,barGap:4,height:24,cursorColor:"transparent",hideScrollbar:!0,normalize:!0,responsive:!0})),[e.url]),u=(0,n.M)(s,p),m=(0,n.X)(u),h=(0,l.C)(e.url),{onSeeking:g}=e;return(0,o.useEffect)((()=>{if(!u)return;const e=[u.on("seeking",(()=>{g&&g()}))].map((e=>()=>e.un));return()=>{e.forEach((e=>e()))}}),[g,u]),(0,o.useImperativeHandle)(t,(()=>({instance:u})),[u]),(0,d.jsx)("div",{className:i.container,children:(0,d.jsxs)("div",{className:i.player,children:[(0,d.jsx)("div",{className:i.wavesurferMount,ref:s}),(0,d.jsx)("button",{className:[i.button,i.playPause].join(" "),onClick:()=>{if(u){if(e.onPlayPause){if(e.onPlayPause(u))return}u.playPause()}},children:m.isPlaying?(0,d.jsx)(r.fpf,{color:"white",width:24,height:24}):(0,d.jsx)(c.Z,{color:"white",width:24,height:24})}),(0,d.jsxs)("p",{className:i.timecode,children:[(0,a.Nl)(m.currentTime)," /"," ",(0,d.jsx)("span",{className:i.duration,children:(0,a.Nl)(h||0)})]}),(0,d.jsx)("button",{className:[i.button,i.mute].join(" "),onClick:()=>u?.toggleMute(),children:m.isMuted?(0,d.jsx)(r.gQ8,{color:"white",width:24,height:24}):(0,d.jsx)(r.bx5,{color:"white",width:24,height:24})})]})})}))},"./app/components/Prefabs/AudioPlayer/useAudioDuration.tsx":(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var o=s("./app/utils/video-editor/audio.ts"),n=s("./node_modules/swr/dist/index.mjs");function a(e){const{data:t,isValidating:s,error:a}=(0,n.ZP)(["useAudioDuration",e],(async()=>{try{return(0,o.eo)(e)}catch(e){return 0}}));return s||a?0:t}},"./app/components/Prefabs/AudioPlayer/useWavesurfer.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>i,X:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/wavesurfer.js/dist/wavesurfer.js"),a=s.n(n);function i(e,t){const[s,n]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(!e.current)return;const{url:s,...o}=t,i=a().create({...o,container:e.current});return s&&i.load(s),n(i),()=>{i.destroy()}}),[e,t]),s}function r(e){const[t,s]=(0,o.useState)(!1),[n,a]=(0,o.useState)(!1),[i,r]=(0,o.useState)(0),[l,c]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if(!e)return;const t=[e.on("load",(()=>{s(!1),a(!1),r(0)})),e.on("ready",(()=>{s(!0),a(!1),r(0)})),e.on("play",(()=>{a(!0)})),e.on("pause",(()=>{a(!1)})),e.on("audioprocess",(()=>{r(e.getCurrentTime())})),e.on("destroy",(()=>{s(!1),a(!1)})),e.on("mute",(()=>{c(e.getMute())}))].map((e=>e.un));return()=>{t.forEach((e=>e()))}}),[e]),(0,o.useMemo)((()=>({isReady:t,isPlaying:n,currentTime:i,isMuted:l})),[t,l,n,i])}},"./app/components/Prefabs/Authentication/Captcha/Captcha.tsx":(e,t,s)=>{"use strict";s.d(t,{KN:()=>c,C9:()=>d});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-google-recaptcha/lib/esm/index.js");const a=(0,s("./app/utils/environment.ts").tb)()?"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI":"6Leb1DImAAAAAHZOwEyUc9TD8BfLd1iSQ42U5G7t";var i=s("./app/components/Prefabs/Authentication/Captcha/useReCAPTCHAExecuteAsyncCallbackWithCloseHandling.ts"),r=s("./node_modules/react/jsx-runtime.js");const l=(0,o.createContext)({reCAPTCHARef:void 0,reCAPTCHAExecuteAsync:()=>Promise.reject("Ref not found")}),c=e=>{let{children:t}=e;const s=(0,o.useRef)(null),c=(0,i.Z)(s);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{ref:s,sitekey:a,size:"invisible"}),(0,r.jsx)(l.Provider,{value:{reCAPTCHARef:s,reCAPTCHAExecuteAsync:c},children:t})]})},d=(l.Consumer,()=>{const e=(0,o.useContext)(l);if(!e)throw new Error("useCaptchaContext must be used within a CaptchaProvider");return e})},"./app/components/Prefabs/Authentication/Captcha/useReCAPTCHAExecuteAsyncCallbackWithCloseHandling.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>r,Z:()=>l});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/eventemitter3/index.js");class a extends n.EventEmitter{constructor(){super();const e=(()=>{try{const e=document.querySelectorAll('iframe[src*="recaptcha/api2/bframe"]');if(0===e.length)return;return e[0].parentNode?.parentNode}catch(e){return void(0,o.Tb)(e)}})();e&&this._observeVisibilityChange(e)}_observeVisibilityChange(e){const t=new MutationObserver((e=>{e.forEach((e=>{const{type:t,attributeName:s,target:o}=e;if("attributes"===t&&"style"===s){const e=o.getAttribute("style");e?.includes("visibility: hidden")&&this.emit("close")}}))}));e&&t.observe(e,{attributes:!0,attributeFilter:["style"]})}}const i=()=>new a;class r extends Error{}const l=e=>()=>new Promise(((t,s)=>{if(!e.current)return void s(new Error("Ref not found"));i().once("close",(()=>{s(new r)})),e.current.executeAsync().then((e=>{e?t({token:e}):s(new Error("No token"))})).catch((e=>{s(e)}))}))},"./app/components/Prefabs/Authentication/index.tsx":(e,t,s)=>{"use strict";s.d(t,{u:()=>$e,r:()=>He});var o=s("./app/utils/constants.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{}=e;return(0,i.jsx)(l,{children:(0,i.jsxs)(c,{children:["By clicking “Next”, “Sign up with Google” or “Sign up with Apple” you agree to our"," ",(0,i.jsx)(d,{href:o.lQ,target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," ","and acknowledge that you have read and understand our"," ",(0,i.jsx)(d,{href:o.hO,target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})})},l=a.ZP.div.withConfig({displayName:"LegalNotice__Container",componentId:"sc-11jlk07-0"})(["margin:0 auto 0 auto;text-align:center;"]),c=a.ZP.span.withConfig({displayName:"LegalNotice__TextSpan",componentId:"sc-11jlk07-1"})(["color:",";font-size:",";line-height:",";text-align:center;"],(e=>{let{theme:t}=e;return t.colors.textInactive}),(e=>{let{theme:t}=e;return t.fonts.size.xxs}),(e=>{let{theme:t}=e;return t.fonts.lineHeight.xxs})),d=a.ZP.a.withConfig({displayName:"LegalNotice__InlineLink",componentId:"sc-11jlk07-2"})(["color:",";cursor:pointer;font-size:inherit;line-height:inherit;&:hover{text-decoration:underline;}"],(e=>{let{theme:t}=e;return t.colors.primary}));var p=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),u=s("./node_modules/@sentry/core/esm/exports.js"),m=s("./node_modules/@xstate/react/es/useInterpret.js"),h=s("./node_modules/@xstate/react/es/useSelector.js"),g=s("./app/components/Prefabs/RadixDialog.tsx"),f=s("./app/api-client.ts"),y=s("./app/utils/trackEvent.ts"),x=s("./node_modules/react-apple-signin-auth/dist/index.js"),v=s("./app/components/Prefabs/Icon/Icon.tsx"),b=s("./app/components/Prefabs/Text.tsx"),w=s("./app/components/Views/MagicTools/Components/Common/Base.tsx");const _=a.ZP.button.withConfig({displayName:"AuthButton__Container",componentId:"sc-htdt0h-0"})(["position:relative;display:flex;flex-direction:row;align-items:center;justify-content:center;padding:0;height:50px;width:100%;border:1px solid #dfdfe4;border-radius:100px;background:",";cursor:pointer;&:hover{border-color:",";}&:disabled{border-color:",";cursor:default;opacity:0.5;}"],(e=>e.theme.colors.white),(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),I=(0,a.ZP)(w.x).withConfig({displayName:"AuthButton__IconContainer",componentId:"sc-htdt0h-1"})(["position:absolute;pointer-events:none;left:16px;"]),T=e=>{let{name:t,onClick:s,disabled:o,id:n,icon:a,className:r=""}=e;return(0,i.jsxs)(_,{onClick:s,id:n,disabled:o,className:r,children:[a&&(0,i.jsx)(I,{children:(0,i.jsx)(v.Z,{icon:a})}),(0,i.jsx)(b.Z,{style:{color:"#3c3c3c"},bold:!0,md:!0,children:t})]})};var j=s("./app/utils/environment.ts"),k=s("./node_modules/jsonwebtoken/index.js");var C=s("./node_modules/swr/dist/index.mjs"),E=s("./node_modules/uuid/dist/esm-browser/v4.js");const S={scope:"name email",redirectURI:"production"===o.j9?"https://app.runwayml.com/apple-sign-in-redirect":"https://app.stage.runwayml.com/apple-sign-in-redirect",usePopup:!0,nonce:E.Z(),state:E.Z()},A=()=>{const{data:e,error:t}=(0,C.ZP)("useAppleClientConfig",f.Gh);if(e){const{config:t}=e,{clientId:s,teamId:o}=t;return{config:{...S,clientId:s,teamId:o},error:void 0}}return{config:e,error:t}},M=new class{STORAGE_KEY=`RW_${(0,j.Mw)()?"PROD":"STAGE"}_localAppleUserRecords`;constructor(){this._getRecords()||this._setRecords({})}_getRecords(){const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):null}_setRecords(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}getUserRecordFromIdToken(e){const{email:t}=k.decode(e);return(this._getRecords()||{})[t]}setUserRecord(e){this._setRecords({...this._getRecords()||{},[e.email]:e})}clearUserRecord(e){const t=this._getRecords()||{};delete t[e],this._setRecords(t)}},P=e=>{let{name:t,handleLoginResponse:s,onError:o,className:a="",onClick:r=(()=>{})}=e;const{config:l,error:c}=A(),d=(0,n.useCallback)((async e=>{if(!l)return;e.user&&M.setUserRecord(e.user);const t=M.getUserRecordFromIdToken(e.authorization.id_token);try{(e=>{let{config:t,payload:s}=e;const{authorization:o}=s;if(o.state&&o.state!==t.state)throw new Error("Error logging in with Apple. Invalid or missing CSRF token. Please reach out to support if this continues.")})({config:l,payload:e})}catch(e){return void o?.(e.message)}(0,y.L)({event:"Click",name:"Login with Apple",section:"Login"});const n=await(0,f.xU)({idToken:e.authorization.id_token,user:t,nonce:l.nonce});n&&s&&(t&&M.clearUserRecord(t.email),s(n))}),[s,o,l]);return(0,i.jsx)(x.ZP,{authOptions:l,onSuccess:d,render:e=>(0,i.jsx)(T,{name:t,icon:"apple",onClick:function(){r(),e.onClick(...arguments)},disabled:!Boolean(l)||Boolean(c),className:a})})};var N=s("./app/components/Prefabs/Loader/Loader.tsx");const D=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.flashMessage));return s&&s.message.includes("account has been suspended")?(0,i.jsxs)(O,{"data-kind":"error",children:["This account has been suspended. If you wish to contest this, please follow the process described in our"," ",(0,i.jsx)(L,{href:"https://help.runwayml.com/hc/en-us/articles/21298248930323-How-to-appeal-an-account-suspension",target:"_blank",rel:"noopener noreferrer",children:"Help Center article."})]}):(0,i.jsx)(O,{"data-kind":s?.type,children:s?.message})},O=a.ZP.div.withConfig({displayName:"AuthErrorMessage__FlashMessage",componentId:"sc-1eleuev-0"})(["flex-grow:1;font-size:12px;min-height:14px;padding:8px;z-index:1;line-height:1.1;color:",";&[data-kind='info']{color:",";}"],(e=>e.theme.colors.red),(e=>e.theme.colors.textWhiteUI));var L=(0,a.ZP)("a").withConfig({displayName:"AuthErrorMessage___StyledA",componentId:"sc-1eleuev-1"})(["text-decoration:underline;"]),R=s("./app/components/Prefabs/Authentication/shared.tsx");const Z=e=>{let{message:t,service:s}=e;return(0,i.jsx)(U,{name:t,onClick:()=>s.send("LOGIN_WITH_APPLE"),handleLoginResponse:e=>{let{token:t}=e;return s.send({type:"SUCCESS",data:{token:t}})},onError:()=>s.send({type:"ERROR",data:{error:"Error logging in with Apple"}})})},U=(0,a.ZP)(P).withConfig({displayName:"AppleLogin__StyledAppleLoginButton",componentId:"sc-s9ta8n-0"})(["box-sizing:border-box;display:flex;flex-direction:row;padding:0;height:50px;border:1px solid #dfdfe4;background-color:#fff;position:relative;cursor:pointer;border-radius:25px;overflow:hidden;&:hover{border-color:",";}&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),z=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.flashMessage));return(0,i.jsxs)(w.x,{flexDirection:"column",gap:"32px",children:[(0,i.jsx)(b.Z,{bold:!0,center:!0,xl:!0,color:"textWhiteUI",children:"Logging in with Apple"}),s?(0,i.jsx)(D,{service:t}):(0,i.jsx)(w.x,{justifyContent:"center",children:(0,i.jsx)(N.Z,{color:"#000"})}),(0,i.jsx)(R.zx,{loading:!1,onClick:()=>t.send("GO_BACK"),children:"Cancel"})]})};var V=s("./app/components/Prefabs/Authentication/Captcha/Captcha.tsx"),B=s("./app/components/Prefabs/Authentication/Captcha/useReCAPTCHAExecuteAsyncCallbackWithCloseHandling.ts"),G=s("./app/utils/validateEmail.ts");const F=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.matches("FORGOT_PASSWORD.SUBMITTING"))),o=(0,h.v)(t,(e=>e.context.email)),n=(0,G.o)(o);return(0,i.jsxs)(w.x,{as:"form",flexDirection:"column",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},children:[(0,i.jsxs)(w.x,{flexDirection:"column",gap:"14px",children:[(0,i.jsx)(b.Z,{center:!0,bold:!0,xl:!0,whiteUI:!0,children:"Password recovery"}),(0,i.jsx)(b.Z,{center:!0,md:!0,style:{color:"#66676c"},children:"Enter your email and we'll email you a password recovery code."})]}),(0,i.jsxs)(w.x,{flexDirection:"column",marginTop:"12px",children:[(0,i.jsx)(R.II,{placeholder:"Your email",type:"email",value:o,required:!0,onChange:e=>t.send({type:"SET_EMAIL",email:e.target.value})}),(0,i.jsx)(D,{service:t})]}),(0,i.jsxs)(w.x,{flexDirection:"column",gap:"24px",marginTop:"12px",children:[(0,i.jsx)(R.zx,{loading:s,disabled:!n,children:"Reset Password"}),(0,i.jsx)(R.p1,{children:(0,i.jsx)(R.xE,{type:"button",onClick:()=>t.send("GO_BACK")})})]})]})};var $=s("./app/devoe/assets/icons/@component-icons/google.svg"),W=s("./app/utils/routes.ts"),H=s("./app/utils/urls.ts"),Y=s("./app/utils/utm.ts");const X=e=>{let{url:t,title:s,width:o,height:n}=e;const a=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,l=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,c=r/window.screen.availWidth,d=(r-o)/2/c+a,p=(l-n)/2/c+i,u=window.open(t,s,`\n    scrollbars=yes,\n    width=${o/c},\n    height=${n/c}, \n    top=${p}, \n    left=${d},\n    menubar=no,\n    toolbar=no,\n    `);return u&&u.focus(),u};let q=null;const J=e=>{q&&window.removeEventListener("message",q),q=t=>{e(t),t.origin===window.location.origin&&t.data?.fromGoogleSignInDirect&&window.removeEventListener("message",q)},window.addEventListener("message",q,!1)};var K=s("./app/actions/user.ts"),Q=s("./app/store.ts"),ee=s("./app/utils/google-analytics.ts"),te=s("./node_modules/xstate/es/Machine.js"),se=s("./node_modules/xstate/es/index.js"),oe=s("./app/actions/settings.ts"),ne=s("./node_modules/lodash/lodash.js");var ae=s("./app/utils/openInCurrentOrNewWindow.ts"),ie=s("./node_modules/xstate/lib/actions.js"),re=function(e){return e.NotFound="params_not_found",e}(re||{});const le=(0,te.C)({id:"SSO",initial:"STEP_1",schema:{context:{},events:{},services:{}},tsTypes:{},context:{email:"",ssoRedirectParams:(()=>{const e=new URLSearchParams(window.location.search),t=e.get("error");if(t)return{error:t,type:"error"};const s=e.get("state"),o=e.get("code");return s&&o?{state:s,code:o,type:"success"}:{error:re.NotFound,type:"error"}})(),token:null,error:null},on:{REDIRECT:{target:"REDIRECTING"}},states:{STEP_1:{initial:"EDITING",states:{EDITING:{on:{SUBMIT:{target:"CHECKING_EMAIL"},SET_EMAIL:{actions:"setEmail"}}},CHECKING_EMAIL:{after:{1e3:"#SSO.SUBMITTING"}}},always:[{target:"REDIRECTING",cond:"hasRedirectSuccess"},{target:"ERROR",cond:"hasRedirectError",actions:e=>{const t="error"===e.ssoRedirectParams.type?e.ssoRedirectParams.error:"Unknown error";(0,u.uT)("SSO error",{extra:{error:t}})}}],on:{GO_BACK:{actions:"goBackToParent"}}},SUBMITTING:{invoke:{src:"loginWithSSO",onDone:{actions:"openRedirectWindow"},onError:{target:"ERROR",actions:"setErrorMessage"}},on:{GO_BACK:"STEP_1"}},REDIRECTING:{invoke:{src:"processSsoRedirect",onDone:{target:"DONE",actions:(0,se.assign)({token:(e,t)=>t.data.token})},onError:{target:"ERROR",actions:"setErrorMessage"}},on:{GO_BACK:{actions:"goToLogin"}}},ERROR:{on:{GO_BACK:{actions:"goToLogin"}}},DONE:{type:"final",data:e=>({token:e.token})}}},{actions:{setEmail:(0,se.assign)({email:(e,t)=>t.email}),setErrorMessage:(e,t)=>{(0,se.assign)({error:t.data.message}),(0,u.uT)("SSO error",{extra:{error:t.data.message}})},openRedirectWindow:(e,t)=>{(0,ae.o)(t.data.authorizationEndpoint)},goToLogin:()=>{window.location.href="/login"},goBackToParent:(0,ie.lj)("GO_BACK")},guards:{hasRedirectError:e=>ce()&&"error"===e.ssoRedirectParams.type,hasRedirectSuccess:e=>ce()&&"success"===e.ssoRedirectParams.type},services:{loginWithSSO:e=>(async e=>{const t=await fetch(`${o.T5}/v1/login_with_sso`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.email,oidcRedirect:`${window.location.origin}/sso-redirect`})}),s=await t.json();if(!(0,ne.isNil)(s.error)||200!==t.status)throw new Error(s.error);if(!s.authorizationEndpoint)throw new Error("No authorizationEndpoint received");return s})({email:e.email,ssoRedirect:`${window.location.origin}/sso-redirect`}),processSsoRedirect:async e=>{if("success"!==e.ssoRedirectParams.type)throw new Error("Could not process SSO redirect");const t=await(async e=>{const t=await fetch(`${o.T5}/v1/login_with_sso/oidc/authorize`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({code:e.code,state:e.state})}),s=await t.json();if(!(0,ne.isNil)(s.error)||200!==t.status)throw new Error(s.error);if(!s.token)throw new Error("No SSO token received");return s})({code:e.ssoRedirectParams.code,state:e.ssoRedirectParams.state});return t.useTeam&&Q.Z.dispatch((0,oe.y3)(t.useTeam)),t}}}),ce=()=>"/sso-redirect"===window.location.pathname,de=`${window.location.origin}/google-sign-in-redirect`,pe=(0,te.C)({id:"auth",initial:"initial",context:{usernameOrEmail:"",firstName:"",lastName:"",organization:"",email:"",username:"",password:"",passwordConfirmation:"",verificationCode:"",flashMessage:void 0,user:void 0,windowRef:void 0,captchaToken:"",initialState:"LOGIN"},on:{CLEAR_FLASH_MESSAGE:{actions:"clearFlashMessage"}},states:{initial:{always:[{target:"LOGIN.LOGGING_IN_WITH_SSO",cond:"isSsoRedirect"},{target:"SIGN_UP",cond:"isSignUpLink"},{target:"LOGIN.LOGGING_IN_WITH_SSO",cond:"isSsoLink"},{target:"LOGIN"}]},LOGIN:{entry:["resetPassword","clearFlashMessage"],initial:"STEP_1",states:{STEP_1:{on:{SET_USERNAME_OR_EMAIL:{actions:["setUsernameOrEmail","clearFlashMessage"]},SET_PASSWORD:{actions:["setPassword","clearFlashMessage"]},SUBMIT:[{target:"SUBMITTING",cond:"hasLoginData"}],FORGOT_PASSWORD:"#auth.FORGOT_PASSWORD",SIGN_UP:"#auth.SIGN_UP",LOGIN_WITH_GOOGLE:{target:"LOGGING_IN_WITH_GOOGLE"},LOGIN_WITH_APPLE:{target:"LOGGING_IN_WITH_APPLE"},LOGIN_WITH_SSO:{target:"LOGGING_IN_WITH_SSO"}}},SUBMITTING:{invoke:{src:"login",onDone:{target:"FETCHING_USER",actions:["setToken","setTokenInRedux","clearFlashMessage"]},onError:{target:"STEP_1",actions:"setError"}}},LOGGING_IN_WITH_GOOGLE:{entry:"clearFlashMessage",on:{GO_BACK:{target:"STEP_1",actions:"closeWindowRef"},ERROR:{target:"STEP_1",actions:"setError"},SUCCESS:{target:"FETCHING_USER",actions:["setToken","setTokenInRedux","clearFlashMessage"]},SET_WINDOW_REF:{actions:"setWindowRef"}}},LOGGING_IN_WITH_APPLE:{entry:"clearFlashMessage",on:{GO_BACK:{target:"STEP_1"},ERROR:{target:"STEP_1",actions:"setError"},SUCCESS:{target:"FETCHING_USER",actions:["setToken","setTokenInRedux","clearFlashMessage"]}}},LOGGING_IN_WITH_SSO:{entry:"clearFlashMessage",on:{GO_BACK:{target:"STEP_1"},ERROR:{actions:"setError",target:"STEP_1"}},invoke:{id:"sso",src:le,onDone:{actions:["setToken","setTokenInRedux"],target:"FETCHING_USER"}}},FETCHING_USER:{entry:"clearFlashMessage",invoke:{src:"getUser",onDone:[{target:"DONE",actions:"setUser",cond:"isUserVerified"},{target:"#auth.SIGN_UP.VERIFY",actions:"setUser"}],onError:{target:"STEP_1"}}},DONE:{type:"final",entry:["updateRedux","notifyParent"]}}},SIGN_UP:{entry:["resetPassword","clearFlashMessage"],initial:"STEP_1",states:{STEP_1:{initial:"EDITING",on:{LOGIN_WITH_SSO:{target:"LOGGING_IN_WITH_SSO"},"":{target:"LOGGING_IN_WITH_SSO",cond:"isSsoRedirect"}},states:{EDITING:{on:{SET_EMAIL:{actions:["setEmail","clearFlashMessage"]},SUBMIT:{target:"CHECKING_EMAIL"},LOGIN:{target:"#auth.LOGIN"},LOGIN_WITH_GOOGLE:"#auth.SIGN_UP.LOGGING_IN_WITH_GOOGLE",LOGIN_WITH_APPLE:"#auth.SIGN_UP.LOGGING_IN_WITH_APPLE"}},CHECKING_EMAIL:{entry:"clearFlashMessage",invoke:{src:"checkEmail",onDone:{target:"#auth.SIGN_UP.STEP_2",actions:"clearFlashMessage"},onError:{target:"EDITING",actions:"setError"}}}}},STEP_2:{entry:"clearFlashMessage",initial:"EDITING",states:{EDITING:{on:{SET_USERNAME:{actions:["setUsername","clearFlashMessage"]},SET_PASSWORD:{actions:"setPassword"},SET_PASSWORD_CONFIRMATION:{actions:"setPasswordConfirmation"},GO_BACK:{target:"#auth.SIGN_UP.STEP_1"},SUBMIT:{target:"CHECKING_USERNAME"},LOGIN:{target:"#auth.LOGIN"}}},CHECKING_USERNAME:{entry:"clearFlashMessage",invoke:{src:"checkUsername",onDone:{target:"#auth.SIGN_UP.STEP_3",actions:"clearFlashMessage"},onError:{target:"EDITING",actions:"setError"}}}}},STEP_3:{on:{SET_FIRST_NAME:{actions:["setFirstName","clearFlashMessage"]},SET_LAST_NAME:{actions:["setLastName","clearFlashMessage"]},SET_ORGANIZATION:{actions:["setOrganization","clearFlashMessage"]},GO_BACK:{target:"STEP_2"},LOGIN:{target:"#auth.LOGIN"},SUBMIT:{target:"SUBMITTING"}}},SUBMITTING:{initial:"CAPTCHA",states:{CAPTCHA:{entry:"clearFlashMessage",invoke:[{src:"executeCaptcha",onDone:{target:"#auth.SIGN_UP.SUBMITTING.REGISTER",actions:["setCaptchaToken","clearFlashMessage"]},onError:[{cond:"errorFromCaptchaClose",target:"#auth.SIGN_UP.STEP_3"},{target:"#auth.SIGN_UP.STEP_3",actions:["setError"]}]}]},REGISTER:{entry:"clearFlashMessage",invoke:[{src:"register",onDone:{target:"#auth.SIGN_UP.VERIFY",actions:["setToken","clearFlashMessage"]},onError:{target:"#auth.SIGN_UP.STEP_3",actions:"setError"}}]}}},LOGGING_IN_WITH_GOOGLE:{entry:"clearFlashMessage",on:{GO_BACK:{target:"STEP_1",actions:"closeWindowRef"},ERROR:{target:"STEP_1",actions:"setError"},SUCCESS:{target:"FETCHING_USER",actions:["setToken"]},SET_WINDOW_REF:{actions:"setWindowRef"}},invoke:{src:"loginWithGoogle"}},LOGGING_IN_WITH_APPLE:{entry:"clearFlashMessage",on:{GO_BACK:{target:"STEP_1"},ERROR:{target:"STEP_1",actions:"setError"},SUCCESS:{target:"FETCHING_USER",actions:["setToken"]}}},LOGGING_IN_WITH_SSO:{entry:"clearFlashMessage",on:{GO_BACK:{target:"STEP_1"},ERROR:{actions:"setError",target:"STEP_1"}},invoke:{id:"sso",src:le,onDone:{actions:["setToken","setTokenInRedux"],target:"FETCHING_USER"}}},FETCHING_USER:{entry:"clearFlashMessage",invoke:{src:"getUser",onDone:[{target:"SUBSCRIBE",actions:"setUser",cond:"isUserVerified"},{target:"VERIFY",actions:"setUser"}],onError:{target:"STEP_3"}}},VERIFY:{entry:"clearFlashMessage",initial:"EDITING",states:{EDITING:{on:{SET_VERIFICATION_CODE:{actions:"setVerificationCode"},SUBMIT:{target:"SUBMITTING"},RESEND_CODE:{target:"SENDING_VERIFICATION_CODE"},GO_BACK:{target:"#auth.SIGN_UP.STEP_3"}}},SUBMITTING:{invoke:{src:"verify",onDone:{target:"#auth.SIGN_UP.FETCHING_USER",actions:["setTokenInRedux","clearFlashMessage"]},onError:{target:"EDITING",actions:"setError"}}},SENDING_VERIFICATION_CODE:{invoke:{src:"resendVerificationCode",onDone:{target:"EDITING",actions:["setInfo","clearFlashMessage"]},onError:{target:"EDITING",actions:"setError"}}}}},SUBSCRIBE:{on:{SUBMIT:"DONE"}},DONE:{type:"final",entry:["updateRedux","notifyParent","clearFlashMessage"]}}},FORGOT_PASSWORD:{initial:"EDITING",entry:"clearFlashMessage",states:{EDITING:{on:{SET_EMAIL:{actions:"setEmail"},SUBMIT:{target:"SUBMITTING"},GO_BACK:{target:"#auth.LOGIN",actions:"clearFlashMessage"}}},SUBMITTING:{invoke:{src:"setResetEmail",onDone:{target:"EDITING",actions:["setInfo"]},onError:{target:"EDITING",actions:"setError"}}}}}}},{actions:{resetPassword:(0,se.assign)({password:"",passwordConfirmation:""}),clearFlashMessage:(0,se.assign)({flashMessage:e=>{}}),setFirstName:(0,se.assign)({firstName:(e,t)=>"SET_FIRST_NAME"===t.type?t.firstName:e.firstName}),setLastName:(0,se.assign)({lastName:(e,t)=>"SET_LAST_NAME"===t.type?t.lastName:e.lastName}),setOrganization:(0,se.assign)({organization:(e,t)=>"SET_ORGANIZATION"===t.type?t.organization:e.organization}),setEmail:(0,se.assign)({email:(e,t)=>"SET_EMAIL"===t.type?t.email:e.email}),setUsername:(0,se.assign)({username:(e,t)=>"SET_USERNAME"===t.type?t.username:e.username}),setPassword:(0,se.assign)({password:(e,t)=>"SET_PASSWORD"===t.type?t.password:e.password}),setPasswordConfirmation:(0,se.assign)({passwordConfirmation:(e,t)=>"SET_PASSWORD_CONFIRMATION"===t.type?t.passwordConfirmation:e.passwordConfirmation}),setUsernameOrEmail:(0,se.assign)({usernameOrEmail:(e,t)=>"SET_USERNAME_OR_EMAIL"===t.type?t.usernameOrEmail:e.usernameOrEmail}),setVerificationCode:(0,se.assign)({verificationCode:(e,t)=>"SET_VERIFICATION_CODE"===t.type?t.verificationCode:e.verificationCode}),setError:(0,se.assign)({flashMessage:(e,t)=>({message:t.data.error,type:"error"})}),setInfo:(0,se.assign)({flashMessage:(e,t)=>({message:t.data.info,type:"info"})}),setToken:(0,se.assign)({token:(e,t)=>t.data.token}),setCaptchaToken:(0,se.assign)({captchaToken:(e,t)=>t.data.token}),setUser:(0,se.assign)({user:(e,t)=>t.data}),setTokenInRedux:e=>{Q.Z.dispatch((0,K.updateUserToken)(e.token))},updateRedux:e=>{(0,ee.Rb)(e.user),Q.Z.dispatch((0,K.updateUser)({...e.user,token:e.token})),Q.Z.dispatch((0,K.refreshUser)())},closeWindowRef:e=>{e.windowRef&&e.windowRef.close()},setWindowRef:(0,se.assign)({windowRef:(e,t)=>"SET_WINDOW_REF"===t.type?t.windowRef:e.windowRef})},guards:{hasLoginData:e=>e.usernameOrEmail.length>0&&e.password.length>6,isUserVerified:(e,t)=>t.data.isVerified,errorFromCaptchaClose:(e,t)=>t.data.error instanceof B.K,isSsoRedirect:()=>"/sso-redirect"===window.location.pathname,isSignUpLink:e=>"SIGN_UP"===e.initialState,isSsoLink:e=>"SSO"===e.initialState},services:{login:async e=>{const t=await(0,f.x4)(e.usernameOrEmail,e.password);if(t.error)throw{error:t.error};return{token:t.token}},getUser:async e=>(0,f.Ai)(e.token),checkEmail:async e=>{if(!(await(0,f.Dg)(e.email)).emailAvailable)throw{error:"That email address is already in use."};return{}},checkUsername:async e=>{if(!(await(0,f.py)(e.username)).usernameAvailable)throw{error:"That username is already in use."};return{}},register:async e=>{const t=await(0,f.z2)({username:e.username,email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,organization:e.organization,utmCodes:(0,Y.L)(),recaptchaResponse:e.captchaToken});if(t.error)throw{error:t.error};return{token:t.token}},verify:async e=>{if((0,j.mx)())return void console.warn("Skipping verification for non-production environment");if(!await(0,f.lF)(e.verificationCode,e.token))throw{error:"Wrong Verification Code"}},resendVerificationCode:async e=>{if((await(0,f.hh)(e.token)).error)throw{error:"Failed to send the verification code"};return{info:"We resent the verification code."}},setResetEmail:async e=>{const t=await(0,f.gF)(e.email);if(t.error){if("This user doesn't use Runway as an authentication provider"===t.error)return{info:"Please log in with your Google account."};throw{error:"Failed to send the reset email"}}return{info:"If you have a Runway account matching this email address, you will receive a password reset link in the next 10 minutes"}}}});var ue=s("./node_modules/process/browser.js");const me=e=>(0,i.jsx)(n.Suspense,{fallback:null,children:(0,i.jsx)(he,{...e})}),he=e=>{let{children:t,service:s}=e;const{data:o,isValidating:a}=(0,C.ZP)("useGoogleClientConfig",f.c2,{suspense:!0}),r=(0,n.useCallback)((async()=>{if(a)return;s.send("LOGIN_WITH_GOOGLE");const e=E.Z(),t={access_type:"online",response_type:"id_token",redirect_uri:de,client_id:o.googleOAuthClientId,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",nonce:e,prompt:"select_account",flowName:"GeneralOAuthFlow"},n=`https://accounts.google.com/o/oauth2/v2/auth/oauthchooseaccount?${(0,H.uM)(t)}`,{windowRef:i}=((e,t,s)=>{let{windowRef:o,previousUrl:n}=s;const{url:a}=e;return null===o||o.closed?(o=X(e),J(t)):o&&n!==a?(o.close(),o=X(e),o.focus(),J(t)):o.focus(),{windowRef:o,url:a}})({url:n,title:"Runway",width:600,height:800},(async e=>{if(e.origin!==window.location.origin)return;if(e.data.error)return s.send({type:"ERROR",data:{error:"Error logging in with Google"}}),void(0,u.uT)("Error logging in with Google",{extra:e.data});if(ue.env.STAGE&&"true"===(0,W.ub)("persistGoogleIdTokenForAPITests")&&localStorage.setItem("googleIdToken",e.data.idToken),!e.data.idToken)return void(0,u.uT)("Google sign-in did not return an idToken",{extra:e.data});const t=await(0,f.Cb)(e.data.idToken,{utmCodes:(0,Y.L)()});t.error?s.send({type:"ERROR",data:{error:t.error}}):s.send({type:"SUCCESS",data:{token:t.token}})}),{windowRef:null,previousUrl:null});s.send({type:"SET_WINDOW_REF",windowRef:i})}),[s,o,a]);return(0,i.jsxs)(R.H4,{onClick:r,children:[(0,i.jsx)(ge,{children:(0,i.jsx)($.default,{})}),(0,i.jsx)(R.fI,{children:t})]})},ge=a.ZP.span.withConfig({displayName:"GoogleLogin__IconContainer",componentId:"sc-xiezfc-0"})(["position:absolute;top:0;left:0;box-sizing:border-box;height:50px;width:50px;display:flex;justify-content:center;align-items:center;"]),fe=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.flashMessage));return(0,i.jsxs)(w.x,{flexDirection:"column",gap:"32px",children:[(0,i.jsx)(b.Z,{bold:!0,center:!0,xl:!0,color:"textWhiteUI",children:"Logging in with Google"}),s?(0,i.jsx)(D,{service:t}):(0,i.jsx)(w.x,{justifyContent:"center",children:(0,i.jsx)(N.Z,{color:"#000"})}),(0,i.jsx)(R.zx,{loading:!1,onClick:()=>t.send("GO_BACK"),children:"Cancel"})]})},ye=e=>{let{children:t,service:s}=e;return(0,i.jsx)(R.H4,{onClick:()=>s.send("LOGIN_WITH_SSO"),children:(0,i.jsx)(R.fI,{children:t})})},xe=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.usernameOrEmail)),o=(0,h.v)(t,(e=>e.context.password)),n=(0,h.v)(t,(e=>["LOGIN.SUBMITTING","LOGIN.FETCHING_USER"].some(e.matches)));return(0,i.jsxs)(w.x,{flexDirection:"column",children:[(0,i.jsxs)(w.x,{flexDirection:"column",gap:"8px",mb:"16px",children:[(0,i.jsx)(R.h4,{children:"Welcome to Runway"}),(0,i.jsxs)(b.Z,{center:!0,md:!0,color:"textWhiteUI",children:["Don't have an account?"," ",(0,i.jsx)(ve,{onClick:()=>t.send("SIGN_UP"),children:"Sign up for free"})]})]}),(0,i.jsxs)(w.x,{as:"form",flexDirection:"column",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},marginTop:"8px",children:[(0,i.jsxs)(w.x,{flexDirection:"column",gap:"8px",children:[(0,i.jsx)(R.II,{name:"usernameOrEmail",placeholder:"Username or Email",disabled:n,required:!0,type:"text",value:s,onChange:e=>t.send({type:"SET_USERNAME_OR_EMAIL",usernameOrEmail:e.target.value})}),(0,i.jsx)(R.II,{name:"password",placeholder:"Password",disabled:n,type:"password",minLength:6,required:!0,value:o,onChange:e=>t.send({type:"SET_PASSWORD",password:e.target.value})})]}),(0,i.jsx)(D,{service:t}),(0,i.jsx)(R.zx,{loading:n,type:"submit",children:"Log in"})]}),(0,i.jsxs)(w.x,{flexDirection:"column",gap:"16px",marginTop:"8px",children:[(0,i.jsx)(R.Xk,{}),(0,i.jsx)(me,{service:t,children:"Log in with Google"}),(0,i.jsx)(Z,{service:t,message:"Log in with Apple"}),(0,i.jsx)(ye,{service:t,children:"Use Single Sign-On (SSO)"}),(0,i.jsx)(be,{onClick:()=>t.send("FORGOT_PASSWORD"),children:"Forgot Password"})]})]})},ve=a.ZP.button.withConfig({displayName:"Login__SignUpButton",componentId:"sc-1ygw9yk-0"})(["background-color:transparent;border:none;padding:0;cursor:pointer;font-weight:600;color:",";line-height:",";"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.lineHeight.lg)),be=a.ZP.button.withConfig({displayName:"Login__ForgotPasswordButton",componentId:"sc-1ygw9yk-1"})(["background-color:transparent;height:36px;border:none;padding:0;font-size:12px;color:#3c3c3c;border-radius:2px;cursor:pointer;&:focus-visible{outline:2px solid ",";}&:hover{color:",";}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary));var we=s("./app/components/UI/Base.tsx");const _e=a.ZP.a.withConfig({displayName:"Link__LinkWhiteUI",componentId:"sc-1t4kmw6-0"})(["color:","};cursor:pointer;text-decoration:none;&:hover{text-decoration:underline;}"],(e=>{let{theme:t}=e;return t.colors.primary})),Ie=((0,a.ZP)(_e).withConfig({displayName:"Link__LinkDarkUI",componentId:"sc-1t4kmw6-1"})(["color:","};"],(e=>{let{theme:t}=e;return t.colors.primaryLight})),e=>{let{service:t}=e;return(0,i.jsxs)(we.x,{flexDirection:"column",gap:"32px",children:[(0,i.jsx)(b.Z,{bold:!0,center:!0,xl:!0,color:"textWhiteUI",children:"Could not log in with SSO"}),(0,i.jsxs)(b.Z,{center:!0,md:!0,color:"textWhiteUI",children:["To troubleshoot your Enterprise account or to upgrade, please contact"," ",(0,i.jsx)(_e,{href:"mailto:sales@runwayml.com",children:"sales@runwayml.com"})]}),(0,i.jsx)(R.zx,{loading:!1,onClick:()=>t.send("GO_BACK"),children:"Go back"})]})}),Te=e=>{let{service:t}=e;return(0,i.jsxs)(we.x,{flexDirection:"column",gap:"32px",children:[(0,i.jsx)(b.Z,{bold:!0,center:!0,xl:!0,color:"textWhiteUI",children:"Logging in with SSO"}),(0,i.jsx)(we.x,{justifyContent:"center",children:(0,i.jsx)(N.Z,{color:"#000"})}),(0,i.jsx)(R.zx,{loading:!1,onClick:()=>t.send("GO_BACK"),children:"Cancel"})]})},je=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.email)),o=(0,G.o)(s),n=(0,h.v)(t,(e=>e.matches("STEP_1.CHECKING_EMAIL")));return(0,i.jsxs)(we.x,{as:"form",flexDirection:"column",gap:"16px",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},children:[(0,i.jsxs)(we.x,{flexDirection:"column",gap:"16px",children:[(0,i.jsx)(ke,{children:"What's your email address?"}),(0,i.jsxs)(b.Z,{center:!0,md:!0,color:"textWhiteUI",children:["SSO is only available for Enterprise plans. To learn more, contact"," ",(0,i.jsx)(_e,{href:"mailto:sales@runwayml.com",children:"sales@runwayml.com"})]}),(0,i.jsx)(R.II,{autoComplete:"email",name:"email",placeholder:"Enter Email Address",required:!0,type:"email",value:s,onChange:e=>t.send({type:"SET_EMAIL",email:e.target.value})})]}),(0,i.jsx)(R.zx,{loading:n,disabled:!o,type:"submit",children:"Continue with SSO"}),(0,i.jsx)(Ce,{onClick:()=>t.send("GO_BACK")})]})};var ke=(0,a.ZP)(R.h4).withConfig({displayName:"SSOLoginStep1___StyledHeader",componentId:"sc-1l1vaeq-0"})(["margin-bottom:16px;"]),Ce=(0,a.ZP)(R.xE).withConfig({displayName:"SSOLoginStep1___StyledBackButton",componentId:"sc-1l1vaeq-1"})(["position:relative;align-self:start;margin-top:8px;"]);const Ee=e=>{let{ssoService:t}=e;const s=(0,h.v)(t,(e=>["STEP_1"].some(e.matches))),o=(0,h.v)(t,(e=>["SUBMITTING"].some(e.matches))),n=(0,h.v)(t,(e=>["REDIRECTING"].some(e.matches))),a=(0,h.v)(t,(e=>["ERROR"].some(e.matches)));return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsx)(je,{service:t}),o&&(0,i.jsx)(Te,{service:t}),n&&(0,i.jsx)(Te,{service:t}),a&&(0,i.jsx)(Ie,{service:t})]})};var Se=s("./app/api/user.ts"),Ae=s("./app/components/Prefabs/Button.tsx");const Me=e=>{let{unsubscribeToken:t,onComplete:s}=e;const o=(0,n.useCallback)((async e=>{await(0,Se.OK)(t,{marketing:!e}),s()}),[t,s]);return(0,i.jsxs)(we.x,{flexDirection:"column",gap:"16px",width:"100%",children:[(0,i.jsx)(Pe,{message:"Subscribe",onClick:()=>o(!0)}),(0,i.jsx)(Ae.Z,{message:"Skip",onClick:()=>o(!1),secondary:!0,whiteUI:!0,noBackground:!0})]})};var Pe=(0,a.ZP)(Ae.Z).withConfig({displayName:"EmailSubscribe___StyledButton",componentId:"sc-15p2pg5-0"})(["background-color:",";border-radius:100px;min-height:48px;span{font-size:16px;}"],(e=>e.theme.colors.primary)),Ne=s("./app/devoe/themeDark.ts"),De=s("./app/utils/hooks/useSafeState.ts");const Oe=()=>(0,i.jsxs)(c,{children:["This site is protected by reCAPTCHA and the Google"," ",(0,i.jsx)(d,{href:"https://policies.google.com/privacy",target:"_blank",children:"Privacy Policy"})," ","and"," ",(0,i.jsx)(d,{href:"https://policies.google.com/terms",target:"_blank",children:"Terms of Service"})," ","apply."]}),Le=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.matches("SIGN_UP.STEP_1"))),o=(0,h.v)(t,(e=>e.matches("SIGN_UP.STEP_2"))),n=(0,h.v)(t,(e=>e.matches("SIGN_UP.STEP_3")||e.matches("SIGN_UP.SUBMITTING"))),a=(0,h.v)(t,(e=>e.matches("SIGN_UP.VERIFY"))),r=(0,h.v)(t,(e=>e.matches("SIGN_UP.SUBSCRIBE"))),l=(0,h.v)(t,(e=>e.context.email));let c="Create an account";return a?c="Enter Verification Code":r&&(c="Don't miss a beat."),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(w.x,{flexDirection:"column",mb:"24px",children:[(0,i.jsxs)(w.x,{flexDirection:"column",gap:"8px",children:[(0,i.jsx)(R.h4,{children:c}),a&&(0,i.jsxs)("p",{style:{textAlign:"center",color:"#66676c",fontSize:"0.9em",lineHeight:"1.6em"},children:["We sent a verification code to ",`${l}.`," Please enter the code below."]}),r&&(0,i.jsx)(b.Z,{center:!0,lg:!0,color:"textWhiteUI",children:"Get the best of Runway to your inbox and stay up to date on new AI Magic Tools, new features, and the latest offers."}),!a&&!r&&(0,i.jsxs)(b.Z,{center:!0,md:!0,color:"uiLevel3",children:["Already have an account?"," ",(0,i.jsx)(Re,{onClick:()=>t.send("LOGIN"),children:"Log in"})]})]}),(0,i.jsx)(D,{service:t}),s&&(0,i.jsx)(Ue,{service:t}),s&&(0,i.jsxs)(w.x,{flexDirection:"column",gap:"16px",mt:"8px",children:[(0,i.jsx)(R.Xk,{}),(0,i.jsx)(me,{service:t,children:"Sign up with Google"}),(0,i.jsx)(Z,{service:t,message:"Sign up with Apple"}),(0,i.jsx)(ye,{service:t,children:"Use Single Sign-On (SSO)"})]}),o&&(0,i.jsx)(ze,{service:t}),n&&(0,i.jsx)(Be,{service:t}),a&&(0,i.jsx)(Ge,{service:t}),r&&(0,i.jsx)(Me,{onComplete:()=>t.send("SUBMIT"),unsubscribeToken:t.getSnapshot().context.user.unsubscribeToken})]}),!s&&(0,i.jsxs)(R.p1,{alignItems:"center",justifyContent:"center",gap:"10px",children:[(o||n||a)&&(0,i.jsx)(R.xE,{onClick:()=>t.send("GO_BACK")}),!a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R.i1,{$active:s}),(0,i.jsx)(R.i1,{$active:o}),(0,i.jsx)(R.i1,{$active:n})]}),a&&(0,i.jsxs)(w.x,{flexDirection:"column",gap:"8px",children:[(0,i.jsx)(Ze,{onClick:()=>t.send("RESEND_CODE"),children:"Resend code"}),(0,i.jsx)(Ze,{as:"a",target:"_blank",rel:"noreferrer",href:"https://help.runwayml.com/hc/en-us/articles/4402099755155",children:"Haven't received a verification code?"})]})]})]})},Re=a.ZP.button.withConfig({displayName:"SignUp__LoginButton",componentId:"sc-8nxyht-0"})(["background-color:transparent;border:none;padding:0;cursor:pointer;font-weight:600;color:",";line-height:",";"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.lineHeight.lg)),Ze=a.ZP.button.withConfig({displayName:"SignUp__VerificationMessage",componentId:"sc-8nxyht-1"})(["color:#3c3c3c;font-size:12px;cursor:pointer;background-color:transparent;padding:0;border:none;&:hover,&:focus-visible{color:",";}"],(e=>e.theme.colors.primary)),Ue=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.email)),o=(0,G.o)(s),n=(0,h.v)(t,(e=>e.matches("SIGN_UP.STEP_1.CHECKING_EMAIL")));return(0,i.jsxs)(w.x,{as:"form",flexDirection:"column",gap:"16px",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},children:[(0,i.jsx)(w.x,{flexDirection:"column",gap:"8px",children:(0,i.jsx)(R.II,{autoComplete:"email",name:"email",placeholder:"Enter Email Address",required:!0,type:"email",value:s,onChange:e=>t.send({type:"SET_EMAIL",email:e.target.value})})}),(0,i.jsx)(R.zx,{loading:n,disabled:!o,type:"submit",children:"Next"})]})},ze=e=>{let{service:t}=e;const o=(0,h.v)(t,(e=>e.matches("SIGN_UP.STEP_2.CHECKING_USERNAME"))),a=(0,h.v)(t,(e=>e.context.username)),r=(0,h.v)(t,(e=>e.context.password)),l=(0,h.v)(t,(e=>e.context.passwordConfirmation)),c=(e=>e.includes(" ")?"Username cannot contain spaces":e.includes("@")?"Username cannot contain @":null)(a),d=null===c,[p,u]=(0,De.Z)(null),[m,g]=(0,De.Z)(null);(0,n.useEffect)((()=>{m?u(m.getStrength(r).score):async function(){const e=await s.e(86923).then(s.t.bind(s,"./node_modules/zxcvbn/lib/main.js",23));u(e.default(r).score),g({getStrength:e.default})}()}),[r,u,g,m]);const f=r===l,y=null!==p&&p<2;let x="";!d&&a.length>0?x=c:r.length>4&&(y?x="Password is too weak":!f&&l&&(x="Passwords do not match"));return(0,i.jsxs)(w.x,{as:"form",flexDirection:"column",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},children:[(0,i.jsxs)(w.x,{flexDirection:"column",gap:"8px",mb:"16px",children:[(0,i.jsx)(R.II,{autoComplete:"username",name:"username",placeholder:"Username (no special characters)",disabled:o,required:!0,type:"text",value:a,onChange:e=>t.send({type:"SET_USERNAME",username:e.target.value})}),(0,i.jsx)(R.II,{autoComplete:"new-password",name:"password",placeholder:"Password (at least 6 characters)",disabled:o,required:!0,minLength:6,type:"password",value:r,onChange:e=>t.send({type:"SET_PASSWORD",password:e.target.value})}),(0,i.jsx)(R.II,{autoComplete:"new-password",name:"passwordConfirmation",placeholder:"Confirm Password",disabled:o,required:!0,minLength:6,type:"password",value:l,onChange:e=>t.send({type:"SET_PASSWORD_CONFIRMATION",passwordConfirmation:e.target.value})})]}),(0,i.jsxs)(w.x,{gap:"10px",mb:"10px",children:[(0,i.jsx)(Ve,{$poor:r.length>4&&y,$fair:2===p,$good:3===p,$great:4===p}),(0,i.jsx)(Ve,{$fair:2===p,$good:3===p,$great:4===p}),(0,i.jsx)(Ve,{$good:3===p,$great:4===p}),(0,i.jsx)(Ve,{$great:4===p})]}),(0,i.jsx)(w.x,{justifyContent:"center",alignItems:"center",height:"16px",mb:"16px",children:(0,i.jsx)("span",{style:{fontSize:"14px",color:Ne.Z.colors.red},children:x})}),(0,i.jsx)(R.zx,{loading:o,disabled:a.length<1||y||!f||!!x,type:"submit",children:"Next"})]})},Ve=a.ZP.div.withConfig({displayName:"SignUp__PasswordStrengthIndicator",componentId:"sc-8nxyht-2"})(["width:100%;height:4px;opacity:0.8;transition:background-color 800ms linear;border-radius:4px;background-color:",";"],(e=>e.$great?"#61af82":e.$good?"#73e5a2":e.$fair?"#ada537":e.$poor?"#bb757c":"#dfdfe4")),Be=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.matches("SIGN_UP.SUBMITTING"))),o=(0,h.v)(t,(e=>e.context.firstName)),n=(0,h.v)(t,(e=>e.context.lastName)),a=(0,h.v)(t,(e=>e.context.organization));return(0,i.jsxs)(w.x,{as:"form",flexDirection:"column",gap:"16px",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},children:[(0,i.jsxs)(w.x,{flexDirection:"column",gap:"8px",children:[(0,i.jsx)(R.II,{autoComplete:"given-name",name:"firstName",placeholder:"First Name",disabled:s,required:!0,type:"text",value:o,onChange:e=>t.send({type:"SET_FIRST_NAME",firstName:e.target.value})}),(0,i.jsx)(R.II,{autoComplete:"family-name",name:"lastName",placeholder:"Last Name",disabled:s,required:!0,type:"text",value:n,onChange:e=>t.send({type:"SET_LAST_NAME",lastName:e.target.value})}),(0,i.jsx)(R.II,{autoComplete:"organization",name:"organization",placeholder:"Organization (Optional)",disabled:s,type:"text",value:a,onChange:e=>t.send({type:"SET_ORGANIZATION",organization:e.target.value})})]}),(0,i.jsx)(R.zx,{loading:s,disabled:o.length<1||n.length<1,type:"submit",children:"Create Account"}),(0,i.jsx)(Oe,{})]})},Ge=e=>{let{service:t}=e;const s=(0,h.v)(t,(e=>e.context.verificationCode)),o=(0,h.v)(t,(e=>["SIGN_UP.VERIFY.SUBMITTING","SIGN_UP.VERIFY.SENDING_VERIFICATION_CODE"].some(e.matches)));return(0,i.jsxs)(w.x,{as:"form",flexDirection:"column",gap:"16px",onSubmit:e=>{e.preventDefault(),t.send("SUBMIT")},children:[(0,i.jsx)(w.x,{flexDirection:"column",gap:"8px",children:(0,i.jsx)(R.II,{disabled:o,autoComplete:"one-time-code",name:"verificationCode",placeholder:"Verification Code",required:!0,type:"text",value:s,onChange:e=>t.send({type:"SET_VERIFICATION_CODE",verificationCode:e.target.value})})}),(0,i.jsx)(R.zx,{loading:o,disabled:s.length<1,type:"submit",children:"Validate"})]})},Fe=e=>{let{onLogin:t,...s}=e;return(0,i.jsx)(p.fC,{...s,modal:!1,children:(0,i.jsxs)(p.h_,{children:[(0,i.jsx)(g.t9,{}),(0,i.jsx)(Ye,{children:(0,i.jsx)($e,{onLogin:t})})]})})},$e=e=>{let{onLogin:t,initialState:s="LOGIN"}=e;const{reCAPTCHAExecuteAsync:o}=(0,V.C9)(),n=(0,m.k)(pe,{context:{initialState:s},actions:{notifyParent:e=>t?.(e.user)},services:{executeCaptcha:async()=>{try{return await o()}catch(e){if(e instanceof B.K)throw{error:e};throw(0,u.Tb)(e),{error:"An error occurred. Please try again."}}}}}),a=(0,h.v)(n,(e=>e.matches("LOGIN"))),l=(0,h.v)(n,(e=>e.matches("SIGN_UP"))),c=(0,h.v)(n,(e=>e.matches("SIGN_UP.STEP_1"))),d=(0,h.v)(n,(e=>e.matches("FORGOT_PASSWORD"))),p=(0,h.v)(n,(e=>["LOGIN.LOGGING_IN_WITH_GOOGLE","SIGN_UP.LOGGING_IN_WITH_GOOGLE"].some(e.matches))),g=(0,h.v)(n,(e=>["LOGIN.LOGGING_IN_WITH_APPLE","SIGN_UP.LOGGING_IN_WITH_APPLE"].some(e.matches))),f=(0,h.v)(n,(e=>["LOGIN.LOGGING_IN_WITH_SSO","SIGN_UP.LOGGING_IN_WITH_SSO"].some(e.matches))),y=p||g||f,x=(0,h.v)(n,(e=>e.children.sso));return(0,i.jsxs)(We,{children:[a&&!y&&(0,i.jsx)(xe,{service:n}),l&&!y&&(0,i.jsx)(Le,{service:n}),p&&(0,i.jsx)(fe,{service:n}),g&&(0,i.jsx)(z,{service:n}),x&&f&&(0,i.jsx)(Ee,{ssoService:x}),d&&(0,i.jsx)(F,{service:n}),c&&(0,i.jsx)(r,{})]})},We=a.ZP.div.withConfig({displayName:"Authentication__InnerContent",componentId:"sc-1jwexxq-0"})(["height:100%;min-width:330px;width:100%;position:relative;"]),He=e=>(0,i.jsx)(V.KN,{children:(0,i.jsx)(Fe,{...e})});var Ye=(0,a.ZP)(g.cZ).withConfig({displayName:"Authentication___StyledDialogContent",componentId:"sc-1jwexxq-1"})(["width:400px;"])},"./app/components/Prefabs/Authentication/shared.tsx":(e,t,s)=>{"use strict";s.d(t,{H4:()=>b,II:()=>d,Xk:()=>v,fI:()=>w,h4:()=>y,i1:()=>h,p1:()=>m,xE:()=>g,zx:()=>p});var o=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),n=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),a=s("./app/devoe/assets/icons/@component-icons/receive-arrow.svg"),i=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),r=s("./app/components/Prefabs/Loader/Loader.tsx"),l=s("./app/components/Prefabs/Text.tsx"),c=s("./node_modules/react/jsx-runtime.js");const d=i.ZP.input.withConfig({displayName:"shared__Input",componentId:"sc-u1vhk1-0"})(["border:1px solid #dfdfe4;background-color:#fff;box-sizing:border-box;height:50px;width:100%;border-radius:8px;padding:16px;color:#000;&:focus-visible{outline:1px solid ",";outline-offset:-2px;}"],(e=>e.theme.colors.primary)),p=e=>{let{loading:t,children:s,disabled:o,...n}=e;return(0,c.jsxs)(u,{$loading:t,disabled:o||t,...n,children:[(0,c.jsx)("span",{children:t&&(0,c.jsx)(r.Z,{height:16,width:16})}),(0,c.jsx)("span",{children:!t&&s})]})},u=(0,i.ZP)(n.KM).withConfig({displayName:"shared__StyledButton",componentId:"sc-u1vhk1-1"})(["height:50px;border-radius:25px;font-weight:600;background-color:",";:disabled{cursor:not-allowed;background-color:",";color:#fff;}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),m=(0,i.ZP)(o.x).withConfig({displayName:"shared__ProgressContainer",componentId:"sc-u1vhk1-2"})(["position:relative;height:16px;"]),h=i.ZP.div.withConfig({displayName:"shared__ProgressDot",componentId:"sc-u1vhk1-3"})(["height:6px;width:6px;border-radius:50%;background-color:",";"],(e=>e.$active?e.theme.colors.primary:"#afb1b8")),g=e=>(0,c.jsx)(f,{...e,children:(0,c.jsx)(a.default,{style:{fill:"currentColor"}})}),f=i.ZP.button.withConfig({displayName:"shared__StyledBackButton",componentId:"sc-u1vhk1-4"})(["position:absolute;top:50%;left:0;transform:translateY(-50%);background-color:transparent;border:none;padding:0;cursor:pointer;border-radius:2px;height:16px;font-size:16px;color:#87898f;&:hover,&:focus-visible{color:",";}&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),y=i.ZP.h2.withConfig({displayName:"shared__Header",componentId:"sc-u1vhk1-5"})(["font-size:1.8em;font-weight:600;color:#080809;text-align:center;"]),x=i.ZP.div.withConfig({displayName:"shared__DividerDiv",componentId:"sc-u1vhk1-6"})(["position:relative;height:20px;margin-bottom:16px;text-align:center;width:100%;border-bottom:1px solid #dfdfe4;"]),v=()=>(0,c.jsx)(x,{children:(0,c.jsx)("div",{style:{width:"100%",height:"50%",position:"relative"},children:(0,c.jsx)("div",{style:{position:"absolute",top:"calc(50% + 6px)",left:"calc(50% - 25px)",background:"white",padding:"0 16px"},children:(0,c.jsx)(l.Z,{color:"secondary",style:{color:"#3c3c3c",background:"white",borderRadius:"90px"},children:"OR"})})})}),b=i.ZP.button.withConfig({displayName:"shared__AuthProviderButton",componentId:"sc-u1vhk1-7"})(["box-sizing:border-box;display:flex;flex-direction:row;padding:0;height:50px;border-radius:25px;border:1px solid #dfdfe4;background-color:#fff;position:relative;cursor:pointer;overflow:hidden;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:hover{border-color:",";}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),w=i.ZP.span.withConfig({displayName:"shared__AuthProviderTextContainer",componentId:"sc-u1vhk1-8"})(["display:flex;justify-content:center;align-items:center;width:100%;height:100%;color:#3c3c3c;font-weight:bold;font-size:14px;"])},"./app/components/Prefabs/Avatar/Avatar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s("./node_modules/classnames/bind.js"),n=s.n(o),a=s("./node_modules/react/index.js"),i=s("./app/utils/hooks/useImage.ts"),r=s("./app/utils/string.ts");var l=s("./node_modules/react/jsx-runtime.js");const c=n().bind({Avatar:"Avatar__Avatar__OPdHT",Circle:"Avatar__Circle__VVrqC",Rounded:"Avatar__Rounded__we8mK",XSmall:"Avatar__XSmall__Qqcxx",Small:"Avatar__Small__P5mjY",Medium:"Avatar__Medium___I5vJ",Large:"Avatar__Large__Tg8ph",XLarge:"Avatar__XLarge__yX5wo",WithBorder:"Avatar__WithBorder__uJP3U",Interactive:"Avatar__Interactive__Z49ko","moving-gradient":"Avatar__moving-gradient__Zdy28",pulse:"Avatar__pulse__taF9X",gradient:"Avatar__gradient__DG7AU",blink:"Avatar__blink__qbrg9"}),d=128,p=128;class u extends a.Component{props;static defaultProps={image:null,margin:!1,borderColor:void 0};constructor(e){super(e),this.state={useFallback:!1}}render(){const{image:e,user:t,type:s,size:o,withBorder:n,borderColor:a,dataTip:u,style:m,className:h,interactive:g,testId:f}=this.props,{useFallback:y}=this.state,x=c({Avatar:!0,Circle:"circle"===s,Rounded:"rounded"===s,XSmall:"x-small"===o,Small:"small"===o,Medium:"medium"===o,Large:"large"===o,XLarge:"x-large"===o,WithBorder:n,Interactive:g,className:h});return(0,l.jsx)("div",{"data-effect":"solid",className:x,style:{border:a&&n?`8px solid ${a}`:null,...m},...f&&{"data-testid":f},...u&&{"data-tip":u||t},children:e&&!y?(0,l.jsx)("img",{src:(0,i.wD)(e,p,d),alt:t,draggable:!1,onError:t=>{let{currentTarget:s}=t;s.onerror=null,s.src!==e?s.src=e:this.setState({useFallback:!0})}}):(0,l.jsx)("p",{children:(0,r.Oo)(t.slice(0,2))})})}}const m=u},"./app/components/Prefabs/Block.tsx":(e,t,s)=>{"use strict";s.d(t,{gO:()=>b,JX:()=>_,x_:()=>m,X2:()=>T,ZG:()=>k,ZP:()=>C,W0:()=>h,x9:()=>g});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/utils/animations.ts"),i=s("./app/utils/hooks/useBreakpoint.ts"),r=s("./node_modules/react/jsx-runtime.js");const l=(0,o.createContext)(0),c=l.Provider,d=e=>{let{children:t}=e;const s=(0,o.useContext)(l)+1;if(s>4)throw new Error("Nesting levels above 3 are not supported");return(0,r.jsx)(c,{value:s,children:t})},p=e=>{let{children:t}=e;const s=(0,o.useContext)(l)-1;if(s<0)throw new Error("Nesting levels below 0 are not supported");return(0,r.jsx)(c,{value:s,children:t})};var u=s("./app/utils/color.ts");const m=(0,o.createContext)(8),h=e=>e/12*100+"%",g=e=>void 0===e?"":e instanceof Array?`${e.join("px ")}px`:`${e}px`,f=(0,n.iv)(["display:",";box-sizing:border-box;min-width:",";min-height:",";max-width:",";max-height:",";background:",";background:",";background-image:",";background-size:",";background-position:",";z-index:",";"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(e=>e.hidden?"none":e.flex?"flex":"block"),(e=>e.minWidth?`${e.minWidth}px`:"initial"),(e=>e.minHeight?`${e.minHeight}px`:"initial"),(e=>e.maxWidth?`${e.maxWidth}px`:"none"),(e=>e.maxHeight?`${e.maxHeight}px`:"none"),(e=>e.whiteBackground&&e.theme.colors.white),(e=>e.blackBackground&&"#000"),(e=>e.transparentBackground&&"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)"),(e=>e.transparentBackground&&"20px 20px"),(e=>e.transparentBackground&&" 0 0, 0 10px, 10px -10px, -10px 0px"),(e=>e.zIndex||0==e.zIndex?e.zIndex:"auto"),(e=>e.onClick?"cursor: pointer;":""),(e=>e.size&&(e.horizontal?`height: ${h(e.size)};`:`width: ${h(e.size)};`)),(e=>{let{pad:t}=e;return void 0===t?"":`padding: ${g(t)};`}),(e=>{if(e.horizontal){if(e.span)return`width: ${h(e.span)};`}else if(e.span)return`height: ${h(e.span)};`}),(e=>{if(e.horizontal){if(e.alignLeft)return"justify-content: flex-start;";if(e.alignCenterHorizontal)return"justify-content: center;";if(e.alignRight)return"justify-content: flex-end;";if(e.alignCenter)return"justify-content: center;";if(e.spaceBetween)return"justify-content: space-between;";if(e.spaceAround)return"justify-content: space-around;";if(e.spaceEvenly)return"justify-content: space-evenly;"}else{if(e.alignTop)return"justify-content: flex-start;";if(e.alignCenterVertical)return"justify-content: center;";if(e.alignBottom)return"justify-content: flex-end;";if(e.alignCenter)return"justify-content: center;";if(e.spaceBetween)return"justify-content: space-between;";if(e.spaceAround)return"justify-content: space-around;";if(e.spaceEvenly)return"justify-content: space-evenly;"}}),(e=>e.horizontal?e.reverse?"flex-direction: row-reverse;":"flex-direction: row;":e.reverse?"flex-direction: column-reverse;":"flex-direction: column;"),(e=>{if(e.wrap)return"flex-wrap: wrap;"}),(e=>{if(e.horizontal){if(e.alignTop)return"align-items: flex-start;";if(e.alignCenterVertical)return"align-items: center;";if(e.alignBottom)return"align-items: flex-end;";if(e.alignCenter)return"align-items: center;"}else{if(e.alignLeft)return"align-items: flex-start;";if(e.alignCenterHorizontal)return"align-items: center;";if(e.alignRight)return"align-items: flex-end;";if(e.alignCenter)return"align-items: center;"}}),(e=>{if(e.sticky)return`\n        position: sticky;\n        top: ${e.top}px;\n        `}),(e=>{if(e.horizontal){if(e.grow)return"flex-grow: 1;"}else if(e.grow)return"flex-grow: 1;"}),(e=>e.inactive?"\n      opacity: 0.2;\n      pointer-events:none;\n      filter: blur(1px);\n    ":""),(e=>e.horizontal?(0,n.iv)(["& > :not(:last-child){margin-right:","px;}"],(e=>e.gutter??8)):(0,n.iv)(["& > :not(:last-child){margin-bottom:","px;}"],(e=>e.gutter??8))),(e=>{if(e.offset)return e.horizontal?`margin-left: ${h(e.offset)};`:`margin-top: ${h(e.offset)};`}),(e=>{if(e.box||e.boxUp){let t;switch(e.nestingLevel){case 0:t=e.theme.colors.uiBackground;break;case 1:t=e.theme.colors.uiLevel1;break;case 2:t=e.theme.colors.uiLevel2;break;case 3:t=e.theme.colors.uiLevel3}return(0,n.iv)(["background:",";border-radius:",";"],t,(e=>e.theme.border.boxRadius))}if(e.selectedBackground)return(0,n.iv)(["background:",";& :hover{background:"," !important;}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark))}),a.kE,(e=>{let t;if(e.dangerHoverable)return t=e.theme.colors.dangerHoverable,(0,n.iv)(["& :hover{background:",";user-select:none;}"],t);if(e.hoverable){switch(e.nestingLevel){case 0:t=e.theme.colors.uiLevel1;break;case 1:t=e.theme.colors.uiLevel2;break;case 2:t=e.theme.colors.uiLevel3}return(0,n.iv)(["& :hover{background:",";user-select:none;}"],t)}if(e.hoverableWhite){const t=(0,u.eh)((0,u.uG)(e.theme.colors.uiHoverable,.25));return(0,n.iv)(["& :hover{background:",";user-select:none;}"],t)}}),(e=>{if(e.horizontal){if(e.overflowHidden)return"overflow: hidden;"}else if(e.overflowHidden)return"overflow: hidden;"}),(e=>{if(e.relative){if(e.relative)return"position: relative;"}else if(e.relative)return"position: relative;"}),(e=>{if(e.debug)return"\n      background-color: red !important;\n      outline: 4px solid pink !important;\n      outline-offset: -4px !important;\n    "}),(e=>"x"===e.scrollable?"overflow: hidden; overflow-x: auto;":"y"===e.scrollable?"overflow: hidden; overflow-y: auto;":e.scrollable?"overflow: auto;":void 0)),y=(e,t)=>(0,n.iv)([""," ",""],t.size&&(e?`height: ${h(t.size)};`:`width: ${h(t.size)};`),t.span&&(e?`width: ${h(t.span)};`:`height: ${h(t.span)};`)),x=n.ZP.div.withConfig({displayName:"Block__StyledBlock",componentId:"sc-17sayxe-0"})([""," @media ","{",";}@media ","{",";}@media ","{",";}@media ","{",";}@media ","{",";}"],f,i.w.xs,(e=>y(e.horizontal||!1,{...e.xs})),i.w.sm,(e=>y(e.horizontal||!1,{...e.sm})),i.w.md,(e=>y(e.horizontal||!1,{...e.md})),i.w.lg,(e=>y(e.horizontal||!1,{...e.lg})),i.w.xl,(e=>y(e.horizontal||!1,{...e.xl}))),v=(e,t)=>{let{ariaLabel:s,...n}=e,a=(0,o.useContext)(l);const i=(0,o.useContext)(m);n.box&&a++,n.boxUp&&a--;const c={nestingLevel:a,gutter:i,...n};let u=(0,r.jsx)(x,{ref:t,"aria-label":s,...c});return n.gutter&&(u=(0,r.jsx)(m.Provider,{value:n.gutter,children:u})),n.box&&(u=(0,r.jsx)(d,{children:u})),n.boxUp&&(u=(0,r.jsx)(p,{children:u})),u},b=(0,o.forwardRef)(v),w=(e,t)=>(0,r.jsx)(b,{flex:!0,ref:t,...e,size:e.size,horizontal:!1}),_=(0,o.forwardRef)(w),I=(e,t)=>(0,r.jsx)(b,{flex:!0,ref:t,...e,size:e.size,horizontal:!0}),T=(0,o.forwardRef)(I),j=(e,t)=>(0,r.jsx)(b,{ref:t,...e,horizontal:!1}),k=(0,o.forwardRef)(j),C=b},"./app/components/Prefabs/Button.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b,z:()=>x});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/utils/openInCurrentOrNewWindow.ts"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./app/actions/flash.ts"),l=s("./app/utils/hooks/useIsMountedRef.ts"),c=s("./app/utils/hooks/useSafeState.ts"),d=s("./app/components/Prefabs/Block.tsx"),p=s("./app/components/Prefabs/Icon/Icon.tsx"),u=s("./app/components/Prefabs/Text.tsx"),m=s("./node_modules/react/jsx-runtime.js");const h=e=>e.outlineSecondary?e.theme.colors.uiHoverable:e.disabled?e.theme.colors.textInactive:e.theme.colors.textPrimary,g=e=>e.outlineSecondary?`1px solid ${e.theme.colors.uiHoverable}`:e.outlineWhite?`1px solid ${e.theme.colors.white}`:"none",f=e=>e.disabled&&!e.outlineSecondary?e.whiteUI?e.secondary?e.theme.colors.whiteLevel1:e.theme.colors.uiHoverable:e.theme.colors.uiInactive:e.secondary?e.whiteUI?e.theme.colors.whiteLevel1:e.theme.colors.secondary:e.staled||e.danger?e.theme.colors.secondary:e.dangerFirst?e.theme.colors.danger:e.outlineSecondary||e.outlineWhite?"none":(e.primary,e.theme.colors.primary),y=o.ZP.button.withConfig({displayName:"Button__StyledButton",componentId:"sc-rk9dnf-0"})(["position:relative;display:inline-flex;justify-content:",";align-content:center;align-items:center;appearance:none;text-align:center;font-family:inherit;flex:1;-webkit-appearance:none;font-stretch:normal;box-sizing:border-box;letter-spacing:normal;white-space:nowrap;line-height:1;font-size:",";padding:",";font-weight:",";height:",";min-height:",";text-decoration:none;touch-action:manipulation;outline:none;user-select:none;transition:0.1s ease;cursor:",";border:",";box-shadow:transparent 0px 0px inset;transition:background-color 0.2s ease 0s,color 0.2s ease 0s,box-shadow 0.2s ease 0s,opacity 0.2s ease 0s;color:",";border-radius:",";",";",";width:",";min-width:",";background:",";"," ",""],(e=>e.spaceBetween?"space-between":"center"),(e=>e.xs?e.theme.fonts.size.xs:e.theme.fonts.size.sm),(e=>e.noBackground?"0px":"0px 16px"),(e=>!e.noBackground&&"400"),(e=>e.xs?"24px":!e.noBackground&&"32px"),(e=>e.xs?"24px":!e.noBackground&&"32px"),(e=>e.disabled?"not-allowed":"pointer"),(e=>e.outlineSecondary||e.outlineWhite?g:"none"),(e=>e.noBackground?e.theme.colors.textSecondary:h),(e=>e.round?"50%":"6px"),(e=>e.straightBorders&&"border-radius: 0px"),(e=>e.borderRadius&&`border-radius: ${e.borderRadius}px`),(e=>e.round&&"32px"),(e=>e.round?"32px":"72px"),(e=>e.noBackground?"none":f),(e=>e.hoverable&&`&:hover {\n    background: ${e.noBackground?"none":(e=>e.disabled?e.theme.colors.uiInactive:e.secondary?e.theme.colors.primary:e.staled?e.theme.colors.secondary:e.danger?e.theme.colors.danger:e.dangerFirst?e.theme.colors.dangerDark:e.theme.colors.primaryDark)(e)};\n    color: ${e.noBackground?e.theme.colors.white:(e=>e.disabled?e.theme.colors.textInactive:e.whiteUI?e.theme.colors.white:e.theme.colors.textPrimary)(e)};\n  }`),(e=>e.enableFocusStyle&&e.isMouseDown&&`\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      transition: opacity .2s ease;\n\n      left: 0;\n      top: 0;\n      bottom: 0;\n      right: 0;\n\n      border: 2px solid ${e.theme.colors.primaryDark};\n      border-radius: ${e.round?"50%":"6px"};\n      border-radius: ${e.straightBorders&&"0px"};\n      ${e.borderRadius&&`border-radius: ${e.borderRadius}px;`}\n      opacity: 1;\n    }\n  `)),x=e=>{const t=(0,i.k6)(),s=(0,a.I0)(),[o,h]=(0,c.Z)(!1),[g,f]=(0,c.Z)(!1),{enableFocusStyle:x=!0}=e,b=(0,l.Z)();let w;if(e.onClick){const t=e.onClick;w=async e=>{e.preventDefault(),e.stopPropagation(),h(!0);try{const e=t();e instanceof Promise&&await e}catch(e){s((0,r.showFlash)({message:e.message,type:"WARNING"}))}finally{b.current&&h(!1)}}}else if(e.to){const s=e.to;w=()=>t.push(s)}else if(e.href){const t=e.href;w=()=>(0,n.o)(t)}return(0,m.jsxs)(y,{...e,enableFocusStyle:x,disabled:e.disabled||o,isMouseDown:g,onMouseDown:()=>f(!0),onMouseUp:()=>f(!1),onClick:e=>{w&&w(e)},children:[e.icon&&!e.iconRight&&(0,m.jsx)(v,{left:!e.justIcon,children:(0,m.jsx)(p.Z,{icon:e.icon,color:e.iconColor,width:e.iconSize??12,height:e.iconSize??12,onClick:()=>null})}),(0,m.jsxs)(d.X2,{children:[e.image&&(0,m.jsx)("img",{"data-testid":"button-prefab-image",src:e.image,width:16,height:16}),(0,m.jsx)(u.x,{sm:!e.xs,xs:e.xs,medium:!0,inactive:e.disabled,...e.textSecondary&&{secondary:e.textSecondary},...e.whiteUI&&(o||e.secondary)&&{whiteUI:!0},...e.textFontWeight&&{weight:e.textFontWeight},...e.outlineSecondary&&{color:"uiHoverable"},...e.outlineWhite&&{color:"white"},children:!e.justIcon&&(o?e.pendingMessage??"Loading...":e.message)})]}),e.icon&&e.iconRight&&(0,m.jsx)(v,{right:!0,children:(0,m.jsx)(p.Z,{icon:e.icon,width:e.iconSize??12,height:e.iconSize??12,onClick:()=>null,color:e.iconColor})})]})};x.defaultProps={disabled:!1};const v=o.ZP.span.withConfig({displayName:"Button__IconContainer",componentId:"sc-rk9dnf-1"})(["display:inline-flex;justify-content:center;align-content:center;align-items:center;margin-left:",";margin-right:",";"],(e=>e.right&&"8px"),(e=>e.left&&"8px")),b=x},"./app/components/Prefabs/Checkbox.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>p,Z:()=>r});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Icon/Icon.tsx"),a=s("./app/components/Prefabs/Text.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{label:t,checked:s,marginLeft:o,grayUnCheckedStyle:a,withPadding:r,disabled:m,indeterminate:h,className:g="",...f}=e;return(0,i.jsxs)(l,{disabled:m,className:g,"data-checked":s,children:[(0,i.jsxs)(d,{withPadding:r,children:[(0,i.jsx)(u,{...f,checked:s,disabled:m}),(0,i.jsx)(p,{checked:s,grayUnCheckedStyle:a,indeterminate:h,disabled:m,children:h?(0,i.jsx)(n.Z,{size:10,icon:"check-indeterminate",color:"white",onClick:()=>null}):s?(0,i.jsx)(n.Z,{size:10,icon:"check",color:"white",onClick:()=>null}):null})]}),t&&(0,i.jsx)(c,{xs:!0,whiteUI:!0,marginLeft:o,children:t})]})},l=o.ZP.label.withConfig({displayName:"Checkbox__StyledLabel",componentId:"sc-1s43iix-0"})(["cursor:pointer;display:flex;align-items:center;",""],(e=>e.disabled&&(0,o.iv)(["cursor:default;"]))),c=(0,o.ZP)(a.x).withConfig({displayName:"Checkbox__StyledText",componentId:"sc-1s43iix-1"})(["",";"],(e=>e.marginLeft&&`margin-left:${e.marginLeft}px`)),d=o.ZP.div.withConfig({displayName:"Checkbox__CheckboxContainer",componentId:"sc-1s43iix-2"})(["display:inline-block;vertical-align:middle;",""],(e=>e.withPadding?(0,o.iv)(["padding:4px;border-radius:4px;background-color:",";"],(e=>e.theme.colors.uiLevel1)):"")),p=o.ZP.div.withConfig({displayName:"Checkbox__StyledCheckbox",componentId:"sc-1s43iix-3"})(["cursor:pointer;display:flex;justify-content:center;align-items:center;width:14px;height:14px;border-radius:2px;"," ",""],(e=>e.disabled&&(0,o.iv)(["opacity:0.5;cursor:not-allowed;"])),(e=>e.grayUnCheckedStyle?(0,o.iv)(["border:1px solid ",";background:",";",""],e.checked||e.indeterminate?"transparent":e.theme.colors.uiHoverable,e.checked||e.indeterminate?e.theme.colors.primary:e.theme.colors.uiLevel1,!(e.checked||e.indeterminate||e.disabled)&&(0,o.iv)([":hover{border-color:",";}"],e.theme.colors.primary)):(0,o.iv)(["border:1px solid ",";background:",";"],e.checked||e.indeterminate?e.theme.colors.primary:e.theme.colors.black,e.checked||e.indeterminate?e.theme.colors.primary:e.theme.colors.whiteLevel1))),u=o.ZP.input.attrs({type:"checkbox"}).withConfig({displayName:"Checkbox__HiddenCheckbox",componentId:"sc-1s43iix-4"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute !important;white-space:nowrap;width:1px;"])},"./app/components/Prefabs/CloseButton/CloseButton.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>l,Z:()=>c});s("./node_modules/react/index.js");var o=s("./app/components/Prefabs/Text.tsx"),n=s("./app/components/Prefabs/Icon/Icon.tsx");const a="CloseButton__CloseButton__JKhb9",i="CloseButton__Icon__lRk4Q";var r=s("./node_modules/react/jsx-runtime.js");const l=e=>{let{onClick:t,name:s}=e;return(0,r.jsxs)("div",{className:a,onClick:t,children:[(0,r.jsx)("span",{className:i,children:(0,r.jsx)(n.Z,{icon:"arrow-left",color:"#fff"})}),(0,r.jsx)(o.Z,{md:!0,children:s||"Close"})]})},c=l},"./app/components/Prefabs/ColorPicker/ColorPicker.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-color/lib/index.js"),a=s("./node_modules/react-color/lib/components/common/index.js"),i=s("./node_modules/react-redux/es/index.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/devoe/themeDark.ts"),c=s("./app/utils/color.ts"),d=s("./app/utils/hooks/useEventListener.ts"),p=s("./app/utils/hooks/useSelector.ts"),u=s("./app/components/Views/VideoTools/VideoEditor/RefsContext.ts"),m=s("./app/components/Prefabs/Block.tsx"),h=s("./app/components/Prefabs/Grid.tsx"),g=s("./app/components/Prefabs/Icon/Icon.tsx"),f=s("./app/components/Prefabs/Overflow.tsx"),y=s("./app/components/Prefabs/Text.tsx"),x=s("./node_modules/tinycolor2/tinycolor.js"),v=s.n(x);var b=s("./node_modules/react/jsx-runtime.js");const w=e=>{let{color:t,buttonWidth:s,onClick:o=(()=>null),readOnly:n=!1}=e;return(0,b.jsx)(_,{minWidth:s,maxWidth:s,grow:!s,tabIndex:0,onClick:n?null:o,readOnly:n,children:(0,b.jsx)(I,{style:{background:t}})})},_=(0,r.ZP)(m.ZP).withConfig({displayName:"ColorPicker__StyledColorButton",componentId:"sc-nzg6t-0"})(["border-radius:4px;border:1px solid transparent;height:24px;padding:2px;",""],(e=>e.readOnly?"":(0,r.iv)(["background:",";&:focus{border-color:",";}&:hover{border-color:",";}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)))),I=(0,r.ZP)(m.ZP).withConfig({displayName:"ColorPicker__StyledColorInner",componentId:"sc-nzg6t-1"})(["width:100%;height:100%;"]),T=e=>{let{onChange:t}=e;const{previewStage:s}=(0,o.useContext)(u.Z),n=(0,p.Z)((e=>e.videoEditor.ui.colorPicker));return(0,d.Z)("pointerdown",(e=>{const o=s.current.container;if(!o)return;e.target.contains(o)&&n.color&&n.showEyeDropper&&t((0,c.hq)(n.color))}),document),null},j=r.ZP.div.withConfig({displayName:"ColorPicker__StyledPointer",componentId:"sc-nzg6t-2"})(["width:4px;height:4px;border:1px solid white;border-radius:50%;transform:translate(-1px,1px);"]),k=(0,r.ZP)(m.ZP).withConfig({displayName:"ColorPicker__StyledCustomColorPicker",componentId:"sc-nzg6t-3"})(["display:flex;width:176px;"]),C=(0,r.ZP)(m.ZP).withConfig({displayName:"ColorPicker__StyledPresetColor",componentId:"sc-nzg6t-4"})(["width:16px;height:16px;border-radius:",";"],(e=>e.theme.border.boxRadius)),E=(0,n.iS)((e=>{let{showColorEyeDropper:t,...s}=e;const{title:o,hex:n,oldHue:r,onChange:c,presetColors:d}=s,{onChangeComplete:u,...f}=s,x=(0,p.Z)((e=>e.videoEditor.ui.colorPicker.showEyeDropper)),w=(0,i.I0)();return(0,b.jsxs)(k,{pad:8,onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),children:[o&&(0,b.jsx)(y.Z,{color:"black",xs:!0,children:o}),(0,b.jsx)(m.ZP,{relative:!0,grow:!0,size:12,minHeight:144,maxHeight:144,overflowHidden:!0,style:{borderRadius:l.Z.border.boxRadius},children:(0,b.jsx)(a.Saturation,{...f,pointer:j})}),(0,b.jsx)(m.ZP,{relative:!0,grow:!0,size:12,minHeight:8,overflowHidden:!0,style:{borderRadius:l.Z.border.boxRadius},children:(0,b.jsx)(a.Hue,{...f,pointer:j})}),(0,b.jsx)(m.ZP,{relative:!0,children:(0,b.jsx)(a.EditableInput,{value:n,style:{wrap:{borderRadius:l.Z.border.boxRadius,color:l.Z.colors.textWhiteUI},input:{background:l.Z.colors.whiteLevel1,boxSizing:"border-box",border:"none",fontSize:11,padding:8,width:"100%"},label:{display:"none"}},label:"hex",onChange:c})}),d.length>0&&(0,b.jsxs)(h.Z,{columns:7,children:[d.map((e=>(0,b.jsx)(C,{style:{background:e},onClick:()=>c(((e,t)=>{const s=e.hex?v()(e.hex):v()(e),o=s.toHsl(),n=s.toHsv(),a=s.toRgb(),i=s.toHex();return 0===o.s&&(o.h=t||0,n.h=t||0),{hsl:o,hex:"000000"===i&&0===a.a?"transparent":`#${i}`,rgb:a,hsv:n,oldHue:e.h||t||o.h,source:e.source}})(e,r))},e))),t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C,{onClick:()=>{w(x?{type:"ui/HIDE_COLOR_PICKER"}:{type:"ui/SHOW_COLOR_PICKER"})},children:(0,b.jsx)(g.Z,{icon:"editor/navbar/color-edit",onClick:()=>null})}),(0,b.jsx)(T,{onChange:c})]})]})]})})),S=e=>{let{color:t="#FFFFFF",onChange:s,onChangeComplete:o=(()=>{}),triggerOffset:n,title:a="",presetColors:i=[],buttonWidth:r,showColorEyeDropper:l=!1,readOnly:c=!1,anchor:d="LEFT_TOP"}=e;return(0,b.jsx)(m.ZP,{minWidth:r,maxWidth:r,grow:!r,size:r?null:12,children:c?(0,b.jsx)(w,{color:t,buttonWidth:r,readOnly:!0}):(0,b.jsx)(f.Z,{fixed:!0,width:176,anchor:d,overlay:(0,b.jsx)(E,{title:a,color:t,onChange:s,onChangeComplete:o,presetColors:i,showColorEyeDropper:l}),triggerOffset:n,children:(0,b.jsx)(w,{color:t,buttonWidth:r})})})}},"./app/components/Prefabs/DisableKeyboardEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=e=>{let{permittedKeys:t=[]}=e;const s=(0,o.useCallback)((e=>{t.includes(e.key)||e.stopPropagation()}),[t]);return(0,o.useEffect)((()=>(document.body.addEventListener("keydown",s),document.body.addEventListener("keyup",s),()=>{document.body.removeEventListener("keydown",s),document.body.removeEventListener("keyup",s)})),[s]),null}},"./app/components/Prefabs/Divider.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Block.tsx"),a=s("./node_modules/framer-motion/dist/framer-motion.es.js"),i=s("./node_modules/react/jsx-runtime.js");const r=a.ww.custom(n.X2),l=o.ZP.div.withConfig({displayName:"Divider__LineDiv",componentId:"sc-szmxrk-0"})(["height:",";width:",";background:",";"],(e=>e.vertical?"100%":"1px"),(e=>e.vertical?"1px":"100%"),(e=>e.lineColor?e.lineColor:e.overWhite?"#e6e6e6":e.theme.colors.uiHoverable)),c=e=>{let{layout:t=!1,line:s,...o}=e;return(0,i.jsx)(r,{layout:t,pad:[8,0],...o,children:s&&(0,i.jsx)(l,{...o})})}},"./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var o=s("./app/utils/number.ts"),n=s("./node_modules/classnames/index.js"),a=s.n(n),i=s("./node_modules/react/index.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/devoe/themeDark.ts"),c=s("./app/utils/hooks/useOnClickOutside.ts"),d=s("./app/components/Prefabs/Icon/Icon.tsx"),p=s("./app/components/Prefabs/ShortcutTooltip.tsx"),u=s("./app/components/Prefabs/Text.tsx");const m={DraggableNumberInput:"DraggableNumberInput__DraggableNumberInput__NgAyq",Disabled:"DraggableNumberInput__Disabled__l2ffo",ReadOnly:"DraggableNumberInput__ReadOnly__xWwZj",InputField:"DraggableNumberInput__InputField__klwNl",ValueOverride:"DraggableNumberInput__ValueOverride__ACNpo",InputIndicator:"DraggableNumberInput__InputIndicator__I0l1S","moving-gradient":"DraggableNumberInput__moving-gradient__Cc5H1",pulse:"DraggableNumberInput__pulse__SB14m",gradient:"DraggableNumberInput__gradient__W2RN7",blink:"DraggableNumberInput__blink__jkgfx"};var h=s("./node_modules/react/jsx-runtime.js");const g=a().bind(m),f=e=>{let t=0;for(let s=0,o=(e=`${e}`).length;s<o&&"e"!==e[s];s++)+e[s]>=0&&t++;return t},y=(e,t)=>{let{className:s="",grow:n=!1,center:a=!1,value:r=0,onChange:d,onChangeComplete:u=(()=>{}),formatTextVal:y=(e=>e),min:v=null,max:b=null,step:w=1,postfix:_="",indicator:I="",indicatorIcon:T,indicatorIconSize:j,indicatorIconColor:k,prefixIndicator:C="",prefixIndicatorIcon:E,prefixIndicatorIconSize:S,prefixIndicatorIconColor:A,onPrefixIndicatorClick:M,dragSensitivity:P=1,uncontrolled:N=!1,disabled:D=!1,ariaLabel:O,readOnly:L=!1,displayValueOverride:R="",tooltipProps:Z={message:"",disabled:!0},customInputStyles:U={},size:z,resize:V,tabIndex:B}=e;const G=(0,i.useRef)(null),[F,$]=(0,i.useState)(!1),[W,H]=(0,i.useState)(r.toString());(0,i.useEffect)((()=>{H(r.toFixed(f(w)-1))}),[r,H,w]);const Y=(0,i.useRef)(!1),X=(0,i.useCallback)((e=>{if(D)return;if(isNaN(e))return void H(r.toFixed(f(w)-1));null!==b&&(e=e>b?b:e),null!==v&&(e=e<v?v:e);const t=(0,o.cR)(w);e=Number((e/w).toFixed(t)),e=Math.floor(e)/(1/w),d(e,Y.current?"DRAG":"TEXT"),H(e.toFixed(f(w)-1))}),[b,v,w,d,r,D]),q=(0,i.useRef)(F),J=(0,i.useCallback)((()=>{G.current&&($(!0),q.current=!0,Y.current=!1,G.current.value=R||W,G.current.select())}),[R,W]),K=(0,i.useCallback)((()=>{q.current&&G.current&&($(!1),q.current=!1,G.current.blur(),ee.current&&(X(parseFloat(W)),u(parseFloat(W),Y.current?"DRAG":"TEXT"),ee.current=!1))}),[X,G,$,W,u]),Q=(0,i.useRef)(W);Q.current=W;const ee=(0,i.useRef)(!1);(0,i.useImperativeHandle)(t,(()=>({getInputValue:()=>G.current?.value,setInputValue:e=>{G.current&&!ee.current&&(G.current.value=e.toFixed(f(w)-1))},setTextValue:e=>{H(e.toFixed(f(w)-1))}}))),(0,c.t)(G,(()=>{q.current&&K()}));const te=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{const e=e=>{"Shift"===e.key&&(te.current=!0)},t=e=>{"Shift"===e.key&&(te.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),(0,h.jsx)(p.ZP,{message:"",...Z,children:(0,h.jsxs)("div",{className:g(m.DraggableNumberInput,s,{[m.ReadOnly]:L,[m.Disabled]:D}),...L?{"data-readonly":L}:{},...D?{"data-disabled":D}:{},style:n?{flexGrow:1}:{width:65},onMouseDown:e=>{if(D||L||!G.current)return;const t=N?parseFloat(G.current.value):r,s=e.pageX,o=document.body.style.cursor;document.body.style.cursor="col-resize";const n=performance.now(),a=e=>{if(q.current)return;let o=.5*(e.pageX-s)*P*w;te.current&&(o*=10);let a=t+o;a=te.current?Math.floor(a/(10*w))*(10*w):Math.floor(a/w)*w,performance.now()-n>100&&(Y.current=!0,ee.current=!0,X(a))},i=()=>{document.body.style.cursor=o,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),G.current?.removeEventListener("mouseleave",i),G.current?.removeEventListener("blur",i)},l=()=>{Y.current?(u(parseFloat(Q.current),Y.current?"DRAG":"TEXT"),ee.current=!1,Y.current=!1):D||L||J(),i()};window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),G.current.addEventListener("mouseleave",i),G.current.addEventListener("blur",i)},children:[(""!==C||E)&&(0,h.jsx)("span",{className:m.InputIndicator,children:(0,h.jsx)(x,{indicator:C,indicatorIcon:E,size:S,color:A,onClick:M})}),(0,h.jsx)("input",{ref:G,className:m.InputField,tabIndex:B,type:"text",onChange:e=>{D||L||(ee.current||(ee.current=!0),H(y(e.target.value)))},min:v,max:b,step:w,size:z,resize:V,value:F?y(W):y(W)+_,style:{pointerEvents:L||F?"auto":"none",fontSize:"11px",textAlign:a?"center":"left",color:R&&!F?"transparent":l.Z.colors.uiHoverable,...U},onKeyUp:e=>{e.stopPropagation()},onKeyDown:e=>{if(D||L)return;if(!(["z"].includes(e.key)&&e.metaKey)&&q.current&&e.stopPropagation(),"Enter"===e.key&&F)K();else if("ArrowUp"===e.key&&F){e.preventDefault();const t=parseFloat(Q.current);X(t+(e.shiftKey?10*w:w))}else if("ArrowDown"===e.key&&F){e.preventDefault();const t=parseFloat(Q.current);X(t-(e.shiftKey?10*w:w))}else;},onFocus:()=>{J()},onBlur:()=>{F&&K()},disabled:L,...O&&{"aria-label":O}}),R&&!F&&(0,h.jsx)("span",{className:m.ValueOverride,style:{left:C||E?S?S+10:14:4},children:R}),(""!==I||T)&&(0,h.jsx)("span",{className:m.InputIndicator,children:(0,h.jsx)(x,{indicator:I,indicatorIcon:T,size:j,color:k})})]})})},x=i.memo((e=>{let{indicator:t,indicatorIcon:s,size:o=8,color:n=l.Z.colors.uiHoverable,onClick:a}=e;return s?(0,h.jsx)(d.Z,{icon:s,color:n,size:o,onClick:a}):t?(0,h.jsx)(v,{xxs:!0,color:"primaryLight",noSelect:!0,children:t}):null})),v=(0,r.ZP)(u.Z).withConfig({displayName:"DraggableNumberInput__StyledIndicatorText",componentId:"sc-q7zr0j-0"})(["font-size:8px;"]),b=(0,i.forwardRef)(y)},"./app/components/Prefabs/Dropdown/Dropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/devoe/themeDark.ts"),i=s("./app/components/Prefabs/Block.tsx"),r=s("./app/components/Prefabs/Icon/Icon.tsx"),l=s("./app/components/Prefabs/Overflow.tsx"),c=s("./app/components/Prefabs/OverflowMenu.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./node_modules/react/jsx-runtime.js");const u=(0,n.ZP)(i.ZP).withConfig({displayName:"Dropdown__StyledDropdown",componentId:"sc-1k0a0q8-0"})(["background:",";border-radius:",";border:1px solid transparent;&:focus{border-color:",";}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.border.boxRadius),(e=>e.theme.colors.primary)),m=e=>{let{items:t,value:s,onChange:n,overflowProps:m={},height:h,pad:g=[3,8],textColor:f}=e;const y=(0,o.useMemo)((()=>t.map((e=>"divider"===e?e:{...e,onClick:()=>{n(e),e.onClick&&e.onClick()}}))),[t,n]);return(0,p.jsx)(u,{size:12,pad:g,tabIndex:0,minHeight:h,children:(0,p.jsx)(l.Z,{anchor:"BOTTOM_CENTER",overlay:(0,p.jsx)(c.P,{items:y}),closeOnClick:!0,fixed:!0,...m,children:(0,p.jsxs)(i.X2,{spaceBetween:!0,grow:!0,minHeight:h,alignCenterVertical:!0,children:[(0,p.jsx)(i.JX,{children:(0,p.jsx)(d.Z,{xs:!0,noSelect:!0,color:f??"white","aria-label":s,children:s})}),(0,p.jsx)(r.Z,{icon:"caret-down",color:a.Z.colors.primaryLight,size:10,onClick:()=>{}})]})})})}},"./app/components/Prefabs/ErrorBoundary/ErrorBoundary.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>O});var o=s("./app/components/Views/DebugPanel/DebugPanelWrapper.tsx"),n=s("./app/utils/constants.ts"),a=s("./app/utils/hooks/useSelector.ts"),i=s("./node_modules/@sentry/core/esm/exports.js"),r=s("./node_modules/react/index.js"),l=s("./app/api/mixpanel.ts"),c=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");var d=s("./app/devoe/themeDark.ts"),p=s("./app/store.ts"),u=s("./app/utils/hooks/useSafeState.ts"),m=s("./app/components/Prefabs/Block.tsx"),h=s("./app/components/Prefabs/Button.tsx"),g=s("./app/components/Prefabs/Modal.tsx"),f=s("./app/components/Prefabs/ModalWrapper/ModalWrapper.tsx"),y=s("./app/components/Prefabs/Text.tsx"),x=s("./node_modules/react/jsx-runtime.js");const v=c.ZP.textarea.withConfig({displayName:"TextArea__StyledTextArea",componentId:"sc-19vfflk-0"})(["background:",";transition:background-color 300ms ease-in-out;color:",";line-height:1.2;border:1px solid transparent;border-radius:8px;outline:none;padding:8px;display:flex;width:100%;box-sizing:border-box;height:100%;resize:",";font-size:",";&:focus{background:",";border-color:",";}"],(e=>e.theme.colors.whiteLevel1),(e=>e.theme.colors.black),(e=>e.resize?"none":"inherit"),(e=>e.theme.fonts.size.xs),(e=>e.theme.colors.white),(e=>e.theme.colors.primaryDark)),b=c.ZP.div.withConfig({displayName:"TextArea__InputFieldContainer",componentId:"sc-19vfflk-1"})(["display:flex;flex-grow:1;width:100%;height:100%;"]),w=e=>{let{value:t,resize:s=!1,onChange:o}=e;return(0,x.jsx)(b,{children:(0,x.jsx)(v,{value:t,spellCheck:!1,resize:s,onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),onKeyPress:e=>e.stopPropagation(),onChange:e=>{e.stopPropagation(),o(e.target.value)}})})};var _=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts");const I=()=>{const e=p.Z.getState().user;return{name:e?.firstName,email:e?.email}},T=()=>(0,x.jsxs)(y.Z,{color:"textSecondary",sm:!0,medium:!0,center:!0,children:["You can also check our status page for information on known outages",(0,x.jsx)("br",{}),(0,x.jsx)(j,{href:n.K5,target:"_blank",rel:"noopener noreferrer",children:"status.runwayml.com"})]}),j=c.ZP.a.withConfig({displayName:"CrashReportModal__StatusPageLinkText",componentId:"sc-1xac791-0"})(["color:",";text-decoration:underline;"],(e=>{let{theme:t}=e;return t.colors.primary})),k=()=>{const[e,t]=(0,u.Z)(""),s=(0,a.Z)((e=>e.sentryErrorEventId)),o=(0,r.useCallback)((()=>{window.location.reload()}),[]),i=(0,r.useCallback)((async()=>{try{await(async e=>{const t=await fetch("https://sentry.io/api/0/projects/runway/app/user-feedback/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`DSN ${n.oj}`},body:JSON.stringify(e)});return await t.json()})({name:I().name,email:I().email,comments:e,event_id:s})}catch(e){}o()}),[e,s,o]);return s?(0,x.jsx)(f.Z,{onHide:()=>{},backgroundColor:d.Z.colors.modalBackground,align:"centered",zIndex:_.Z.MODAL_WRAPPER+2,children:(0,x.jsxs)(g.Z,{size:12,span:12,maxWidth:540,maxHeight:600,alignCenterHorizontal:!0,children:[(0,x.jsxs)(m.JX,{pad:[48,48,0,48],size:12,children:[(0,x.jsx)(y.Z,{color:"primary",xxl:!0,bold:!0,center:!0,breakOnNewLine:!0,children:"It looks like we're having some issues"}),(0,x.jsx)(y.Z,{color:"textSecondary",sm:!0,medium:!0,center:!0,children:"Our team has been notified. If you'd like to help, tell us what happened below."}),(0,x.jsx)(T,{})]}),(0,x.jsx)(m.JX,{pad:24,gutter:16,size:12,overflowHidden:!0,scrollable:!0,grow:!0,children:(0,x.jsxs)(m.JX,{gutter:8,grow:!0,children:[(0,x.jsx)(y.Z,{color:"textSecondary",sm:!0,medium:!0,children:"What happened?"}),(0,x.jsx)(m.JX,{minHeight:200,span:12,children:(0,x.jsx)(w,{onChange:t,value:e})})]})}),(0,x.jsx)(m.JX,{pad:[0,24,24,24],spaceBetween:!0,size:12,children:(0,x.jsxs)(m.X2,{grow:!0,spaceBetween:!0,children:[(0,x.jsx)(m.JX,{maxWidth:200,children:(0,x.jsx)(h.Z,{outlineSecondary:!0,message:"Refresh page",onClick:o})}),(0,x.jsx)(m.JX,{maxWidth:200,children:(0,x.jsx)(h.Z,{message:"Submit crash report",onClick:i})})]})})]})}):null},C="ErrorBoundary__Container__rY1QU";var E=s("./app/utils/hooks/useDebugControls.ts"),S=s("./node_modules/leva/dist/leva.esm.js"),A=s("./node_modules/react-redux/es/index.js");const M=()=>{throw new Error("Mock error from ErrorBoundaryDebugControls")},P=e=>{let{}=e;const[t,s]=(0,r.useState)(!1),[o,n]=(0,r.useState)(!1),a=(0,A.I0)(),i=()=>{o&&a({type:"SET_SENTRY_ERROR_EVENT_ID",eventId:"mock-error-event-id-from-debug-panel"}),s(!0)};return(0,E.Z)("ErrorBoundary",{"Show Crash Report modal":{value:o,onChange:n},"Throw error":(0,S.LI)(i)},[i]),t?(0,x.jsx)(M,{}):null};let N=function(e){return e.Default="default",e.Empty="empty",e}({});class D extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error(e),i.Tb(e);try{(0,l.bc)({eventName:"Fatal Error",properties:{message:e.message}})}catch{}}render(){return this.state.hasError?this.props.type===N.Empty?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(k,{}),(0,x.jsxs)("div",{className:C,children:[(0,x.jsx)("h1",{children:"We're sorry - something went wrong."}),(0,x.jsx)("p",{children:"There was an error in this section, please try again. Our team has been notified."}),(0,x.jsxs)("p",{children:["You can also check our status page for information on known outages",(0,x.jsx)("br",{}),(0,x.jsx)("a",{href:n.K5,target:"_blank",rel:"noopener noreferrer",children:"status.runwayml.com"})]})]})]}):this.props.children}}const O=e=>{let{children:t,type:s}=e;const n=(0,a.Z)((e=>e.showDebugPanel));return(0,x.jsxs)(D,{type:s,children:[n&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(P,{})}),t]})}},"./app/components/Prefabs/FileExplorer/Renderers/drag-drop-renderer.ts":(e,t,s)=>{"use strict";s.d(t,{NQ:()=>l,PT:()=>a,ST:()=>r,bE:()=>c,rZ:()=>i});var o=s("./app/components/Prefabs/FileExplorer/file-explorer.ts"),n=s("./app/components/Prefabs/FileExplorer/react-virtualized-tree/selectors.ts");const a={FOLDER:"FOLDER",FILE:"FILE"},i=e=>e.parents.length<1?null:e.parents[e.parents.length-1],r=1e3,l=(e,t)=>{if(e.id===t.id)return!1;if(e.state.readOnly||t.state.readOnly)return!1;if((0,o.qR)(e)){const s=i(e);if(((0,o.qR)(t)?t.id:i(t))===s)return!1;if(t.parents.includes(e.id))return!1}else{const s=i(e);if(((0,o.qR)(t)?t.id:i(t))===s)return!1}return!0},c=e=>{let{selection:t,targetNode:s,tree:o}=e;return!(0,n.$y)(o).filter((e=>t.byId[e.id])).find((e=>!l(e,s)))}},"./app/components/Prefabs/FileExplorer/file-explorer.ts":(e,t,s)=>{"use strict";s.d(t,{E:()=>i,F2:()=>n,Oy:()=>d,lK:()=>r,qR:()=>a,uf:()=>l,xs:()=>c});var o=s("./app/components/Prefabs/FileExplorer/react-virtualized-tree/selectors.ts");const n=e=>"Asset"===e.state.item.type,a=e=>!!e.children,i=e=>{let{nodeId:t,tree:s}=e;return(0,o.$y)(s).findIndex((e=>e.id===t))},r=e=>{let{nodeId:t,tree:s}=e;return(0,o.$y)(s).find((e=>e.id===t))},l=e=>(0,o.$y)(e).filter((e=>"Asset"===e.state.item.type)).reduce(((e,t)=>({...e,[t.state.item.value.id]:!0})),{}),c=e=>{let{parentNodeId:t,tree:s}=e;return(0,o.$y)(s).filter((e=>e.parents.includes(t)))},d=()=>document?.querySelector(".ReactVirtualized__Grid.ReactVirtualized__List[aria-label='grid']")},"./app/components/Prefabs/FileExplorer/react-virtualized-tree/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{$y:()=>d,AK:()=>h,On:()=>f,TI:()=>u,Zh:()=>p,l1:()=>l,nX:()=>x,tV:()=>v,u3:()=>r});var o=s("./node_modules/react-virtualized-tree/es/index.js"),n=s("./node_modules/react-virtualized-tree/lib/selectors/nodes.js"),a=s("./app/utils/sort.ts"),i=s("./app/components/Prefabs/FileExplorer/file-explorer.ts");const r=n.u3,l=n.l1,c=n.Cr,d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce(((e,s)=>{const o=t.length,n={...s,deepness:o,parents:t};return(e=>e?.children?.length)(s)?[...e,n,...d(s.children,[...t,s.id])]:[...e,n]}),[])},p=e=>d(e).reduce(((e,t)=>(e[t.id]=t,e)),{}),u=e=>{const t=d(e),s={};return t.forEach((e=>{(0,i.qR)(e)&&!e.state.expanded&&(s[e.id]=!0)})),t.filter((e=>!!!e.parents.find((e=>s[e]))))},m={nodes:[],nodeParentMappings:{}},h=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.reduce(((t,o)=>{const{nodes:n,nodeParentMappings:a}=o.children?h(e,o.children,[...s,o.id]):m;return e(o)||n.length?{nodes:[...t.nodes,{...o,...(0,i.qR)(o)?{children:n}:{}}],nodeParentMappings:{...t.nodeParentMappings,...a,[o.id]:s}}:t}),m)},g={nodes:[],nodeParentMappings:{}},f=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?t.reduce(((t,o)=>{const{nodes:n,nodeParentMappings:r}=o.children?f(e,o.children,[...s,o.id]):m;return{nodes:[...t.nodes,{...o,...(0,i.qR)(o)?{children:n}:{}}].sort(((t,s)=>(0,a.C)(e.accessor(t),e.accessor(s),e.order))),nodeParentMappings:{...t.nodeParentMappings,...r,[o.id]:s}}}),g):{nodes:t,nodeParentMappings:{}}},y={[o._G.v.DELETE]:l,[o._G.v.UPDATE]:c},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updateTypeHandlers:{}};const{updateTypeHandlers:t={}}=e;return{updateTypeHandlers:{...y,...t}}},v=(e,t)=>({node:{...e,state:{...e.state,...t}},type:o._G.v.UPDATE})},"./app/components/Prefabs/FullPageLoaderContainer.tsx":(e,t,s)=>{"use strict";s.d(t,{b:()=>o});const o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div.withConfig({displayName:"FullPageLoaderContainer",componentId:"sc-846d4j-0"})(["height:100%;width:100%;display:flex;justify-content:center;align-items:center;"])},"./app/components/Prefabs/GalleryImage.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Block.tsx");var a=s("./app/components/Prefabs/Pic.tsx"),i=(s("./node_modules/react/index.js"),s("./app/utils/animations.ts")),r=s("./app/utils/hooks/useBreakpoint.ts"),l=s("./node_modules/react/jsx-runtime.js");const c=o.ZP.span.withConfig({displayName:"GalleryImage__Counter",componentId:"sc-1vkqlsz-0"})(["padding:10px;padding:","px;display:flex;justify-content:center;align-items:center;background:",";border-radius:10px;font-size:","px;font-weight:bold;color:",";"],(e=>(e=>e.sm?5:10)(e)),(e=>(e=>e.danger?e.theme.colors.danger:(e.inactive,e.theme.colors.uiBackground))(e)),(e=>(e=>e.sm?10:15)(e)),(e=>(e=>(e.danger||e.inactive,e.theme.colors.textPrimary))(e))),d=e=>{let{resource:t,sm:s,longer:o}=e,c=150,d=500;s&&(c=65),s&&(d=120);const m=(0,r.Z)("sm");return(0,l.jsxs)(n.X2,{children:[m?(0,l.jsxs)(n.JX,{minHeight:d,size:12,animation:i.jt,duration:200,gutter:s?8:10,children:[(0,l.jsx)(p,{index:0,sm:s,resource:t}),(0,l.jsx)(p,{index:1,sm:s,resource:t}),o&&(0,l.jsxs)(n.X2,{children:[(0,l.jsx)(n.JX,{size:6,children:(0,l.jsx)(p,{index:2,sm:s,resource:t})}),(0,l.jsx)(n.JX,{size:6,children:t&&(0,l.jsx)(u,{selectedDataset:t,sm:s,maxHeight:d,maxWidth:c})})]})]}):(0,l.jsxs)(n.JX,{minHeight:d,size:s?6:4,animation:i.jt,duration:200,gutter:s?8:10,children:[s?(0,l.jsx)(p,{index:0,sm:s,resource:t}):(0,l.jsx)(p,{index:1,sm:s,resource:t}),(0,l.jsx)(p,{index:2,sm:s,resource:t})]}),!m&&!s&&(0,l.jsx)(n.JX,{minHeight:d,size:4,animation:i.jt,duration:400,gutter:s?4:10,children:(0,l.jsx)(a.Z,{src:t.previewUrls[0],height:d+10,cover:!0,width:"100%"})}),!m&&(0,l.jsxs)(n.JX,{minHeight:d,size:s?6:4,animation:i.jt,duration:600,gutter:s?8:10,children:[(0,l.jsx)(p,{index:3,sm:s,resource:t}),t&&(0,l.jsx)(u,{selectedDataset:t,sm:s,maxHeight:d,maxWidth:c})]})]})},p=e=>{let{index:t,sm:s,resource:o}=e,i=150,r=500;return s&&(i=65),s&&(r=120),(0,l.jsx)(n.X2,{box:!o.previewUrls[t],minHeight:r/2,minWidth:i,gutter:s?8:20,children:(0,l.jsx)(a.Z,{src:o.previewUrls[t]??"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAzMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEuOTA3MzVlLTA1IDEzLjU1MTVMNi44NDc3OCAxMS4yNDY0TDIwLjY1MiAyMEgxLjkwNzM1ZS0wNVYxMy41NTE1WiIgZmlsbD0iIzVDNUM1QyIvPgo8cGF0aCBkPSJNMTQuNDU2MSAxNC4wNjk4TDcuMDY5MiA5LjM5MDYzTDQuMTk2MTdlLTA1IDExLjc3OTlWMEgyOS42NTA0VjE0LjcyNDhMMjIuMTUzNCA4Ljg0MjQ1TDE0LjQ1NjEgMTQuMDY5OFoiIGZpbGw9IiM1QzVDNUMiLz4KPC9zdmc+Cg==",height:r/2,cover:!0,fit:!0})})},u=e=>{let{maxHeight:t,maxWidth:s,sm:o,selectedDataset:i}=e;return i.fileCount>5?(0,l.jsx)(n.X2,{alignCenter:!0,box:!0,pad:0,minHeight:t/2,grow:!0,minWidth:s,gutter:o?8:20,children:(0,l.jsxs)(c,{sm:o,children:["+ ",i.fileCount-4]})}):5===i.fileCount?(0,l.jsx)(a.Z,{src:i.previewUrls[4],height:t/2,cover:!0,fit:!0}):void 0}},"./app/components/Prefabs/Grid.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/components/Prefabs/Block.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=n.ZP.div.withConfig({displayName:"Grid__StyledGrid",componentId:"sc-oqgf7x-0"})(["width:100%;max-height:100%;display:grid;overflow-y:",";grid-template-columns:",";padding:0 ","px;align-items:",";text-align:",";gap:","px;::-webkit-scrollbar{width:5px;}::-webkit-scrollbar-track{width:5px;background-color:#56565617;}::-webkit-scrollbar-thumb{background-color:#4a4a4a;border-radius:20px;}"],(e=>e.customScroll&&"scroll"),(e=>`repeat(${e.columns}, minmax(0, 1fr))`),(e=>e.pad||0),(e=>e.alignBottom?"end":"start"),(e=>e.center?"center":"none"),(e=>e.gap?e.gap:"0")),l=e=>{let{columns:t,gap:s,pad:n,children:l,center:c,customScroll:d,alignBottom:p}=e;const u=s??(0,o.useContext)(a.x_);return(0,i.jsx)(a.ZP,{children:(0,i.jsx)(r,{columns:t,gap:u,pad:n,center:c,customScroll:d,alignBottom:p,children:l})})}},"./app/components/Prefabs/Icon/Icon.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./node_modules/@sentry/core/esm/exports.js"),i=s("./app/utils/hooks/useHover.ts"),r=s("./app/utils/merge-refs.ts");const l={add:(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/add.svg")))),adjustments:(0,o.lazy)((()=>s.e(69957).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/adjustments.svg")))),"align-bottom":(0,o.lazy)((()=>s.e(16509).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/align-bottom.svg")))),"align-horizontal-center":(0,o.lazy)((()=>s.e(28158).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/align-horizontal-center.svg")))),"align-horizontal-left":(0,o.lazy)((()=>s.e(46427).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/align-horizontal-left.svg")))),"align-horizontal-right":(0,o.lazy)((()=>s.e(14219).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/align-horizontal-right.svg")))),"align-top":(0,o.lazy)((()=>s.e(81320).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/align-top.svg")))),"align-vertical-center":(0,o.lazy)((()=>s.e(14212).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/align-vertical-center.svg")))),apple:(0,o.lazy)((()=>s.e(18132).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/apple.svg")))),"arrow-back":(0,o.lazy)((()=>s.e(3578).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-back.svg")))),"arrow-filter-up":(0,o.lazy)((()=>s.e(78745).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-filter-up.svg")))),"arrow-left":(0,o.lazy)((()=>s.e(68846).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-left.svg")))),"arrow-left-secondary":(0,o.lazy)((()=>s.e(5173).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-left-secondary.svg")))),"arrow-right":(0,o.lazy)((()=>s.e(87753).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-right.svg")))),"arrow-right-primary":(0,o.lazy)((()=>s.e(74253).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-right-primary.svg")))),"arrow-right-primary-light":(0,o.lazy)((()=>s.e(65640).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrow-right-primary-light.svg")))),"arrowDown-active":(0,o.lazy)((()=>s.e(11977).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrowDown-active.svg")))),"arrowUp-active":(0,o.lazy)((()=>s.e(91990).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/arrowUp-active.svg")))),artboard:(0,o.lazy)((()=>s.e(74996).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/artboard.svg")))),"aspect-ratio-4:3":(0,o.lazy)((()=>s.e(46407).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/aspect-ratio/4-3.svg")))),"aspect-ratio-3:4":(0,o.lazy)((()=>s.e(64204).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/aspect-ratio/3-4.svg")))),"aspect-ratio-21:9":(0,o.lazy)((()=>s.e(57720).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/aspect-ratio/21-9.svg")))),"assets-browser-audio-active":(0,o.lazy)((()=>s.e(95538).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-audio-active.svg")))),"assets-browser-audio-inactive":(0,o.lazy)((()=>s.e(55919).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-audio-inactive.svg")))),"assets-browser-image-active":(0,o.lazy)((()=>s.e(81195).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-image-active.svg")))),"assets-browser-image-inactive":(0,o.lazy)((()=>s.e(62455).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-image-inactive.svg")))),"assets-browser-video-active":(0,o.lazy)((()=>s.e(43525).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-video-active.svg")))),"assets-browser-video-inactive":(0,o.lazy)((()=>s.e(93620).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-video-inactive.svg")))),"assets-browser-font":(0,o.lazy)((()=>s.e(86738).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/assets-browser-font.svg")))),audio:(0,o.lazy)((()=>s.e(36965).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio.svg")))),"audio-asset":(0,o.lazy)((()=>s.e(72874).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-asset.svg")))),"audio-handle":(0,o.lazy)((()=>s.e(517).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-handle.svg")))),"audio-player-muted":(0,o.lazy)((()=>s.e(6727).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-player-muted.svg")))),"audio-player-pause":(0,o.lazy)((()=>s.e(85610).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-player-pause.svg")))),"audio-player-play":(0,o.lazy)((()=>s.e(51913).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-player-play.svg")))),"audio-player-speaker":(0,o.lazy)((()=>s.e(12675).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-player-speaker.svg")))),"audio-timeline":(0,o.lazy)((()=>s.e(7496).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/audio-timeline.svg")))),"background-segmentation":(0,o.lazy)((()=>s.e(90698).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/background-segmentation.svg")))),"backward-timeline":(0,o.lazy)((()=>s.e(57047).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/backward-timeline.svg")))),"backward-timeline-inactive":(0,o.lazy)((()=>s.e(25855).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/backward-timeline-inactive.svg")))),bg:(0,o.lazy)((()=>s.e(22246).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/bg.svg")))),break:(0,o.lazy)((()=>s.e(59443).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/break.svg")))),"camera-active":(0,o.lazy)((()=>s.e(90668).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/camera-active.svg")))),"camera-inactive":(0,o.lazy)((()=>s.e(58284).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/camera-inactive.svg")))),"canvas-menu":(0,o.lazy)((()=>s.e(38881).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/canvas-menu.svg")))),"cancel-circle":(0,o.lazy)((()=>s.e(17029).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/cancel-circle.svg")))),"caret-down":(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-down.svg")))),"caret-down-secondary":(0,o.lazy)((()=>s.e(75033).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-down-secondary.svg")))),"caret-right":(0,o.lazy)((()=>s.e(70306).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-right.svg")))),"caret-up":(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-up.svg")))),"caret-up-down":(0,o.lazy)((()=>s.e(4462).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-up-down.svg")))),"caret-left":(0,o.lazy)((()=>s.e(30740).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-left.svg")))),"caret-left-white":(0,o.lazy)((()=>s.e(1565).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/caret-left-white.svg")))),check:(0,o.lazy)((()=>s.e(58140).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/check.svg")))),"chat-exclamation":(0,o.lazy)((()=>s.e(5752).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/chat-exclamation.svg")))),"check-indeterminate":(0,o.lazy)((()=>s.e(18370).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/check-indeterminate.svg")))),"check-circle":(0,o.lazy)((()=>s.e(95723).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/check-circle.svg")))),"chevron-down":(0,o.lazy)((()=>s.e(75526).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/chevron-down.svg")))),chroma:(0,o.lazy)((()=>s.e(86173).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/chroma.svg")))),clips:(0,o.lazy)((()=>s.e(57928).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/clips.svg")))),close:(0,o.lazy)((()=>s.e(42950).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/close.svg")))),"close-circle":(0,o.lazy)((()=>s.e(39170).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/close-circle.svg")))),"comment-video-header":(0,o.lazy)((()=>s.e(75810).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/comment-video-header.svg")))),"custom-segmentation":(0,o.lazy)((()=>s.e(74818).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/custom-segmentation.svg")))),"data-grid":(0,o.lazy)((()=>s.e(3761).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/data-grid.svg")))),"data-table":(0,o.lazy)((()=>s.e(54583).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/data-table.svg")))),"data-list":(0,o.lazy)((()=>s.e(49488).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/data-list.svg")))),edit:(0,o.lazy)((()=>s.e(9991).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/edit.svg")))),"editor/assetsBrowser/upload":(0,o.lazy)((()=>s.e(70418).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/upload.svg")))),"editor/assetsBrowser/upload-active":(0,o.lazy)((()=>s.e(45859).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/upload-active.svg")))),"editor/assetsBrowser/menu-options/assets":(0,o.lazy)((()=>s.e(46367).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/assets.svg")))),"editor/assetsBrowser/menu-options/circle":(0,o.lazy)((()=>s.e(18941).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/circle.svg")))),"editor/assetsBrowser/menu-options/templates":(0,o.lazy)((()=>s.e(34591).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/templates.svg")))),"editor/assetsBrowser/menu-options/image":(0,o.lazy)((()=>s.e(76729).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/image.svg")))),"editor/assetsBrowser/menu-options/upload":(0,o.lazy)((()=>s.e(13274).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/upload.svg")))),"editor/assetsBrowser/menu-options/video":(0,o.lazy)((()=>s.e(80415).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/video.svg")))),"editor/assetsBrowser/menu-options/text":(0,o.lazy)((()=>s.e(64992).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/text.svg")))),"editor/assetsBrowser/menu-options/help":(0,o.lazy)((()=>s.e(73794).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/help.svg")))),"editor/assetsBrowser/menu-options/solid":(0,o.lazy)((()=>s.e(27596).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/solid.svg")))),"editor/assetsBrowser/menu-options/rectangle":(0,o.lazy)((()=>s.e(86127).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/rectangle.svg")))),"editor/assetsBrowser/menu-options/ellipse":(0,o.lazy)((()=>s.e(41387).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/ellipse.svg")))),"editor/assetsBrowser/menu-options/polygon":(0,o.lazy)((()=>s.e(95173).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/polygon.svg")))),"editor/assetsBrowser/menu-options/shapes":(0,o.lazy)((()=>s.e(35030).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assetsBrowser/menu-options/shapes.svg")))),"editor/assets-explorer/audio-file":(0,o.lazy)((()=>s.e(17339).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/audio-file.svg")))),"editor/assets-explorer/chevron-down":(0,o.lazy)((()=>s.e(46590).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/chevron-down.svg")))),"editor/assets-explorer/chevron-right":(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/chevron-right.svg")))),"editor/assets-explorer/chevron-left":(0,o.lazy)((()=>s.e(20226).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/chevron-left.svg")))),"editor/assets-explorer/chevron-up":(0,o.lazy)((()=>s.e(9359).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/chevron-up.svg")))),"editor/assets-explorer/filter":(0,o.lazy)((()=>s.e(59393).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/filter.svg")))),"editor/assets-explorer/folder":(0,o.lazy)((()=>s.e(38945).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/folder.svg")))),"editor/assets-explorer/folder-read-only":(0,o.lazy)((()=>s.e(63831).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/folder-read-only.svg")))),"editor/assets-explorer/image-file":(0,o.lazy)((()=>s.e(67882).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/image-file.svg")))),"editor/assets-explorer/mountain":(0,o.lazy)((()=>s.e(58979).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/mountain.svg")))),"editor/assets-explorer/mountain-active":(0,o.lazy)((()=>s.e(89056).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/mountain-active.svg")))),"editor/assets-explorer/more-options":(0,o.lazy)((()=>s.e(37432).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/more-options.svg")))),"editor/assets-explorer/pin":(0,o.lazy)((()=>s.e(49647).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/pin.svg")))),"editor/assets-explorer/video-file":(0,o.lazy)((()=>s.e(50317).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/assets-explorer/video-file.svg")))),"editor/circle":(0,o.lazy)((()=>s.e(25163).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/circle.svg")))),"editor/context/border/border":(0,o.lazy)((()=>s.e(91664).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/context/border/border.svg")))),"editor/context/mask/exclude-segmentation":(0,o.lazy)((()=>s.e(47662).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/context/mask/exclude-segmentation.svg")))),"editor/context/mask/include-segmentation":(0,o.lazy)((()=>s.e(49338).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/context/mask/include-segmentation.svg")))),"editor/controls/backward":(0,o.lazy)((()=>s.e(96221).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/backward.svg")))),"editor/controls/backward-inactive":(0,o.lazy)((()=>s.e(79766).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/backward-inactive.svg")))),"editor/controls/forward":(0,o.lazy)((()=>s.e(57053).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/forward.svg")))),"editor/controls/forward-inactive":(0,o.lazy)((()=>s.e(85010).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/forward-inactive.svg")))),"editor/controls/pause":(0,o.lazy)((()=>s.e(57450).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/pause.svg")))),"editor/controls/pause-inactive":(0,o.lazy)((()=>s.e(89473).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/pause-inactive.svg")))),"editor/controls/pause-primary":(0,o.lazy)((()=>s.e(24502).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/pause-primary.svg")))),"editor/controls/play":(0,o.lazy)((()=>s.e(40638).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/play.svg")))),"magic-tool-card-play":(0,o.lazy)((()=>s.e(28456).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/magic-tool-card-play.svg")))),"editor/controls/play-inactive":(0,o.lazy)((()=>s.e(12701).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/play-inactive.svg")))),"editor/controls/play-primary":(0,o.lazy)((()=>s.e(10825).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/controls/play-primary.svg")))),"editor/crosshairs":(0,o.lazy)((()=>s.e(52273).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/crosshairs.svg")))),"editor/highlighted-panel/paint-brush":(0,o.lazy)((()=>s.e(62163).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/highlighted-panel/paint-brush.svg")))),"editor/highlighted-panel/mouse-click":(0,o.lazy)((()=>s.e(83806).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/highlighted-panel/mouse-click.svg")))),"editor/layer-properties-panel/align-left":(0,o.lazy)((()=>s.e(64579).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/align-left.svg")))),"editor/layer-properties-panel/align-right":(0,o.lazy)((()=>s.e(93957).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/align-right.svg")))),"editor/layer-properties-panel/align-top":(0,o.lazy)((()=>s.e(87914).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/align-top.svg")))),"editor/layer-properties-panel/align-bottom":(0,o.lazy)((()=>s.e(77821).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/align-bottom.svg")))),"editor/layer-properties-panel/align-center-horizontal":(0,o.lazy)((()=>s.e(89733).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/align-center-horizontal.svg")))),"editor/layer-properties-panel/align-center-vertical":(0,o.lazy)((()=>s.e(77795).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/align-center-vertical.svg")))),"editor/layer-properties-panel/drag-handle":(0,o.lazy)((()=>s.e(25018).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/drag-handle.svg")))),"editor/layer-properties-panel/fades":(0,o.lazy)((()=>s.e(10509).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/fades.svg")))),"editor/layer-properties-panel/fade-in":(0,o.lazy)((()=>s.e(36309).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/fade-in.svg")))),"editor/layer-properties-panel/fade-out":(0,o.lazy)((()=>s.e(51228).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/fade-out.svg")))),"editor/layer-properties-panel/lock":(0,o.lazy)((()=>s.e(2481).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/lock.svg")))),"editor/layer-properties-panel/lock-inactive":(0,o.lazy)((()=>s.e(72922).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/lock-inactive.svg")))),"editor/layer-properties-panel/minus":(0,o.lazy)((()=>s.e(42877).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/minus.svg")))),"editor/layer-properties-panel/pen-filled":(0,o.lazy)((()=>s.e(62445).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/pen-filled.svg")))),"editor/layer-properties-panel/pen-filled-active":(0,o.lazy)((()=>s.e(85577).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/pen-filled-active.svg")))),"editor/layer-properties-panel/remove":(0,o.lazy)((()=>s.e(3393).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/remove.svg")))),"editor/layer-properties-panel/remove-active":(0,o.lazy)((()=>s.e(77963).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/remove-active.svg")))),"editor/layer-properties-panel/rotation":(0,o.lazy)((()=>s.e(65388).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/rotation.svg")))),"editor/layer-properties-panel/settings":(0,o.lazy)((()=>s.e(39156).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/settings.svg")))),"editor/layer-properties-panel/settings-white":(0,o.lazy)((()=>s.e(84769).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/settings-white.svg")))),"editor/layer-properties-panel/text-align-left":(0,o.lazy)((()=>s.e(35412).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-align-left.svg")))),"editor/layer-properties-panel/text-align-right":(0,o.lazy)((()=>s.e(57414).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-align-right.svg")))),"editor/layer-properties-panel/text-align-center":(0,o.lazy)((()=>s.e(62985).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-align-center.svg")))),"editor/layer-properties-panel/text-line-height":(0,o.lazy)((()=>s.e(37747).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-line-height.svg")))),"editor/layer-properties-panel/text-letter-spacing":(0,o.lazy)((()=>s.e(41610).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-letter-spacing.svg")))),"editor/layer-properties-panel/text-none":(0,o.lazy)((()=>s.e(27253).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-none.svg")))),"editor/layer-properties-panel/text-decoration-underline":(0,o.lazy)((()=>s.e(70047).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-decoration-underline.svg")))),"editor/layer-properties-panel/text-decoration-strike-through":(0,o.lazy)((()=>s.e(38418).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-decoration-strike-through.svg")))),"editor/layer-properties-panel/text-letter-case-upper":(0,o.lazy)((()=>s.e(80843).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-letter-case-upper.svg")))),"editor/layer-properties-panel/text-letter-case-camel":(0,o.lazy)((()=>s.e(77075).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-letter-case-camel.svg")))),"editor/layer-properties-panel/text-letter-case-lower":(0,o.lazy)((()=>s.e(36428).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-letter-case-lower.svg")))),"editor/layer-properties-panel/text-stroke-join-miter":(0,o.lazy)((()=>s.e(61160).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/join-miter.svg")))),"editor/layer-properties-panel/text-stroke-join-bevel":(0,o.lazy)((()=>s.e(6895).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/join-bevel.svg")))),"editor/layer-properties-panel/text-stroke-join-round":(0,o.lazy)((()=>s.e(61607).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/join-round.svg")))),"editor/layer-properties-panel/text-font-upload":(0,o.lazy)((()=>s.e(39687).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/text-font-upload.svg")))),"editor/layer-properties-panel/audio":(0,o.lazy)((()=>s.e(48593).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/audio.svg")))),"editor/layer-properties-panel/effects":(0,o.lazy)((()=>s.e(75054).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/effects.svg")))),"editor/layer-properties-panel/export":(0,o.lazy)((()=>s.e(21377).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/export.svg")))),"editor/layer-properties-panel/transform":(0,o.lazy)((()=>s.e(59501).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/transform.svg")))),"editor/layer-properties-panel/animate":(0,o.lazy)((()=>s.e(68808).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/animate.svg")))),"editor/layer-properties-panel/crop":(0,o.lazy)((()=>s.e(3043).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/crop.svg")))),"editor/layer-properties-panel/tracking":(0,o.lazy)((()=>s.e(62814).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layer-properties-panel/tracking.svg")))),"editor/layers-panel/hidden":(0,o.lazy)((()=>s.e(45403).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layers-panel/hidden.svg")))),"editor/layers-panel/locked":(0,o.lazy)((()=>s.e(46816).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layers-panel/locked.svg")))),"editor/layers-panel/mask":(0,o.lazy)((()=>s.e(37896).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layers-panel/mask.svg")))),"editor/layers-panel/unlocked":(0,o.lazy)((()=>s.e(99079).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layers-panel/unlocked.svg")))),"editor/layers-panel/visible":(0,o.lazy)((()=>s.e(32793).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/layers-panel/visible.svg")))),"editor/navbar/canvas":(0,o.lazy)((()=>s.e(13419).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/canvas.svg")))),"editor/navbar/color-edit":(0,o.lazy)((()=>s.e(5109).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/color-edit.svg")))),"editor/navbar/comment":(0,o.lazy)((()=>s.e(22329).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/comment.svg")))),"editor/navbar/edit":(0,o.lazy)((()=>s.e(89308).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/edit.svg")))),"editor/navbar/ellipse":(0,o.lazy)((()=>s.e(4086).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/ellipse.svg")))),"editor/navbar/export":(0,o.lazy)((()=>s.e(17665).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/export.svg")))),"editor/navbar/export-inactive":(0,o.lazy)((()=>s.e(65959).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/export-inactive.svg")))),"editor/navbar/hand":(0,o.lazy)((()=>s.e(38941).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/hand.svg")))),"editor/navbar/keyboard":(0,o.lazy)((()=>s.e(58717).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/keyboard.svg")))),"editor/navbar/line":(0,o.lazy)((()=>s.e(14600).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/line.svg")))),logo:(0,o.lazy)((()=>s.e(10291).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/logo.svg")))),"editor/navbar/menu":(0,o.lazy)((()=>s.e(84032).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/menu.svg")))),"editor/navbar/pan":(0,o.lazy)((()=>s.e(24754).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/pan.svg")))),"editor/navbar/pointer":(0,o.lazy)((()=>s.e(96632).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/pointer.svg")))),"editor/navbar/preview":(0,o.lazy)((()=>s.e(13159).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/preview.svg")))),"editor/navbar/rectangle":(0,o.lazy)((()=>s.e(46359).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/rectangle.svg")))),"editor/navbar/text":(0,o.lazy)((()=>s.e(11287).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/text.svg")))),"editor/navbar/zoom":(0,o.lazy)((()=>s.e(95083).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/zoom.svg")))),"editor/navbar/mask":(0,o.lazy)((()=>s.e(13477).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/mask.svg")))),"editor/navbar/shapes":(0,o.lazy)((()=>s.e(90431).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/shapes.svg")))),"editor/navbar/square":(0,o.lazy)((()=>s.e(93806).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/square.svg")))),"editor/navbar/triangle":(0,o.lazy)((()=>s.e(31048).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/triangle.svg")))),"editor/navbar/circle":(0,o.lazy)((()=>s.e(11981).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/circle.svg")))),"editor/navbar/solid":(0,o.lazy)((()=>s.e(80937).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/solid.svg")))),"editor/navbar/paintbrush-stroke":(0,o.lazy)((()=>s.e(26826).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/paintbrush-stroke.svg")))),"editor/navbar/undo":(0,o.lazy)((()=>s.e(90200).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/undo.svg")))),"editor/navbar/redo":(0,o.lazy)((()=>s.e(47434).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/navbar/redo.svg")))),"editor/notifications/error":(0,o.lazy)((()=>s.e(78640).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/notifications/error.svg")))),"editor/notifications/loading":(0,o.lazy)((()=>s.e(25025).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/notifications/loading.svg")))),"editor/notifications/success":(0,o.lazy)((()=>s.e(90461).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/notifications/success.svg")))),"editor/sidebar-menu/effects":(0,o.lazy)((()=>s.e(18691).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/sidebar-menu/effects.svg")))),"editor/sidebar-menu/layers":(0,o.lazy)((()=>s.e(41148).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/sidebar-menu/layers.svg")))),"editor/sidebar-menu/upload":(0,o.lazy)((()=>s.e(82151).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/sidebar-menu/upload.svg")))),"editor/shortcuts/arrow-left":(0,o.lazy)((()=>s.e(93693).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/shortcuts/arrow-left.svg")))),"editor/shortcuts/arrow-right":(0,o.lazy)((()=>s.e(30086).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/shortcuts/arrow-right.svg")))),"editor/shortcuts/drag":(0,o.lazy)((()=>s.e(75765).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/shortcuts/drag.svg")))),"editor/shortcuts/mouse":(0,o.lazy)((()=>s.e(25438).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/shortcuts/mouse.svg")))),"editor/ui/timeline/timeline-setting":(0,o.lazy)((()=>s.e(49570).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/timeline-setting.svg")))),ellipse:(0,o.lazy)((()=>s.e(81521).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/ellipse.svg")))),"ellipse-video-header":(0,o.lazy)((()=>s.e(56182).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/ellipse-video-header.svg")))),eraser:(0,o.lazy)((()=>s.e(87439).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/eraser.svg")))),error:(0,o.lazy)((()=>s.e(16116).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/error.svg")))),export:(0,o.lazy)((()=>s.e(22267).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/export.svg")))),external:(0,o.lazy)((()=>s.e(17862).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/external.svg")))),fav:(0,o.lazy)((()=>s.e(57976).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/fav.svg")))),file:(0,o.lazy)((()=>s.e(65104).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/file.svg")))),filter:(0,o.lazy)((()=>s.e(40319).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/filter.svg")))),"fit-to-screen":(0,o.lazy)((()=>s.e(92963).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/fit-to-screen.svg")))),"forward-timeline":(0,o.lazy)((()=>s.e(51605).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/forward-timeline.svg")))),"forward-timeline-inactive":(0,o.lazy)((()=>s.e(46115).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/forward-timeline-inactive.svg")))),frame:(0,o.lazy)((()=>s.e(43604).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/frame.svg")))),"frame-video-header":(0,o.lazy)((()=>s.e(59904).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/frame-video-header.svg")))),"general/close":(0,o.lazy)((()=>s.e(10340).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/general/close.svg")))),"general/delete":(0,o.lazy)((()=>s.e(89478).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/general/delete.svg")))),globe:(0,o.lazy)((()=>s.e(67975).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/globe.svg")))),google:(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/google.svg")))),"graphics/chip":(0,o.lazy)((()=>s.e(80376).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/graphics/chip.svg")))),"hand-touch":(0,o.lazy)((()=>s.e(47168).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/hand-touch.svg")))),"hide-layer":(0,o.lazy)((()=>s.e(50165).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/hide-layer.svg")))),image:(0,o.lazy)((()=>s.e(71449).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/image.svg")))),"image-timeline":(0,o.lazy)((()=>s.e(88842).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/image-timeline.svg")))),"include-segmentation":(0,o.lazy)((()=>s.e(30509).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/include-segmentation.svg")))),information:(0,o.lazy)((()=>s.e(81377).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/information.svg")))),"keyframe-clock":(0,o.lazy)((()=>s.e(31471).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/keyframe-clock.svg")))),"page_header/bell.svg":(0,o.lazy)((()=>s.e(97206).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/page_header/bell.svg")))),"page_header/logout.svg":(0,o.lazy)((()=>s.e(38915).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/page_header/logout.svg")))),"page_header/help.svg":(0,o.lazy)((()=>s.e(92353).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/page_header/help.svg")))),"page_header/settings.svg":(0,o.lazy)((()=>s.e(74982).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/page_header/settings.svg")))),"line-video-header":(0,o.lazy)((()=>s.e(24752).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/line-video-header.svg")))),link:(0,o.lazy)((()=>s.e(50765).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/link.svg")))),loader:(0,o.lazy)((()=>s.e(54848).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/loader.svg")))),"loading-circle":(0,o.lazy)((()=>s.e(84031).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/loading-circle.svg")))),lock:(0,o.lazy)((()=>s.e(61126).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/lock.svg")))),"lock-circle":(0,o.lazy)((()=>s.e(8344).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/lock-circle.svg")))),"lock-layer":(0,o.lazy)((()=>s.e(19416).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/lock-layer.svg")))),mask:(0,o.lazy)((()=>s.e(20448).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/mask.svg")))),"onboarding/ai-experiments":(0,o.lazy)((()=>s.e(36621).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/ai-experiments.svg")))),"onboarding/arrow-right":(0,o.lazy)((()=>s.e(49277).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/arrow-right.svg")))),"onboarding/education":(0,o.lazy)((()=>s.e(45720).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/education.svg")))),"onboarding/green-screen":(0,o.lazy)((()=>s.e(89867).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/green-screen.svg")))),"onboarding/personal":(0,o.lazy)((()=>s.e(12514).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/personal.svg")))),"onboarding/video-editing":(0,o.lazy)((()=>s.e(36559).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/video-editing.svg")))),"onboarding/video-effects":(0,o.lazy)((()=>s.e(99500).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/video-effects.svg")))),"onboarding/work":(0,o.lazy)((()=>s.e(78294).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/onboarding/work.svg")))),"pause-timeline":(0,o.lazy)((()=>s.e(58663).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/pause-timeline.svg")))),person:(0,o.lazy)((()=>s.e(45632).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/person.svg")))),"person-segmentation":(0,o.lazy)((()=>s.e(94326).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/person-segmentation.svg")))),"pin-frame":(0,o.lazy)((()=>s.e(20140).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/pin-frame.svg")))),play:(0,o.lazy)((()=>s.e(4450).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/play.svg")))),"play-composition-card":(0,o.lazy)((()=>s.e(34113).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/play-composition-card.svg")))),"play-timeline":(0,o.lazy)((()=>s.e(71663).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/play-timeline.svg")))),"play-timeline-inactive":(0,o.lazy)((()=>s.e(6721).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/play-timeline-inactive.svg")))),plus:(0,o.lazy)((()=>s.e(1908).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/plus.svg")))),"plus-inactive":(0,o.lazy)((()=>s.e(18650).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/plus-inactive.svg")))),"pointer-video-header":(0,o.lazy)((()=>s.e(2117).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/pointer-video-header.svg")))),"prefabs/number-input/spin-down":(0,o.lazy)((()=>s.e(28475).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/prefabs/number-input/spin-down.svg")))),"prefabs/number-input/spin-up":(0,o.lazy)((()=>s.e(58744).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/prefabs/number-input/spin-up.svg")))),"receive-arrow":(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/receive-arrow.svg")))),"receive-arrow-inactive":(0,o.lazy)((()=>s.e(3180).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/receive-arrow-inactive.svg")))),"recipes/add-image-plus":(0,o.lazy)((()=>s.e(10668).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/add-image-plus.svg")))),"recipes/back-arrow":(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/back-arrow.svg")))),"recipes/cross":(0,o.lazy)((()=>s.e(36968).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/cross.svg")))),"recipes/clock":(0,o.lazy)((()=>s.e(42813).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/clock.svg")))),"recipes/download":(0,o.lazy)((()=>Promise.resolve().then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/download.svg")))),"recipes/cost-mode-credits":(0,o.lazy)((()=>s.e(42426).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/cost-mode-credits.svg")))),"recipes/cost-mode-explore":(0,o.lazy)((()=>s.e(55740).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/cost-mode-explore.svg")))),"recipes/favorite-active":(0,o.lazy)((()=>s.e(42711).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/favorite-active.svg")))),"recipes/learn":(0,o.lazy)((()=>s.e(52354).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/learn.svg")))),"recipes/standard-favorite-active":(0,o.lazy)((()=>s.e(12087).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/standard-favorite-active.svg")))),"recipes/standard-favorite-inactive":(0,o.lazy)((()=>s.e(42596).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/standard-favorite-inactive.svg")))),"recipes/flag-waving":(0,o.lazy)((()=>s.e(32638).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/flag-waving.svg")))),"recipes/folder":(0,o.lazy)((()=>s.e(90499).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/folder.svg")))),"recipes/favorite-inactive":(0,o.lazy)((()=>s.e(62988).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/favorite-inactive.svg")))),"recipes/gen1/image":(0,o.lazy)((()=>s.e(25983).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/image.svg")))),"recipes/gen1/input":(0,o.lazy)((()=>s.e(46026).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/input.svg")))),"recipes/gen1/presets":(0,o.lazy)((()=>s.e(5588).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/presets.svg")))),"recipes/gen1/prompt":(0,o.lazy)((()=>s.e(77601).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/prompt.svg")))),"recipes/gen1/style-preview":(0,o.lazy)((()=>s.e(65405).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/style-preview.svg")))),"recipes/gen1/wordmark":(0,o.lazy)((()=>s.e(99575).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/wordmark.svg")))),"recipes/gen1/modal-check":(0,o.lazy)((()=>s.e(72e3).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen1/gen1-modal-check.svg")))),"recipes/gen2/extend":(0,o.lazy)((()=>s.e(69829).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/extend.svg")))),"recipes/gen2/motion-brush/ambient-negative":(0,o.lazy)((()=>s.e(27503).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-brush/ambient-negative.svg")))),"recipes/gen2/motion-brush/ambient-positive":(0,o.lazy)((()=>s.e(73229).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-brush/ambient-positive.svg")))),"recipes/gen2/motion-brush/proximity-in":(0,o.lazy)((()=>s.e(17319).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-brush/proximity-in.svg")))),"recipes/gen2/motion-brush/proximity-out":(0,o.lazy)((()=>s.e(50438).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-brush/proximity-out.svg")))),"recipes/gen2/motion-controls/roll-clockwise":(0,o.lazy)((()=>s.e(81657).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/roll-clockwise.svg")))),"recipes/gen2/motion-controls/roll-counter-clockwise":(0,o.lazy)((()=>s.e(23995).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/roll-counter-clockwise.svg")))),"recipes/gen2/motion-controls/zoom-in":(0,o.lazy)((()=>s.e(81069).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/zoom-in.svg")))),"recipes/gen2/motion-controls/zoom-out":(0,o.lazy)((()=>s.e(57869).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/zoom-out.svg")))),"recipes/gen2/image-prompt":(0,o.lazy)((()=>s.e(28314).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/image-prompt.svg")))),"recipes/gen2/video-prompt":(0,o.lazy)((()=>s.e(1009).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/video-prompt.svg")))),"recipes/gen2/init-video":(0,o.lazy)((()=>s.e(62579).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/init-video.svg")))),"recipes/gen2/text-prompt":(0,o.lazy)((()=>s.e(39642).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/text-prompt.svg")))),"recipes/gen2/wordmark":(0,o.lazy)((()=>s.e(40800).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/wordmark.svg")))),"recipes/gen2/motion-controls/camera-options":(0,o.lazy)((()=>s.e(63087).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/camera-options.svg")))),"recipes/gen2/motion-controls/motion-brush-options":(0,o.lazy)((()=>s.e(78455).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/motion-brush-options.svg")))),"recipes/gen2/motion-controls/pan-negative":(0,o.lazy)((()=>s.e(40916).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/pan-negative.svg")))),"recipes/gen2/motion-controls/pan-positive":(0,o.lazy)((()=>s.e(87165).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/pan-positive.svg")))),"recipes/gen2/motion-controls/tilt-negative":(0,o.lazy)((()=>s.e(74283).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/tilt-negative.svg")))),"recipes/gen2/motion-controls/tilt-positive":(0,o.lazy)((()=>s.e(42142).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/gen2/motion-controls/tilt-positive.svg")))),"recipes/image-masker/brush":(0,o.lazy)((()=>s.e(47830).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/image-masker/brush.svg")))),"recipes/image-masker/erase":(0,o.lazy)((()=>s.e(73114).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/image-masker/erase.svg")))),"recipes/magic-wand":(0,o.lazy)((()=>s.e(65399).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/magic-wand.svg")))),"recipes/lightning-bolt":(0,o.lazy)((()=>s.e(43351).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/lightning-bolt.svg")))),"recipes/lightbulb":(0,o.lazy)((()=>s.e(98614).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/lightbulb.svg")))),"recipes/newspaper":(0,o.lazy)((()=>s.e(52259).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/newspaper.svg")))),"recipes/play-with-circle":(0,o.lazy)((()=>s.e(22432).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/play-with-circle.svg")))),"recipes/play-filled":(0,o.lazy)((()=>s.e(11002).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/play-filled.svg")))),"recipes/redo":(0,o.lazy)((()=>s.e(2977).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/redo.svg")))),"recipes/settings":(0,o.lazy)((()=>s.e(55847).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/settings.svg")))),"recipes/star":(0,o.lazy)((()=>s.e(20726).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/star.svg")))),"recipes/thumbs-up":(0,o.lazy)((()=>s.e(10501).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/thumbs-up.svg")))),"recipes/thumbs-down":(0,o.lazy)((()=>s.e(77184).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/thumbs-down.svg")))),"recipes/undo":(0,o.lazy)((()=>s.e(330).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/recipes/undo.svg")))),"rectangle-video-header":(0,o.lazy)((()=>s.e(96675).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/rectangle-video-header.svg")))),replace:(0,o.lazy)((()=>s.e(20388).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/replace.svg")))),"remove-segmentation":(0,o.lazy)((()=>s.e(89599).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/remove-segmentation.svg")))),rocket:(0,o.lazy)((()=>s.e(86097).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/rocket.svg")))),search:(0,o.lazy)((()=>s.e(84999).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/search.svg")))),share:(0,o.lazy)((()=>s.e(99853).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/share.svg")))),"thin-share":(0,o.lazy)((()=>s.e(22294).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/thin-share.svg")))),"public-share":(0,o.lazy)((()=>s.e(21452).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/public-share.svg")))),"shape-timeline":(0,o.lazy)((()=>s.e(22960).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/shape-timeline.svg")))),"shapes-menu":(0,o.lazy)((()=>s.e(33977).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/shapes-menu.svg")))),"show-layer":(0,o.lazy)((()=>s.e(10106).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/show-layer.svg")))),"sidebar_menu/arrow-right":(0,o.lazy)((()=>s.e(65356).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/arrow-right.svg")))),"sidebar_menu/assets":(0,o.lazy)((()=>s.e(8619).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/assets.svg")))),"sidebar_menu/assets-outline":(0,o.lazy)((()=>s.e(49535).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/assets-outline.svg")))),"sidebar_menu/ai":(0,o.lazy)((()=>s.e(65842).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/ai.svg")))),"sidebar_menu/ai-light":(0,o.lazy)((()=>s.e(99213).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/ai-light.svg")))),"sidebar_menu/chat":(0,o.lazy)((()=>s.e(18496).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/chat.svg")))),"sidebar_menu/city-building":(0,o.lazy)((()=>s.e(42751).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/city-building.svg")))),"sidebar_menu/create-project":(0,o.lazy)((()=>s.e(9109).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/create-project.svg")))),"sidebar_menu/user":(0,o.lazy)((()=>s.e(73992).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/user.svg")))),"sidebar_menu/shared-with-me":(0,o.lazy)((()=>s.e(97588).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/shared-with-me.svg")))),"sidebar_menu/templates":(0,o.lazy)((()=>s.e(31390).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/templates.svg")))),"sidebar_menu/recent":(0,o.lazy)((()=>s.e(77978).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/recent.svg")))),"sidebar_menu/external":(0,o.lazy)((()=>s.e(44811).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/external.svg")))),"sidebar_menu/external-link-indicator":(0,o.lazy)((()=>s.e(46039).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/external-link-indicator.svg")))),"sidebar_menu/hosted":(0,o.lazy)((()=>s.e(9516).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/hosted.svg")))),"sidebar_menu/ml-lab":(0,o.lazy)((()=>s.e(5314).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/ml-lab.svg")))),"sidebar_menu/models":(0,o.lazy)((()=>s.e(92648).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/models.svg")))),"sidebar_menu/projects":(0,o.lazy)((()=>s.e(68570).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/projects.svg")))),"sidebar_menu/quick-actions":(0,o.lazy)((()=>s.e(80686).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/quick-actions.svg")))),"sidebar_menu/training":(0,o.lazy)((()=>s.e(94763).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/training.svg")))),"sidebar_menu/video-editor":(0,o.lazy)((()=>s.e(46962).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/video-editor.svg")))),"sidebar_menu/workspaces":(0,o.lazy)((()=>s.e(61299).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/workspaces.svg")))),"sidebar_menu/user-add":(0,o.lazy)((()=>s.e(23196).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/user-add.svg")))),"sidebar_menu/globe":(0,o.lazy)((()=>s.e(34868).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/globe.svg")))),"sidebar_menu/showcase":(0,o.lazy)((()=>s.e(67973).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/showcase.svg")))),"sidebar_menu/video-asset":(0,o.lazy)((()=>s.e(2755).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/video-asset.svg")))),"sidebar_menu/watch":(0,o.lazy)((()=>s.e(63034).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sidebar_menu/watch.svg")))),sound:(0,o.lazy)((()=>s.e(50428).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sound.svg")))),sparks:(0,o.lazy)((()=>s.e(39908).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/sparks.svg")))),"speaker-active":(0,o.lazy)((()=>s.e(86734).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/speaker-active.svg")))),"speaker-muted":(0,o.lazy)((()=>s.e(40804).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/speaker-muted.svg")))),"task_info/video":(0,o.lazy)((()=>s.e(90750).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/task_info/video.svg")))),text:(0,o.lazy)((()=>s.e(33761).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/text.svg")))),"text-menu":(0,o.lazy)((()=>s.e(87615).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/text-menu.svg")))),"text-timeline":(0,o.lazy)((()=>s.e(9808).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/text-timeline.svg")))),"text-video-header":(0,o.lazy)((()=>s.e(97426).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/text-video-header.svg")))),"three-dots":(0,o.lazy)((()=>s.e(9990).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/three-dots.svg")))),"three-dots-active":(0,o.lazy)((()=>s.e(7590).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/three-dots-active.svg")))),"three-dots-inactive":(0,o.lazy)((()=>s.e(94900).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/three-dots-inactive.svg")))),trash:(0,o.lazy)((()=>s.e(24979).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/trash.svg")))),download:(0,o.lazy)((()=>s.e(35451).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/download.svg")))),clock:(0,o.lazy)((()=>s.e(68804).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/clock.svg")))),"clock-inactive":(0,o.lazy)((()=>s.e(58977).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/clock-inactive.svg")))),"unlock-layer":(0,o.lazy)((()=>s.e(40194).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/unlock-layer.svg")))),video:(0,o.lazy)((()=>s.e(43898).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/video.svg")))),"video-assets":(0,o.lazy)((()=>s.e(16447).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/video-assets.svg")))),"video-layer-loader":(0,o.lazy)((()=>s.e(20156).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/video-layer-loader.svg")))),"video-timeline":(0,o.lazy)((()=>s.e(83031).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/video-timeline.svg")))),"editor/ui/timeline/add-media":(0,o.lazy)((()=>s.e(42623).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/add-media.svg")))),"editor/ui/timeline/cut":(0,o.lazy)((()=>s.e(89278).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/cut.svg")))),"editor/ui/timeline/plus":(0,o.lazy)((()=>s.e(19647).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/plus.svg")))),"editor/ui/timeline/minus":(0,o.lazy)((()=>s.e(34977).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/minus.svg")))),"editor/ui/timeline/timeline":(0,o.lazy)((()=>s.e(23046).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/timeline.svg")))),"editor/ui/timeline/keyframes":(0,o.lazy)((()=>s.e(8127).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/keyframes.svg")))),"editor/ui/timeline/empty-keyframe":(0,o.lazy)((()=>s.e(25698).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/empty-keyframe.svg")))),"editor/ui/timeline/keyframe":(0,o.lazy)((()=>s.e(67826).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/keyframe.svg")))),"editor/ui/timeline/settings":(0,o.lazy)((()=>s.e(76924).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/settings.svg")))),"editor/ui/timeline/settings-active":(0,o.lazy)((()=>s.e(89210).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/settings-active.svg")))),"editor/ui/timeline/timeline-size-L":(0,o.lazy)((()=>s.e(15571).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/timeline-size-L.svg")))),"editor/ui/timeline/timeline-size-L-active":(0,o.lazy)((()=>s.e(61861).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/timeline-size-L-active.svg")))),"editor/ui/timeline/timeline-size-S":(0,o.lazy)((()=>s.e(64853).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/timeline-size-S.svg")))),"editor/ui/timeline/timeline-size-S-active":(0,o.lazy)((()=>s.e(93738).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/timeline-size-S-active.svg")))),"editor/ui/timeline/plus-active":(0,o.lazy)((()=>s.e(49973).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/plus-active.svg")))),"editor/ui/timeline/minus-active":(0,o.lazy)((()=>s.e(36230).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/minus-active.svg")))),"video-tools":(0,o.lazy)((()=>s.e(96924).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/video-tools.svg")))),"editor/ui/timeline/stopwatch-active":(0,o.lazy)((()=>s.e(3973).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/stopwatch-active.svg")))),"editor/ui/timeline/stopwatch-inactive":(0,o.lazy)((()=>s.e(54034).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/stopwatch-inactive.svg")))),"subs-primary-light":(0,o.lazy)((()=>s.e(54916).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/subs-primary-light.svg")))),"editor/ui/timeline/clip/caret-down":(0,o.lazy)((()=>s.e(60050).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/clip/caret-down.svg")))),"editor/ui/timeline/clip/caret-up":(0,o.lazy)((()=>s.e(17938).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/clip/caret-up.svg")))),"editor/ui/timeline/clip/keyframes":(0,o.lazy)((()=>s.e(76426).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/clip/keyframes.svg")))),"editor/ui/timeline/clip/lock":(0,o.lazy)((()=>s.e(90850).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/clip/lock.svg")))),"editor/ui/timeline/layers/text":(0,o.lazy)((()=>s.e(99602).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/layers/text.svg")))),"editor/ui/timeline/layers/shape":(0,o.lazy)((()=>s.e(98330).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/layers/shape.svg")))),"editor/ui/timeline/layers/video":(0,o.lazy)((()=>s.e(2795).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/layers/video.svg")))),"editor/ui/timeline/layers/image":(0,o.lazy)((()=>s.e(47954).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/layers/image.svg")))),"editor/ui/timeline/layers/edited":(0,o.lazy)((()=>s.e(47642).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/layers/edited.svg")))),"editor/ui/timeline/layers/audio":(0,o.lazy)((()=>s.e(17313).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/ui/timeline/layers/audio.svg")))),nav:(0,o.lazy)((()=>s.e(35994).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/nav.svg")))),"not-allowed":(0,o.lazy)((()=>s.e(25746).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/not-allowed.svg")))),warning:(0,o.lazy)((()=>s.e(43059).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/warning.svg")))),"cursor-move":(0,o.lazy)((()=>s.e(55467).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/cursor-move.svg")))),collaboration:(0,o.lazy)((()=>s.e(3150).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/collaboration.svg")))),runway:(0,o.lazy)((()=>s.e(61977).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/runway.svg")))),"editor/easing/in/linear":(0,o.lazy)((()=>s.e(91394).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/linear.svg")))),"editor/easing/in/sine":(0,o.lazy)((()=>s.e(55155).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/sine.svg")))),"editor/easing/in/quad":(0,o.lazy)((()=>s.e(32195).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/quad.svg")))),"editor/easing/in/cubic":(0,o.lazy)((()=>s.e(85608).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/cubic.svg")))),"editor/easing/in/quart":(0,o.lazy)((()=>s.e(25661).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/quart.svg")))),"editor/easing/in/quint":(0,o.lazy)((()=>s.e(35503).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/quint.svg")))),"editor/easing/in/expo":(0,o.lazy)((()=>s.e(71883).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/expo.svg")))),"editor/easing/in/circ":(0,o.lazy)((()=>s.e(82642).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/circ.svg")))),"editor/easing/in/back":(0,o.lazy)((()=>s.e(22634).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/back.svg")))),"editor/easing/in/bounce":(0,o.lazy)((()=>s.e(14503).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/bounce.svg")))),"editor/easing/in/elastic":(0,o.lazy)((()=>s.e(40294).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/elastic.svg")))),"editor/easing/in/hold":(0,o.lazy)((()=>s.e(38188).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/in/hold.svg")))),"editor/easing/out/linear":(0,o.lazy)((()=>s.e(83506).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/linear.svg")))),"editor/easing/out/sine":(0,o.lazy)((()=>s.e(89070).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/sine.svg")))),"editor/easing/out/quad":(0,o.lazy)((()=>s.e(51559).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/quad.svg")))),"editor/easing/out/cubic":(0,o.lazy)((()=>s.e(16804).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/cubic.svg")))),"editor/easing/out/quart":(0,o.lazy)((()=>s.e(84348).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/quart.svg")))),"editor/easing/out/quint":(0,o.lazy)((()=>s.e(95669).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/quint.svg")))),"editor/easing/out/expo":(0,o.lazy)((()=>s.e(2293).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/expo.svg")))),"editor/easing/out/circ":(0,o.lazy)((()=>s.e(20346).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/circ.svg")))),"editor/easing/out/back":(0,o.lazy)((()=>s.e(15791).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/back.svg")))),"editor/easing/out/bounce":(0,o.lazy)((()=>s.e(20278).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/bounce.svg")))),"editor/easing/out/elastic":(0,o.lazy)((()=>s.e(66146).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/elastic.svg")))),"editor/easing/out/hold":(0,o.lazy)((()=>s.e(2054).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/out/hold.svg")))),"editor/easing/both/linear":(0,o.lazy)((()=>s.e(70656).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/linear.svg")))),"editor/easing/both/sine":(0,o.lazy)((()=>s.e(68721).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/sine.svg")))),"editor/easing/both/quad":(0,o.lazy)((()=>s.e(79355).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/quad.svg")))),"editor/easing/both/cubic":(0,o.lazy)((()=>s.e(33509).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/cubic.svg")))),"editor/easing/both/quart":(0,o.lazy)((()=>s.e(61442).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/quart.svg")))),"editor/easing/both/quint":(0,o.lazy)((()=>s.e(45186).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/quint.svg")))),"editor/easing/both/expo":(0,o.lazy)((()=>s.e(64500).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/expo.svg")))),"editor/easing/both/circ":(0,o.lazy)((()=>s.e(35790).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/circ.svg")))),"editor/easing/both/back":(0,o.lazy)((()=>s.e(74149).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/back.svg")))),"editor/easing/both/bounce":(0,o.lazy)((()=>s.e(30377).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/bounce.svg")))),"editor/easing/both/elastic":(0,o.lazy)((()=>s.e(65934).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/elastic.svg")))),"editor/easing/both/hold":(0,o.lazy)((()=>s.e(9931).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/both/hold.svg")))),"editor/easing/direction/in":(0,o.lazy)((()=>s.e(80098).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/direction/in.svg")))),"editor/easing/direction/out":(0,o.lazy)((()=>s.e(28626).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/direction/out.svg")))),"editor/easing/direction/both":(0,o.lazy)((()=>s.e(74722).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/easing/direction/both.svg")))),"editor/presets/text":(0,o.lazy)((()=>s.e(59554).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/presets/text.svg")))),"editor/presets/image":(0,o.lazy)((()=>s.e(80469).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/editor/presets/image.svg")))),"global-search/horizontal-navigation":(0,o.lazy)((()=>s.e(81370).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/global_search/horizontal-navigation.svg")))),"global-search/return-key":(0,o.lazy)((()=>s.e(99362).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/global_search/return-key.svg")))),"global-search/cmd-key":(0,o.lazy)((()=>s.e(14953).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/global_search/cmd-key.svg")))),"global-search/project":(0,o.lazy)((()=>s.e(36113).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/global_search/project.svg")))),"pricing/ellipse":(0,o.lazy)((()=>s.e(5281).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/pricing/ellipse.svg")))),"pricing/information":(0,o.lazy)((()=>s.e(5292).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/pricing/information.svg")))),public:(0,o.lazy)((()=>s.e(32980).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/public.svg")))),"upscale-video-camera":(0,o.lazy)((()=>s.e(78874).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/upscale-video-camera.svg")))),"upscale-video-frown":(0,o.lazy)((()=>s.e(21351).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/upscale-video-frown.svg")))),"upscale-video-smile":(0,o.lazy)((()=>s.e(18563).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/upscale-video-smile.svg")))),"watch/replay":(0,o.lazy)((()=>s.e(77346).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/watch/replay.svg")))),"watch/play-next":(0,o.lazy)((()=>s.e(11007).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/watch/play-next.svg")))),"talking-heads/add-speaker":(0,o.lazy)((()=>s.e(89815).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/add-speaker.svg")))),"talking-heads/upload":(0,o.lazy)((()=>s.e(30290).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/upload.svg")))),"talking-heads/magic-wand":(0,o.lazy)((()=>s.e(17773).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/magic-wand.svg")))),"talking-heads/lightbulb":(0,o.lazy)((()=>s.e(6234).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/lightbulb.svg")))),"talking-heads/microphone":(0,o.lazy)((()=>s.e(5367).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/microphone.svg")))),"talking-heads/options":(0,o.lazy)((()=>s.e(46345).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/options.svg")))),"talking-heads/plus-square":(0,o.lazy)((()=>s.e(47135).then(s.bind(s,"./app/devoe/assets/icons/@component-icons/talking-heads/plus-square.svg"))))};var c=s("./node_modules/react/jsx-runtime.js");const d=o.memo(o.forwardRef(((e,t)=>{let{svg:s,icon:d,iconActive:u,primary:m,danger:h,error:g,inactive:f,xs:y,sm:x,md:v,lg:b,xl:w,size:_,width:I,height:T,onClick:j,color:k,hoverColor:C,bgcolor:E,background:S,ariaLabel:A,containerStyle:M,...P}=e;const[N,D]=(0,i.X)(),O=(0,o.useContext)(n.Ni),L=(0,o.useMemo)((()=>k||(f?O.colors.uiInactive:h||g?O.colors.danger:O.colors.primary)),[O,k,f,h,g,m]),R=(0,o.useMemo)((()=>{switch(!0){case void 0!==_:return _;case y:return O.icons.size.xs;case x:return O.icons.size.sm;case v:return O.icons.size.md;case b:return O.icons.size.lg;case w:return O.icons.size.xl;default:return O.icons.size.md}}),[O,y,x,v,b,w,_]),Z="black",U=(0,o.useMemo)((()=>E&&O.colors[E]),[O,E]),z=(0,o.useMemo)((()=>s||(u&&D?l[u]:d?l[d]:void 0)),[u,d,D,s]),V=(0,o.useMemo)((()=>j?D?C||O.colors.white:k||O.colors.secondary:L),[j,L,k,D,O.colors.secondary,O.colors.white,C]);return z?(0,c.jsx)(o.Suspense,{fallback:(0,c.jsx)("div",{}),children:(0,c.jsx)(p,{ref:(0,r.l)(N,t),"aria-label":A,style:M,children:(0,c.jsx)(z,{width:I||R||_||"16px",height:T||R||_||"16px",colorforeground:V,colorbackground:E?U:Z,onClick:j,cursor:j?"pointer":"default",...P})})}):((0,a.Tb)(new Error(`Icon: '${d}' does not exist`)),null)}))),p=(n.ZP.div.withConfig({displayName:"Icon__IconContainer",componentId:"sc-layi66-0"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);"]),n.ZP.div.withConfig({displayName:"Icon__StyledIconContainer",componentId:"sc-layi66-1"})(["display:flex;align-items:center;justify-content:center;"]))},"./app/components/Prefabs/IconButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/utils/hooks/useHover.ts"),i=s("./app/utils/merge-refs.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Icon/Icon.tsx"),c=s("./node_modules/react/jsx-runtime.js");const d=o.forwardRef(((e,t)=>{let{icon:s,iconActive:n,onClick:r,color:d,iconColor:u,hoverColor:m,label:h,iconSize:g=10,size:f=null,className:y=""}=e;const[x,v]=(0,a.X)(),b=(0,o.useMemo)((()=>"number"==typeof f?{size:f,span:f,minWidth:f,minHeight:f,maxHeight:f}:{}),[f]),w=(0,o.useMemo)((()=>v&&m?m:u||null),[u,v,m]);return(0,c.jsx)(p,{color:d,alignCenterVertical:!0,onClick:r??void 0,"aria-label":h||"",ref:(0,i.l)(t,x),className:y,...b,children:(0,c.jsx)(l.Z,{size:g,icon:s,iconActive:n,onClick:()=>null,...w&&{color:w}})})})),p=(0,n.ZP)(r.JX).withConfig({displayName:"IconButton__SqaureIconButton",componentId:"sc-1cqidg3-0"})(["background:",";border-radius:4px;width:100%;"],(e=>e.color?e.color:e.theme.colors.uiLevel1)),u=d},"./app/components/Prefabs/ImageMasker/Mask/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Bb:()=>n,Iu:()=>o,K$:()=>d,OQ:()=>i,Pb:()=>l,Qg:()=>p,so:()=>c,t8:()=>a,u5:()=>r});const o=["#E52C96","#99D217","#008FFF","#FF4D00","#FFCE00"],n=["#FFFFFF","#1D1E23","#FFFFFF","#FFFFFF","#1D1E23"],a=o.length,i=[[229,44,150,255],[153,210,23,255],[0,143,255,255],[255,77,0,255],[255,206,0,255]],r=i.map((e=>`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0.5)`)),l=i.map((e=>`rgb(${e[0]}, ${e[1]}, ${e[2]})`)),c=1024,d=.5,p=d},"./app/components/Prefabs/InPlaceDropdown/InPlaceDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{$G:()=>g,VY:()=>x,W2:()=>f,ZP:()=>b,eT:()=>y,om:()=>v,u_:()=>h,vX:()=>u});var o=s("./node_modules/@radix-ui/react-select/dist/index.module.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/devoe/themeDark.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Divider.tsx"),c=s("./app/components/Prefabs/Icon/Icon.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./node_modules/react/jsx-runtime.js");const u=e=>{let{ItemComponent:t,items:s,onHover:n,selected:a,style:d,textAlign:u,valueExists:m,containerPad:f=[8,0]}=e;return(0,p.jsxs)(x,{onKeyDown:e=>{["ArrowDown","ArrowUp"].includes(e.key)||(e.preventDefault(),e.stopPropagation())},onKeyUp:e=>{["ArrowDown","ArrowUp"].includes(e.key)||(e.preventDefault(),e.stopPropagation())},style:{padding:(0,r.x9)(f)},children:[(0,p.jsx)(h,{children:(0,p.jsx)(c.Z,{icon:"caret-up",color:i.Z.colors.uiHoverable,size:16,onClick:()=>{}})}),(0,p.jsx)(o.l_,{style:d,children:s.map(((e,s)=>"DIVIDER"===e?(0,p.jsx)(o.Z0,{children:(0,p.jsx)(l.Z,{line:!0,overWhite:!0})},`divider-${s}`):t?(0,p.jsx)(o.ck,{value:e.value,onFocus:()=>n?.(m(e.value)?e.value:null),children:(0,p.jsx)(t,{...e,selected:a?.value===e.value})},e.value):(0,p.jsx)(o.ck,{value:e.value,asChild:!0,onFocus:()=>n?.(m(e.value)?e.value:null),children:(0,p.jsx)(v,{style:{textAlign:u},selected:a?.value===e.value,children:(0,p.jsx)(y,{xs:!0,children:(0,p.jsx)(o.eT,{children:(0,p.jsx)("div",{children:e.title})})})})},e.value)))}),(0,p.jsx)(g,{children:(0,p.jsx)(c.Z,{icon:"caret-down",color:i.Z.colors.uiHoverable,size:16,onClick:()=>{}})})]})},m=(0,a.iv)(["display:flex;justify-content:space-around;align-items:center;"]),h=(0,a.ZP)(o.u_).withConfig({displayName:"InPlaceDropdown__ScrollUpButton",componentId:"sc-1em98f-0"})(["",""],m),g=(0,a.ZP)(o.$G).withConfig({displayName:"InPlaceDropdown__ScrollDownButton",componentId:"sc-1em98f-1"})(["",""],m),f=(0,a.ZP)(r.ZP).withConfig({displayName:"InPlaceDropdown__Container",componentId:"sc-1em98f-2"})(["position:relative;"," padding:4px 8px;&[data-disabled]{cursor:not-allowed;opacity:0.5;}",""],(e=>e.readOnly?(0,a.iv)(["*{user-select:text;}"]):(0,a.iv)(["background:",";border-radius:",";border:1px solid transparent;&:focus{border-color:",";}"],e.theme.colors.uiLevel1,e.borderRadius||e.theme.border.boxRadius,e.theme.colors.primary)),(e=>e.customStyles||"")),y=(0,a.ZP)(d.Z).withConfig({displayName:"InPlaceDropdown__ItemText",componentId:"sc-1em98f-3"})(["flex:1;color:",";&:hover{color:",";}"],(e=>e.theme.colors.textWhiteUI),(e=>e.theme.colors.textWhiteUI)),x=(0,a.ZP)(o.VY).withConfig({displayName:"InPlaceDropdown__Content",componentId:"sc-1em98f-4"})(["border-radius:2px;background:",";"],(e=>e.theme.colors.white)),v=a.ZP.div.withConfig({displayName:"InPlaceDropdown__ItemContainer",componentId:"sc-1em98f-5"})(["padding:4px 8px;&:focus{background:rgba(165,180,199,0.25);}",""],(e=>e.selected?(0,a.iv)(["background:",";","{color:",";}&:focus{background:",";}"],e.theme.colors.primary,y,e.theme.colors.white,e.theme.colors.primary):(0,a.iv)(["&:hover{background:rgba(165,180,199,0.25);}"]))),b=e=>{let{value:t,items:s,readOnly:a,ItemComponent:l,onChange:m,onHover:h,containerPad:g,containerRadius:y,disabled:x,customStyles:v=""}=e;const b=(0,n.useCallback)((e=>s.some((t=>"DIVIDER"!==t&&t?.value===e))),[s]),w=(0,n.useMemo)((()=>b(t)?s:[{title:t,value:t},"DIVIDER",...s]),[t,b,s]),_=(0,n.useMemo)((()=>w.filter((e=>"DIVIDER"!==e))),[w]),I=(0,n.useMemo)((()=>_.find((e=>{let{value:s}=e;return t===s}))),[_,t]),[T,j]=(0,n.useState)(!1);return(0,p.jsxs)(o.fC,{value:I?.value||"",onValueChange:e=>{b(e)&&m(e)},open:T,onOpenChange:e=>{e?a||j(!0):j(!1),e||h?.()},children:[(0,p.jsx)(o.xz,{disabled:x,asChild:!0,onKeyDown:e=>{" "===e.key&&e.preventDefault()},children:(0,p.jsx)(f,{readOnly:a,size:12,tabIndex:0,borderRadius:y,customStyles:v,children:(0,p.jsxs)(r.X2,{spaceBetween:!0,grow:!0,alignCenterVertical:!0,children:[(0,p.jsx)(o.B4,{asChild:!0,children:(0,p.jsx)(r.JX,{overflowHidden:!0,children:(0,p.jsx)(d.Z,{xs:!0,noSelect:!a,noWrap:!0,color:"uiHoverable",children:I?.title||""})})}),!a&&(0,p.jsx)(o.JO,{children:(0,p.jsx)(c.Z,{icon:"caret-down",color:i.Z.colors.primaryLight,size:10,onClick:()=>{},"data-testid":`caret-down-${I?.title}`})})]})})}),(0,p.jsx)(u,{ItemComponent:l,items:_,onHover:h,selected:I,valueExists:b,containerPad:g})]})}},"./app/components/Prefabs/InPlaceDropdown/ItemComponent/ItemWithHint.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("./app/utils/hooks/useHover.ts"),n=s("./node_modules/@radix-ui/react-select/dist/index.module.js"),a=(s("./node_modules/react/index.js"),s("./app/components/Prefabs/Block.tsx")),i=s("./app/components/Prefabs/Text.tsx"),r=s("./app/components/Prefabs/InPlaceDropdown/InPlaceDropdown.tsx"),l=s("./node_modules/react/jsx-runtime.js");const c=e=>{let{title:t,selected:s,hint:c,hintOnHover:d=!1}=e;const[p,u]=(0,o.X)(),m=!d||(u||s);return(0,l.jsx)(r.om,{selected:s,ref:p,children:(0,l.jsxs)(a.X2,{children:[(0,l.jsx)(i.Z,{color:s?"white":"textWhiteUI",xs:!0,children:(0,l.jsx)(n.eT,{children:t})}),(0,l.jsx)(a.JX,{grow:!0,alignCenterVertical:!0,alignRight:!0,children:(0,l.jsx)(i.Z,{xxs:!0,color:s?"white":"textSecondary",children:m?c:""})})]})})}},"./app/components/Prefabs/Lightbox.tsx":(e,t,s)=>{"use strict";s.d(t,{IT:()=>u,PR:()=>w,PZ:()=>y,UV:()=>m,VY:()=>g,Y2:()=>b,fC:()=>d});var o=s("./app/constants/z-indexes.ts"),n=s("./app/devoe/assets/icons/@component-icons/recipes/close.svg"),a=s("./app/devoe/assets/icons/@component-icons/recipes/training/chevron-left.svg"),i=s("./app/devoe/assets/icons/@component-icons/recipes/training/chevron-right.svg"),r=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),l=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),c=s("./node_modules/react/jsx-runtime.js");const d=e=>{let{children:t,...s}=e;return(0,c.jsx)(p,{...s,children:t})},p=l.ZP.div.withConfig({displayName:"Lightbox__StyledRoot",componentId:"sc-1m9m8ks-0"})(["box-sizing:border-box;position:fixed;inset:0;overflow:hidden;z-index:",";background-color:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;opacity:0;animation:overlayShow 150ms ease-in-out forwards;@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],o.I.Lightbox),u=e=>(0,c.jsx)(h,{...e,"aria-label":"previous",children:e.caretIcon?(0,c.jsx)(_,{height:32,width:32}):(0,c.jsx)(a.Z,{})}),m=e=>(0,c.jsx)(h,{...e,"aria-label":"next",children:e.caretIcon?(0,c.jsx)(I,{height:32,width:32}):(0,c.jsx)(i.Z,{})}),h=l.ZP.button.withConfig({displayName:"Lightbox__ArrowButton",componentId:"sc-1m9m8ks-1"})(["background-color:transparent;padding:0;border:none;cursor:pointer;font-size:64px;color:#a5b4c7;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:hover{color:#fff;}"],(e=>e.theme.colors.primary)),g=e=>{let{children:t,...s}=e;return(0,c.jsx)(f,{...s,children:t})},f=l.ZP.div.withConfig({displayName:"Lightbox__StyledContent",componentId:"sc-1m9m8ks-2"})(["position:relative;max-height:95vh;max-width:95vw;aspect-ratio:1 / 1;animation:lightboxContentShow 150ms ease-in-out forwards;@keyframes lightboxContentShow{0%{opacity:0;transform:scale(0.96);}100%{opacity:1;transform:scale(1);}}"]),y=e=>(0,c.jsx)(x,{...e,"aria-label":"close dialog",children:(0,c.jsx)(v,{})}),x=l.ZP.button.withConfig({displayName:"Lightbox__StyledCloseButton",componentId:"sc-1m9m8ks-3"})(["position:absolute;top:44px;right:44px;background-color:transparent;padding:0;border:none;cursor:pointer;font-size:24px;color:#a5b4c7;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:hover{color:#fff;}"],(e=>e.theme.colors.primary)),v=(0,l.ZP)(n.Z).withConfig({displayName:"Lightbox__StyledCloseIcon",componentId:"sc-1m9m8ks-4"})(["width:24px;height:24px;& path{fill:#fff;}"]),b=e=>{let{list:t,currentIndex:s}=e;return t[Math.min(t.length-1,Math.max(0,s+1))]},w=e=>{let{list:t,currentIndex:s}=e;return t[Math.min(t.length-1,Math.max(0,s-1))]};var _=(0,l.ZP)(r.BNd).withConfig({displayName:"Lightbox___StyledCaretLeftIcon",componentId:"sc-1m9m8ks-5"})(["margin:auto;"]),I=(0,l.ZP)(r.QUb).withConfig({displayName:"Lightbox___StyledCaretRightIcon",componentId:"sc-1m9m8ks-6"})(["margin:auto;"])},"./app/components/Prefabs/Loader/Loader.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/react/index.js");var o=s("./node_modules/react/jsx-runtime.js");const n=e=>{let{width:t,height:s,color:n,style:a}=e;return(0,o.jsx)("svg",{width:t||38,height:s||38,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n||"#fff",style:a,"aria-label":"loading animation",children:(0,o.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,o.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,o.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),(0,o.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:(0,o.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})}},"./app/components/Prefabs/Loading/Loading.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./node_modules/react/index.js"),n=s("./app/components/Prefabs/Loader/Loader.tsx");const a={Container:"Loading__Container__mX3oP","moving-gradient":"Loading__moving-gradient__dbNk7",pulse:"Loading__pulse__Vdvyc",gradient:"Loading__gradient__ocG30",blink:"Loading__blink__pynY_"};var i=s("./node_modules/react/jsx-runtime.js");class r extends o.Component{props;render(){return(0,i.jsx)("div",{className:a.Container,style:{background:this.props.background||"#1c1c1c"},children:(0,i.jsx)("div",{className:a.Loader,children:(0,i.jsx)(n.Z,{height:25,width:25})})})}}const l=r},"./app/components/Prefabs/LoadingDots.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./node_modules/react/jsx-runtime.js");const i=n.ZP.div.withConfig({displayName:"LoadingDots__Wave",componentId:"sc-zyf24y-0"})(["width:auto;"," padding-left:","px;"],(e=>!e.noMargin&&"margin: 0 auto;"),(e=>e.pad)),r=n.ZP.span.withConfig({displayName:"LoadingDots__Dot",componentId:"sc-zyf24y-1"})(["display:inline-block;width:","px;height:","px;border-radius:50%;margin-right:3px;background:",";animation:wave 1.3s linear infinite;&:nth-child(2){animation-delay:-1.4s;}&:nth-child(3){animation-delay:-0.8s;}@keyframes wave{0%,60%,100%{transform:initial;}30%{transform:translateY(-3px);}}"],(e=>e.size),(e=>e.size),(e=>e.color)),l=e=>{let{pad:t,primary:s,secondary:l,sm:c,md:d,lg:p,dotsColor:u,noMargin:m}=e;const h=(0,o.useContext)(n.Ni);let g=h.colors.primary,f=2;return s&&(g=h.colors.primary),l&&(g=h.colors.uiLevel1),u&&(g=u),c&&(f=2),d&&(f=4),p&&(f=6),(0,a.jsxs)(i,{pad:t,noMargin:m,children:[(0,a.jsx)(r,{color:g,size:f}),(0,a.jsx)(r,{color:g,size:f}),(0,a.jsx)(r,{color:g,size:f})]})}},"./app/components/Prefabs/LoadingEllipsis/LoadingEllipsis.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const o="LoadingEllipsis__LoadingSpan__VWO9Y",n="LoadingEllipsis__Loading__imeCy";var a=s("./node_modules/react/jsx-runtime.js");const i=()=>(0,a.jsx)("span",{className:o,children:(0,a.jsx)("p",{className:n})})},"./app/components/Prefabs/Modal.tsx":(e,t,s)=>{"use strict";s.d(t,{o:()=>u,Z:()=>h});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/devoe/themeDark.ts");const i={...a.Z,colors:{...a.Z.colors,uiBackground:"#FFFFFF",uiInactive:"#F7F7F7",uiLevel1:"#EBEBEB",uiLevel2:"#D6D6D6",uiLevel3:"#B8B8B8",uiHoverable:"#666E7A",textInactive:"#BBC1CA",textInactiveLight:"#BBC1CA"}};var r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Icon/Icon.tsx"),c=s("./node_modules/react/jsx-runtime.js");const d=(0,o.forwardRef)(((e,t)=>{let{children:s,...o}=e;return(0,c.jsx)(p,{...o,ref:t,whiteBackground:!0,children:s})})),p=(0,n.ZP)(r.JX).withConfig({displayName:"Modal__StyledModal",componentId:"sc-3sb7xz-0"})(["border-radius:6px;pointer-events:all;overflow:hidden;"]),u=e=>{let{onClick:t}=e;return(0,c.jsx)(m,{pad:8,onClick:t,children:(0,c.jsx)(l.Z,{"aria-label":"close dialog",icon:"general/close",color:i.colors.uiHoverable,size:12,onClick:()=>{}})})},m=(0,n.ZP)(r.JX).withConfig({displayName:"Modal__ModalCloseButtonContainer",componentId:"sc-3sb7xz-1"})(["border-radius:6px;width:28px;height:28px;:hover{background:",";}"],i.colors.uiInactive),h=d},"./app/components/Prefabs/ModalWrapper/ModalWrapper.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/classnames/bind.js"),n=s.n(o),a=s("./node_modules/react/index.js"),i=s("./node_modules/framer-motion/dist/framer-motion.es.js"),r=s("./app/constants/animations.ts"),l=s("./app/components/Prefabs/ErrorBoundary/ErrorBoundary.tsx");const c={Container:"ModalWrapper__Container__RhXkP",Desktop:"ModalWrapper__Desktop__d4NHQ",Centered:"ModalWrapper__Centered__QDQJa",EnableClickThrough:"ModalWrapper__EnableClickThrough__Jv5gy","moving-gradient":"ModalWrapper__moving-gradient__BA_uR",pulse:"ModalWrapper__pulse__lVOOS",gradient:"ModalWrapper__gradient__q2jHV",blink:"ModalWrapper__blink__upYQF"};var d=s("./node_modules/react/jsx-runtime.js");const p=n().bind(c);class u extends a.Component{props;Container;hidden=!1;componentDidMount(){const{hideOptions:e}=this.props;if(e&&!1===e.escapeKey)return;const t=e=>{27===e.which&&(e.preventDefault(),e.stopPropagation(),this.props.onHide(),window.removeEventListener("keydown",t))};window.addEventListener("keydown",t)}render(){const{align:e,hideOptions:t,className:s="",backgroundColor:o="",backdropFilter:n="",setRef:a=(()=>{}),enableClickThrough:u=!1,zIndex:m}=this.props,h={...o?{background:o}:{},...n?{backdropFilter:n}:{},...m?{zIndex:m}:{}};return(0,d.jsx)(l.ZP,{children:(0,d.jsx)(i.ww.div,{className:p({[c.Container]:!0,[c.Centered]:"centered"===e,[c.Desktop]:!1,[c.EnableClickThrough]:u,[s]:!0}),onClick:e=>{this.hidden||t&&!1===t.backgroundClick||e.target===this.Container&&(e.preventDefault(),this.props.onHide(),this.hidden=!0)},ref:e=>{e&&(this.Container=e,a(e))},style:h,...r.z,children:this.props.children})})}}},"./app/components/Prefabs/Overflow.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-laag/dist/index.es.js"),a=s("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/utils/hooks/useOnClickOutside.ts"),l=s("./node_modules/react/jsx-runtime.js");const c=e=>{let{width:t,children:s,overlay:c,grow:d,closeOnClick:p,arrow:u,triggerOffset:m,anchor:h,disabled:g,isOpen:f,fixed:y,preferX:x,preferY:v,fromContextMenu:b=!1,label:w,autoAdjust:_=!1,overflowStyle:I={zIndex:12},onOutsideClick:T=(()=>{}),render:j}=e;const k=(0,o.useContext)(i.Ni),C=(0,o.useRef)(null),E=(0,o.useRef)(null);(0,r.t)(E,(e=>{T(),D&&(C.current?.contains(e.target)||D.close())}));const S=null!=f,A=(0,o.useCallback)((e=>S?f:e||!1),[S,f]),M=(0,o.useCallback)((e=>{let{isOpen:s,layerProps:o,close:a,layerSide:i,triggerRect:r,arrowStyle:d}=e;return(0,l.jsx)(n.uT,{isOpen:s,children:(e,s)=>(0,l.jsx)("div",{onClick:e=>{e.stopPropagation(),p&&a()},ref:o.ref,onTransitionEnd:s,style:{...o.style,width:t||(b?120:r?.width),opacity:A(e)?1:0,transform:A(e)?"translateY(6px)":"none",transition:"opacity 350ms, transform 350ms",transitionTimingFunction:"ease-in-out",...I},children:(0,l.jsxs)("div",{style:{borderRadius:"5px",backgroundColor:k.colors.white,border:"1px solidrgb(47, 47, 47)",overflow:"hidden",boxShadow:"0 1px 5px rgba(11,11,11,0.8)"},children:[(0,l.jsx)("div",{ref:E,children:c}),u&&(0,l.jsx)(n.Eh,{style:d,layerSide:i,backgroundColor:k.colors.white,roundness:.9})]})})})}),[c,u,t,p,k.colors.white,A,b]),P=(0,o.useMemo)((()=>({placement:{preferY:v??"BOTTOM",preferX:x??"RIGHT",autoAdjust:_,anchor:h||"BOTTOM_CENTER",triggerOffset:m??5,possibleAnchors:["BOTTOM_LEFT","BOTTOM_RIGHT","BOTTOM_CENTER","TOP_LEFT","TOP_RIGHT","TOP_CENTER","LEFT_BOTTOM","LEFT_TOP","LEFT_CENTER","RIGHT_BOTTOM","RIGHT_TOP","RIGHT_CENTER","CENTER"]},closeOnOutsideClick:!1,closeOnDisappear:"partial",ResizeObserver:a.Z,fixed:y})),[h,x,v,m,_,y]),[N,D]=(0,n.GP)(M,P);return(0,o.useEffect)((()=>{S&&(f?D.openFromRef(C):D.close())}),[f,D,S]),(0,l.jsxs)("div",{ref:C,children:[N,(0,l.jsx)("div",{role:"button","aria-label":w,onClick:e=>{e.stopPropagation(),g||S||(D.isOpen?D.close():D.openFromRef(C))},style:{cursor:g?"default":"pointer",flexGrow:d?1:0,position:"relative"},children:j?j(A(D?.isOpen)):s})]})}},"./app/components/Prefabs/OverflowMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>b,q:()=>h});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/devoe/themeDark.ts"),i=s("./app/utils/hooks/useSafeState.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Divider.tsx"),c=s("./app/components/Prefabs/Icon/Icon.tsx"),d=s("./app/components/Prefabs/Overflow.tsx"),p=s("./app/components/Prefabs/Text.tsx"),u=s("./node_modules/react/jsx-runtime.js");const m=e=>{let{primary:t,inactive:s,hovered:n,dangerHoverable:a,selected:i=!1,children:r,disabled:l}=e;const c=(0,o.useMemo)((()=>t?"primary":l?"textInactiveContextMenu":n&&a?"dangerDark":s?"textPrimary":"black"),[n,a,s,l,t]);return(0,u.jsx)(v,{xs:!0,whiteUI:s,color:c,weight:i?500:void 0,children:r})},h=e=>{let{title:t,danger:s,primary:n,onClick:i=(()=>null),onMouseEnter:l=(()=>null),subMenu:h,subMenuProps:f={},inactive:w,isTitle:_,currentValue:I,description:T,learnMore:j,hint:k,hotkeyHint:C,icon:E,hovered:S,iconDescription:A,fromContextMenu:M=!1,isOpen:P,disabled:N,onClose:D,iconFirst:O,iconColor:L}=e;const R=(0,o.useMemo)((()=>S&&!1!==P),[S,P]),Z=L??(n||S||I===t?a.Z.colors.primary:a.Z.colors.uiHoverable);return(0,u.jsx)(g,{pad:0,onMouseEnter:()=>l(t),hoverableWhite:!_,grow:!0,children:h?(0,u.jsx)(d.Z,{overlay:(0,u.jsx)(b,{items:h,fromContextMenu:M,isOpen:R,onClose:D}),anchor:"RIGHT_TOP",triggerOffset:8,isOpen:R,...f,children:(0,u.jsxs)(r.X2,{dangerHoverable:s,pad:8,gutter:2,onClick:e=>{e.stopPropagation(),w||N||i(e)},alignCenterVertical:!0,children:[(0,u.jsx)(r.JX,{grow:!0,children:(0,u.jsx)(m,{inactive:w,disabled:N,primary:n,children:t})}),(0,u.jsx)(r.JX,{size:2,alignCenterVertical:!0,alignRight:!0,children:(0,u.jsx)(c.Z,{sm:!0,icon:"caret-right"})})]})}):(0,u.jsx)(r.X2,{dangerHoverable:s,pad:8,gutter:2,...!w&&!_&&!N&&(i?{onClick:i,"aria-label":t,role:"button"}:{}),alignCenterVertical:!0,children:(0,u.jsx)(y,{size:8,grow:!0,children:j?(0,u.jsx)(r.X2,{alignCenter:!0,children:(0,u.jsx)(p.x,{xs:!0,black:!0,children:t})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(x,{children:[E&&O&&(0,u.jsx)(r.JX,{size:2,alignCenter:!!T,alignCenterVertical:!T,children:(0,u.jsx)(c.Z,{sm:!0,danger:s,icon:E,color:Z})}),(0,u.jsx)(y,{grow:!0,children:_?(0,u.jsx)(v,{xs:!0,primary:n,secondary:!0,children:t}):(0,u.jsx)(m,{inactive:w,hovered:S,dangerHoverable:s,selected:I===t,disabled:N,primary:n,children:t})}),A&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.JX,{children:(0,u.jsx)(c.Z,{sm:!0,danger:s,icon:A.icon,color:a.Z.colors.uiHoverable})}),(0,u.jsx)(r.JX,{children:(0,u.jsx)(p.x,{xxs:!0,color:"primary",children:A.description})})]}),E&&!O&&(0,u.jsx)(r.JX,{size:2,alignCenter:!!T,alignCenterVertical:!T,children:(0,u.jsx)(c.Z,{sm:!0,danger:s,icon:E,color:Z})}),(C||k)&&(0,u.jsx)(r.JX,{grow:!0,alignCenterVertical:!0,alignRight:!0,children:(0,u.jsx)(p.x,{xxs:!0,secondary:!0,spacing:C?2:null,children:C||k})})]}),(0,u.jsx)(x,{children:(0,u.jsx)(v,{xs:!0,children:T})})]})})})})},g=(0,n.ZP)(r.JX).withConfig({displayName:"OverflowMenu__StyledCol",componentId:"sc-iqor21-0"})(["border-radius:6px;overflow:hidden;"]),f=(0,n.iv)(["&:hover{background:none;}"]),y=(0,n.ZP)(r.JX).withConfig({displayName:"OverflowMenu__StyledTextCol",componentId:"sc-iqor21-1"})(["",""],f),x=(0,n.ZP)(r.X2).withConfig({displayName:"OverflowMenu__StyledTextRow",componentId:"sc-iqor21-2"})(["",""],f),v=(0,n.ZP)(p.x).withConfig({displayName:"OverflowMenu__StyledText",componentId:"sc-iqor21-3"})(["",""],f),b=e=>{let{items:t,fromContextMenu:s=!1,isOpen:o,onClose:n}=e;const[a,c]=(0,i.Z)("");return(0,u.jsx)(r.ZG,{pad:8,gutter:0,whiteBackground:!0,onMouseLeave:()=>c(""),onClick:()=>{n&&n()},children:t.map(((e,t)=>"divider"===e?(0,u.jsx)(l.Z,{line:!0,overWhite:!0},t):(0,u.jsx)(h,{hovered:a===e.title,onMouseEnter:e=>c(e),fromContextMenu:s,...e,subMenuProps:{...e.subMenuProps,fromContextMenu:s},isOpen:o,onClose:n},e.title)))})}},"./app/components/Prefabs/PageMeta/PageMeta.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=e=>{let{title:t}=e;return(0,o.useEffect)((()=>{document.title=`${t} - Runway`}),[t]),null}},"./app/components/Prefabs/Panel.tsx":(e,t,s)=>{"use strict";s.d(t,{V:()=>l,Z:()=>r});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),a=s("./app/components/Prefabs/Block.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{width:t=n.ho,children:s}=e;return(0,i.jsx)(c,{width:t,children:(0,i.jsx)(d,{grow:!0,gutter:0,children:s})})},l=(0,o.ZP)(a.X2).withConfig({displayName:"Panel__PanelHeader",componentId:"sc-16h87y2-0"})(["border-bottom:1px solid ",";"],(e=>e.theme.colors.uiLevel1)),c=(0,o.ZP)(a.JX).withConfig({displayName:"Panel__StyledPanelContainer",componentId:"sc-16h87y2-1"})(["width:","px;height:100%;margin-top:auto;right:0;margin-left:auto;box-sizing:border-box;z-index:2;border-left:1px solid ",";"],(e=>e.width?e.width:n.ho),(e=>e.theme.colors.uiLevel1)),d=(0,o.ZP)(a.JX).withConfig({displayName:"Panel__StyledPanel",componentId:"sc-16h87y2-2"})(["background:",";max-height:100%;"],(e=>e.theme.colors.uiBackground))},"./app/components/Prefabs/Pic.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>y,Z:()=>f});var o=s("./app/utils/urls.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/utils/hooks/useSafeState.ts");const r={};var l=s("./node_modules/react/jsx-runtime.js");const c=e=>e.cover?"cover":e.zoom?"none":e.scaleDown?"scale-down":e.contain?"contain":void 0,d=a.ZP.img.withConfig({displayName:"Pic__StyledImg",componentId:"sc-10q0bwo-0"})([""," "," "," max-width:100% !important;max-height:100% !important;object-fit:",";width:",";object-position:",";flex-grow:",";border:",";user-select:none;-webkit-user-drag:none;&:hover{","}"],(e=>e.height?`height: ${e.height}px; min-height: ${e.height}px;`:"height: auto;"),(e=>e.borderRadius&&`border-radius: ${e.borderRadius};`),(e=>e.onClick&&"cursor: pointer;"),(e=>c(e)),(e=>(e=>e.fit?"fit-content":e.scaleDown?`${e.width}px`:void 0)(e)),(e=>e.zoom&&"top center"),(e=>e.grow&&"1"),(e=>e.borderColor&&`1px solid ${e.borderColor}`),(e=>e.onClick&&"opacity: 0.5;")),p=a.ZP.div.withConfig({displayName:"Pic__StyledTextDiv",componentId:"sc-10q0bwo-1"})([""," "," "," "," max-width:100%;max-height:100%;display:flex;justify-content:center;align-items:center;background-color:black;font-size:",";&:hover{","}"],(e=>e.width?`width: ${e.width}px; min-width: ${e.width}px;`:"width: auto;"),(e=>e.height?`height: ${e.height}px; min-height: ${e.height}px;`:"height: auto;"),(e=>e.borderRadius&&`border-radius: ${e.borderRadius};`),(e=>e.onClick&&"cursor: pointer;"),(e=>`${e.fontSize}px`),(e=>e.onClick&&"opacity: 0.5;")),u=()=>(0,a.iv)(["background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;"]),m=()=>(0,a.iv)(["object-fit:cover;width:100%;"]),h=()=>(0,a.iv)(["width:100%;object-fit:none;"]),g=a.ZP.img.withConfig({displayName:"Pic__StyledCenteredImgDiv",componentId:"sc-10q0bwo-2"})([""," "," "," "," max-width:100%;max-height:100%;background-color:",";background-repeat:no-repeat;background-image:url(",");object-fit:",";object-position:",";user-select:none;-webkit-user-drag:none;"," "," "," ",""],(e=>e.width?`width: ${e.width}px !important;`:"width: auto;"),(e=>e.height?`height: ${e.height}px;`:"height: auto;"),(e=>e.borderRadius&&`border-radius: ${e.borderRadius};`),(e=>e.onClick&&"cursor: pointer;"),(e=>e.color?e.color:"black"),(e=>(0,o.ff)(e.src)),(e=>c(e)),(e=>e.zoom&&"top center"),(e=>e.centerCrop&&u),(e=>e.noCrop&&m),(e=>e.randomCrop&&h),(e=>!e.centerCrop&&!e.noCrop&&!e.randomCrop&&"\n  background-origin: unset;\n  background-clip: border-box;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  background-position-y: 50%;\n")),f=e=>{let{src:t,fallbackSrc:s,width:a,height:c,centerCrop:u,noCrop:m,randomCrop:h,maintainAspectRatio:f,text:y,color:x,...v}=e;const[b,w]=(0,i.Z)(0),[_,I]=(0,i.Z)(!1);(0,n.useEffect)((()=>{I(!1),w((e=>e+1))}),[t,w,I]);const T=(0,n.useCallback)((()=>I(!0)),[I]),j=(0,n.useMemo)((()=>_&&s?s:t),[t,s,_]);return t?(0===b&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r[e]instanceof HTMLImageElement)return r[e];if("Error"===r[e])return null;if(r[e]instanceof Promise)throw r[e];const s=new Image,n=new Promise((n=>{s.onload=()=>{r[e]=s,n()},s.onerror=()=>{r[e]="Error",n()},t&&!(0,o.Gu)(e)?(s.src=`${(0,o.ff)(e)}?rand=${Math.random()}`,s.crossOrigin="anonymous"):s.src=(0,o.ff)(e)}));throw r[e]=n,n}(t),u||m||h||f?(0,l.jsx)(g,{width:a,height:c,src:j,onError:T,centerCrop:u,noCrop:m,randomCrop:h,color:x,maintainAspectRatio:f,...v}):(0,l.jsx)(d,{height:c,src:j,onError:T,...v})):y?(0,l.jsx)(p,{width:a,height:c,src:j,...v,children:y}):(0,l.jsx)("div",{style:{width:a,height:c}})},y=a.ZP.div.withConfig({displayName:"Pic__PicContainer",componentId:"sc-10q0bwo-3"})(["border-radius:",";background:",";overflow:hidden;height:100%;width:",";display:flex;justify-content:center;"],(e=>e.theme.border.boxRadius),(e=>e.background?e.background:e.theme.colors.uiHoverable),(e=>e.width?`${e.width}px`:"100%"))},"./app/components/Prefabs/PreviewText.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Block.tsx"),a=s("./app/components/Prefabs/Text.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=(0,o.ZP)(n.JX).withConfig({displayName:"PreviewText__PaperCol",componentId:"sc-qra3h5-0"})(["box-shadow:rgba(0,0,0,0.3) 0px 5px 15px 0px;"]),l=e=>{let{children:t,maxHeight:s,minHeight:o,...n}=e;return(0,i.jsx)(r,{pad:15,whiteBackground:!0,grow:!0,span:12,...n,children:(0,i.jsx)(a.Z,{breakOnNewLine:!0,noWrap:!0,xxs:!0,black:!0,maxHeight:s,fixedHeight:o,children:t})})}},"./app/components/Prefabs/RadixAlertDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{_T:()=>r,dh:()=>i,f$:()=>l});var o=s("./app/constants/z-indexes.ts"),n=s("./node_modules/@radix-ui/react-alert-dialog/dist/index.module.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const i=(0,a.ZP)(n.aV).withConfig({displayName:"RadixAlertDialog__AlertDialogOverlay",componentId:"sc-wk45eq-0"})(["position:fixed;inset:0;background-color:",";opacity:0.8;animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],(e=>{let{theme:t}=e;return t.colors.uiOverlay}),o.I.AlertDialogOverlay),r=(0,a.ZP)(n.VY).withConfig({displayName:"RadixAlertDialog__AlertDialogContent",componentId:"sc-wk45eq-1"})(["box-sizing:border-box;padding:32px;min-width:388px;max-width:80vw;background-color:",";border-radius:16px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}"],(e=>e.theme.colors.black),o.I.AlertDialogContent),l=(0,a.ZP)(n.Dx).withConfig({displayName:"RadixAlertDialog__AlertDialogTitle",componentId:"sc-wk45eq-2"})(["color:",";font-size:32px;font-style:normal;font-weight:600;line-height:48px;text-align:center;margin-bottom:24px;"],(e=>e.theme.colors.white))},"./app/components/Prefabs/RadixContextMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{Zo:()=>i,h_:()=>a,uP:()=>r});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/@radix-ui/react-context-menu/dist/index.module.js");const a=(0,o.ZP)(n.VY).withConfig({displayName:"RadixContextMenu__ContextMenuContent",componentId:"sc-1lqdw8f-0"})(["border-radius:6px;background-color:white;padding:8px;width:160px;box-sizing:border-box;box-shadow:0px 4px 4px rgba(0,0,0,0.25);z-index:9999;"]),i=(0,o.ZP)(n.ck).withConfig({displayName:"RadixContextMenu__ContextMenuItem",componentId:"sc-1lqdw8f-1"})(["color:black;font-size:",";line-height:",";padding:8px;cursor:pointer;border-radius:6px;display:flex;justify-content:space-between;align-items:center;&[data-disabled]{opacity:0.6;cursor:not-allowed;}&:focus{background-color:",";}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.$danger?e.theme.colors.dangerHoverable:"rgba(160, 174, 192, 0.25)")),r=(0,o.ZP)(n.Z0).withConfig({displayName:"RadixContextMenu__ContextMenuSeparator",componentId:"sc-1lqdw8f-2"})(["background-color:#e6e6e6;height:1px;width:100%;margin:8px 0px;"])},"./app/components/Prefabs/RadixDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{$N:()=>d,LD:()=>p,cZ:()=>l,ft:()=>c,oh:()=>r,t9:()=>i});var o=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts");const i=(0,n.ZP)(o.aV).withConfig({displayName:"RadixDialog__DialogOverlay",componentId:"sc-14mh3ew-0"})(["position:fixed;inset:0;background-color:rgba(0,0,0,0.5);animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],a.Z.MODAL_WRAPPER),r=(0,n.ZP)(o.aV).withConfig({displayName:"RadixDialog__DarkDialogOverlay",componentId:"sc-14mh3ew-1"})(["position:fixed;inset:0;background-color:",";opacity:0.8;animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],(e=>{let{theme:t}=e;return t.colors.uiOverlay}),a.Z.MODAL_WRAPPER),l=(0,n.ZP)(o.VY).withConfig({displayName:"RadixDialog__DialogContent",componentId:"sc-14mh3ew-2"})(["box-sizing:border-box;padding:32px;width:388px;background-color:#ffffff;border-radius:6px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}"],a.Z.MODAL_WRAPPER),c=(0,n.ZP)(o.VY).withConfig({displayName:"RadixDialog__DarkDialogContent",componentId:"sc-14mh3ew-3"})(["box-sizing:border-box;padding:24px;min-width:388px;max-width:700px;background-color:",";border-radius:16px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}"],(e=>e.theme.colors.black),a.Z.MODAL_WRAPPER),d=(0,n.ZP)(o.Dx).withConfig({displayName:"RadixDialog__DialogTitle",componentId:"sc-14mh3ew-4"})(["color:",";font-size:",";line-height:",";font-weight:700;text-align:center;margin-bottom:24px;overflow-wrap:break-word;"],(e=>e.theme.colors.textWhiteUI),(e=>e.theme.fonts.size.lg),(e=>e.theme.fonts.lineHeight.lg)),p=(0,n.ZP)(o.Dx).withConfig({displayName:"RadixDialog__DarkDialogTitle",componentId:"sc-14mh3ew-5"})(["color:",";font-size:32px;font-style:normal;font-weight:600;line-height:48px;text-align:center;margin-bottom:24px;"],(e=>e.theme.colors.white))},"./app/components/Prefabs/RadixDropdownMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{IQ:()=>r,OI:()=>a,R3:()=>d,gR:()=>i,nw:()=>p,o_:()=>l,xm:()=>u});var o=s("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const a=(0,n.ZP)(o.xz).withConfig({displayName:"RadixDropdownMenu__StyledDropdownTrigger",componentId:"sc-hzqovf-0"})(["background-color:transparent;border:none;color:",";font-size:",";line-height:",";font-family:",";font-weight:700;cursor:pointer;display:flex;gap:8px;align-items:center;&:focus-visible{outline:2px solid ",";outline-offset:-2px;}&:disabled{opacity:0.6;cursor:not-allowed;}",""],(e=>e.theme.colors.uiHoverable),(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.theme.fonts.regular),(e=>e.theme.colors.primary),(e=>e.$customStyles||"")),i=(0,n.ZP)(o.VY).withConfig({displayName:"RadixDropdownMenu__StyledDropdownContent",componentId:"sc-hzqovf-1"})(["border-radius:6px;background-color:white;padding:8px;width:160px;box-sizing:border-box;box-shadow:0px 4px 4px rgba(0,0,0,0.25);overflow:hidden;"]),r=(0,n.ZP)(o.Z0).withConfig({displayName:"RadixDropdownMenu__StyledDropdownSeparator",componentId:"sc-hzqovf-2"})(["background-color:#e6e6e6;height:1px;width:100%;margin:8px 0px;"]),l=(0,n.ZP)(o.__).withConfig({displayName:"RadixDropdownMenu__StyledDropdownLabel",componentId:"sc-hzqovf-3"})(["color:",";font-size:",";line-height:",";padding:8px;"],(e=>e.theme.colors.textInactive),(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs)),c=(0,n.iv)(["color:black;font-size:",";line-height:",";padding:8px;cursor:pointer;border-radius:6px;display:flex;justify-content:space-between;align-items:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;box-sizing:border-box;&:not([data-icon='visible']) svg{opacity:0;}&:focus svg,&:hover svg{opacity:1;}&:disabled,&[data-disabled]{opacity:0.6;cursor:not-allowed;}&:focus{background-color:rgba(160,174,192,0.25);}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs)),d=(0,n.ZP)(o.ck).withConfig({displayName:"RadixDropdownMenu__StyledDropdownItem",componentId:"sc-hzqovf-4"})([""," ",""],c,(e=>e.$danger&&(0,n.iv)(["&:focus{background-color:",";}"],e.theme.colors.dangerHoverable))),p=(0,n.ZP)(o.ce).withConfig({displayName:"RadixDropdownMenu__StyledDropdownTriggerItem",componentId:"sc-hzqovf-5"})(["",' &[data-state="open"]{background-color:rgba(160,174,192,0.25);& svg{opacity:1;}}'],c),u=(0,n.ZP)(o.Rk).withConfig({displayName:"RadixDropdownMenu__StyledDropdownRadioItem",componentId:"sc-hzqovf-6"})(["color:black;font-size:",";line-height:",";padding:8px;cursor:pointer;border-radius:6px;display:flex;justify-content:space-between;align-items:center;& path{fill:",";}&[data-state='checked'] path,&:focus path{fill:",";}&:focus{background-color:rgba(160,174,192,0.25);}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.primary))},"./app/components/Prefabs/RequestRoleUpgradeDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{NG:()=>m});s("./node_modules/react/index.js");var o=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),n=s("./app/components/Prefabs/RadixDialog.tsx"),a=s("./app/components/Prefabs/Text.tsx"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Icon/Icon.tsx"),c=s("./app/devoe/assets/img/request-upgrade-dialog/images.png"),d=s("./node_modules/react/jsx-runtime.js");const p="Upgrade your role",u="You are a Viewer in this workspace. To create projects, please ask an administrator to upgrade you to Editor.",m=e=>{let{children:t,title:s=p,description:i=u,...m}=e;return(0,d.jsxs)(o.fC,{...m,children:[t&&(0,d.jsx)(o.xz,{asChild:!0,children:t}),(0,d.jsxs)(o.h_,{children:[(0,d.jsx)(n.t9,{}),(0,d.jsx)(h,{children:(0,d.jsxs)(r.JX,{gutter:24,children:[(0,d.jsxs)(r.JX,{gutter:4,children:[(0,d.jsxs)(r.X2,{alignCenterVertical:!0,spaceBetween:!0,children:[(0,d.jsx)(a.Z,{md:!0,color:"black",children:s}),(0,d.jsx)(g,{children:(0,d.jsx)(l.Z,{icon:"general/close",size:10,color:"#000",style:{cursor:"inherit"}})})]}),(0,d.jsx)(x,{md:!0,children:i})]}),(0,d.jsx)(f,{children:(0,d.jsx)(y,{src:c.Z})})]})})]})]})},h=(0,i.ZP)(n.cZ).withConfig({displayName:"RequestRoleUpgradeDialog__Content",componentId:"sc-163yej6-0"})(["width:100%;max-width:343px;max-height:90vh;overflow-y:auto;padding:16px;"]),g=(0,i.ZP)(o.x8).withConfig({displayName:"RequestRoleUpgradeDialog__CloseButton",componentId:"sc-163yej6-1"})(["cursor:pointer;background-color:transparent;border:none;"]),f=i.ZP.div.withConfig({displayName:"RequestRoleUpgradeDialog__ImageContainer",componentId:"sc-163yej6-2"})(["width:100%;height:130px;position:relative;"]),y=i.ZP.img.withConfig({displayName:"RequestRoleUpgradeDialog__Image",componentId:"sc-163yej6-3"})(["position:relative;position:absolute;top:0;left:-16px;right:-16px;height:130px;width:343px;"]);var x=(0,i.ZP)(a.Z).withConfig({displayName:"RequestRoleUpgradeDialog___StyledText",componentId:"sc-163yej6-4"})(["color:",";padding-top:16px;"],(e=>e.theme.colors.grayscale.gray90))},"./app/components/Prefabs/SWRWrapper.tsx":(e,t,s)=>{"use strict";s.d(t,{t:()=>l});s("./node_modules/react/index.js");var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/utils/auth.ts"),a=s("./app/utils/constants.ts"),i=s("./app/utils/http.ts"),r=s("./node_modules/react/jsx-runtime.js");const l=e=>(0,r.jsx)(o.J$,{value:{loadingTimeout:1e4,dedupingInterval:3e3,fetcher:(e,t)=>(0,i.HT)(`${a.T5}${e}`,{Authorization:`Bearer ${t}`}).catch((s=>{e===a.Pn.PROFILE&&t&&401===s.status&&(0,n.uB)(null)}))},children:e.children})},"./app/components/Prefabs/ScrubbableVideo.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>p});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-use-measure/dist/web.js"),a=s("./node_modules/spin-delay/dist/index.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/utils/hooks/useRaf.ts"),l=s("./app/utils/merge-refs.ts"),c=s("./app/components/Prefabs/Loader/Loader.tsx"),d=s("./node_modules/react/jsx-runtime.js");const p=e=>{let{videoURL:t,duration:s,placeholder:i}=e;const p=(0,o.useRef)(null),f=(0,o.useRef)(null),y=(0,o.useRef)(0),[x,v]=(0,n.Z)(),[b,w]=(0,o.useState)(!1),_=(0,a.useSpinDelay)(b,{delay:200}),I=(0,o.useCallback)((e=>{const t=e.clientX-v.left;y.current=t*s/v.width,f.current&&(f.current.style.transform=`translate3d(${t}px, 0, 0)`)}),[v,s]),T=(0,o.useCallback)((()=>{p.current&&isFinite(y.current)&&(p.current.currentTime=y.current)}),[]);return(0,r.D)(T,16),(0,d.jsxs)(u,{onMouseMove:I,children:[(0,d.jsx)(h,{loop:!0,muted:!0,poster:i,playsInline:!0,ref:(0,l.l)(p,x),onLoadStart:()=>w(!0),onLoadedData:()=>w(!1),children:(0,d.jsx)("source",{src:t})}),_&&(0,d.jsx)(g,{style:{backgroundImage:`url(${i})`},children:(0,d.jsx)(c.Z,{width:24,height:24})}),(0,d.jsx)(m,{ref:f})]})},u=i.ZP.div.withConfig({displayName:"ScrubbableVideo__Container",componentId:"sc-8ksx1l-0"})(["position:relative;width:100%;height:100%;"]),m=i.ZP.div.withConfig({displayName:"ScrubbableVideo__Indicator",componentId:"sc-8ksx1l-1"})(["position:absolute;top:0;bottom:0;width:1px;background-color:red;transform:translate3d(-4px,0,0);"]),h=i.ZP.video.withConfig({displayName:"ScrubbableVideo__Video",componentId:"sc-8ksx1l-2"})(["width:100%;height:100%;object-fit:cover;"]),g=i.ZP.div.withConfig({displayName:"ScrubbableVideo__LoadingContainer",componentId:"sc-8ksx1l-3"})(["position:absolute;inset:0;display:flex;justify-content:center;align-items:center;background-size:100% 100%;"])},"./app/components/Prefabs/Section.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/utils/animations.ts"),i=s("./app/components/Prefabs/Block.tsx"),r=s("./node_modules/react/jsx-runtime.js");const l=(0,o.createContext)("Global"),c=n.ZP.div.withConfig({displayName:"Section__SectionContainer",componentId:"sc-80z8zl-0"})(["background:",";width:100%;border-bottom:",";position:",";filter:blur(","px);top:",";z-index:",";"],(e=>(e=>e.fullWidthBackgroundColor&&!e.gradient?"linear-gradient(0deg,#1d1d1d 0%,#171717 100%,#060606 100%)":e.fullWidthBackgroundColor&&e.gradient?`linear-gradient(0deg, #151515 0%, ${e.gradient[0]} 100%, ${e.gradient[1]} 100%)`:e.blackBackground?e.theme.colors.black:"none")(e)),(e=>e.borderBottom?`1px solid ${e.theme.colors.uiHoverable}`:"none"),(e=>e.sticky&&"sticky"),(e=>e.blurOnScroll),(e=>e.top),(e=>(e.sticky||e.fullWidthBackgroundColor)&&"1")),d=(0,n.ZP)(i.ZG).withConfig({displayName:"Section__StyledVerticalLayout",componentId:"sc-80z8zl-1"})(["margin-left:auto;margin-right:auto;"]),p=(e,t)=>{let{name:s,size:o,span:n,children:i,fullWidthBackgroundColor:p,sticky:u,top:m,pad:h,gradient:g,borderBottom:f,blurOnScroll:y,fullWidth:x,blackBackground:v}=e;return(0,r.jsx)(l.Provider,{value:s,children:(0,r.jsx)(c,{fullWidthBackgroundColor:p,sticky:u,ref:t,top:m,gradient:g,borderBottom:f,blurOnScroll:y,blackBackground:v,children:(0,r.jsx)(d,{span:n,size:o||12,sm:{size:12},xs:{size:12},pad:void 0!==h?h:[20,0],maxWidth:!x&&1080,animation:a.Ug,children:i})})})},u=(0,o.forwardRef)(p)},"./app/components/Prefabs/ShortcutTooltip.tsx":(e,t,s)=>{"use strict";s.d(t,{Eh:()=>x,VY:()=>y,ZP:()=>T});var o=s("./node_modules/@radix-ui/react-tooltip/dist/index.mjs"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/utils/environment.ts"),l=s("./app/components/Views/VideoTools/VideoEditor/Hotkeys/sequel-hotkeys.ts"),c=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./node_modules/react/jsx-runtime.js");const u=(0,i.F4)(["from{opacity:0;transform:translateY(2px);}to{opacity:1;transform:translateY(0);}"]),m=(0,i.F4)(["from{opacity:0;transform:translateY(-2px);}to{opacity:1;transform:translateY(0);}"]),h=(0,i.F4)(["from{opacity:0;transform:translateX(2px);}to{opacity:1;transform:translateX(0);}"]),g=(0,i.F4)(["from{opacity:0;transform:translateX(-2px);}to{opacity:1;transform:translateX(0);}"]),f=i.ZP.div.withConfig({displayName:"ShortcutTooltip__Group",componentId:"sc-1bugq75-0"})(["display:flex;"]),y=(0,i.ZP)(o.VY).withConfig({displayName:"ShortcutTooltip__Content",componentId:"sc-1bugq75-1"})(["position:relative;background:",";padding:4px 8px;display:flex;border-radius:4px;justify-content:space-between;"," max-width:",";z-index:",";&[data-state='delayed-open']{&[data-side='top']{animation:"," 200ms ease-out;}&[data-side='left']{animation:"," 200ms ease-out;}&[data-side='right']{animation:"," 200ms ease-out;}&[data-side='bottom']{animation:"," 200ms ease-out;}}",""],(e=>e.theme.colors.uiLevel3),(e=>!e.$emptyKeys&&"gap: 16px;"),(e=>e.$maxWidth),c.Z.MODAL_WRAPPER+1,m,g,h,u,(e=>e.$customStyles)),x=(0,i.ZP)(o.Eh).withConfig({displayName:"ShortcutTooltip__Arrow",componentId:"sc-1bugq75-2"})(["fill:",";",""],(e=>e.theme.colors.uiLevel3),(e=>e.$customStyles)),v=(0,i.ZP)(o.xz).withConfig({displayName:"ShortcutTooltip__Trigger",componentId:"sc-1bugq75-3"})(["font-family:inherit;font-size:inherit;font-weight:inherit;background:0;border:0;outline:0;padding:0;margin:0;"]),b=e=>{switch(e){case"Control":return"^";case"Shift":return"⇧";case"Command":case"Meta":return"⌘";case"Option":return"⌥";case"ArrowRight":return"→";case"ArrowLeft":return"←";default:return e}},w=e=>{let{hotkey:t}=e;return(0,p.jsx)(_,{children:(0,p.jsx)(I,{children:b(t)})})},_=i.ZP.div.withConfig({displayName:"ShortcutTooltip__HotkeySquare",componentId:"sc-1bugq75-4"})(["min-width:12px;height:16px;border-radius:2px;border:1px solid ",";margin-right:2px;display:grid;place-items:center;padding:0 2px;"],(e=>e.theme.colors.textSecondary)),I=i.ZP.span.withConfig({displayName:"ShortcutTooltip__HotkeyText",componentId:"sc-1bugq75-5"})(["font-size:11px;font-weight:500;color:",";"],(e=>e.theme.colors.textSecondary)),T=e=>{let{delayDuration:t=800,sideOffset:s=4,side:i="top",align:c="center",asChild:u=!0,message:m,children:h,keys:g=[],customKeys:b=[],useCustomKeys:_=!1,shortcutTitle:I,collisionBoundary:T,collisionPadding:j,disabled:k=!1,maxWidth:C,customContentStyles:E="",customArrowStyles:S="",openOverride:A}=e;const M=(0,a.useMemo)((()=>{let e=g;if(I){const t=(e=>{for(const t of l.OE)if("display"in t&&"hotkey"in t.display&&t.display.title===e)return t.display.hotkey;return[]})(I);t&&(e=t)}return(0,n.isArray)(e)?e:(0,r.eE)()?e.mac:e.nonMac}),[g,I]),P=(0,a.useMemo)((()=>!k&&(void 0!==A?A:void 0)),[k,A]);return(0,p.jsxs)(o.fC,{delayDuration:t,open:P,children:[u?(0,p.jsx)(o.xz,{asChild:!0,children:h}):(0,p.jsx)(v,{asChild:!1,children:h}),(0,p.jsx)(o.h_,{children:(0,p.jsxs)(y,{sideOffset:s,side:i,collisionBoundary:T,collisionPadding:j,$maxWidth:C,align:c,$customStyles:E,$emptyKeys:_&&0===b.length,role:"tooltip",children:[(0,p.jsx)(x,{$customStyles:S}),"string"==typeof m?(0,p.jsx)(d.Z,{xs:!0,children:m}):m,_?(0,p.jsx)(f,{children:b.map(((e,t)=>(0,p.jsx)(e,{},t)))}):null,!_&&M.length?(0,p.jsx)(f,{children:M.map((e=>(0,p.jsx)(w,{hotkey:e},e)))}):null]})})]})}},"./app/components/Prefabs/Slider.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var o=s("./node_modules/framer-motion/dist/framer-motion.es.js"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/utils/hooks/useResizeObserver.ts"),l=s("./node_modules/react/jsx-runtime.js");const c=a.forwardRef(((e,t)=>{const s=(0,a.useMemo)((()=>e.max-e.min),[e.max,e.min]),o=(0,a.useMemo)((()=>{const t=(e.value-e.min)/s;return(0,n.clamp)(t,0,1)}),[s,e.value,e.min]),i=(0,a.useRef)(null),{width:c}=(0,r.Z)({ref:i}),g=(0,a.useMemo)((()=>(c-8)*o+"px"),[c,o]);return(0,l.jsxs)(p,{ref:t,children:[(0,l.jsxs)(u,{ref:i,style:e.barStyle||{},children:[(0,l.jsx)(m,{style:{scaleX:o,...e.fillStyle||{}}}),(0,l.jsx)(h,{style:{x:g,y:"-50%",...e.handleStyle||{}}})]}),(0,l.jsx)(d,{"data-testid":"slider-input",onChange:t=>{e.onChange(parseFloat(t.target.value))},type:"range",min:e.min,max:e.max,value:e.value,step:e.step,...e.label&&{"aria-label":e.label}})]})})),d=i.ZP.input.withConfig({displayName:"Slider__Input",componentId:"sc-ufkczi-0"})(["position:absolute;top:50%;left:0;width:100%;opacity:0 !important;margin:0;transform:translate3d(0,-50%,0);"]),p=i.ZP.div.withConfig({displayName:"Slider__Container",componentId:"sc-ufkczi-1"})(["position:relative;width:100%;height:min-content;"]),u=i.ZP.div.withConfig({displayName:"Slider__Bar",componentId:"sc-ufkczi-2"})(["pointer-events:none;opacity:1;position:relative;height:2px;background:",";border-radius:1px;width:100%;"],(e=>e.theme.colors.uiHoverable)),m=(0,i.ZP)(o.ww.div).withConfig({displayName:"Slider__Filled",componentId:"sc-ufkczi-3"})(["background:",";position:absolute;top:0;left:0;right:0;bottom:0;transform-origin:left;border-top-left-radius:1px;border-bottom-left-radius:1px;"],(e=>e.theme.colors.primary)),h=(0,i.ZP)(o.ww.div).withConfig({displayName:"Slider__Handle",componentId:"sc-ufkczi-4"})(["position:absolute;left:0;top:50%;width:8px;height:8px;background:",";border-radius:100%;transform:translate3d(0,-50%,0);"],(e=>e.theme.colors.primary)),g=c},"./app/components/Prefabs/SliderRow.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./node_modules/framer-motion/dist/framer-motion.es.js"),i=s("./app/utils/hooks/useResizeObserver.ts"),r=s("./app/utils/hooks/useHover.ts"),l=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/react/jsx-runtime.js");const d=n.ZP.input.withConfig({displayName:"SliderRow__Input",componentId:"sc-11zr2ah-0"})(["position:absolute;top:50%;left:0;width:100%;opacity:0 !important;margin:0;transform:translate3d(0,-50%,0);&:hover{cursor:ew-resize !important;}"]),p=n.ZP.div.withConfig({displayName:"SliderRow__Container",componentId:"sc-11zr2ah-1"})(["position:relative;width:100%;--slider-height:","px;"],24),u=n.ZP.div.withConfig({displayName:"SliderRow__Bar",componentId:"sc-11zr2ah-2"})(["pointer-events:none;opacity:1;position:relative;height:var(--slider-height);background:",";border-radius:4px;"],(e=>e.theme.colors.uiLevel1)),m=(0,n.ZP)(a.ww.div).withConfig({displayName:"SliderRow__Filled",componentId:"sc-11zr2ah-3"})(["background-color:",";position:absolute;top:0;left:0;right:0;bottom:0;transform-origin:left;border-top-left-radius:4px;border-bottom-left-radius:4px;transition:background-color 0.2s ease-in-out;"],(e=>e.isHovered?e.theme.colors.primary:e.theme.colors.uiLevel2)),h=(0,n.ZP)(a.ww.div).withConfig({displayName:"SliderRow__Handle",componentId:"sc-11zr2ah-4"})(["position:absolute;left:0;top:50%;width:","px;height:var(--slider-height);background-color:",";border-radius:4px;transform:translate3d(0,-50%,0);transition:background-color 0.2s ease-in-out;&:hover{cursor:ew-resize !important;}"],6,(e=>e.isHovered?e.theme.colors.whiteLevel1:e.theme.colors.uiLevel3)),g=e=>{let{min:t,max:s,value:n,onChange:a,onChangeComplete:g,step:f,disabled:y=!1,className:x}=e;const v=(0,o.useMemo)((()=>s-t),[s,t]),b=(0,o.useMemo)((()=>(n-t)/v),[v,n,t]),[w,_]=(0,r.X)(),I=(0,o.useRef)(null),{width:T}=(0,i.Z)({ref:I}),j=(0,o.useMemo)((()=>(0,l.clamp)(T*b-3,0,T-6)),[T,b]);return(0,c.jsxs)(p,{ref:w,className:x,children:[(0,c.jsxs)(u,{ref:I,children:[(0,c.jsx)(m,{style:{width:`${j+3}px`},isHovered:_&&!y}),(0,c.jsx)(h,{style:{x:`${j}px`,y:"-50%"},isHovered:_&&!y})]}),(0,c.jsx)(d,{onChange:e=>{e.preventDefault(),e.stopPropagation(),y||a(Number(e.target.value))},onMouseUp:e=>{g&&(e.preventDefault(),e.stopPropagation(),y||g())},type:"range",min:t,max:s,value:n,step:f})]})}},"./app/components/Prefabs/Text.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d,x:()=>c});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./node_modules/react/jsx-runtime.js");const i=n.ZP.span.withConfig({displayName:"Text__BaseText",componentId:"sc-7ge0qa-0"})(["font-size:",";font-family:",";line-height:",";color:",";font-weight:",";font-weight:",";font-weight:",";font-style:",";white-space:",";word-break:break-word;user-select:",";text-align:",";height:",";white-space:",";white-space:",";overflow:",";text-overflow:",";max-width:",";max-height:",";-webkit-font-smoothing:antialiased;box-sizing:border-box;letter-spacing:",";&:hover{color:",";}&::selection{background:",";}"],(e=>e.theme.fonts.size[e.size]),(e=>e.theme.fonts.regular),(e=>e.lineHeight?`${e.lineHeight}px`:e.theme.fonts.lineHeight[e.size]),(e=>l(e)),(e=>e.bold&&"bold"),(e=>e.medium&&"700"),(e=>e.weight&&e.weight),(e=>e.italic&&"italic"),(e=>e.break&&"pre-wrap"),(e=>e.noSelect&&"none"),(e=>r(e)),(e=>e.fixedHeight&&`${e.fixedHeight}px`),(e=>e.noWrap&&"nowrap"),(e=>e.breakOnNewLine&&"pre-line"),(e=>e.noWrap&&"hidden"),(e=>e.noWrap&&"ellipsis"),(e=>e.maxWidth?`${e.maxWidth}px`:"100%"),(e=>e.maxHeight?`${e.maxHeight}px`:"100%"),(e=>e.spacing&&`${e.spacing}px`),(e=>e.hoverColor&&e.theme.colors[e.hoverColor]),(e=>e.theme.colors.primary)),r=e=>e.center?"center":e.alignLeft?"left":e.alignRight?"right":"initial",l=e=>e.color?e.theme.colors[e.color]:e.primary?e.theme.colors.textPrimary:e.highlighted?e.theme.colors.primaryLight:e.secondary?e.theme.colors.textSecondary:e.inactive?e.theme.colors.textInactive:e.error?e.theme.colors.danger:e.black?e.theme.colors.black:e.whiteUI?e.theme.colors.textWhiteUI:e.theme.colors.textPrimary,c=o.forwardRef(((e,t)=>{let s="sm";return e.xxs?s="xxs":e.xs?s="xs":e.sm?s="sm":e.md?s="md":e.lg?s="lg":e.xl?s="xl":e.xxl&&(s="xxl"),(0,a.jsx)(i,{...e,size:s,ref:t,children:o.Children.map(e.children,(e=>(0,a.jsxs)(a.Fragment,{children:[e," "]})))})})),d=c},"./app/components/Prefabs/TextAction.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>d});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/react/jsx-runtime.js");const a=o.ZP.span.withConfig({displayName:"TextAction__BaseLink",componentId:"sc-1bz6doz-0"})(["color:",";text-decoration:none;pointer-events:",";border-bottom:",";padding-bottom:",";font-weight:",";cursor:pointer;&:hover{color:",";}"],(e=>(e=>e.primary?e.theme.colors.primary:e.primaryLight?e.theme.colors.primaryLight:e.secondary?e.theme.colors.textSecondary:e.danger||e.error?e.theme.colors.danger:e.white?e.theme.colors.white:e.disabled?e.theme.colors.textInactive:e.theme.colors.primary)(e)),(e=>(e=>e.disabled?"none":"auto")(e)),(e=>e.underline&&"1px solid "),(e=>e.underline&&!e.noUnderlinePadding&&"4px"),(e=>(e=>e.bold?"bold":e.medium?"700":e.weight?e.weight:"initial")(e)),(e=>(e=>e.primary?e.theme.colors.primaryDark:e.primaryLight?e.theme.colors.primaryLight:e.danger||e.error?e.theme.colors.dangerDark:e.disabled?e.theme.colors.textInactive:e.secondary?e.theme.colors.primary:e.white?e.theme.colors.white:e.theme.colors.primaryDark)(e))),i=(0,o.ZP)(a).withConfig({displayName:"TextAction__LargeLink",componentId:"sc-1bz6doz-1"})(["font-size:",";line-height:",";"],(e=>e.theme.fonts.size.lg),(e=>e.theme.fonts.lineHeight.lg)),r=(0,o.ZP)(a).withConfig({displayName:"TextAction__MediumLink",componentId:"sc-1bz6doz-2"})(["font-size:",";line-height:",";"],(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md)),l=(0,o.ZP)(a).withConfig({displayName:"TextAction__SmallLink",componentId:"sc-1bz6doz-3"})(["font-size:",";line-height:",";"],(e=>e.theme.fonts.size.sm),(e=>e.theme.fonts.lineHeight.sm)),c=(0,o.ZP)(a).withConfig({displayName:"TextAction__ExtraSmallLink",componentId:"sc-1bz6doz-4"})(["font-size:",";line-height:",";"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs)),d=e=>{let t;return t=e.xs?c:e.sm?l:e.md?r:e.lg?i:r,(0,n.jsx)(t,{...e,onClick:()=>e.onClick(),role:"button","aria-label":e.label,children:e.children})}},"./app/components/Prefabs/TextInput/TextInput.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/devoe/themeDark.ts"),i=s("./app/utils/merge-refs.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Icon/Icon.tsx"),c=s("./app/components/Prefabs/Text.tsx"),d=s("./node_modules/react/jsx-runtime.js");const p=o.forwardRef(((e,t)=>{let{value:s,onChange:n,onBlur:a=(()=>{}),onFocus:l=(()=>{}),onKeyDown:c=(()=>{}),autoFocus:p=!1,width:g,grow:f=!1,placeholder:y="",indicator:x="",indicatorIcon:v,height:b,inputHeight:w,readOnly:_=!1,className:I=""}=e;const T=(0,o.useRef)(null),j=(0,o.useRef)(!1),k=(0,o.useCallback)((()=>{j.current=!0,l()}),[l]),C=(0,o.useCallback)((()=>{j.current&&(j.current=!1,T.current.blur())}),[]);return(0,d.jsxs)(r.ZP,{grow:f,minWidth:g,maxWidth:g,relative:!0,maxHeight:b||24,alignCenterVertical:!0,gutter:0,children:[(0,d.jsx)(m,{className:I,height:w,placeholder:y,spellCheck:!1,autoFocus:p,autoComplete:"off",ref:(0,i.l)(T,t),type:"text",value:s,onScroll:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),k()},onBlur:e=>{j.current&&C(),e.stopPropagation(),a(e.target.value)},onChange:e=>{e.stopPropagation(),n(e.target.value)},onFocus:k,onKeyPress:e=>{e.stopPropagation()},onKeyDown:e=>{e.stopPropagation(),c(e),"Enter"===e.key&&j.current&&C()},onKeyUp:e=>{e.stopPropagation()},disabled:_,readOnly:_}),v||""!==x&&(0,d.jsx)(u,{alignCenter:!0,pad:[0,4,0,0],readOnly:_,children:(0,d.jsx)(h,{indicator:x,indicatorIcon:v})})]})})),u=(0,n.ZP)(r.ZP).withConfig({displayName:"TextInput__StyledRightContainer",componentId:"sc-1h6wvx4-0"})(["position:absolute;display:flex;right:2px;top:1px;height:calc(100% - 2px);user-select:none;background:",";"],(e=>e.readOnly?"none":e.theme.colors.uiLevel1)),m=n.ZP.input.withConfig({displayName:"TextInput__StyledInput",componentId:"sc-1h6wvx4-1"})(["box-sizing:border-box;border-radius:",";padding:5px 8px;border:1px solid transparent;background:",";cursor:",";color:",";width:100%;height:",";transition-property:background,border-color;transition-duration:150ms;transition-timing-function:ease-in-out;&&{font-size:",";}&:focus{border-color:",";}&::selection{background:",";}"],(e=>e.theme.border.boxRadius),(e=>e.readOnly?"none":e.theme.colors.uiLevel1),(e=>e.readOnly?"default":"text"),(e=>e.theme.colors.uiHoverable),(e=>e.height?`${e.height}px`:"100%"),(e=>e.theme.fonts.size.xs),(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),h=e=>{let{indicator:t,indicatorIcon:s}=e;return s?(0,d.jsx)(l.Z,{icon:s,color:a.Z.colors.uiHoverable,size:8}):t?(0,d.jsx)(g,{xs:!0,color:"primaryLight",noSelect:!0,children:t}):null},g=(0,n.ZP)(c.Z).withConfig({displayName:"TextInput__StyledIndicator",componentId:"sc-1h6wvx4-2"})(["font-size:8px;"])},"./app/components/Prefabs/TextLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/react/jsx-runtime.js");const a=o.ZP.a.withConfig({displayName:"TextLink__BaseLink",componentId:"sc-14zjvih-0"})(["font-size:",";line-height:",";color:",";text-decoration:none;pointer-events:",";font-weight:",";cursor:pointer;overflow:",";text-overflow:",";&:hover{color:",";}"],(e=>e.theme.fonts.size[e.size]),(e=>e.theme.fonts.lineHeight[e.size]),(e=>(e=>e.primaryText?e.theme.colors.textPrimary:e.primary?e.theme.colors.primary:e.danger||e.error?e.theme.colors.danger:e.secondary?e.theme.colors.textSecondary:e.inactive?e.theme.colors.textInactive:e.whiteUI?e.theme.colors.textWhiteUI:e.theme.colors.primary)(e)),(e=>(e=>e.inactive?"none":"auto")(e)),(e=>e.bold&&"bold"),(e=>e.noWrap&&"hidden"),(e=>e.noWrap&&"ellipsis"),(e=>(e=>e.primaryText?e.theme.colors.textPrimary:e.primary?e.theme.colors.primaryDark:e.danger||e.error?e.theme.colors.danger:e.inactive?e.theme.colors.textInactive:e.theme.colors.primaryDark)(e))),i=e=>{let t="md";return e.xxs?t="xxs":e.xs?t="xs":e.sm?t="sm":e.md?t="md":e.lg?t="lg":e.xl?t="xl":e.xxl&&(t="xxl"),(0,n.jsx)(a,{...e,href:e.to,size:t,target:e.openInNewTab?"_blank":"_self",rel:"noreferrer noopener",children:e.children})}},"./app/components/Prefabs/ThreedotsLoader.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/UI/Base.tsx"),a=s("./node_modules/react/jsx-runtime.js");const i=e=>{let{className:t,animationType:s="jumping",dotColor:o,dotSize:n=6}=e;return(0,a.jsx)(r,{className:t,children:new Array(3).fill("").map(((e,t)=>(0,a.jsx)(c,{index:t,animationType:s,dotColor:o,dotSize:n},`three-dots-animation-${t}`)))})},r=(0,o.ZP)(n.x).withConfig({displayName:"ThreedotsLoader__Container",componentId:"sc-46q7aq-0"})(["gap:6px;"]),l=["mustard","ocean","magenta"],c=o.ZP.div.withConfig({displayName:"ThreedotsLoader__Dot",componentId:"sc-46q7aq-1"})(["display:inline-block;width:",";height:",";border-radius:50%;background-color:",";animation:",";@keyframes jumpingAnimation{0{transform:translate(0,0);}16%{transform:translate(0,-","px);}33%{transform:translate(0,0);}100%{transform:translate(0,0);}}@keyframes serialOpacityAnimation{0%{opacity:0.1;}20%{opacity:1;}100%{opacity:0.2;}}"],(e=>{let{dotSize:t}=e;return`${t}px`}),(e=>{let{dotSize:t}=e;return`${t}px`}),(e=>{let{theme:t,index:s,dotColor:o}=e;return o??t.colors.brand[l[s]]}),(e=>{let{animationType:t,index:s}=e;return"linear-opacity"===t?`serialOpacityAnimation 1.2s ${.3*s}s infinite;`:`jumpingAnimation 1.2s ${.3*s}s ease-in-out infinite;`}),(e=>{let{dotSize:t}=e;return 1.5*t}))},"./app/components/Prefabs/TooltipWrapper.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-laag/dist/index.es.js"),a=s("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/utils/hooks/useHover.ts"),l=s("./app/components/Prefabs/Block.tsx"),c=s("./node_modules/react/jsx-runtime.js");const d=(0,i.ZP)(l.X2).withConfig({displayName:"TooltipWrapper__TooltipContainer",componentId:"sc-15n8dn6-0"})(["display:",";cursor:default;",""],(e=>e.inline?"inline":"flex"),(e=>e.fullWidth?"width: 100%":"")),p={autoAdjust:!0,possibleAnchors:["TOP_LEFT","TOP_CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"],triggerOffset:15},u=e=>{let{message:t,children:s,primary:u,inline:m,blackBackground:h,fontSize:g,fixed:f=!0,fullWidth:y=!1,containerStyle:x={},possibleAnchors:v,tooltipWidth:b,zIndexOverride:w}=e;const[_,I]=(0,r.X)(),T=(0,o.useContext)(i.Ni),j=(0,o.useMemo)((()=>u?T.colors.primary:h?T.colors.uiBackground:T.colors.uiOverlay),[u,h,T]),k=(0,o.useCallback)((e=>{let{isOpen:s,layerProps:o,arrowStyle:a,layerSide:i}=e;return(0,c.jsx)(n.uT,{isOpen:s,children:(e,s)=>e?(0,c.jsxs)("div",{ref:o.ref,onTransitionEnd:s,style:{...o.style,borderRadius:"4px",backgroundColor:j,color:u?"black":"white",transition:"opacity 250ms",opacity:e?1:0,padding:"8px 10px",fontSize:g??"14px",zIndex:w??10,lineHeight:1.5,width:b},children:[t,(0,c.jsx)(n.Eh,{style:a,layerSide:i,backgroundColor:j,roundness:.9})]}):null})}),[j,g,t,u,b,w]),C=(0,o.useCallback)((e=>{let{triggerRef:t}=e;return(0,c.jsx)(d,{ref:t,alignCenter:!0,inline:m,fullWidth:y,children:s})}),[s,y,m]),E=(0,o.useMemo)((()=>({...p,possibleAnchors:v??p.possibleAnchors})),[v]);return(0,c.jsx)(l.X2,{ref:_,style:x,children:I?(0,c.jsx)(n.G,{fixed:f,ResizeObserver:a.Z,isOpen:!0,renderLayer:k,placement:E,children:C}):s})}},"./app/components/Prefabs/Video.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/utils/hooks/useSafeState.ts"),i=s("./app/utils/time.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Icon/Icon.tsx"),c=s("./app/components/Prefabs/Pic.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./node_modules/react/jsx-runtime.js");const u=e=>{let{src:t,height:s,minHeight:n,maxHeight:u,width:w,onLoad:_,hidden:I,poster:T,autoplay:j,noControls:k,videoAsThumbnail:C,onClick:E,loop:S,timeLeftPositionFromBottom:A,previewAsImage:M,duration:P,objectFit:N}=e;const D=(0,o.useRef)(null),[O,L]=(0,a.Z)(0),[R,Z]=(0,a.Z)(0),[U,z]=(0,a.Z)("0"),[V,B]=(0,a.Z)(!1),[G,F]=(0,a.Z)(0);return(0,o.useEffect)((()=>{_?.(D)}),[_]),(0,p.jsxs)(r.JX,{onClick:()=>{if(E)E();else if(D?.current&&!k){const e=D.current;e.paused?e.play():e.pause()}},gutter:0,size:12,children:[(0,p.jsxs)(m,{children:[!V&&!I&&!k&&(0,p.jsx)(v,{children:(0,p.jsx)(l.Z,{size:C?30:50,icon:"play"})}),!I&&!k&&(0,p.jsx)(b,{videoAsThumbnail:C,bottom:A,children:(0,p.jsx)(d.Z,{xs:C,children:(0,i.Nl)(M&&P?P:G)})}),M?(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(r.JX,{size:12,children:(0,p.jsx)(r.X2,{size:12,children:(0,p.jsx)("div",{style:{height:s?.toString()}})})}),children:(0,p.jsx)(c.Z,{src:t,noCrop:!0,height:s,width:w,maintainAspectRatio:!0})}):(0,p.jsxs)(h,{ref:D,disablePictureInPicture:!0,poster:T,height:s,width:w,hidden:I,maxHeight:u,minHeight:n,objectFit:N,preload:"metadata",autoPlay:j,loop:S,onLoadedMetadata:e=>{e.currentTarget.duration&&(L(e.currentTarget.duration),F(e.currentTarget.duration)),C&&(e.currentTarget.currentTime=0)},onTimeUpdate:e=>{if(e.currentTarget){const{duration:t,currentTime:s}=e.currentTarget;0===O&&L(t),Z(s),z(`${Math.floor(s/t*100)}%`),F(t-s)}},onPlay:()=>B(!0),onPause:()=>B(!1),children:[(0,p.jsx)("source",{src:t,type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos."]})]}),(0,p.jsx)(r.X2,{children:!C&&(0,p.jsx)(g,{"data-state":"hidden",children:(0,p.jsx)(f,{children:(0,p.jsx)(y,{value:R,max:O,children:(0,p.jsx)(x,{width:U})})})})})]})},m=n.ZP.div.withConfig({displayName:"Video__StyledVideoContainer",componentId:"sc-iysga7-0"})(["position:relative;"]),h=n.ZP.video.withConfig({displayName:"Video__StyledVideo",componentId:"sc-iysga7-1"})(["outline:none;background:black;max-width:100%;max-height:",";min-height:",";display:",";",""],(e=>e.maxHeight?`${e.maxHeight}px`:"100%"),(e=>e.minHeight&&e.minHeight),(e=>e.hidden?"none":"inherit"),(e=>e.objectFit&&`object-fit: ${e.objectFit};`)),g=n.ZP.div.withConfig({displayName:"Video__StyledVideoControls",componentId:"sc-iysga7-2"})(["width:100%;"]),f=n.ZP.div.withConfig({displayName:"Video__ProgressContainer",componentId:"sc-iysga7-3"})(["width:100%;display:flex;"]),y=n.ZP.progress.withConfig({displayName:"Video__Progress",componentId:"sc-iysga7-4"})(["width:100%;height:10px;color:",";-webkit-appearance:none;appearance:none;&::-moz-progress-bar{background-color:",";}&::-webkit-progress-value{background-color:",";}"],(e=>e.theme.colors.videoProgressBar),(e=>e.theme.colors.videoProgressBar),(e=>e.theme.colors.videoProgressBar)),x=n.ZP.span.withConfig({displayName:"Video__ProgressBar",componentId:"sc-iysga7-5"})(["width:",";background-color:",";height:7px;"],(e=>e.width),(e=>e.theme.colors.videoProgressBar)),v=n.ZP.div.withConfig({displayName:"Video__IconContainer",componentId:"sc-iysga7-6"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);"]),b=n.ZP.div.withConfig({displayName:"Video__TimeLeft",componentId:"sc-iysga7-7"})(["right:",";bottom:",";bottom:",";position:absolute;opacity:0.8;background:",";padding:",";border-radius:4px;"],(e=>e.videoAsThumbnail?"5px":"20px"),(e=>e.videoAsThumbnail?"5px":"20px"),(e=>e.bottom&&`${e.bottom}px`),(e=>e.theme.colors.uiBackground),(e=>e.videoAsThumbnail?"5px":"10px"))},"./app/components/Prefabs/VirtualizedGrid.tsx":(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/components/Prefabs/VirtualizedScrollContext.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{rowIndex:t,columnIndex:s,cellHeight:o,cellWidth:n,gutter:a,styleCache:i}=e;const r=`${t}-${s}-${o}-${n}`;if(i[r])return i[r];const l={position:"absolute",top:t*o,left:s*n,height:o-a,width:n-a};return i[r]=l,l},l=e=>{let{containerWidth:t,containerHeight:s,minWidth:n,children:l,numberOfItems:d,gutter:p,aspectRatio:u=4/3,offsetTop:m}=e;const h=(0,a.Sh)(),g=(0,o.useRef)({}),f=h-(m||0),y=(e=>{let{containerWidth:t,minWidth:s,gutter:o}=e;return Math.floor(t/(s+o))})({containerWidth:t,minWidth:n,gutter:p}),{cellHeight:x,cellWidth:v}=(e=>{let{columnCount:t,minWidth:s,gutter:o,containerWidth:n,aspectRatio:a}=e;const i=s+(n-t*s-o)/t;return{cellWidth:i,cellHeight:i/a}})({columnCount:y,minWidth:n,gutter:p,containerWidth:t,aspectRatio:u}),b=(e=>{let{rowHeight:t,rowCount:s,scrollTop:o}=e;return Math.max(0,Math.min(s-1,Math.floor(o/t)))})({rowHeight:x,rowCount:d/y,scrollTop:f}),w=(e=>{let{rowHeight:t,rowCount:s,scrollTop:o,startIndex:n,containerHeight:a}=e;const i=n*t,r=Math.ceil((a+o-i)/t);return Math.max(0,Math.min(s-1,n+r-1))})({rowHeight:x,rowCount:d/y,containerHeight:s,startIndex:b,scrollTop:f}),_=4*y,I=Math.max(0,Math.floor(b)*y-_),T=Math.min(d,Math.ceil(w)*y+_);if(0===t||0===s)return null;const j=[];for(let e=I;e<T;e++){const t=Math.floor(e/y),s=Math.floor(e%y),o=r({rowIndex:t,columnIndex:s,cellHeight:x,cellWidth:v,gutter:p,styleCache:g.current});j.push(l(o,e))}return(0,i.jsx)(c,{style:{height:Math.max(1,Math.ceil(d/y))*x},children:j})},c=n.ZP.div.withConfig({displayName:"VirtualizedGrid__Container",componentId:"sc-9qovxq-0"})(["position:relative;overflow:visible;"])},"./app/components/Prefabs/VirtualizedScrollContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Nz:()=>c,SZ:()=>r,Sh:()=>d,gJ:()=>i});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react/jsx-runtime.js");const a=(0,o.createContext)({}),i=e=>{let{children:t,scrollRef:s}=e;return(0,n.jsx)(a.Provider,{value:{scrollRef:s},children:t})},r=()=>{const e=o.useContext(a);if(!e)throw new Error("useVirtualizedScroll must be used within a VirtualizedScrollProvider");return e.scrollRef},l=(0,o.createContext)({}),c=e=>{let{children:t}=e;const s=r(),[a,i]=(0,o.useState)(0);return(0,o.useEffect)((()=>{if(!s.current)throw new Error("VirtualizedGrid must be wrapped in a VirtualizedGridScrollProvider");const e=()=>{i(s.current?.scrollTop||0)},t=s.current;return t.addEventListener("scroll",e,{passive:!0}),()=>{t.removeEventListener("scroll",e)}}),[s]),(0,n.jsx)(l.Provider,{value:{scrollTop:a},children:t})},d=()=>{const e=o.useContext(l);if(!e)throw new Error("useVirtualizedScroll must be used within a VirtualizedScrollProvider");return e.scrollTop}},"./app/components/Prefabs/VirtualizedTable.tsx":(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/components/Prefabs/VirtualizedScrollContext.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{index:t,rowHeight:s,styleCache:o}=e;if(o[t])return o[t];const n={position:"absolute",top:t*s,height:s,left:0,right:0};return o[t]=n,n},l=e=>{let{containerHeight:t,rowHeight:s,numberOfItems:n,children:l,renderRow:p,offsetTop:u}=e;const m=(0,a.Sh)(),h=(0,o.useRef)({}),g=m-(u||0),f=(e=>{let{rowHeight:t,rowCount:s,scrollTop:o}=e;return Math.max(0,Math.min(s-1,Math.floor(o/t)))})({rowHeight:s,rowCount:n,scrollTop:g}),y=(e=>{let{rowHeight:t,rowCount:s,scrollTop:o,startIndex:n,containerHeight:a}=e;const i=n*t,r=Math.ceil((a+o-i)/t);return Math.max(0,Math.min(s-1,n+r-1))})({rowHeight:s,rowCount:n,containerHeight:t,startIndex:f,scrollTop:g}),x=Math.max(0,Math.floor(f-t/s)),v=Math.min(n,Math.ceil(y+t/s)),b=[];for(let e=x;e<v;e++){const t=r({index:e,rowHeight:s,styleCache:h.current});b.push(p(t,e))}return(0,i.jsxs)(c,{children:[l,(0,i.jsx)(d,{style:{height:n*s},children:b})]})},c=n.ZP.table.withConfig({displayName:"VirtualizedTable__Container",componentId:"sc-1vxn4p4-0"})(["overflow:visible;width:100%;"]),d=n.ZP.tbody.withConfig({displayName:"VirtualizedTable__TableBody",componentId:"sc-1vxn4p4-1"})(["position:sticky;"])},"./app/components/RouteErrorMessage/RouteErrorMessage.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var o=s("./node_modules/react/index.js"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/utils/auth.ts"),r=s("./app/utils/routes.ts"),l=s("./app/components/Prefabs/Block.tsx"),c=s("./app/components/Prefabs/Icon/Icon.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./node_modules/react-router/esm/react-router.js"),u=s("./app/devoe/themeDark.ts"),m=s("./app/utils/hooks/useBreakpoint.ts"),h=s("./app/components/Prefabs/Button.tsx"),g=s("./node_modules/react/jsx-runtime.js");const f={MODEL:"model",ASSET:"asset",PROJECT:"project"},y=(0,a.ZP)(l.X2).withConfig({displayName:"RouteErrorMessage__MessageContainer",componentId:"sc-9i10ap-0"})(["width:",";"],(e=>e.smScreen?"100%":"38%")),x=e=>{let{errorType:t,routeType:s}=e;const a=(e=>f[e])(s),x=(0,p.k6)(),v=(0,m.Z)("sm"),b=(0,o.useMemo)((()=>{switch(t){case"NOT_FOUND":case"UNAUTHORIZED":return"This file may not exist anymore or you may not have permissions to view it. Ask the file owner to verify the link or to update access permissions.";default:return"error"}}),[t]);return(0,g.jsx)(l.X2,{alignCenter:!0,grow:!0,pad:[0,24],size:12,children:(0,g.jsxs)(l.JX,{alignCenter:!0,gutter:0,children:[(0,g.jsx)(l.X2,{pad:[8,0],children:(0,g.jsx)(c.Z,{icon:"logo",color:u.Z.colors.marketing.runwayGreen,size:50})}),(0,g.jsx)(l.X2,{pad:[24,0,0,0],children:(0,g.jsx)(d.Z,{bold:!0,xl:!0,children:"File not found"})}),(0,g.jsx)(y,{span:4,smScreen:v,pad:32,children:(0,g.jsx)(d.Z,{center:!0,lg:!0,children:b})}),(0,g.jsx)(l.X2,{children:(0,i.Pc)()?(0,g.jsx)(h.Z,{message:"GO BACK HOME",onClick:()=>x.push("/video-tools/projects")}):(0,g.jsx)(h.Z,{message:"LOG IN",onClick:()=>(0,r.rf)(`Public ${(0,n.capitalize)(a)}: Not Found Page`)})})]})})}},"./app/components/Teams/EnterpriseInviteToTeamDialog/index.tsx":(e,t,s)=>{"use strict";s.d(t,{k8:()=>W});var o=s("./app/api/billing.ts"),n=s("./app/api/hooks/useSubscription.ts"),a=s("./app/components/Prefabs/RadixDialog.tsx"),i=s("./app/components/Prefabs/TextLink.tsx"),r=s("./app/devoe/themeDark.ts"),l=s("./app/utils/constants.ts"),c=s("./app/utils/hooks/useFlipbackState.ts"),d=s("./app/utils/trackEvent.ts"),p=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),u=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),m=s("./node_modules/@sentry/core/esm/exports.js"),h=s("./node_modules/lucide-react/dist/esm/icons/dollar-sign.js"),g=s("./node_modules/react/index.js"),f=s("./node_modules/react-redux/es/index.js"),y=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=s("./app/actions/flash.ts"),v=s("./app/api/hooks/useCurrentTeamPlan.ts"),b=s("./app/api/hooks/useTeams.ts"),w=s("./app/api/teams.ts"),_=s("./app/hooks/useBulkInviteFromEmailsList.ts"),I=s("./app/hooks/useDisableAddingMoreCollaborators.ts"),T=s("./app/hooks/useShouldShowInviteRoleByLink.tsx"),j=s("./app/hooks/useTeamInviteEmails.ts"),k=s("./app/utils/teams.ts"),C=s("./app/components/Prefabs/Loader/Loader.tsx"),E=s("./app/components/Prefabs/Text.tsx"),S=s("./app/components/Views/Dashboard/Components/Text.tsx"),A=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),M=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts"),P=s("./app/components/Teams/InviteInput.tsx"),N=s("./app/components/Prefabs/ThreedotsLoader.tsx"),D=s("./app/components/Views/Assets/shared.tsx");var O=s("./app/components/Views/TeamSettings/tracking.ts"),L=s("./node_modules/react/jsx-runtime.js");const R=e=>{let{teamId:t}=e;const[s,o]=(0,g.useState)(null),[n,a]=(0,g.useState)(!1),i=(0,g.useCallback)((async()=>{a(!0),(0,O.Io)();const e=await(async e=>{let{teamId:t}=e;const{linkId:s}=await(0,w.W8)(t);return`${window.location.origin}/video-tools/${s}/request`})({teamId:t});o(e),a(!1)}),[t]);return s?(0,L.jsxs)(Z,{children:[(0,L.jsxs)(A.x,{flexDirection:"column",children:[(0,L.jsx)(F,{children:"Invite by link"}),(0,L.jsx)(B,{children:(0,L.jsx)(z,{children:s})})]}),(0,L.jsx)(G,{disabled:n,onClick:()=>{navigator.clipboard.writeText(s)},children:"Copy link"})]}):(0,L.jsxs)(Z,{children:[(0,L.jsxs)("div",{children:[(0,L.jsx)(F,{children:"Invite by link"}),(0,L.jsx)(V,{children:"Create a secure link people can use to join your team."})]}),(0,L.jsx)(G,{onClick:i,children:n?(0,L.jsx)(U,{"data-testid":"loading-container",children:(0,L.jsx)(N.Z,{animationType:"linear-opacity",dotColor:"white",dotSize:4})}):"Create link"})]})},Z=y.ZP.div.withConfig({displayName:"InviteMembersByLink__Container",componentId:"sc-apunvq-0"})(["display:flex;justify-content:space-between;align-items:flex-end;gap:8px;padding:2px;"]),U=y.ZP.div.withConfig({displayName:"InviteMembersByLink__LoadingContainer",componentId:"sc-apunvq-1"})(["display:flex;align-items:center;justify-content:center;"]),z=y.ZP.div.withConfig({displayName:"InviteMembersByLink__LinkText",componentId:"sc-apunvq-2"})(["flex-grow:1;padding-left:8px;text-overflow:ellipsis;font-size:",";font-weight:500;text-decoration:underline;overflow:hidden;white-space:nowrap;flex-grow:1;"],(e=>e.theme.fonts.size.md)),V=y.ZP.span.withConfig({displayName:"InviteMembersByLink__CreateLinkText",componentId:"sc-apunvq-3"})(["font-size:",";font-weight:500;color:",";"],(e=>e.theme.fonts.size.md),(e=>e.theme.colors.textSecondary)),B=y.ZP.span.withConfig({displayName:"InviteMembersByLink__CopyLinkContainer",componentId:"sc-apunvq-4"})(["display:flex;flex-grow:1;align-items:center;gap:8px;box-sizing:border-box;border:solid;border-radius:8px;color:white;border-color:",";background-color:",";height:50px;line-height:25px;overflow:hidden;white-space:nowrap;"],(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.uiLevel1)),G=(0,y.ZP)(D.KM).withConfig({displayName:"InviteMembersByLink__CopyLinkButton",componentId:"sc-apunvq-5"})(["height:50px;padding:8px;font-size:",";min-width:120px;"],(e=>e.theme.fonts.size.md)),F=(0,y.ZP)(S.aC).withConfig({displayName:"InviteMembersByLink__DialogTitle",componentId:"sc-apunvq-6"})(["color:",";margin-bottom:8px;"],(e=>e.theme.colors.white)),$=e=>({pending:!0,role:e.role,user:{email:e.email}});function W(e){let{teamId:t,onClose:s,...i}=e;const{data:u=[],mutate:h}=(0,b.lU)(t,{suspense:!0}),y=(0,n.m)(t),S=(0,T.e)(t),N=(0,v.yG)(t,{suspense:!0}),[D,O]=(0,g.useState)(!1),[Z,U]=(0,c.Z)(null,2e3),{emails:z,setEmails:V,verifyListAndAddEmails:B}=(0,j.r)(),{bulkInviteRole:G,setBulkInviteRole:F,bulkInviteMembersList:W,validMembers:de}=(0,_.E)({emails:z,initRole:"editor"}),pe=z.length&&"viewer"!==G,ue=pe?z.length:0,me=(0,f.I0)(),he=u.map((e=>e.user.email)),ge=(0,I.b)({numExistingMembers:u?.length,numInvitedMembers:W.length}),fe=(0,g.useCallback)((async e=>{if(e.preventDefault(),de.length<1)return;O(!0);const o=await Promise.allSettled(de.map((e=>(0,w.Lq)(t,e.email,e.role)))),{outcome:n,message:a,successful:i,failed:r}=(0,k.F3)(o,de);if(i.length>0&&(0,d.L)({event:"General",name:"Invite Workspace Members",otherProperties:{section:"Settings",numSuccess:i.length,numFailed:r.length,outcome:n}}),me((0,x.showFlash)({message:"success"===n?"Invite(s) sent!":a,type:"success"===n?"SUCCESS":"WARNING"})),O(!1),"success"===n)return V([]),h((e=>[...e||[],...i.map($)])),void s();"failure"!==n&&(V((e=>e.filter((e=>""===e||r.some((t=>t.email===e)))))),h((e=>[...e||[],...i.map($)])))}),[me,h,s,V,t,de]);let ye="",xe=!1;const ve=y?.plan,be=ve?.includes("-monthly");let we="billing cycle";ve&&(we=be?"month":"year");let _e=0;if(N&&!(0,v.Q6)(N)&&y?.plan&&"manual"!==y.paymentProcessor){_e=ue*(y.plan.includes("-monthly")?N.prices.monthly:12*N.prices.yearly),ye=`The workspace will be charged for each new Editor/Admin for the days remaining of this ${we}, and $${_e.toLocaleString()} every ${we} after this.`}else ye=`You will not be charged for Editors and Admin seats you’ve already purchased. If you add more, you will be charged for the days remaining of this ${we}`,xe=!0;const[Ie,Te]=(0,g.useState)(null);(0,g.useEffect)((()=>{(async()=>{try{const{sessionURL:e}=await(0,o.B)({asTeamId:t,returnURL:window.location.href});Te(e)}catch(e){(0,m.Tb)(e,{extra:{teamId:t,message:"Could not create stripe customer portal URL"}})}})()}),[t]);const je=_e?`Invite members ($${_e.toLocaleString()} monthly)`:"Invite members";return(0,L.jsx)(p.fC,{...i,children:(0,L.jsxs)(p.h_,{children:[(0,L.jsx)(q,{}),(0,L.jsxs)(a.ft,{style:{zIndex:M.Z.MODAL_WRAPPER},children:[(0,L.jsxs)(A.x,{flexDirection:"row",justifyContent:"space-between",children:[(0,L.jsx)(J,{children:"Invite members to your workspace"}),(0,L.jsx)(oe,{height:24,onClick:s})]}),ge?(0,L.jsx)(Y,{}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(ne,{weight:400,md:!0,children:["Securely share assets, prompts, and credits.",S?"Members will be invited by link or email.":"Members will be invited via email."," ",(0,L.jsx)(ae,{md:!0,to:l.En,openInNewTab:!0,children:"More details"})]}),!!pe&&!(0,v.Q6)(N)&&(0,L.jsxs)(Q,{children:[(0,L.jsxs)(A.x,{alignItems:"center",gap:"4px",children:[(0,L.jsx)(ie,{$_css:r.Z.colors.primaryLight}),(0,L.jsx)(E.Z,{sm:!0,bold:!0,children:"How Workspace Billing Works"})]}),(0,L.jsxs)(E.Z,{sm:!0,children:[ye,xe?(0,L.jsxs)(re,{children:["To update your plan, please contact"," ",(0,L.jsx)(H,{href:l._3,children:"sales@runwayml.com"})]}):Ie&&(0,L.jsxs)(le,{children:["Review your price in"," ",(0,L.jsx)(H,{href:Ie,children:"Stripe"})]})]})]}),S?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R,{teamId:t}),(0,L.jsx)(K,{children:"Invite by email"}),(0,L.jsx)("form",{onSubmit:fe,spellCheck:!1,children:(0,L.jsxs)(A.x,{gap:"8px",children:[(0,L.jsx)(ce,{emails:z,addEmails:e=>{B({newEmailsList:e,existingMemberEmails:he,notifyOnDiscrepancy:U})},removeEmail:e=>{V((t=>[...t.filter((t=>t!==e))]))},role:G,onRoleChange:F,darkMode:!0}),(0,L.jsx)(se,{notification:Z}),(0,L.jsx)(te,{"data-testid":"invite-members-submit",disabled:D||de.length<1||ge,children:je})]})})]}):(0,L.jsxs)("form",{onSubmit:fe,spellCheck:!1,children:[(0,L.jsx)(P.Z,{emails:z,addEmails:e=>{B({newEmailsList:e,existingMemberEmails:he,notifyOnDiscrepancy:U})},removeEmail:e=>{V((t=>[...t.filter((t=>t!==e))]))},role:G,onRoleChange:F,darkMode:!0}),(0,L.jsx)(se,{notification:Z}),(0,L.jsx)(ee,{"data-testid":"invite-members-submit",disabled:D||de.length<1||ge,children:je})]}),D&&(0,L.jsx)(X,{children:(0,L.jsx)(C.Z,{height:24,width:24})})]})]})]})})}const H=e=>{let{children:t,href:s}=e;return(0,L.jsx)(de,{href:s,target:"_blank",rel:"noreferrer",$_css2:r.Z.colors.primaryLight,children:t})},Y=()=>(0,L.jsx)(A.x,{children:(0,L.jsx)(E.Z,{whiteUI:!0,children:"Please contact support to add more members."})}),X=y.ZP.div.withConfig({displayName:"EnterpriseInviteToTeamDialog__StyledLoader",componentId:"sc-1pj4kq8-0"})(["position:absolute;inset:-16px;background-color:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;"]),q=(0,y.ZP)(p.aV).withConfig({displayName:"EnterpriseInviteToTeamDialog__DialogOverlay",componentId:"sc-1pj4kq8-1"})(["position:fixed;inset:0;background-color:",";opacity:0.8;z-index:5;animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],(e=>{let{theme:t}=e;return t.colors.uiOverlay})),J=(0,y.ZP)(S.aC).withConfig({displayName:"EnterpriseInviteToTeamDialog__DialogTitle",componentId:"sc-1pj4kq8-2"})(["color:",";margin-bottom:8px;"],(e=>e.theme.colors.white));var K=(0,y.ZP)(J).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledDialogTitle",componentId:"sc-1pj4kq8-3"})(["margin-top:8px;"]);const Q=y.ZP.div.withConfig({displayName:"EnterpriseInviteToTeamDialog__BillingNotification",componentId:"sc-1pj4kq8-4"})(["border-radius:8px;box-sizing:border-box;background-color:",";border:1px solid ",";padding:8px;gap:8px;margin-bottom:16px;min-width:0;display:flex;flex-direction:column;"],(e=>{let{theme:t}=e;return t.colors.secondary}),(e=>{let{theme:t}=e;return t.colors.secondary})),ee=y.ZP.button.withConfig({displayName:"EnterpriseInviteToTeamDialog__StyledSubmitButton",componentId:"sc-1pj4kq8-5"})(["cursor:pointer;background-color:",";font-size:",";border:none;height:48px;width:100%;border-radius:8px;color:#fff;&:focus-visible:not(:disabled){outline:2px solid ",";outline-offset:2px;}&:hover:not(:disabled){background-color:",";}&:disabled{cursor:not-allowed;opacity:0.7;}"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.size.md),(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark)),te=y.ZP.button.withConfig({displayName:"EnterpriseInviteToTeamDialog__StyledSubmitButton2",componentId:"sc-1pj4kq8-6"})(["cursor:pointer;background-color:",";font-size:",";border:none;height:48px;width:120px;border-radius:8px;color:#fff;&:focus-visible:not(:disabled){outline:2px solid ",";outline-offset:2px;}&:hover:not(:disabled){background-color:",";}&:disabled{cursor:not-allowed;opacity:0.7;}"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.size.md),(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark)),se=e=>{let{notification:t,darkMode:s}=e;const o=(0,g.useMemo)((()=>"existing"===t?"One or more email(s) added are already a member of this workspace":""),[t]);return t&&o?(0,L.jsx)(pe,{children:(0,L.jsx)(ue,{sm:!0,whiteUI:!0,$_css3:s?e=>e.theme.colors.danger:e=>e.theme.colors.dangerDark,children:o})}):null};var oe=(0,y.ZP)(u.Pxu).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledCross2Icon",componentId:"sc-1pj4kq8-7"})(["color:",";cursor:pointer;"],(e=>e.theme.colors.textSecondary)),ne=(0,y.ZP)(E.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledText",componentId:"sc-1pj4kq8-8"})(["display:block;margin-bottom:8px;color:",";margin-bottom:16px;"],(e=>{let{theme:t}=e;return t.colors.textSecondary})),ae=(0,y.ZP)(i.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledTextLink",componentId:"sc-1pj4kq8-9"})(["color:",";&:hover{color:",";}"],(e=>{let{theme:t}=e;return t.colors.primaryLight}),(e=>{let{theme:t}=e;return t.colors.primary})),ie=(0,y.ZP)(h.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledDollarSignIcon",componentId:"sc-1pj4kq8-10"})(["background-color:rgba(214,182,255,0.2);color:",";width:16px;height:16px;padding:2px;box-sizing:border-box;border-radius:2px;"],(e=>e.$_css)),re=(0,y.ZP)(E.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledText2",componentId:"sc-1pj4kq8-11"})(["color:#afb3bd;"]),le=(0,y.ZP)(E.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledText3",componentId:"sc-1pj4kq8-12"})(["color:#afb3bd;"]),ce=(0,y.ZP)(P.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledInviteInput",componentId:"sc-1pj4kq8-13"})(["flex-grow:1;"]),de=(0,y.ZP)("a").withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledA",componentId:"sc-1pj4kq8-14"})(["text-decoration:underline;color:",";"],(e=>e.$_css2)),pe=(0,y.ZP)("div").withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledDiv",componentId:"sc-1pj4kq8-15"})(["margin:4px 0;width:100%;"]),ue=(0,y.ZP)(E.Z).withConfig({displayName:"EnterpriseInviteToTeamDialog___StyledText4",componentId:"sc-1pj4kq8-16"})(["line-height:",";display:block;text-align:center;color:",";"],(e=>e.theme.fonts.lineHeight.md),(e=>e.$_css3))},"./app/components/Teams/InviteInput.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Text.tsx"),a=s("./app/components/UI/Base.tsx");var i=s("./app/utils/validateEmail.ts"),r=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),l=s("./node_modules/react/index.js"),c=s("./node_modules/react/jsx-runtime.js");const d=e=>{let{emails:t,removeEmail:s,addEmails:o,darkMode:n}=e;const[a,r]=(0,l.useState)(""),d=(0,l.useCallback)((e=>{const t=e.currentTarget.value,s=h(t);o(s),r("")}),[o]),f=(0,l.useCallback)((e=>{e.preventDefault();const t=e.clipboardData.getData("text"),s=h(t);o(s)}),[o]),y=(0,l.useCallback)((e=>{if(["Enter",","," "].includes(e.key)){e.preventDefault();const t=a.trim();t&&(0,i.o)(t)&&(o([t]),r(""))}}),[o,a]);return(0,c.jsxs)(g,{$_css:n&&"background: black;",$_css2:n?e=>e.theme.colors.uiLevel2:e=>e.theme.colors.uiLevel2Light,$_css3:n?e=>e.theme.colors.uiLevel2:e=>e.theme.colors.uiLevel2Light,children:[(0,c.jsx)(m,{children:t.map((e=>(0,c.jsx)(p,{darkMode:n,email:e,onDelete:()=>{s(e)}},e)))}),(0,c.jsx)(u,{$darkMode:n,type:"email",placeholder:t.length?"Emails, comma separated":"Enter emails, comma or space separated",value:a,onChange:e=>{r(e.currentTarget.value)},onKeyDown:y,onPaste:f,onBlur:d})]})},p=e=>{let{email:t,onDelete:s,darkMode:o}=e;return(0,c.jsxs)(f,{$_css4:o?e=>e.theme.colors.uiLevel1:e=>e.theme.colors.uiInactiveLight,children:[(0,c.jsx)(y,{$_css5:o?e=>e.theme.colors.white:e=>e.theme.colors.secondary,children:t}),(0,c.jsx)(x,{onClick:s})]})},u=o.ZP.input.withConfig({displayName:"EmailInputAndChips__StyledCollaboratorInput",componentId:"sc-1knt7z9-0"})(["box-sizing:border-box;height:24px;max-width:320px;border:none;font-size:",";line-height:",";padding-top:4px;padding-bottom:4px;"," "," &[data-state='error']{border-color:",";}&::placeholder{color:",";}"],(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.$darkMode&&`background: ${e.theme.colors.black};`),(e=>e.$darkMode&&`color: ${e.theme.colors.white};`),(e=>e.theme.colors.dangerDark),(e=>e.$darkMode?e.theme.colors.textInactive:e.theme.colors.textInactiveLight)),m=(0,o.ZP)(a.x).withConfig({displayName:"EmailInputAndChips__ChipList",componentId:"sc-1knt7z9-1"})(["display:block;max-width:270px;"]),h=e=>{const t=(e=>e.match(/\s*([\w\.-]+(?:\+[\w\.-]+)?@[\w\.-]+)(?=\s*[, \n]|\s*$)/gm))(e);if(t){return[...new Set(t.map((e=>e.trim())).filter((e=>(0,i.o)(e))))]}return[]};var g=(0,o.ZP)("div").withConfig({displayName:"EmailInputAndChips___StyledDiv",componentId:"sc-1knt7z9-2"})(["display:flex;flex-direction:column;max-height:132px;flex-grow:2;overflow-y:scroll;"," ::-webkit-scrollbar{width:10px;}::-webkit-scrollbar-thumb{border:2px solid ",";border-radius:9999px;background-color:",";}::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar-corner{background:",";}"],(e=>e.$_css),(e=>e.$_css2),(e=>e.$_css3),(e=>e.theme.colors.white)),f=(0,o.ZP)("div").withConfig({displayName:"EmailInputAndChips___StyledDiv2",componentId:"sc-1knt7z9-3"})(["display:inline-flex;justify-content:flex-start;padding:4px 8px 4px 12px;align-items:center;border-radius:96px;background:",";align-items:center;gap:4px;margin-bottom:8px;margin-right:4px;"],(e=>e.$_css4)),y=(0,o.ZP)(n.Z).withConfig({displayName:"EmailInputAndChips___StyledText",componentId:"sc-1knt7z9-4"})(["font-size:",";line-height:",";color:",";"],(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.$_css5)),x=(0,o.ZP)(r.Pxu).withConfig({displayName:"EmailInputAndChips___StyledCross2Icon",componentId:"sc-1knt7z9-5"})(["color:",";cursor:pointer;"],(e=>e.theme.colors.textSecondary)),v=s("./app/components/Prefabs/Icon/Icon.tsx"),b=s("./node_modules/@radix-ui/react-select/dist/index.module.js"),w=s("./app/devoe/themeDark.ts");const _=[{value:"viewer",label:"can view"},{value:"editor",label:"can edit"},{value:"admin",label:"admin"}],I=(0,o.ZP)(b.xz).withConfig({displayName:"RoleSelector__CollaboratorSelectTrigger",componentId:"sc-aokg31-0"})(["height:16px;display:flex;align-items:center;gap:4px;flex-shrink:0;background-color:transparent;border:none;font-size:",";line-height:",";color:",";&[data-state='error']{border-color:",";}&[data-active='true']{color:",";}&:focus-visible{outline:1px solid ",";outline-offset:-2px;}"],(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.$darkMode?e.theme.colors.white:e.theme.colors.uiLevel1),(e=>e.theme.colors.dangerDark),(e=>e.$darkMode?e.theme.colors.white:e.theme.colors.textWhiteUI),(e=>e.theme.colors.primary)),T=e=>{let{theme:t,darkMode:s}=e;return s?t.colors.uiLevel1:t.colors.white},j=(0,o.ZP)(b.VY).withConfig({displayName:"RoleSelector__CollaboratorSelectContent",componentId:"sc-aokg31-1"})(["padding-top:8px;padding-bottom:8px;background-color:",";box-shadow:0px 4px 4px rgba(0,0,0,0.25);border:1px solid ",";border-radius:2px;min-width:125px;"],(e=>T({theme:e.theme,darkMode:e.darkMode})),(e=>e.darkMode?e.theme.colors.uiLevel1:e.theme.colors.grayscale.gray30)),k=(0,o.ZP)(b.ck).withConfig({displayName:"RoleSelector__CollaboratorSelectItem",componentId:"sc-aokg31-2"})(["padding:4px 8px;background-color:",";font-size:",";line-height:",";color:",";&:focus,&:hover{color:",";background-color:",";}"],(e=>T({theme:e.theme,darkMode:e.darkMode})),(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.darkMode?e.theme.colors.white:e.theme.colors.textWhiteUI),(e=>e.darkMode?e.theme.colors.white:e.theme.colors.black),(e=>e.darkMode?e.theme.colors.primary:"#e8ecf1")),C=e=>{let{isActive:t,role:s,onRoleChange:o,darkMode:n}=e;return(0,c.jsxs)(b.fC,{value:s,onValueChange:e=>o(e),children:[(0,c.jsxs)(I,{"data-active":t,$darkMode:n,children:[(0,c.jsx)(b.B4,{}),(0,c.jsx)(b.JO,{children:(0,c.jsx)(E,{size:15,icon:"chevron-down",color:n?w.Z.colors.white:w.Z.colors.textWhiteUI})})]}),(0,c.jsx)(j,{darkMode:n,children:(0,c.jsx)(b.l_,{children:_.map((e=>(0,c.jsx)(k,{value:e.value,darkMode:n,children:(0,c.jsx)(b.eT,{children:(0,c.jsx)("div",{children:e.label})})},e.value)))})})]})};var E=(0,o.ZP)(v.Z).withConfig({displayName:"RoleSelector___StyledIcon",componentId:"sc-aokg31-3"})(["margin-top:1px;"]);const S=e=>{let{emails:t,addEmails:s,removeEmail:o,role:n,onRoleChange:a,RoleSelector:i=C,darkMode:r,...l}=e;return(0,c.jsxs)(A,{$darkMode:r,...l,children:[(0,c.jsx)(d,{emails:t,removeEmail:o,addEmails:s,darkMode:r}),(0,c.jsx)(M,{children:a&&(0,c.jsx)(i,{isActive:t.length>0,role:n,onRoleChange:a,darkMode:r})})]})},A=o.ZP.div.withConfig({displayName:"InviteInput__Container",componentId:"sc-voihbx-0"})(["position:relative;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:8px;padding:12px 0 12px 16px;overflow-y:hidden;margin-bottom:16px;border:solid 1px;border-radius:8px;border-color:",";",";&:focus-within{border-color:",";}::-webkit-scrollbar{width:14px;}::-webkit-scrollbar-thumb{border:4px solid white;border-radius:9999px;background-color:",";}::-webkit-scrollbar-track{background-color:",";}::-webkit-scrollbar-corner{background:",";}"],(e=>e.$darkMode?e.theme.colors.uiLevel2:e.theme.colors.uiLevel2Light),(e=>e.$darkMode&&"background: #000"),(e=>e.theme.colors.primary),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.white),(e=>e.theme.colors.white));var M=(0,o.ZP)("div").withConfig({displayName:"InviteInput___StyledDiv",componentId:"sc-voihbx-1"})(["top:16px;right:16px;height:100%;vertical-align:bottom;position:absolute;@media screen and (max-width:","px){position:unset;min-width:86px;margin-top:4px;}padding-left:8px;background-color:black;"],(e=>e.theme.breakpoints.xs))},"./app/components/Teams/InviteToTeamDialog/Error.tsx":(e,t,s)=>{"use strict";s.d(t,{_:()=>a});const o={container:"Error__container__MpwOP",text:"Error__text__KmRnI"};var n=s("./node_modules/react/jsx-runtime.js");function a(){return(0,n.jsx)("div",{className:o.container,children:(0,n.jsx)("span",{className:o.text,children:"An unexpected error occurred"})})}},"./app/components/Teams/InviteToTeamDialog/Loader.tsx":(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var o=s("./app/components/Prefabs/Loader/Loader.tsx");const n={container:"Loader__container__YJFS_"};var a=s("./node_modules/react/jsx-runtime.js");function i(){return(0,a.jsx)("div",{className:n.container,children:(0,a.jsx)(o.Z,{})})}},"./app/components/Teams/InviteToTeamDialog/index.tsx":(e,t,s)=>{"use strict";s.d(t,{YZ:()=>B});var o=s("./app/utils/teams.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/teams.ts"),i=s("./app/api/hooks/useTeams.ts");var r=s("./app/api/hooks/useSubscription.ts"),l=s("./app/components/Views/Storyboard/lib/assert.ts"),c=(s("./app/devoe/themeDark.ts"),s("./app/utils/hooks/useFeatures.ts")),d=s("./app/utils/hooks/useFlipbackState.ts"),p=s("./app/utils/trackEvent.ts"),u=s("./node_modules/react-aria-components/dist/import.mjs"),m=s("./node_modules/react-redux/es/index.js"),h=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=s("./app/actions/flash.ts"),f=s("./app/api/hooks/useCurrentTeamPlan.ts"),y=s("./app/hooks/useBulkInviteFromEmailsList.ts"),x=s("./app/hooks/useDisableAddingMoreCollaborators.ts"),v=s("./app/hooks/useTeamInviteEmails.ts"),b=s("./app/components/Prefabs/Loader/Loader.tsx"),w=s("./app/components/Prefabs/Text.tsx"),_=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),I=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js");const T={trigger:"AriaRoleSelector__trigger__wi1_1",popover:"AriaRoleSelector__popover__eGnEZ",item:"AriaRoleSelector__item__VUG9u"};var j=s("./node_modules/react/jsx-runtime.js");function k(e){let{role:t,onRoleChange:s}=e;return(0,j.jsxs)(u.Ph,{"aria-label":"Select role",selectedKey:t,onSelectionChange:s,children:[(0,j.jsxs)(u.zx,{className:T.trigger,children:[(0,j.jsx)(u.ki,{}),(0,j.jsx)(I.Z,{size:15})]}),(0,j.jsx)(u.J2,{className:T.popover,children:(0,j.jsxs)(u.wb,{children:[(0,j.jsx)(u.m9,{className:T.item,id:"viewer",children:"can view"}),(0,j.jsx)(u.m9,{className:T.item,id:"editor",children:"can edit"}),(0,j.jsx)(u.m9,{className:T.item,id:"admin",children:"admin"})]})})]})}var C=s("./app/components/Teams/InviteInput.tsx"),E=s("./app/utils/constants.ts");const S={container:"Description__container__77epc",link:"Description__link__DYsFv",icon:"Description__icon__xf_aD"};function A(){return(0,j.jsxs)("div",{className:S.container,children:["Securely share assets, prompts, and credits. You can invite people via email."," ",(0,j.jsxs)("a",{className:S.link,href:E.En,target:"_blank",rel:"noreferrer",children:["More details ",(0,j.jsx)(M,{})]})]})}function M(){return(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:S.icon,children:[(0,j.jsx)("path",{d:"M4.66699 4.66797H11.3337V11.3346",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,j.jsx)("path",{d:"M4.66699 11.3346L11.3337 4.66797",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})}var P=s("./node_modules/lucide-react/dist/esm/icons/x.js");const N={container:"Header__container__GgGmO",title:"Header__title__cSTMD",closeButton:"Header__closeButton__I7Esl"};function D(e){let{onClose:t}=e;return(0,j.jsxs)("div",{className:N.container,children:[(0,j.jsx)(u.X6,{slot:"title",className:N.title,children:"Invite members to your workspace"}),(0,j.jsx)(u.zx,{className:N.closeButton,onPress:t,children:(0,j.jsx)(P.Z,{size:16})})]})}var O=s("./app/api/billing.ts"),L=s("./node_modules/@sentry/core/esm/exports.js"),R=s("./node_modules/lucide-react/dist/esm/icons/check.js");const Z={container:"PaymentNotice__container__VfcIU",text:"PaymentNotice__text__iZ8NU",link:"PaymentNotice__link__W8VPx",checkbox:"PaymentNotice__checkbox__h6QCV",checkboxIndicator:"PaymentNotice__checkboxIndicator__FK71a"};function U(e){let t,{asTeamId:s,pricePerSeat:o,seatsAvailable:n,cycle:a,isSelected:i,subscription:r,onChange:l}=e;return t=0===n?`The workspace will be charged for each Editor/Admin for the the days remaining of this ${a}, and ${o} every ${a} after this.`:`You're inviting more than your ${n} available Editor or Admin seats. The workspace will be charged for each Editor/Admin for the the days remaining of this ${a}, and ${o} every ${a} after this.`,(0,j.jsxs)("div",{className:Z.container,children:[(0,j.jsxs)("div",{className:Z.text,children:[t," ","stripe"===r?.paymentProcessor?(0,j.jsx)(z,{asTeamId:s}):null]}),(0,j.jsxs)(u.XZ,{className:Z.checkbox,isSelected:i,onChange:l,children:[(0,j.jsx)("div",{"data-selected":i,className:Z.checkboxIndicator,children:i?(0,j.jsx)(R.Z,{size:16}):null}),(0,j.jsx)("span",{children:"I understand that I will be charged now by pressing the button below."})]})]})}function z(e){let{asTeamId:t}=e;const[s,o]=(0,n.useState)(null);return(0,n.useEffect)((()=>{!async function(){try{const{sessionURL:e}=await(0,O.B)({asTeamId:t,returnURL:window.location.href});o(e)}catch(e){(0,L.Tb)(e,{extra:{teamId:t,message:"Could not create stripe customer portal URL"}})}}()}),[t]),s?(0,j.jsx)("a",{href:s,className:Z.link,target:"_blank",rel:"noreferrer",children:"Review your plan in Stripe"}):null}const V={dialog:"index__dialog__OoOYV",content:"index__content__jx7Ns"};function B(e){let{teamId:t,onClose:s}=e;const{data:h=[]}=(0,i.lU)(t,{suspense:!0}),w=(0,r.m)(t),_=(0,c.h)(t),I=(0,f.yG)(t,{suspense:!0});(0,l.h)(I,"currentPlan is null");const[T,E]=(0,n.useState)(!1),[S,M]=(0,n.useState)(!1),[P,N]=(0,d.Z)(null,2e3),O=function(e){const t=(0,i.m4)(e);return(0,n.useCallback)((async s=>{const n=s.map((async t=>(0,a.Lq)(e,t.email,t.role))),i=await Promise.allSettled(n),{outcome:r,message:l,successful:c,failed:d}=(0,o.F3)(i,s);return t(Promise.all(n),{populateCache:!1,revalidate:!0,optimisticData(e){if(!e)return[];const t=e.slice();for(const e of c)t.push({pending:!0,role:e.role,user:{email:e.email}});return t}}),"failure"===r?{type:"failed",message:l}:"mix"===r?(await t(),{type:"mixed",message:l,successful:c,failed:d}):{type:"success",successful:c}}),[e,t])}(t),{emails:L,setEmails:R,verifyListAndAddEmails:Z}=(0,v.r)(),{bulkInviteRole:z,setBulkInviteRole:B,bulkInviteMembersList:H,validMembers:Y}=(0,y.E)({emails:L,initRole:"editor"}),X=(0,m.I0)(),q=h.map((e=>e.user.email)),J=(0,x.b)({numExistingMembers:h.length,numInvitedMembers:H.length});const K=_.data.used?.numEditorTeamMembers||0,Q=_.data.permitted.numEditorTeamMembers,ee=function(e,t,s){return e>t&&void 0!==s}((0,o.rI)(z)>=(0,o.rI)("editor")?L.length:0,Q-K,w);return(0,j.jsxs)(u.Vq,{className:V.dialog,children:[(0,j.jsx)(D,{onClose:s}),(0,j.jsx)("div",{className:V.content,children:J?(0,j.jsx)(G,{}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(A,{}),(0,j.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),Y.length<1)return;E(!0);const t=await O(Y);if("mixed"!==t.type&&"success"!==t.type||(0,p.L)({event:"General",name:"Invite Workspace Members",otherProperties:{section:"Settings",numSuccess:t.successful.length,numFailed:"mixed"===t.type?t.failed.length:0,outcome:t}}),X((0,g.showFlash)({message:"success"===t.type?"Invite(s) sent!":t.message,type:"success"===t.type?"SUCCESS":"WARNING"})),E(!1),"success"===t.type)return X((0,g.showFlash)({message:"Invite(s) sent!",type:"SUCCESS"})),void s();"failed"!==t.type?(X((0,g.showFlash)({message:t.message,type:"WARNING"})),R(t.failed.map((e=>e.email)))):X((0,g.showFlash)({message:t.message,type:"WARNING"}))},spellCheck:!1,children:[(0,j.jsx)(C.Z,{emails:L,RoleSelector:k,addEmails:e=>{Z({newEmailsList:e,existingMemberEmails:q,notifyOnDiscrepancy:N})},removeEmail:e=>{R((t=>[...t.filter((t=>t!==e))]))},role:z,onRoleChange:B,darkMode:!0}),(0,j.jsx)(W,{notification:P}),ee&&w?(0,j.jsx)(U,{asTeamId:t,subscription:w,cycle:w.plan.includes("-monthly")?"monthly":"yearly",seatsAvailable:Q-K,pricePerSeat:w.plan.includes("-monthly")?I.prices.monthly:12*I.prices.yearly,isSelected:S,onChange:M}):null,(0,j.jsx)($,{"data-testid":"invite-members-submit",disabled:T||Y.length<1||ee&&!S,children:"Invite members"})]}),T&&(0,j.jsx)(F,{children:(0,j.jsx)(b.Z,{height:24,width:24})})]})})]})}const G=()=>(0,j.jsx)(_.x,{children:(0,j.jsx)(w.Z,{whiteUI:!0,children:"Please contact support to add more members."})}),F=h.ZP.div.withConfig({displayName:"InviteToTeamDialog__StyledLoader",componentId:"sc-3ntzy1-0"})(["position:absolute;inset:0px;background-color:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;"]),$=h.ZP.button.withConfig({displayName:"InviteToTeamDialog__StyledSubmitButton",componentId:"sc-3ntzy1-1"})(["cursor:pointer;background-color:",";font-size:",";border:none;height:48px;width:100%;border-radius:8px;color:#fff;&:focus-visible:not(:disabled){outline:2px solid ",";outline-offset:2px;}&:hover:not(:disabled){background-color:",";}&:disabled{cursor:not-allowed;opacity:0.7;}"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.size.md),(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark)),W=e=>{let{notification:t,darkMode:s}=e;const o=(0,n.useMemo)((()=>"existing"===t?"One or more email(s) added are already a member of this workspace":""),[t]);return t&&o?(0,j.jsx)(H,{children:(0,j.jsx)(Y,{sm:!0,whiteUI:!0,$_css2:s?e=>e.theme.colors.danger:e=>e.theme.colors.dangerDark,children:o})}):null};(0,h.ZP)("a").withConfig({displayName:"InviteToTeamDialog___StyledA",componentId:"sc-3ntzy1-2"})(["text-decoration:underline;color:",";"],(e=>e.$_css));var H=(0,h.ZP)("div").withConfig({displayName:"InviteToTeamDialog___StyledDiv",componentId:"sc-3ntzy1-3"})(["margin:4px 0;width:100%;margin-bottom:16px;"]),Y=(0,h.ZP)(w.Z).withConfig({displayName:"InviteToTeamDialog___StyledText",componentId:"sc-3ntzy1-4"})(["line-height:",";display:block;text-align:center;color:",";"],(e=>e.theme.fonts.lineHeight.md),(e=>e.$_css2))},"./app/components/UI/Base.tsx":(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/styled-system/dist/index.esm.js");const a=o.ZP.div.withConfig({displayName:"Base__Box",componentId:"sc-1rhgz1n-0"})(["box-sizing:border-box;min-width:0;display:flex;"," "," "," gap:",";",""],n.Dh,n.GQ,n.E0,(e=>{let{gap:t}=e;return t||"0px"}),n.bK)},"./app/components/UI/RoundedPrimaryButton.tsx":(e,t,s)=>{"use strict";s.d(t,{K:()=>r,x:()=>l});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=o.forwardRef(((e,t)=>(0,i.jsx)(c,{...e,ref:t}))),l=o.forwardRef(((e,t)=>(0,i.jsx)(d,{...e,ref:t}))),c=(0,n.ZP)(a.KM).withConfig({displayName:"RoundedPrimaryButton__StyledButton",componentId:"sc-k2j4iw-0"})(["height:48px;padding:12px 24px;border-radius:24px;font-weight:600;min-width:150px;"]),d=(0,n.ZP)(a.kq).withConfig({displayName:"RoundedPrimaryButton__StyledSecondaryButton",componentId:"sc-k2j4iw-1"})(["height:48px;padding:12px 24px;border-radius:24px;font-weight:600;min-width:150px;"])},"./app/components/UpgradeDialog/BuyCreditsDisplay.tsx":(e,t,s)=>{"use strict";s.d(t,{Dz:()=>y,bn:()=>f});var o=s("./app/components/Prefabs/Block.tsx"),n=s("./app/components/Prefabs/Icon/Icon.tsx"),a=s("./app/components/Prefabs/Text.tsx"),i=s("./app/utils/trackEvent.ts"),r=s("./node_modules/react/index.js"),l=s("./app/components/BuyCredits/BuyCreditsContext.tsx"),c=s("./app/components/BuyCredits/Constants.ts"),d=s("./app/components/UI/Base.tsx"),p=s("./app/components/Views/MagicTools/hooks/useCreditCalculations.ts"),u=s("./app/components/UpgradeDialog/UiContext.ts"),m=s("./app/components/UpgradeDialog/components/PlanDisplayComponents.tsx"),h=s("./app/components/UpgradeDialog/components/Text.tsx"),g=s("./node_modules/react/jsx-runtime.js");const f=e=>{let{pending:t,uiContext:s,teamId:f,costCalculationFeatureName:y="image_generations",onClose:v,onDoneBuyingCredits:b}=e;const w=(0,l.$)(),_=(0,r.useCallback)((async()=>{(0,i.L)({event:"Click",name:"Buy Credits Selected",section:"Upgrade Dialog",otherProperties:{uiContext:s}}),w({uiContext:u.K.GetMoreCredits,originalUiContext:s,onDone:e=>{b(e),v()},teamId:f,costCalculationFeatureName:y})}),[s,w,b,f,v,y]),I=c.tN*c.TO,{generationCost:T,unit:j}=(0,p.sG)({teamId:f,costCalculationFeatureName:y}),k=x({costCalculationFeatureName:y,generationCost:T,unit:j});return(0,g.jsxs)(m.wc,{"data-active":!1,children:[(0,g.jsx)(a.Z,{noWrap:!0,whiteUI:!0,children:"Buy credits"}),(0,g.jsxs)(m.NX,{children:[(0,g.jsxs)(h.hC,{children:["$",I]}),(0,g.jsxs)(d.x,{flexDirection:"column",children:[(0,g.jsx)(h.L0,{children:"one-time purchase"}),(0,g.jsx)(h.L0,{children:"billed today"})]})]}),(0,g.jsxs)(m.dN,{children:[(0,g.jsx)(o.X2,{gutter:8,alignTop:!0,children:(0,g.jsxs)(h.HB,{children:[c.tN," credits"]})}),(0,g.jsx)(m.iz,{}),(0,g.jsxs)(o.X2,{gutter:8,alignTop:!0,children:[(0,g.jsx)(n.Z,{icon:"pricing/ellipse"}),(0,g.jsx)(a.Z,{whiteUI:!0,children:k})]}),(0,g.jsxs)(o.X2,{gutter:8,alignTop:!0,children:[(0,g.jsx)(n.Z,{icon:"pricing/ellipse"}),(0,g.jsx)(a.Z,{whiteUI:!0,children:"Buy more credits if needed"})]}),(0,g.jsxs)(o.X2,{gutter:8,alignTop:!0,children:[(0,g.jsx)(n.Z,{icon:"pricing/ellipse"}),(0,g.jsx)(a.Z,{whiteUI:!0,children:"Credits rollover if unused"})]})]}),(0,g.jsx)(o.ZP,{style:{marginTop:"auto"},children:(0,g.jsx)(m.I$,{style:{width:"100%"},"aria-label":"get-credits-button",disabled:t,onClick:_,"data-state":"upgrade",children:"Get more credits"})})]})},y=e=>{let{costCalculationFeatureName:t,unit:s,generationCost:o,numCredits:n=c.tN}=e;return o?`${n.toLocaleString()} credits = ${x({costCalculationFeatureName:t,unit:s,generationCost:o,numCredits:n})}`:""},x=e=>{let{costCalculationFeatureName:t,unit:s,generationCost:o,numCredits:n=c.tN}=e;if(!o)return"";const a=Math.floor(n/o).toLocaleString();switch(t){case"gen1":case"gen2":return`${a} ${s}s of generated video`;default:return`${a} image generations`}}},"./app/components/UpgradeDialog/ErrorContent.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Button.tsx"),a=s("./node_modules/react/jsx-runtime.js");const i=e=>{let{onClose:t}=e;return(0,a.jsxs)(r,{children:[(0,a.jsx)(l,{children:"An unknown error has occurred. Our team has been notified. Please refresh the page."}),(0,a.jsx)(n.Z,{message:"Close",style:{width:"100%"},onClick:t})]})},r=o.ZP.div.withConfig({displayName:"ErrorContent__Container",componentId:"sc-didxmj-0"})(["max-width:320px;padding:64px;display:flex;flex-direction:column;align-items:center;gap:16px;background-color:white;border-radius:8px;"]),l=o.ZP.span.withConfig({displayName:"ErrorContent__Text",componentId:"sc-didxmj-1"})(["font-size:16px;line-height:24px;color:#000;text-align:center;"])},"./app/components/UpgradeDialog/LoadingContent.tsx":(e,t,s)=>{"use strict";s.d(t,{v:()=>i});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Loader/Loader.tsx"),a=s("./node_modules/react/jsx-runtime.js");const i=()=>(0,a.jsx)(r,{children:(0,a.jsx)(n.Z,{color:"#000"})}),r=o.ZP.div.withConfig({displayName:"LoadingContent__LoadingContainer",componentId:"sc-nj57us-0"})(["padding:156px;"])},"./app/components/UpgradeDialog/UiContext.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>o,p:()=>n});let o=function(e){return e.UpgradeToGenerate="button: upgrade to generate",e.UpgradeToGetCredits="link: upgrade to get credits",e.UpgradeToGetUnlimitedCredits="link: upgrade to get credits with unlimited plan",e.UpgradeToSkipTaskQueue="link: upgrade to skip the task queue",e.UpgradeToGenerateLongerGen1Outputs="link: upgrade to generate longer gen1 outputs",e.GetCreditsFromWorkspaceSettings="button: get credits",e.GetCreditsInMagicTools="button: get more credits",e.GetCreditsFromMagicToolsCreditsModePopover="button: get more credits from credits mode popover",e.GetMoreCredits="button: get more credits from upgrade dialog",e.None="none",e.UrlParam="url param",e.AiTrainingStep0="ai training: step 0",e.AiTrainingStep1="ai training: step 1",e.AiTrainingStep3="ai training: step 3",e.PaidFeature="paid feature",e.GenZTailoredUpsellDialog="gen-z-credit-upsell-modal",e.NerfTraining="nerf training",e.NerfExport="nerf export",e.NerfDuration="nerf duration",e.FreeUnavailable="free unavailable",e.UpscaleVideoNotEnoughCredits="upscale video not enough credits to generate",e.AddMoreTeamMembersDialog="add more team members dialog",e.VoiceClone="upgrade to access voice cloning",e.VoiceCloneNotEnoughCredits="voice clone not enough credits to generate",e}({});const n=e=>{let{featureName:t,magicToolId:s}=e;return`${o.PaidFeature}: ${s} - ${t}`}},"./app/components/UpgradeDialog/UpgradeDialogContext.tsx":(e,t,s)=>{"use strict";s.d(t,{KV:()=>Pe.K,nC:()=>nt,rz:()=>at});var o=s("./app/components/ErrorBoundary.tsx"),n=s("./app/utils/trackEvent.ts"),a=s("./node_modules/react/index.js"),i=s("./app/components/UpgradeDialog/ErrorContent.tsx"),r=s("./app/components/UpgradeDialog/LoadingContent.tsx"),l=s("./app/api/hooks/useCurrentTeamPlan.ts"),c=s("./app/api/hooks/useSubscription.ts"),d=s("./app/api/hooks/useTeams.ts"),p=s("./app/api/hooks/user.ts"),u=s("./app/utils/hooks/useSelector.ts"),m=s("./app/utils/isTeamsRoute.ts"),h=s("./node_modules/react-router/esm/react-router.js");var g=s("./app/utils/teams.ts"),f=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),y=s("./app/components/BuyCredits/BuyCreditsContext.tsx"),x=s("./app/components/Prefabs/Text.tsx"),v=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),b=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),w=s("./app/actions/flash.ts"),_=s("./app/api/hooks/useBillingProducts.ts"),I=s("./app/api/hooks/useStripeRedirect.ts"),T=s("./app/components/Prefabs/Button.tsx"),j=s("./app/components/Prefabs/Icon/Icon.tsx"),k=s("./app/devoe/themeDark.ts"),C=s("./app/utils/hooks/useMediaQuery.ts"),E=s("./node_modules/@sentry/core/esm/exports.js"),S=s("./node_modules/react-redux/es/index.js"),A=s("./app/components/Prefabs/Block.tsx"),M=s("./app/components/Prefabs/DisableKeyboardEvents.tsx"),P=s("./app/components/Prefabs/Modal.tsx"),N=s("./app/components/Views/MagicTools/MagicTool/NerfMagicTool/constants.ts"),D=s("./app/components/Views/MagicTools/MagicTool/NerfMagicTool/metadata.ts"),O=s("./node_modules/react/jsx-runtime.js");const L=e=>{let{onHide:t,teamId:s}=e;const[o,n]=(0,a.useState)("yearly"),i=(0,a.useMemo)((()=>"yearly"===o?"Select Standard Yearly":"Select Standard Monthly"),[o]),r=Pe.K.NerfExport,l=at(),c=()=>{l({uiContext:r,buyCredits:!0})},d=(0,a.useContext)(f.Ni),{data:p}=(0,_.z)({teamPlans:!0},{suspense:!0}),u=p.products.filter((e=>"Standard"===e.name))[0],m=(0,I.w)(s,{suspense:!0},r),h=(0,S.I0)(),g=(0,C.dD)(),y=(0,a.useCallback)((async e=>{try{await m("yearly"===o?e.billingPlans.yearly:e.billingPlans.monthly)}catch(e){(0,E.Tb)(e),console.error(e),h((0,w.showFlash)({message:"Something went wrong. Please try again or contact support.",type:"WARNING"}))}}),[o,h,m]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(M.Z,{permittedKeys:["Escape"]}),(0,O.jsx)(Z,{onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),size:12,span:12,alignCenter:!0,"aria-label":"Shortcut Modal",children:g?(0,O.jsxs)(X,{minWidth:320,maxWidth:320,minHeight:660,maxHeight:660,gutter:0,blackBackground:!0,children:[(0,O.jsx)(q,{children:(0,O.jsx)(B,{icon:"general/close",color:d.colors.white,size:12,onClick:t,isMobile:g,containerStyle:{position:"relative"}})}),(0,O.jsxs)(A.JX,{children:[(0,O.jsx)(R,{maxWidth:320,minWidth:320,minHeight:183,maxHeight:183}),(0,O.jsx)(A.X2,{pad:[16,0],children:(0,O.jsx)(U,{value:o,onChange:n,isMobile:g})}),(0,O.jsx)(A.X2,{maxWidth:368,alignCenterVertical:!0,style:{margin:"0 24px"},children:(0,O.jsx)(G,{isMobile:g})}),(0,O.jsx)(A.X2,{maxWidth:320,alignCenterVertical:!0,pad:0,style:{margin:"0 24px"},children:(0,O.jsx)(F,{isMobile:g})}),(0,O.jsx)(A.X2,{maxWidth:320,children:(0,O.jsx)($,{isMobile:g,billingCycle:o})}),(0,O.jsx)(A.X2,{pad:[0,24],minWidth:272,style:{marginTop:-8},children:(0,O.jsx)(W,{message:i,isMobile:g,onClick:()=>y(u)})}),(0,O.jsx)(A.X2,{minHeight:56,children:(0,O.jsx)(H,{isMobile:g,onClick:c})})]})]}):(0,O.jsx)(P.Z,{minWidth:736,maxWidth:736,minHeight:482,maxHeight:482,gutter:0,blackBackground:!0,children:(0,O.jsxs)(A.X2,{children:[(0,O.jsx)(R,{minHeight:482,maxHeight:482,maxWidth:368,minWidth:368}),(0,O.jsxs)(A.JX,{minWidth:368,maxWidth:368,minHeight:482,children:[(0,O.jsx)(B,{icon:"general/close",color:d.colors.white,size:12,onClick:t,isMobile:g}),(0,O.jsx)(Y,{maxHeight:24,minHeight:24}),(0,O.jsx)(A.X2,{style:{marginBottom:0},children:(0,O.jsx)(U,{value:o,onChange:n,isMobile:g})}),(0,O.jsx)(A.X2,{maxWidth:368,alignCenterVertical:!0,style:{margin:"0 32px"},children:(0,O.jsx)(G,{isMobile:g})}),(0,O.jsx)(A.X2,{maxWidth:368,alignCenterVertical:!0,style:{margin:"0 32px"},children:(0,O.jsx)(F,{isMobile:g})}),(0,O.jsx)(A.X2,{maxWidth:336,style:{marginBottom:2},children:(0,O.jsx)($,{isMobile:g,billingCycle:o})}),(0,O.jsx)(A.X2,{pad:[0,22],minWidth:308,children:(0,O.jsx)(W,{message:i,isMobile:g,onClick:()=>y(u)})}),(0,O.jsx)(A.X2,{minHeight:56,children:(0,O.jsx)(H,{isMobile:g,onClick:c})})]})]})})})]})},R=(0,f.ZP)(A.X2).withConfig({displayName:"NerfExportUpgradeModal__Image",componentId:"sc-12plrii-0"})(["margin-right:0;background-image:url(",");:not(:last-child){margin-right:0;}background-size:cover;background-position:center;"],D.Z.pricing.backgroundImage),Z=(0,f.ZP)(A.JX).withConfig({displayName:"NerfExportUpgradeModal__WrapperInner",componentId:"sc-12plrii-1"})(["pointer-events:none;@media only screen and (max-width:1024px){width:100vw;height:100vh;background-color:",";::-webkit-scrollbar-thumb{border-radius:0;}}"],(e=>e.theme.colors.black)),U=e=>{let{value:t,onChange:s,isMobile:o}=e;const n=(0,a.useCallback)((()=>{s("monthly"===t?"yearly":"monthly")}),[s,t]);return(0,O.jsxs)(z,{isMobile:o,children:[(0,O.jsx)(V,{"data-active":"monthly"===t,onClick:n,children:"Monthly"}),(0,O.jsx)(V,{"data-active":"yearly"===t,onClick:n,children:"Yearly-20% off"})]})},z=f.ZP.div.withConfig({displayName:"NerfExportUpgradeModal__FrequencySwitchContainer",componentId:"sc-12plrii-2"})(["background-color:",";box-sizing:border-box;min-height:24px;width:204px;display:flex;border-radius:40px;padding:2px;margin-left:",";"],(e=>e.theme.colors.grayscale.gray10),(e=>e.isMobile?"24px":"32px")),V=f.ZP.button.withConfig({displayName:"NerfExportUpgradeModal__FrequencySwitchButton",componentId:"sc-12plrii-3"})(["border:none;cursor:pointer;background-color:transparent;font-size:",";line-height:",";color:",";border-radius:40px;width:100%;text-align:center;transition:background-color 0.2s ease-in-out;&[data-active='true']{background-color:",";color:",";}&:focus-visible{outline:2px solid ",";}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.theme.colors.textInactive),(e=>e.theme.colors.uiInactive),(e=>e.theme.colors.textPrimary),(e=>e.theme.colors.primary)),B=(0,f.ZP)(j.Z).withConfig({displayName:"NerfExportUpgradeModal__StyledCloseIcon",componentId:"sc-12plrii-4"})(["position:",";top:",";",";margin:0;z-index:1000;"],(e=>e.isMobile?"absolute":"relative"),(e=>e.isMobile?"20px":"24px"),(e=>e.isMobile?"right: 20px;":"left: 146px")),G=e=>{let{isMobile:t}=e;return(0,O.jsx)(x.Z,{primary:!0,style:{fontStyle:"normal",fontWeight:500,fontSize:11,marginTop:t?0:24,marginBottom:t?8:0,color:"#A9B8FF"},children:"Special launch offering!"})},F=e=>{let{isMobile:t}=e;return(0,O.jsx)(x.Z,{primary:!0,whiteUI:!0,lineHeight:35.2,style:{fontStyle:"normal",fontWeight:500,fontSize:32,marginTop:t?0:16},children:"Capture once, reshoot whenever"})},$=e=>{let{isMobile:t,billingCycle:s}=e;const o=(0,a.useContext)(f.Ni),{data:n}=(0,_.z)({teamPlans:!0},{suspense:!0}),i=n.products.find((e=>"Standard"===e.name)),r=i?.prices?.yearly||0,l="yearly"===s?`$${r} per editor/month. Billed yearly as $${12*r}.`:`$${i?.prices?.monthly||0} per editor/month. Billed monthly.`;return(0,O.jsxs)(A.JX,{pad:t?16:[14,32],children:[(0,O.jsx)(A.X2,{pad:[2,0],children:(0,O.jsx)(x.Z,{lineHeight:16,style:{fontSize:12,fontWeight:400,color:o.colors.white,marginBottom:6,marginTop:t?-2:0},children:"With a Standard Plan, you can:"})}),N.UO.map(((e,t)=>(0,O.jsxs)(A.X2,{pad:[2,0],children:[(0,O.jsx)(j.Z,{icon:"recipes/gen1/modal-check",size:12,color:"white",background:!0}),(0,O.jsx)(x.Z,{lineHeight:16,style:{fontSize:12,fontWeight:400,color:o.colors.textSecondary},children:e})]},`upsell-text-${t}`))),(0,O.jsx)(A.X2,{pad:[2,0],children:(0,O.jsx)(x.Z,{lineHeight:16,style:{fontSize:12,fontWeight:400,color:o.colors.white,marginTop:12},children:l})})]})},W=e=>{let{message:t,isMobile:s,onClick:o}=e;return(0,O.jsx)(J,{textFontWeight:500,message:t,icon:"rocket",onClick:o,$_css:k.Z.colors.primary,$_css2:s?"272px":"308px"})},H=e=>{let{isMobile:t,onClick:s}=e;const o=(0,a.useContext)(f.Ni);return(0,O.jsx)(K,{onClick:s,noBackground:!0,textFontWeight:500,message:"View all plans & features",$_css3:!t&&"left: -8px;",$_css4:o.colors.primaryLight})};var Y=(0,f.ZP)(A.X2).withConfig({displayName:"NerfExportUpgradeModal___StyledRow",componentId:"sc-12plrii-5"})(["margin-bottom:0;"]),X=(0,f.ZP)(P.Z).withConfig({displayName:"NerfExportUpgradeModal___StyledModal",componentId:"sc-12plrii-6"})(["overflow:hidden;border-radius:0;"]),q=(0,f.ZP)("div").withConfig({displayName:"NerfExportUpgradeModal___StyledDiv",componentId:"sc-12plrii-7"})(["height:0;"]),J=(0,f.ZP)(T.z).withConfig({displayName:"NerfExportUpgradeModal___StyledButton",componentId:"sc-12plrii-8"})(["background:#",";height:48px;margin-top:12px;max-width:",";& svg{height:16px;width:16px;}"],(e=>e.$_css),(e=>e.$_css2)),K=(0,f.ZP)(T.z).withConfig({displayName:"NerfExportUpgradeModal___StyledButton2",componentId:"sc-12plrii-9"})([""," margin:0 auto;top:-12px;& span{color:",";}"],(e=>e.$_css3),(e=>e.$_css4)),Q=s("./app/components/Views/VideoTools/VideoEditor/Modals/GenZUpsellModal/GenZUpsellModal.tsx"),ee=s("./app/api/hooks/useProfile.ts"),te=s("./app/api/teams.ts"),se=s("./app/devoe/assets/img/request-upgrade-dialog/images.png"),oe=s("./app/utils/hooks/useHasAvailableVideoProjects.ts"),ne=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js");const ae=e=>{let{teamId:t}=e;const[s,o]=(0,a.useState)(!1),{data:n}=(0,ee.NF)({asTeamId:t},{suspense:!0}),i=(0,oe.A)(t,{suspense:!0}),r=(0,S.I0)(),l=(0,a.useCallback)((async()=>{if(!0!==s)try{await(0,te.sz)(t),r((0,w.showFlash)({type:"SUCCESS",message:"Sent request to upgrade team"})),o(!0)}catch{r((0,w.showFlash)({type:"WARNING",message:"Something went wrong. Please try again."})),o(!1)}}),[s,t,r]);let c=`You've reached the max number of projects available on your plan. Contact your admin at ${n?.email}.`;return i&&(c=`You need to be an administrator of this workspace to switch plans. Contact your admin at ${n?.email}.`),(0,O.jsx)(ie,{children:(0,O.jsxs)(A.JX,{gutter:24,children:[(0,O.jsxs)(A.JX,{gutter:4,children:[(0,O.jsxs)(A.X2,{alignCenterVertical:!0,spaceBetween:!0,children:[(0,O.jsx)(x.Z,{md:!0,color:"black",children:"Upgrade your plan"}),(0,O.jsx)(re,{"aria-label":"close dialog",children:(0,O.jsx)(j.Z,{icon:"general/close",size:10,color:"#000",style:{cursor:"inherit"}})})]}),(0,O.jsx)(de,{md:!0,children:c})]}),(0,O.jsx)(le,{children:(0,O.jsx)(ce,{src:se.Z})}),(0,O.jsx)(T.Z,{onClick:l,textFontWeight:400,hoverable:!0,message:s?"Request sent ✓":"Request Upgrade to Workspace owner"})]})})},ie=f.ZP.div.withConfig({displayName:"RequestUpgradeContent__Container",componentId:"sc-d96d6c-0"})(["box-sizing:border-box;width:100%;max-width:343px;max-height:90vh;overflow-y:auto;padding:16px;background-color:white;border-radius:8px;"]),re=(0,f.ZP)(ne.x8).withConfig({displayName:"RequestUpgradeContent__CloseButton",componentId:"sc-d96d6c-1"})(["cursor:pointer;background-color:transparent;border:none;"]),le=f.ZP.div.withConfig({displayName:"RequestUpgradeContent__ImageContainer",componentId:"sc-d96d6c-2"})(["width:100%;height:130px;position:relative;"]),ce=f.ZP.img.withConfig({displayName:"RequestUpgradeContent__Image",componentId:"sc-d96d6c-3"})(["position:absolute;top:0;left:-16px;right:-16px;height:130px;width:calc(100% + 32px);"]);var de=(0,f.ZP)(x.Z).withConfig({displayName:"RequestUpgradeContent___StyledText",componentId:"sc-d96d6c-4"})(["color:",";padding-top:16px;"],(e=>e.theme.colors.grayscale.gray90)),pe=s("./app/utils/hooks/useSetDocumentHeight.ts"),ue=s("./app/utils/hooks/useUserProperties.ts"),me=s("./app/components/BuyCredits/BuyCreditsContent.tsx"),he=s("./app/components/PageHeader/useShouldShowInitialPlanDialog.ts"),ge=s("./app/components/UpgradeDialog/BuyCreditsDisplay.tsx"),fe=s("./app/devoe/assets/icons/@component-icons/recipes/arrow-left.svg"),ye=s("./app/devoe/assets/icons/@component-icons/recipes/close.svg"),xe=s("./node_modules/lodash/lodash.js"),ve=s("./app/components/UserSurveys/SurveyComponents.tsx"),be=s("./app/components/UserSurveys/SurveyOptionButton.tsx");const we=[...(0,xe.shuffle)([{id:"no-longer-need",text:"No longer need it"},{id:"not-satisfied",text:"Not satisfied with the quality of the results"},{id:"more-features",text:"Need more features"},{id:"bug-and-performance",text:"Bug and performance issues"},{id:"customer-service",text:"Customer service was lacking"},{id:"not-easy-to-use",text:"Not as easy to use as expected"},{id:"temporary-pause",text:"Pause for a moment (will need it later)"}]),{id:"other",text:"Other"}],_e=e=>{let{onBack:t,onClose:s,onContinue:o,uiContext:i}=e;const[r,l]=a.useState(null),c=e=>{r&&((0,n.L)({event:"Select",name:"Cancel Subscription Reason",section:"Payment",otherProperties:{uiContext:i,reasonId:r.id,reasonText:r.text,suggestionBoxInput:u,buttonText:e}}),o())},[d,p]=a.useState(0),[u,m]=a.useState("");return(0,O.jsxs)(ve.W2,{children:[(0,O.jsx)(ve.xE,{onClick:()=>{(0,n.L)({event:"Click",name:"Cancel Subscription Back",section:"Payment",otherProperties:{uiContext:i}}),0===d?t():p(0)},children:(0,O.jsx)(fe.Z,{width:"24px",height:"24px"})}),(0,O.jsx)(ve.PZ,{onClick:()=>{(0,n.L)({event:"Click",name:"Cancel Subscription Close",section:"Payment",otherProperties:{uiContext:i}}),s()},children:(0,O.jsx)(ye.Z,{width:"24px",height:"24px"})}),0===d&&(0,O.jsxs)(ve.W_,{children:[(0,O.jsx)(ve.Ih,{children:"Why are you switching your plan?"}),(0,O.jsx)(ve.YD,{children:we.map((e=>(0,O.jsx)(be.ZP,{onClick:()=>(e=>{l(e),p(1)})(e),children:e.text},e.id)))})]}),1===d&&(0,O.jsxs)(ve.W_,{children:[(0,O.jsx)(ve.Ih,{children:"Is there anything we can improve?"}),(0,O.jsx)(ve.YD,{children:(0,O.jsx)(Ie,{maxLength:255,value:u,onChange:e=>{const t=e.target.value.substring(0,255);m(t)}})}),(0,O.jsx)(Te,{children:(0,O.jsxs)(je,{onClick:()=>{0===u.length?c("Skip"):c("Submit And Continue")},children:[0===u.length&&"Skip",u.length>0&&"Submit And Continue"]})})]})]})},Ie=f.ZP.textarea.withConfig({displayName:"CancellationSurveyContent__StyledTextArea",componentId:"sc-1kneesy-0"})(["background:",";transition:background-color 300ms ease-in-out;color:",";line-height:1.2;border:1px solid white;border-radius:8px;outline:none;padding:8px;display:flex;width:100%;box-sizing:border-box;height:128px;font-size:",";"],(e=>e.theme.colors.black),(e=>e.theme.colors.white),(e=>e.theme.fonts.size.sm)),Te=f.ZP.div.withConfig({displayName:"CancellationSurveyContent__SubmitContainer",componentId:"sc-1kneesy-1"})(["display:flex;flex-direction:row;width:80%;gap:8px;justify-content:center;@media screen and (max-width:420px){flex-direction:column;width:100%;}"]),je=(0,f.ZP)(be.Sn).withConfig({displayName:"CancellationSurveyContent__SubmitButton",componentId:"sc-1kneesy-2"})(["flex-basis:50%;"]);var ke=s("./app/components/Prefabs/ShortcutTooltip.tsx"),Ce=s("./app/components/UI/Base.tsx"),Ee=s("./app/components/UpgradeDialog/components/PlanDisplayComponents.tsx"),Se=s("./app/components/UpgradeDialog/components/Text.tsx");const Ae=e=>{let{state:t,product:s,billingCycle:o,pending:i,isInitialChoice:r,onClose:l,onDowngrade:c,doStripeRedirect:d,isPopularPlan:p,teamId:u}=e;const[m,h]=(0,ue.Z)(he.a,!1,{suspense:!0},{asTeamId:u}),g=(0,a.useCallback)((async()=>{if((0,n.L)({event:"Click",name:"Plan Selected",otherProperties:{selectedPlan:s.name,isInitialChoice:r,state:t}}),"initial_choice"===t)return h(!0,{asTeamId:u}),void l();"downgrade"!==t?d():c()}),[s.name,r,t,d,h,u,l,c]),f="yearly"===o?s.prices.yearly:s.prices.monthly,y="yearly"===o?"billed yearly as $"+12*s.prices.yearly:"billed monthly",v=s.plainTextTeamFeatures;return(0,O.jsxs)(Ee.wc,{"data-active":"next"===t,children:[p&&(0,O.jsx)(Me,{children:"Most popular"}),(0,O.jsx)(x.Z,{noWrap:!0,whiteUI:!0,children:s.name}),(0,O.jsxs)(Ee.NX,{children:[(0,O.jsxs)(Se.hC,{children:["$",f]}),(0,O.jsxs)(Ce.x,{flexDirection:"column",children:[(0,O.jsx)(Se.L0,{children:"per editor/month"}),(0,O.jsx)(Se.L0,{children:y})]})]}),(0,O.jsx)(Ee.dN,{children:v.map(((e,t)=>"divider"===e?(0,O.jsx)(Ee.iz,{},t):0===t?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(A.X2,{children:[e.fragments.map((e=>(0,O.jsx)(Se.HB,{children:e.value},e.value))),e.hint&&(0,O.jsx)(ke.ZP,{message:e.hint,delayDuration:300,maxWidth:"250px",side:"bottom",children:(0,O.jsx)(j.Z,{icon:"pricing/information",size:10})})]}),(0,O.jsx)(Ee.iz,{},t)]}):(0,O.jsxs)(A.X2,{gutter:2,alignTop:!0,children:["intro"!==e.category&&(0,O.jsx)(j.Z,{icon:"magic"===e.category?"sidebar_menu/ai":"pricing/ellipse"}),(0,O.jsxs)(A.X2,{spaceBetween:!0,grow:!0,children:[(0,O.jsx)(x.Z,{whiteUI:!0,children:e.fragments.map((e=>(0,O.jsx)(x.Z,{whiteUI:!0,bold:e.strong,inactive:e.secondary,children:e.value},e.value)))}),e.hint&&(0,O.jsx)(ke.ZP,{message:e.hint,delayDuration:300,maxWidth:"250px",side:"bottom",children:(0,O.jsx)(j.Z,{icon:"pricing/information",size:10})})]})]},t)))}),(0,O.jsx)(A.ZP,{style:{marginTop:"auto"},children:(0,O.jsxs)(Ee.I$,{style:{width:"100%"},"data-state":t,"data-testid":`plan-${t}-cta`,disabled:"current"===t||i,onClick:g,children:["current"===t&&"Current Plan",("upgrade"===t||"next"===t)&&`Upgrade to ${s.name} ${"yearly"===o?"Yearly":"Plan"}`,"downgrade"===t&&`Change to ${s.name}`,"downgrade"===t&&"Free"===s.name&&" (Cancel plan)","initial_choice"===t&&"Try For Free"]})})]})},Me=f.ZP.div.withConfig({displayName:"PlanDisplay__PopularPlanTag",componentId:"sc-98vtje-0"})(["position:absolute;width:","px;top:-9px;left:calc(50% - ","px);bottom:auto;display:inline-block;padding:4px ","px;border-radius:8px;background-color:",";color:",";font-size:10px;"],64,40,8,(e=>e.theme.colors.primary),(e=>e.theme.colors.white));var Pe=s("./app/components/UpgradeDialog/UiContext.ts");const Ne=e=>{let{currentPlan:t}=e;return(0,l.Q6)(t)?(0,O.jsx)(De,{children:"✨ Try Gen-2 today with special introductory pricing + 400 bonus credits when you upgrade"}):null},De=f.ZP.div.withConfig({displayName:"UpgradeToGetFreeTrainingBanner__GetFreeTrainingBanner",componentId:"sc-1fq7de8-0"})(["background:linear-gradient( 89.53deg,rgba(78,105,222,0.5) 62.5%,rgba(151,71,255,0.5) 100% ),#8a2eff;border-radius:6px 6px 0px 0px;width:100%;padding:12px;box-sizing:border-box;text-align:center;font-size:12px;@media only screen and (max-width:768px){border-radius:0;}"]);var Oe=s("./app/components/Prefabs/TextLink.tsx"),Le=s("./app/utils/constants.ts");const Re=()=>(0,O.jsxs)(Ue,{center:!0,whiteUI:!0,children:["Don't see what you need?"," ",(0,O.jsx)(Ze,{xs:!0,to:Le.wm,openInNewTab:!0,children:"View FAQs"})," ","or"," ",(0,O.jsx)(Ze,{xs:!0,to:Le.vx,openInNewTab:!0,children:"Contact us."})]}),Ze=(0,f.ZP)(Oe.Z).withConfig({displayName:"FooterText__PrimaryPurpleLink",componentId:"sc-j5rwim-0"})(["color:",";&:hover{color:",";}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark));var Ue=(0,f.ZP)(x.Z).withConfig({displayName:"FooterText___StyledText",componentId:"sc-j5rwim-1"})(["color:",";"],(e=>e.theme.colors.grayscale.gray90));(0,f.ZP)(x.Z).withConfig({displayName:"FooterText___StyledText2",componentId:"sc-j5rwim-2"})(["color:",";"],(e=>e.theme.colors.grayscale.gray90));function ze(e){let{buyCredits:t,currentPlan:s}=e;return!!t&&!(!s||(0,l.Vz)(s))}const Ve=e=>{let{teamId:t,isInitialChoice:s=!1,buyCredits:o=!1,onClose:n,uiContext:i,onDoneBuyingCredits:r,costCalculationFeatureName:p}=e;const{data:u}=(0,_.z)({teamPlans:!0},{suspense:!0}),m=u,h=(0,l.yG)(t,{suspense:!0}),g=(0,l.K$)(t,{suspense:!0}),[f,y]=(0,a.useState)("yearly"),[x,v]=(0,a.useState)(!1),[b,T]=(0,a.useState)(!1),[k,C]=(0,ue.Z)(he.a,!1,{suspense:!0},{asTeamId:t}),A=(0,c.m)(t),M=(0,a.useCallback)((e=>{if("free"===e.name.toLowerCase()&&s)return"initial_choice";if(e.name===h?.name){if(A){const e=A.plan.split("-")[1];if("monthly"===e&&"yearly"===f)return"upgrade";if("yearly"===e&&"monthly"===f)return"downgrade"}return"current"}if(e.name===g?.name)return"next";if(!e.billingPlans.monthly)return"downgrade";const t=m?.products.findIndex((e=>e.name===h?.name)),o=m?.products.findIndex((t=>t.name===e.name));return-1===t||-1===o?"upgrade":t>o?"downgrade":"upgrade"}),[f,m?.products,h?.name,s,g?.name,A]),P=(0,I.w)(t,{suspense:!0},i),N=(0,S.I0)(),D=(0,d.I7)(),L=(0,a.useCallback)((async e=>{v(!0);try{await P("yearly"===f?e.billingPlans.yearly:e.billingPlans.monthly)}catch(e){(0,E.Tb)(e),console.error(e),N((0,w.showFlash)({message:"Something went wrong. Please try again or contact support.",type:"WARNING"}))}finally{v(!1)}}),[f,N,P]);if(o&&(!(0,l.Q6)(h)||"manual"===A?.paymentProcessor||"apple"===A?.paymentProcessor))return(0,O.jsx)(me.w,{uiContext:Pe.K.UpgradeToGetCredits,onClose:n,onDone:e=>{r?.(e),n()},costCalculationFeatureName:p,teamId:t});if(b)return(0,O.jsx)(_e,{onBack:()=>T(!1),onClose:n,onContinue:()=>L(m.freeProduct),uiContext:i});if(s)return(0,O.jsx)(Q.Z,{teamId:t,onHide:()=>{C(!0,{asTeamId:t}),n()},uiContextSuffix:"initialPlanDialog",costCalculationFeatureName:"gen2"});const R=[m.freeProduct,...m.products],Z=m.products[0],U=i===Pe.K.AiTrainingStep0||i===Pe.K.AiTrainingStep1?"Upgrade workspace to train":"Upgrade workspace to get more credits";return(0,O.jsxs)(Ye,{children:[(0,O.jsx)(Ne,{teamId:t,currentPlan:h}),(0,O.jsxs)(Be,{numPlans:o?2:R.length,children:[(0,O.jsx)(Xe,{xxl:!0,center:!0,whiteUI:!0,bold:!0,children:o?U:`Choose a plan for ${D?D.teamName:"your"} workspace`}),!s&&(0,O.jsx)(Ge,{"aria-label":"close dialog",children:(0,O.jsx)(j.Z,{icon:"general/close",size:10,color:"#000",style:{cursor:"inherit"}})}),(0,O.jsx)($e,{value:f,onChange:y}),(0,O.jsxs)(Fe,{children:[R.filter((e=>function(e,t){let{buyCredits:s,currentPlan:o,nextPlan:n}=t;return!(e.hidden||s&&((0,l.Vz)(e)||o&&!(0,l.Vz)(o)&&(!n||n.name!==e.name)))}(e,{buyCredits:o,currentPlan:h,nextPlan:g}))).map((e=>(0,O.jsx)(Ae,{billingCycle:f,product:e,teamId:t,state:M(e),pending:x,setPending:v,isInitialChoice:s,onClose:n,uiContext:i,onDowngrade:()=>T(!0),doStripeRedirect:()=>L(e),isPopularPlan:e.name===Z.name&&(0,l.Q6)(h)},e.name))),ze({buyCredits:o,currentPlan:h})&&(0,O.jsx)(ge.bn,{teamId:t,pending:x,uiContext:i,onDoneBuyingCredits:r||(()=>{}),onClose:n,costCalculationFeatureName:p})]}),(0,O.jsx)(Re,{})]})]})},Be=f.ZP.div.withConfig({displayName:"UpgradeContent__Container",componentId:"sc-5cikc0-0"})(["display:flex;flex-direction:column;align-items:center;gap:32px;position:relative;overflow-y:auto;padding:16px;box-sizing:border-box;::-webkit-scrollbar-track{border-radius:4px;background-color:#fff;}::-webkit-scrollbar-thumb{border-radius:4px;}max-width:95vw;max-height:",";@media only screen and (max-width:","){max-width:100vw;width:100vw;height:",";::-webkit-scrollbar-thumb{border-radius:0;}border-radius:0;}"],pe.f,(e=>e.theme.breakpoints.lg),pe.f),Ge=(0,f.ZP)(ne.x8).withConfig({displayName:"UpgradeContent__CloseButton",componentId:"sc-5cikc0-1"})(["position:absolute;top:16px;right:16px;cursor:pointer;background-color:transparent;border:none;padding:0;"]),Fe=f.ZP.div.withConfig({displayName:"UpgradeContent__PlanRow",componentId:"sc-5cikc0-2"})(["display:flex;flex-direction:column;gap:16px;justify-content:center;@media (min-width:","){flex-direction:row;}"],(e=>e.theme.breakpoints.sm)),$e=e=>{let{value:t,onChange:s}=e;const o=(0,a.useCallback)((()=>{s("monthly"===t?"yearly":"monthly")}),[s,t]);return(0,O.jsxs)(We,{children:[(0,O.jsx)(He,{"data-active":"monthly"===t,onClick:o,children:"Monthly"}),(0,O.jsx)(He,{"data-active":"yearly"===t,onClick:o,children:"Yearly-20% off"})]})},We=f.ZP.div.withConfig({displayName:"UpgradeContent__FrequencySwitchContainer",componentId:"sc-5cikc0-3"})(["background-color:",";box-sizing:border-box;min-height:40px;width:226px;display:flex;border-radius:40px;margin:0 auto;padding:2px;"],(e=>e.theme.colors.grayscale.gray10)),He=f.ZP.button.withConfig({displayName:"UpgradeContent__FrequencySwitchButton",componentId:"sc-5cikc0-4"})(["border:none;cursor:pointer;background-color:transparent;font-size:",";line-height:",";color:",";border-radius:40px;width:100%;text-align:center;transition:background-color 0.2s ease-in-out;&[data-active='true']{background-color:",";color:",";}&:focus-visible{outline:2px solid ",";}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.theme.colors.textInactive),(e=>e.theme.colors.uiInactive),(e=>e.theme.colors.textPrimary),(e=>e.theme.colors.primary));var Ye=(0,f.ZP)("div").withConfig({displayName:"UpgradeContent___StyledDiv",componentId:"sc-5cikc0-5"})(["width:100%;height:100%;max-height:",";background-color:white;border-radius:8px;"],pe.f),Xe=(0,f.ZP)(x.Z).withConfig({displayName:"UpgradeContent___StyledText",componentId:"sc-5cikc0-6"})(["display:block;width:80%;margin-top:8px;"]);const qe=()=>{const e=(0,h.TH)(),t=(0,u.Z)((e=>e.videoEditor.composition.metadata.userId)),s=(0,m.B)(e.pathname);if(s?.params?.teamName)return s.params.teamName;var o;return(o=e.pathname,(0,h.LX)(o,{path:["/video-tools/:projectId"],exact:!1,strict:!1}))?t:void 0},Je=e=>{let{isInitialChoice:t,onClose:s,uiContext:o,buyCredits:n,onDoneBuyingCredits:i,costCalculationFeatureName:r}=e;const u=qe(),{data:m}=(0,p.a)({suspense:!0}),{data:h}=(0,d.y2)({suspense:!0}),f=m,b=h.find((e=>void 0===u?e.id===f.id:e.id===u||e.username===u));if(!b)throw new Error("Could not find team");const w=(0,c.m)(b.id),_=(0,d.Z5)(b.id,{suspense:!0}),I=(0,l.Pi)({asTeamId:b.id});(0,a.useEffect)((()=>{(0,g.rI)(_)<(0,g.rI)("admin")&&t&&s()}),[t,s,_]);const T="gen1"===r||"gen2"===r;return"nerf"===r&&I?(0,O.jsx)(L,{onHide:s,teamId:b.id}):(0,g.rI)(_)>=(0,g.rI)("admin")?n||"manual"!==w?.paymentProcessor?n||"apple"!==w?.paymentProcessor?T&&I?(0,O.jsx)(Q.Z,{onHide:s,teamId:b.id,costCalculationFeatureName:r}):(0,O.jsx)(y.K,{children:(0,O.jsx)(Ve,{onClose:s,isInitialChoice:t,teamId:b.id,uiContext:o,buyCredits:n,onDoneBuyingCredits:i,costCalculationFeatureName:r})}):(0,O.jsxs)(Qe,{children:[(0,O.jsx)(x.Z,{xl:!0,weight:500,color:"textWhiteUI",children:"This workspace is managed by iTunes."}),(0,O.jsx)(v.x,{height:4}),(0,O.jsx)(x.Z,{md:!0,color:"textWhiteUI",children:"Please see your iTunes settings in order to change or update your plan/billing."})]}):(0,O.jsxs)(Qe,{children:[(0,O.jsx)(x.Z,{xl:!0,weight:500,color:"textWhiteUI",children:"This workspace is managed by Runway."}),(0,O.jsx)(v.x,{height:4}),(0,O.jsx)(x.Z,{md:!0,color:"textWhiteUI",children:"Please contact support@runwayml.com in order to change or update your plan/billing."}),(0,O.jsx)(v.x,{height:16}),(0,O.jsx)(Ke,{as:"a",href:"mailto:support@runwayml.com",children:"Contact us"})]}):(0,O.jsx)(ae,{teamId:b.id})},Ke=(0,f.ZP)(b.ZP).withConfig({displayName:"RequestOrUpgrade__PrimaryButton",componentId:"sc-1qwixmw-0"})(["background:",";color:#fff;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:disabled{background:",";}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary),(e=>e.theme.colors.grayscale.gray600)),Qe=f.ZP.div.withConfig({displayName:"RequestOrUpgrade__NoticeContainer",componentId:"sc-1qwixmw-1"})(["display:flex;padding:32px;flex-direction:column;max-width:500px;background-color:white;border-radius:8px;"]);var et=s("./app/components/Prefabs/RadixDialog.tsx");const tt=e=>{let{children:t,isInitialChoice:s,onOpenChange:o,...n}=e;return(0,O.jsx)(ne.fC,{...n,onOpenChange:e=>{s||o?.(e)},children:(0,O.jsxs)(ne.h_,{children:[(0,O.jsx)(et.t9,{onClick:e=>{e.stopPropagation()}}),(0,O.jsx)(st,{onClick:e=>{e.stopPropagation()},children:t})]})})},st=(0,f.ZP)(et.cZ).withConfig({displayName:"UpgradeDialog__Content",componentId:"sc-1wb8b4l-0"})(["width:auto;padding:0;background-color:transparent;"]),ot=(0,a.createContext)(void 0),nt=e=>{let{children:t}=e;const[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({uiContext:Pe.K.None}),p=(0,a.useCallback)((e=>{d(e),l(!0),(0,n.L)({event:"General",name:"Open Upgrade Dialog",section:"Upgrade Dialog",otherProperties:{isInitialChoice:e?.isInitialChoice||!1,uiContext:e?.uiContext||"none"}})}),[]),u=(0,a.useCallback)((()=>{l(!1),(0,n.L)({event:"General",name:"Close Upgrade Dialog",section:"Upgrade Dialog",otherProperties:{isInitialChoice:c.isInitialChoice,uiContext:c.uiContext}})}),[c.isInitialChoice,c.uiContext]);return(0,O.jsxs)(ot.Provider,{value:p,children:[t,(0,O.jsx)(tt,{open:s,onOpenChange:l,isInitialChoice:c.isInitialChoice||!1,children:(0,O.jsx)(o.S,{FallbackComponent:()=>(0,O.jsx)(i.Q,{onClose:()=>l(!1)}),children:(0,O.jsx)(a.Suspense,{fallback:(0,O.jsx)(r.v,{}),children:(0,O.jsx)(Je,{onClose:u,isInitialChoice:c.isInitialChoice||!1,uiContext:c.uiContext,buyCredits:c.buyCredits||!1,onDoneBuyingCredits:c.onDoneBuyingCredits||(()=>{}),costCalculationFeatureName:c.costCalculationFeatureName})})})})]})},at=()=>{const e=a.useContext(ot);if(!e)throw new Error("useOpenUpgradeDialog must be used within a UpgradeDialogProvider");return e}},"./app/components/UpgradeDialog/components/PlanDisplayComponents.tsx":(e,t,s)=>{"use strict";s.d(t,{I$:()=>l,NX:()=>i,dN:()=>a,iz:()=>r,wc:()=>n});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const n=o.ZP.div.withConfig({displayName:"PlanDisplayComponents__PlanDisplayContainer",componentId:"sc-fxtx8c-0"})(["position:relative;display:flex;flex-direction:column;border-radius:6px;border:1px solid ",";padding:24px 16px 16px 16px;box-sizing:border-box;&[data-active='true']{outline:2px solid ",";outline-offset:-2px;box-shadow:0px 4px 32px rgba(0,0,0,0.25);}width:min(25vw,290px);@media only screen and (max-width:","){width:100%;}"],(e=>e.theme.colors.textInactiveContextMenu),(e=>e.theme.colors.primary),(e=>e.theme.breakpoints.lg)),a=o.ZP.div.withConfig({displayName:"PlanDisplayComponents__PlanList",componentId:"sc-fxtx8c-1"})(["display:flex;flex-direction:column;gap:8px;padding-bottom:60px;"]),i=o.ZP.div.withConfig({displayName:"PlanDisplayComponents__PricingContainer",componentId:"sc-fxtx8c-2"})(["width:100%;display:flex;box-sizing:border-box;padding-top:8px;justify-content:flex-start;align-items:flex-start;flex-direction:row;gap:8px;"]),r=o.ZP.div.withConfig({displayName:"PlanDisplayComponents__Divider",componentId:"sc-fxtx8c-3"})(["height:1px;width:calc(100% + 32px);overflow:hidden;background-color:",";margin-top:8px;margin-left:-16px;margin-bottom:8px;"],(e=>e.theme.colors.uiInactiveLight)),l=o.ZP.button.withConfig({displayName:"PlanDisplayComponents__PlanCTA",componentId:"sc-fxtx8c-4"})(["cursor:pointer;height:48px;box-sizing:border-box;font-size:",";font-weight:600;line-height:",";border-radius:6px;transition:0.1s ease-in-out;transition-property:background-color,color;&:disabled{opacity:0.6;cursor:not-allowed;}&:focus-visible:not(:disabled){outline:2px solid ",";outline-offset:2px;}&[data-state='current']{border:1px solid ",";background-color:",";color:",";cursor:default;opacity:1;}&[data-state='next']{border:1px solid ",";background-color:",";color:#fff;&:hover{background-color:",";}}&[data-state='upgrade'],&[data-state='downgrade'],&[data-state='initial_choice']{border:1px solid ",";color:",";background-color:#fff;&:hover:not(:disabled){background-color:",";color:#fff;}}"],(e=>e.theme.fonts.size.sm),(e=>e.theme.fonts.lineHeight.sm),(e=>e.theme.colors.primary),(e=>e.theme.colors.whiteLevel1),(e=>e.theme.colors.whiteLevel1),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.primary),(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark),(e=>e.theme.colors.primary),(e=>e.theme.colors.primary),(e=>e.theme.colors.primary))},"./app/components/UpgradeDialog/components/Text.tsx":(e,t,s)=>{"use strict";s.d(t,{HB:()=>i,L0:()=>a,hC:()=>n});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const n=o.ZP.h1.withConfig({displayName:"Text__MonthlyPrice",componentId:"sc-1bty6ot-0"})(["font-style:normal;font-weight:700;font-size:40px;line-height:40px;color:black;"]),a=o.ZP.h3.withConfig({displayName:"Text__PriceDescription",componentId:"sc-1bty6ot-1"})(["font-style:normal;font-weight:400;font-size:12px;line-height:18px;color:",";"],(e=>e.theme.colors.textSecondary)),i=o.ZP.h2.withConfig({displayName:"Text__FirstFeature",componentId:"sc-1bty6ot-2"})(["font-style:normal;font-weight:600;font-size:16px;line-height:32px;color:",";"],(e=>e.theme.colors.primary))},"./app/components/UserSurveys/SurveyComponents.tsx":(e,t,s)=>{"use strict";s.d(t,{Ih:()=>a,PZ:()=>d,W2:()=>i,W_:()=>r,YD:()=>l,xE:()=>c});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/UserSurveys/SurveyOptionButton.tsx");const a=o.ZP.h1.withConfig({displayName:"SurveyComponents__HeadingText",componentId:"sc-e5t48j-0"})(["display:block;width:100%;font-size:32px;line-height:40px;font-weight:700;text-align:center;@media screen and (max-width:400px){font-size:24pt;}"]),i=o.ZP.div.withConfig({displayName:"SurveyComponents__Container",componentId:"sc-e5t48j-1"})(["width:100vw;height:100vh;box-sizing:border-box;background-color:black;color:white;display:flex;justify-content:center;align-content:top;overflow-y:auto;"]),r=o.ZP.div.withConfig({displayName:"SurveyComponents__InnerContainer",componentId:"sc-e5t48j-2"})(["display:flex;flex-direction:column;width:min(600px,90vw);gap:64px;margin-top:20vh;padding:0 16px;align-items:center;@media screen and (max-width:400px),screen and (max-height:900px){gap:40px;margin-top:10vh;}"]),l=o.ZP.div.withConfig({displayName:"SurveyComponents__ButtonsContainer",componentId:"sc-e5t48j-3"})(["display:flex;flex-direction:column;width:min(400px,100%);gap:12px;"]),c=(0,o.ZP)(n.SQ).withConfig({displayName:"SurveyComponents__BackButton",componentId:"sc-e5t48j-4"})(["position:absolute;top:40px;left:40px;@media screen and (max-width:400px),screen and (max-height:900px){top:20px;left:20px;}"]),d=(0,o.ZP)(n.SQ).withConfig({displayName:"SurveyComponents__CloseButton",componentId:"sc-e5t48j-5"})(["position:absolute;top:40px;right:40px;@media screen and (max-width:400px),screen and (max-height:900px){top:20px;right:20px;}"])},"./app/components/UserSurveys/SurveyOptionButton.tsx":(e,t,s)=>{"use strict";s.d(t,{SQ:()=>c,Sn:()=>l,ZP:()=>r});var o=s("./app/devoe/assets/icons/@component-icons/recipes/arrow-right.svg"),n=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=s("./app/components/Prefabs/Block.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{onClick:t,children:s}=e;return(0,i.jsx)(d,{onClick:t,children:(0,i.jsxs)(a.X2,{alignCenter:!0,children:[(0,i.jsx)(p,{children:s}),(0,i.jsx)(c,{children:(0,i.jsx)(o.Z,{})})]})})},l=n.ZP.button.withConfig({displayName:"SurveyOptionButton__StyledButton",componentId:"sc-13fpgay-0"})(["cursor:pointer;height:56px;min-height:56px;padding:0 12px;box-sizing:border-box;font-size:",";text-align:center;line-height:",";border-radius:8px;border:0;color:",";background-color:",";transition:0.1s ease-in-out;transition-property:background-color,color;&:disabled{opacity:0.6;cursor:not-allowed;}&:hover{background-color:",";}"],(e=>e.theme.fonts.size.lg),(e=>e.theme.fonts.lineHeight.md),(e=>e.theme.colors.textPrimary),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.primaryDark)),c=n.ZP.button.withConfig({displayName:"SurveyOptionButton__WhiteSVGButton",componentId:"sc-13fpgay-1"})(["cursor:pointer;background-color:transparent;border:0;height:16px;width:16px;svg{path{fill:",";}}"],(e=>e.theme.colors.white)),d=(0,n.ZP)(l).withConfig({displayName:"SurveyOptionButton__SurveyOptionButtonStyled",componentId:"sc-13fpgay-2"})(["text-align:left;"]);var p=(0,n.ZP)("div").withConfig({displayName:"SurveyOptionButton___StyledDiv",componentId:"sc-13fpgay-3"})(["display:flex;flex-grow:1;justify-content:left;"])},"./app/components/UtilElements/HelpWidget.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>u,Z:()=>h});var o=s("./node_modules/framer-motion/dist/framer-motion.es.js"),n=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=s("./app/utils/trackEvent.ts"),i=s("./app/components/Prefabs/Block.tsx"),r=s("./app/components/Prefabs/Icon/Icon.tsx"),l=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts"),c=s("./app/components/UtilElements/HelpWidgetContext.tsx"),d=s("./node_modules/react/jsx-runtime.js");const p={hidden:{y:100},shown:{y:0}},u=48,m=(0,n.ZP)(o.ww.custom(i.JX)).withConfig({displayName:"HelpWidget__ColWidget",componentId:"sc-8abofr-0"})(["background:",";height:","px;width:","px;border-radius:100%;position:fixed;bottom:",";right:32px;color:",";cursor:pointer;"],(e=>e.theme.colors.primary),u,u,(e=>e.bottom),(e=>e.theme.colors.uiBackground)),h=()=>{const e=(0,c.I)();return(0,d.jsx)(o.M_,{children:e.showIcon&&(0,d.jsx)(m,{alignCenter:!0,initial:"hidden",animate:"shown",exit:"hidden",variants:p,transition:{type:"spring",stiffness:200,damping:30},bottom:"24px",zIndex:l.Z.HELP_WIDGET,onClick:()=>{e.open(),(0,a.L)({event:"Click",name:"Open Feedback",section:"Menu"})},children:(0,d.jsx)(i.JX,{alignLeft:!0,children:(0,d.jsx)(g,{icon:"sidebar_menu/chat",size:16})})})})};var g=(0,n.ZP)(r.Z).withConfig({displayName:"HelpWidget___StyledIcon",componentId:"sc-8abofr-1"})(["cursor:inherit;"])},"./app/components/UtilElements/HelpWidgetContext.tsx":(e,t,s)=>{"use strict";s.d(t,{I:()=>h,c:()=>m});var o=s("./app/utils/environment.ts"),n=s("./app/utils/hooks/useSelector.ts"),a=s("./node_modules/react/index.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./app/utils/auth.ts"),l=s("./app/utils/constants.ts"),c=s("./app/utils/routes.ts"),d=s("./node_modules/react/jsx-runtime.js");const p=a.createContext({}),u=["/login","/signup","/workspaces","/debug","/video-tools/green-screen","/video-tools/projects/","/train/","/quick-actions/","/ai-tools/","/watch","/storyboards","/workflows"],m=e=>{let{children:t}=e;const[s,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!0),x=(0,i.TH)(),v=(0,r.Pc)(),b=(0,n.Z)((e=>e.user.plan)),w=`${(0,n.Z)((e=>e.user.firstName.trim()))} ${(0,n.Z)((e=>e.user.lastName.trim()))}`,_=(0,n.Z)((e=>e.user.email));(0,a.useEffect)((()=>{if(f&&!h){const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=(0,o.mx)()?l.GJ:l.h4,e.id="ze-snippet";const t=()=>{g(!0)};return e.addEventListener("load",t),document.head.appendChild(e),()=>{e.removeEventListener("load",t),document.head.removeChild(e)}}}),[f,h]),(0,a.useEffect)((()=>{(e=>{const t=`/${(0,c.it)(e).join("/")}`;return u.some((e=>t.includes(e)))})(x.pathname)||!v&&h?y(!1):y(!0)}),[x.pathname,v,h]);const I=(0,a.useCallback)((()=>{window.zE&&h&&(m(!1),window.zE("webWidget","updateSettings",{webWidget:{contactForm:{ticketForms:[{id:b?0xcc2a8d56c13:1500001015561},{id:0xb2f31775293}]}}}),window.zE("webWidget","identify",{name:w,email:_}),window.zE("webWidget","show"),window.zE("webWidget","open"))}),[h,b,w,_]),T=(0,a.useCallback)((()=>{window.zE&&h&&(m(!0),window.zE("webWidget","close"),window.zE("webWidget","hide"))}),[h]);(0,a.useEffect)((()=>{window.zE&&h&&(window.zE("webWidget","hide"),window.zE("webWidget:on","close",T))}),[T,h]);const j=(0,a.useMemo)((()=>({showIcon:s&&f&&h,open:I})),[s,f,h,I]);return(0,d.jsx)(p.Provider,{value:j,children:t})},h=()=>(0,a.useContext)(p)},"./app/components/Views/Asset/Content/AssetMetadata/MediaMetadata.tsx":(e,t,s)=>{"use strict";s.d(t,{Jf:()=>x,ZP:()=>w,fi:()=>v});var o=s("./app/components/Prefabs/Section.tsx"),n=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),a=s("./app/utils/hooks/useMediaQuery.ts"),i=s("./node_modules/moment/moment.js"),r=s.n(i),l=s("./node_modules/react/index.js"),c=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=s("./app/utils/filenames.ts"),p=s("./app/components/Prefabs/Block.tsx"),u=s("./app/components/Prefabs/Icon/Icon.tsx"),m=s("./app/components/Prefabs/Text.tsx"),h=s("./app/components/Prefabs/TooltipWrapper.tsx"),g=s("./app/components/Views/Asset/utils.ts"),f=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/ShareableAssetActions.tsx"),y=s("./node_modules/react/jsx-runtime.js");const x=e=>{let{asset:t,...s}=e;return(0,y.jsxs)(n.x,{gap:"8px",children:[(0,y.jsx)(m.Z,{...s,noWrap:!0,weight:700,children:(0,d.Sb)(t.name)}),(0,y.jsx)(h.Z,{message:"This asset is "+(t.private?"private":"public"),children:(0,y.jsx)(u.Z,{icon:t.private?"lock":"globe",color:"white"})})]})},v=e=>{let{asset:t,...s}=e;const o=r()(t.createdAt).fromNow(),n=t.fileCount>1?`${t.fileCount} items`:null,i=t.username,l=t.metadata?.duration,c=(0,g.pI)(l),d=(0,a.Z8)();return(0,y.jsxs)("span",{children:[i&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b,{...s,color:"uiHoverable",children:"Created by"}),(0,y.jsx)(b,{...s,children:i})]}),o&&(0,y.jsxs)(b,{...s,color:"uiHoverable",children:["·",o]}),l&&!d&&(0,y.jsxs)(b,{...s,color:"uiHoverable",children:["·",c]}),n&&(0,y.jsxs)(b,{...s,color:"uiHoverable",children:["·",n]})]})},b=(0,c.ZP)(m.Z).withConfig({displayName:"MediaMetadata__SubheaderText",componentId:"sc-1o70hoe-0"})(["font-style:normal;font-weight:400;line-height:normal;"]),w=e=>{let{asset:t,loadAsset:s,creationId:i,forceHideSignup:r}=e;const d=(0,c.Fg)(),u=(0,a.ac)(`(max-width: ${d.breakpoints.xs})`);return(0,y.jsx)(o.Z,{name:"Metadata",pad:[0,16],children:(0,y.jsx)(p.ZP,{flex:!0,horizontal:!0,children:(0,y.jsx)(p.X2,{span:12,children:(0,y.jsx)(p.JX,{size:12,children:(0,y.jsxs)(_,{gap:"16px",flexDirection:u?"column":"row",justifyContent:"space-between",children:[(0,y.jsxs)(n.x,{flexDirection:"column",flex:1,gap:"4px",children:[(0,y.jsx)(x,{xxl:!0,asset:t}),(0,y.jsx)(v,{lg:!0,asset:t})]}),(0,y.jsx)(n.x,{minWidth:176,children:(0,y.jsx)(l.Suspense,{fallback:null,children:(0,y.jsx)(f.Z,{asset:t,loadAsset:s,creationId:i,forceHideSignup:r})})})]})})})})})};var _=(0,c.ZP)(n.x).withConfig({displayName:"MediaMetadata___StyledBox",componentId:"sc-1o70hoe-1"})(["background:",";padding:16px;border-bottom-right-radius:8px;border-bottom-left-radius:8px;"],(e=>e.theme.colors.uiLevel1))},"./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/CoreAssetActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var o=s("./app/actions/assets.ts"),n=s("./app/actions/flash.ts"),a=s("./app/api/assets.ts"),i=s("./app/api/hooks/useTeams.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Overflow.tsx"),c=s("./app/components/Prefabs/OverflowMenu.tsx"),d=s("./app/components/Views/Assets/MoveAssetOrAssetGroupDialog.tsx"),p=s("./app/components/Views/Assets/hooks/useGetShareWithWorkspaceOrTeamspaceMessage.ts"),u=s("./app/utils/downloads.ts"),m=s("./app/utils/trackEvent.ts"),h=s("./node_modules/react/index.js"),g=s("./node_modules/react-redux/es/index.js"),f=s("./node_modules/react-router/esm/react-router.js"),y=s("./app/components/Views/Asset/utils.ts"),x=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/Molecules/CircularButtonWithIcon.tsx"),v=s("./node_modules/react/jsx-runtime.js");const b=e=>{let{asset:t,loadAsset:s,creationId:b,overflowStyle:w,isInLightbox:_}=e;const I=(0,f.k6)(),T=(0,g.I0)(),j=(0,i.Qt)({suspense:!0}),k=(0,i.B9)(j?.id,{suspense:!0}),[C,E]=(0,h.useState)(!1),S=(0,p.g)(j.id);let A=!1;A=b?j.id===t.userId:k;const M=(0,h.useMemo)((()=>{if(A){const e=[{title:"Download",onClick:async()=>{(0,u.Sv)({name:t.name,url:await(0,a.CT)(t.id)}),(0,y.V5)({asset:t,asTeamId:j?.id})}},{title:"Rename",onClick:()=>{(0,o.c)(t,T,s),(0,m.L)({event:"Click",name:"Rename Asset",section:"Asset Info"})}}];return 1===t.fileCount&&["image","video","audio"].includes(t.mediaType)&&!t.private&&e.push({title:"Unpublish",onClick:async()=>{await(0,a.ci)(t.id,!0),T((0,n.showFlash)({message:"Your asset is now private",type:"SUCCESS"})),s()}}),e.push({title:S(t.privateInTeam),onClick:async()=>{E(!0),s()}}),e.push({title:"Delete",danger:!0,onClick:()=>{T((0,o.P)(t,{history:I,asTeamId:j?.id})),(0,m.L)({event:"Click",name:"Delete Asset",section:"Asset Info"})}}),e}return[]}),[A,t,S,j?.id,T,s,I]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.X2,{alignCenterVertical:!0,alignLeft:!0,children:M.length>0?(0,v.jsx)(l.Z,{closeOnClick:!0,width:164,anchor:"RIGHT_TOP",autoAdjust:!0,overlay:(0,v.jsx)(c.P,{items:M}),overflowStyle:w,fixed:!_,children:(0,v.jsx)(x.Z,{"aria-label":"Asset Actions",icon:"three-dots",iconColor:"white",iconSize:16,onClick:()=>{}})}):null}),(0,v.jsx)(d.S,{asset:t,open:C,onOpenChange:E,selections:[{id:t.id,type:"asset",createdBy:t.createdBy}]})]})}},"./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/Molecules/CircularButtonWithIcon.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./app/components/Prefabs/Icon/Icon.tsx"),n=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=s("./node_modules/react/jsx-runtime.js");const i=e=>{let{icon:t,iconColor:s,iconSize:n,onClick:i=(()=>{}),text:c,...d}=e;return(0,a.jsxs)(r,{onClick:i,text:c,...d,children:[(0,a.jsx)(l,{children:(0,a.jsx)(o.Z,{icon:t,color:s??"white",width:n??12,height:n??12})}),c]})},r=n.ZP.button.withConfig({displayName:"CircularButtonWithIcon__StyledButton",componentId:"sc-vpuwuw-0"})(["height:40px;min-width:40px;padding:",";isolation:isolate;background:",";border-radius:20px;border-width:0;cursor:pointer;color:#fff;display:flex;align-items:center;justify-content:center;gap:8px;&:hover{background:",";}> span{z-index:5;}"],(e=>e.text?"16px":"0"),(e=>e.theme.colors.grayscale.gray600),(e=>e.theme.colors.grayscale.gray500)),l=n.ZP.span.withConfig({displayName:"CircularButtonWithIcon__IconContainer",componentId:"sc-vpuwuw-1"})(["display:inline-flex;justify-content:center;align-content:center;align-items:center;margin-left:",";margin-right:",";"],(e=>e.right&&"8px"),(e=>e.left&&"8px"))},"./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/ShareableAssetActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>k});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/actions/flash.ts"),a=s("./app/api/hooks/useTask.ts"),i=s("./app/api/mixpanel.ts"),r=s("./app/components/Prefabs/Block.tsx"),l=s("./app/components/Prefabs/Button.tsx"),c=s("./app/components/Prefabs/TooltipWrapper.tsx"),d=s("./app/components/Views/Assets/shared.tsx"),p=s("./app/components/Views/Library/LibraryContext.tsx"),u=s("./app/components/Views/MagicTools/Components/Common/Sharing/ShareGenerationResult.tsx"),m=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/canExtendTaskInGen2.ts"),h=s("./app/utils/auth.ts"),g=s("./app/utils/mixpanel.ts"),f=s("./app/utils/routes.ts"),y=s("./node_modules/react/index.js"),x=s("./node_modules/react-redux/es/index.js"),v=s("./app/components/Views/Asset/events/AssetEvents.tsx"),b=s("./app/components/Views/Asset/useIsAssetOwner.ts"),w=s("./app/components/Views/Asset/Content/TaskInfo/shared/ExtendFromAssetsButton/ExtendFromAssetsButton.tsx"),_=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/CoreAssetActions.tsx"),I=s("./node_modules/react/jsx-runtime.js");const T=e=>{let{asset:t,loadAsset:s,creationId:o}=e;return(0,I.jsx)(y.Suspense,{fallback:null,children:(0,I.jsx)(_.Z,{asset:t,loadAsset:s,creationId:o})})};var j=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/Molecules/CircularButtonWithIcon.tsx");const k=e=>{let{asset:t,loadAsset:s,creationId:o,forceHideSignup:r}=e;const l=o?`${window.location.origin}/creation/${o}`:`${window.location.origin}/assets/${t.id}`,_=(0,x.I0)(),[j,k]=(0,y.useState)(!1),A=(0,b.M)(t),{asTeamId:M}=(0,p.t)(),{data:P}=(0,a.Z)({taskId:t.taskId,asTeamId:M}),N=(0,m.z8)(P),D=(0,m.P2)(P),O=N&&A;return(0,I.jsxs)(C,{children:[O&&t.taskId&&(0,I.jsx)(w.Z,{disabled:!D,taskId:t.taskId}),(0,I.jsx)(c.Z,{message:o?"Copy public link":"Share publicly",children:(0,I.jsx)(E,{icon:(0,h.Pc)()?"public-share":"link",iconColor:"white",iconSize:16,onClick:async()=>{(0,h.Pc)()&&A?k(!0):(0,d.KX)({assetLink:l,asset:t,onComplete:()=>{_((0,n.showFlash)({message:"Copied link!",type:"SUCCESS"}))}})},text:"Share publicly"})}),(0,h.Pc)()&&(0,I.jsx)(T,{asset:t,loadAsset:s,creationId:o}),!(0,h.Pc)()&&!r&&(0,I.jsx)(S,{primary:!0,borderRadius:25,onClick:()=>{(0,i.m5)({eventName:v.s.SignUp,properties:{...(0,g.l)(),assetId:t?.id,creationId:o}}),(0,f.iP)("Banner CTA from assets page")},icon:"recipes/magic-wand",iconSize:16,message:"Sign up to try"}),j&&(0,I.jsx)(u.Z,{shareLocation:"asset-page",taskId:t.taskId,taskArtifactId:t.id,open:!0,onOpenChange:e=>{k(e)},onClose:()=>{k(!1)},onPublishCallback:s})]})};var C=(0,o.ZP)(r.X2).withConfig({displayName:"ShareableAssetActions___StyledRow",componentId:"sc-txe0c7-0"})(["justify-content:flex-end;align-items:center;padding:0;width:100%;"]),E=(0,o.ZP)(j.Z).withConfig({displayName:"ShareableAssetActions___StyledCircularButtonWithIcon",componentId:"sc-txe0c7-1"})(["> span > div > svg{stroke:white;}"]),S=(0,o.ZP)(l.Z).withConfig({displayName:"ShareableAssetActions___StyledPrefabButton",componentId:"sc-txe0c7-2"})(["width:152px;min-height:40px;> div > span{text-align:right;font-size:14px;font-style:normal;font-weight:600;line-height:20px;}&:hover{background:",";}"],(e=>e.theme.colors.primaryDark))},"./app/components/Views/Asset/Content/ContentV2/AssetContentV2.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>ye});var o=s("./app/api/hooks/useAsset.ts"),n=s("./app/api/mixpanel.ts"),a=s("./app/components/Prefabs/Block.tsx"),i=s("./app/components/Prefabs/CloseButton/CloseButton.tsx"),r=s("./app/components/RouteErrorMessage/RouteErrorMessage.tsx"),l=s("./app/components/UtilElements/HelpWidget.tsx"),c=s("./app/devoe/themeBase.ts"),d=s("./app/utils/auth.ts"),p=s("./app/utils/mixpanel.ts"),u=s("./node_modules/react/index.js"),m=s("./node_modules/react-redux/es/index.js"),h=s("./node_modules/react-router/esm/react-router.js"),g=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),f=s("./app/utils/hooks/useSafeState.ts"),y=s("./app/utils/hooks/useIsMountedRef.ts"),x=s("./app/utils/hooks/useMediaQuery.ts"),v=s("./app/utils/hooks/useWindowSize.ts"),b=s("./app/devoe/assets/img/placeholder-image.png"),w=s("./app/devoe/assets/img/placeholder-text.png"),_=s("./app/devoe/assets/img/text-pages.png"),I=s("./app/utils/filenames.ts"),T=s("./app/components/Prefabs/GalleryImage.tsx"),j=s("./app/components/Prefabs/Pic.tsx"),k=s("./app/components/Prefabs/PreviewText.tsx"),C=s("./app/components/Prefabs/Section.tsx"),E=s("./app/components/Views/MagicTools/Components/Outputs/VideoOutput.tsx"),S=s("./app/components/Views/MagicTools/utils.ts"),A=s("./app/components/Views/Asset/events/AssetEvents.tsx"),M=s("./app/components/Prefabs/AudioPlayer/index.tsx"),P=s("./app/components/UI/Base.tsx"),N=s("./node_modules/react/jsx-runtime.js");const D=600,O=e=>{let{asset:t,assetMediaContext:s,creationId:o,isInLightbox:n}=e;const i=(0,u.useRef)(null),r=(0,x.ac)(`(max-width: ${c.u.breakpoints.sm})`);return(0,N.jsx)(C.Z,{name:"Asset Header",pad:n?[0,16,0,16]:[r?8:32,16,0,16],ref:i,children:(0,N.jsx)(a.ZP,{flex:!0,horizontal:!0,pad:[r?0:8,0,0,0],children:(0,N.jsx)(L,{asset:t,assetMediaContext:s,creationId:o,isInLightbox:n})})})},L=u.memo((e=>{let{asset:t,style:s,picHeight:o=550,renderAsMediaType:i,useGallery:r=!0,assetMediaContext:l="",creationId:c,isInLightbox:m=!1}=e;const h=i??t.mediaType,g=!(!t.previewUrls?.[0]||"text"!==(0,I.EE)(t.previewUrls[0])),x=!t.previewUrls?.[0],[C,E]=(0,f.Z)("");(0,u.useEffect)((()=>{g&&fetch(t?.previewUrls[0]).then((e=>e.text())).then((e=>E(e)))}),[t,t?.previewUrls,g,E]);const O=(0,y.Z)();let L,V;const B=(0,u.useRef)(null),[G,F]=(0,u.useState)("");(0,u.useEffect)((()=>{if("video"!==h)return;(async()=>{const e=await(0,S.XY)({inputMedia:t,userInputs:{},videoModelName:"raw_video",videoCommandName:"raw_video",audioModelName:"raw_audio",audioCommandName:"raw_audio",audioSegmentDuration:30});O.current&&F(e.url??"")})()}),[t,h,O]);const $=(0,u.useMemo)((()=>t.metadata?.size?.width&&t.metadata?.size?.height?t.metadata.size:t.metadata?.dimensions?{width:t.metadata.dimensions[0],height:t.metadata.dimensions[1]}:void 0),[t?.metadata?.dimensions,t?.metadata?.size]),W=!!$&&$?.width<=$?.height,H=$?$?.width/$?.height:"unset",Y=(0,u.useMemo)((()=>({video_title:t.name,video_duration:t.metadata?.duration,assetId:t.id,creationId:c})),[t.id,t.metadata?.duration,t.name,c]),X=(0,u.useMemo)((()=>({isUserLoggedIn:(0,d.Pc)()})),[]),q={fallbackAssetUrl:t.url,trackCustomProperties:X,videoMetadata:Y},J=(0,v.i)(),K=J.height?J.height-120:D,Q=Math.min(D,K),ee=$?.height&&!m&&W&&$.height<Q?`${$?.height}px`:"10vh";if("video"===h)V=!0,L=(0,N.jsx)(R,{size:12,span:12,grow:!0,alignCenter:!0,blackBackground:!0,relative:!0,gutter:0,maxHeight:Q,children:(0,N.jsx)(Z,{maxWidth:$?Q*$.width/$.height:void 0,$_css:H,$_css2:ee,$_css3:m&&"\n                height: 33vw;\n                max-height: 600px;\n              ",children:(0,N.jsx)(U,{poster:t.previewUrls?.[0]??"",width:t.metadata?.size?.width??"100%",height:t.metadata?.size?.height??D,playlistUrl:G,playerName:l?`assets-player-${l}`:"assets-player",fitVideo:!0,prefetchSegmentCount:10,playerRef:B,onLoadedData:()=>{},onLoadStart:()=>{},onLoadedMetaData:()=>{},onTimeUpdate:()=>{},playerConfig:q,loop:!0,onPlay:()=>{(0,n.p6)({eventName:A.s.PlayVideo,properties:{...(0,p.l)(),assetId:t?.id,creationId:c,assetVisibility:t?.private?"private":"public"}})},muted:m,autoPlay:m})})});else if("image"===h&&t.fileCount>4&&t.previewUrls.length>1&&r||"file"===h&&t.previewUrls.length>=5)V=!1,L=(0,N.jsx)(T.Z,{resource:t});else if("image"===h&&(t.previewUrls.length<5||t.previewUrls.length>=5&&!r)||"text"===h&&!g&&!x){I.Ks.image.some((e=>e.includes((0,I.vN)(t.previewUrls[0]).toLowerCase())))?(V=!0,L=(0,N.jsx)(j.Z,{src:t.previewUrls[0],height:o,scaleDown:!0,color:"white"}),"png"===(0,I.vN)(t?.previewUrls[0])&&(L=(0,N.jsx)(a.JX,{grow:!0,whiteBackground:!0,transparentBackground:!0,children:L}))):L=(0,N.jsx)(j.Z,{src:"text"===t.mediaType?w.Z:b.Z,height:o,scaleDown:!0,color:"white"})}else"text"===h&&g?(V=!0,L=(0,N.jsx)(a.X2,{maxHeight:D,minHeight:D,blackBackground:!0,alignCenterHorizontal:!0,pad:[40,0],children:(0,N.jsx)(k.Z,{minWidth:400,maxWidth:400,minHeight:500,children:C})})):"text"===h&&x?(V=!0,L=(0,N.jsx)(j.Z,{src:_.Z,height:o,scaleDown:!0,color:"white"})):"audio"===h&&(L=(0,N.jsx)(P.x,{height:"33vw",width:"50vw",maxWidth:"1000px",flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,N.jsx)(z,{children:(0,N.jsx)(M.Z,{url:t.url})})}));return(0,N.jsx)(a.JX,{size:12,blackBackground:V,style:s,children:L})}));var R=(0,g.ZP)(a.X2).withConfig({displayName:"HeaderV2___StyledRow",componentId:"sc-w1ka01-0"})(["background:#121111;border-top-left-radius:8px;border-top-right-radius:8px;"]),Z=(0,g.ZP)(a.X2).withConfig({displayName:"HeaderV2___StyledRow2",componentId:"sc-w1ka01-1"})(["aspect-ratio:",";min-height:",";height:100%;",";max-width:100%;"],(e=>e.$_css),(e=>e.$_css2),(e=>e.$_css3)),U=(0,g.ZP)(E.Z).withConfig({displayName:"HeaderV2___StyledVideoOutput",componentId:"sc-w1ka01-2"})(["",""],(e=>e.isVertical&&"border-top-left-radius: 8px;\n            border-top-right-radius: 8px;")),z=(0,g.ZP)(P.x).withConfig({displayName:"HeaderV2___StyledBox",componentId:"sc-w1ka01-3"})(["height:188px;align-self:stretch;border-radius:16px;background:linear-gradient(180deg,#bd9fe3 0%,#1b023b 100%);display:flex;align-items:center;padding:24px;"]),V=s("./app/components/Views/Asset/useLoadAsset.ts"),B=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/ShareableAssetActions.tsx"),G=s("./app/components/Views/Asset/Content/Table.tsx"),F=s("./app/api/hooks/useTask.ts"),$=s("./app/components/ErrorBoundary.tsx"),W=s("./app/components/Prefabs/LoadingDots.tsx"),H=s("./app/components/Views/AssetsV2/shared/gen-1-task-details.tsx"),Y=s("./app/components/Views/AssetsV2/shared/gen-2-task-details.tsx"),X=s("./app/components/Views/DebugPanel/DebugPanelWrapper.tsx"),q=s("./app/components/Views/Library/LibraryContext.tsx"),J=s("./app/utils/hooks/useSelector.ts"),K=s("./node_modules/moment/moment.js"),Q=s.n(K),ee=s("./app/components/Prefabs/Text.tsx"),te=s("./app/components/Views/Asset/Content/TaskInfo/shared/TaskInfoDebugger/TaskInfoDebugger.tsx"),se=s("./app/components/Views/AssetsV2/shared/generate-audio-task-details.tsx");const oe=e=>{let{asset:t}=e;const{asTeamId:s}=(0,q.t)(),o=t?.userId===s;return(0,N.jsxs)(me,{children:[(0,N.jsx)(ne,{asset:t}),t.taskId&&(0,d.Pc)()&&o&&(0,N.jsx)(ce,{taskId:t.taskId,assetId:t.id})]})},ne=e=>{let{asset:t}=e;const s=t.username,o=Q()(t.createdAt).fromNow();return(0,N.jsxs)(P.x,{flexDirection:"column",gap:"6px",children:[(0,N.jsx)(ue,{xxl:!0,children:(0,I.Sb)(t.name)}),(0,N.jsxs)(he,{flexDirection:"row",gap:"4px",children:[(0,N.jsx)(ee.Z,{color:"uiHoverable",md:!0,children:"By"}),(0,N.jsx)(ee.Z,{md:!0,children:s}),(0,N.jsx)(ee.Z,{color:"uiHoverable",md:!0,children:"·"}),(0,N.jsx)(ee.Z,{color:"uiHoverable",md:!0,children:o})]})]})},ae=e=>{let{task:t,creationId:s,assetId:o}=e;const n=(0,J.Z)((e=>e.showDebugPanel));return(0,N.jsxs)(re,{children:[n&&t&&(0,N.jsx)(X.Z,{children:(0,N.jsx)(te.Z,{task:t})}),"gen1"===t?.taskType&&(0,N.jsx)(H.T,{task:t}),"gen2"===t?.taskType&&(0,N.jsx)(Y.P,{task:t,creationId:s,assetId:o}),"generate_audio"===t?.taskType&&(0,se.$G)(t)&&(0,N.jsx)(se.Q,{task:t})]})},ie=e=>{let{taskId:t,assetId:s}=e;const{asTeamId:o}=(0,q.t)(),{data:n}=(0,F.Z)({taskId:t,asTeamId:o},{suspense:!0});return(0,N.jsx)(ae,{task:n,assetId:s})},re=e=>{let{children:t}=e;return(0,N.jsx)(le,{flexDirection:"column",gap:"12px",children:t})},le=(0,g.ZP)(P.x).withConfig({displayName:"AssetDetails__TaskInfoScrollContainer",componentId:"sc-1jwhup4-0"})(["position:relative;flex-direction:column;gap:12px;height:100%;overflow:hidden;"]),ce=e=>{let{taskId:t,taskData:s,creationId:o,assetId:n}=e;return(0,N.jsx)($.S,{fallback:(0,N.jsx)(de,{}),children:(0,N.jsx)(u.Suspense,{fallback:(0,N.jsx)(pe,{}),children:s?(0,N.jsx)(ae,{task:s,creationId:o,assetId:n}):(0,N.jsx)(ie,{taskId:t,assetId:n})})})},de=()=>null,pe=()=>(0,N.jsx)(P.x,{alignItems:"center",children:(0,N.jsx)(W.Z,{})}),ue=(0,g.ZP)(ee.Z).withConfig({displayName:"AssetDetails__AssetName",componentId:"sc-1jwhup4-1"})(["font-weight:700;"]),me=(0,g.ZP)(a.JX).withConfig({displayName:"AssetDetails__Container",componentId:"sc-1jwhup4-2"})(["flex-direction:column;gap:12px;padding:12px;height:100%;width:45%;@media screen and (max-width:1024px){width:100%;}"]);var he=(0,g.ZP)(P.x).withConfig({displayName:"AssetDetails___StyledBox",componentId:"sc-1jwhup4-3"})(["white-space:nowrap;"]);const ge=(0,g.ZP)(a.JX).withConfig({displayName:"AssetContentV2__Container",componentId:"sc-zbsuh9-0"})(["position:relative;background:",";padding:32px;padding-bottom:","px;height:100%;width:100%;overflow:hidden;"],(e=>e.theme.colors.black),l.P+32),fe=(0,g.ZP)(a.JX).withConfig({displayName:"AssetContentV2__Inner",componentId:"sc-zbsuh9-1"})(["flex-direction:row;justify-content:center;align-items:center;margin:auto;overflow:hidden;min-width:100%;@media screen and (max-width:","){flex-direction:column;min-height:100%;max-height:100%;padding:16px;}"],c.u.breakpoints.sm),ye=e=>{let{assetId:t,isInLightbox:s=!1}=e;const a=(0,o.G)(t),{error:l,loadAsset:c}=(0,V.R)({assetId:t}),g=(0,h.k6)(),f=(0,m.v9)(d.Pc);return(0,u.useEffect)((()=>{(0,n.p6)({eventName:A.s.OpenAsset,properties:{...(0,p.l)(),assetId:t,assetVisibility:a.data?.private?"private":"public"}})}),[]),(0,N.jsxs)(ge,{span:12,scrollable:!0,gutter:0,children:[f&&!s&&(0,N.jsx)(i.P,{onClick:()=>g.goBack(),name:"Back"}),(0,N.jsx)(fe,{children:a.data?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(xe,{children:[(0,N.jsx)(O,{asset:a.data}),!s&&(0,N.jsx)(ve,{children:(0,N.jsx)(B.Z,{asset:a.data,loadAsset:c})})]}),(0,N.jsx)(oe,{asset:a.data}),a.data.fileCount>1&&(0,N.jsx)(G.Z,{assetId:t})]}):l?(0,N.jsx)(r.Z,{errorType:l,routeType:"ASSET"}):null})]})};var xe=(0,g.ZP)("div").withConfig({displayName:"AssetContentV2___StyledDiv",componentId:"sc-zbsuh9-2"})(["display:flex;flex-direction:column;gap:12px;"]),ve=(0,g.ZP)("div").withConfig({displayName:"AssetContentV2___StyledDiv2",componentId:"sc-zbsuh9-3"})(["padding-right:12px;"])},"./app/components/Views/Asset/Content/Table.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>N});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./node_modules/swr/infinite/dist/index.mjs"),i=s("./app/utils/assets.ts"),r=s("./app/utils/auth.ts"),l=s("./app/utils/constants.ts"),c=s("./app/utils/filenames.ts"),d=s("./app/utils/urls.ts"),p=s("./app/components/Prefabs/Block.tsx"),u=s("./app/components/Prefabs/Button.tsx"),m=s("./app/components/Prefabs/Divider.tsx"),h=s("./app/components/Prefabs/LoadingDots.tsx"),g=s("./app/components/Prefabs/Pic.tsx"),f=s("./app/components/Prefabs/Section.tsx"),y=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const x=(0,y.ZP)(p.JX).withConfig({displayName:"Skeleton__SkeletonCol",componentId:"sc-irc8g4-0"})(["animation-duration:1.8s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:gradient;animation-timing-function:linear;background:#292929;background:linear-gradient(to right,#292929 8%,#262626 38%,#292929 54%);background-size:1000px 640px;position:relative;@keyframes gradient{0%{background-position:-468px 0;}100%{background-position:468px 0;}}"]);y.ZP.div.withConfig({displayName:"Skeleton__SkeletonText",componentId:"sc-irc8g4-1"})(["width:",";height:",";animation-duration:1.8s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:gradient;animation-timing-function:linear;background:#292929;background:linear-gradient(to right,#292929 8%,#272727 38%,#292929 54%);background-size:1000px 640px;border-radius:8px;margin:4px 0;position:relative;@keyframes gradient{0%{background-position:-468px 0;}100%{background-position:468px 0;}}"],(e=>e.width?`${e.width}px`:"100%"),(e=>e.height?`${e.height}px`:"10px"));var v=s("./app/utils/hooks/useBreakpoint.ts"),b=s("./app/components/Prefabs/Icon/Icon.tsx"),w=s("./node_modules/react/jsx-runtime.js");const _=(0,o.createContext)([]),I=e=>{let{data:t=[],columns:s=[],children:o}=e;const n=(0,v.Z)("xs");return(0,w.jsxs)(j,{children:[(0,w.jsx)(k,{children:(0,w.jsx)(S,{children:s.map((e=>{let{Header:t,width:s,textAlign:o="center",hideHeaderText:n,onHeaderClick:a,isFilterActive:i,order:r}=e;return(0,w.jsx)(C,{width:s,textAlign:o,onClick:a,clickable:!!a,children:(0,w.jsxs)(p.X2,{alignCenterVertical:!0,alignCenter:"center"===o,children:[(0,w.jsx)(p.JX,{children:n?"":t.toUpperCase()}),(0,w.jsx)(p.JX,{children:i&&(0,w.jsx)(b.Z,{icon:"desc"===r?"arrowUp-active":"arrowDown-active"})})]})},t)}))})}),(0,w.jsx)(_.Provider,{value:s,children:(0,w.jsx)(E,{children:o||t.map((e=>(0,w.jsx)(S,{children:s.map((t=>(0,w.jsx)(A,{xs:n,children:t.Cell(e)},`${e.id}-${t.key}`)))},e.id)))})})]})},T=e=>{let{data:t,onClick:s=(()=>null)}=e;const n=(0,o.useContext)(_),a=(0,v.Z)("xs");return(0,w.jsx)(S,{onClick:s,children:n.map((e=>(0,w.jsx)(A,{xs:a,children:e.Cell(t)},`${t.id}-${e.key}`)))})},j=y.ZP.table.withConfig({displayName:"Table__StyledTable",componentId:"sc-1bku240-0"})(["border-spacing:0;color:",";line-height:1em;user-select:text;box-sizing:border-box;vertical-align:middle;width:100%;table-layout:fixed;"],(e=>e.theme.colors.white)),k=y.ZP.thead.withConfig({displayName:"Table__StyledTHead",componentId:"sc-1bku240-1"})(["border-spacing:0;color:",";line-height:1em;user-select:text;box-sizing:border-box;vertical-align:middle;white-space:nowrap;font-size:",";border-bottom:1px solid ",";"],(e=>e.theme.colors.white),(e=>e.theme.fonts.size.xs),(e=>e.theme.colors.uiLevel1)),C=y.ZP.th.withConfig({displayName:"Table__StyledTH",componentId:"sc-1bku240-2"})(["padding:10px 5px;font-size:",";letter-spacing:1px;color:",";vertical-align:inherit;cursor:",";width:",";text-align:",";"],(e=>e.theme.fonts.size.xxs),(e=>e.theme.colors.textSecondary),(e=>e.clickable?"pointer":"default"),(e=>e.width&&`${e.width}%`),(e=>e.textAlign)),E=y.ZP.tbody.withConfig({displayName:"Table__StyledTBody",componentId:"sc-1bku240-3"})(["tr:hover{background:",";}"],(e=>e.theme.colors.uiLevel1)),S=y.ZP.tr.withConfig({displayName:"Table__StyledTR",componentId:"sc-1bku240-4"})(["display:table-row;outline:0;vertical-align:middle;cursor:pointer;"]),A=y.ZP.td.withConfig({displayName:"Table__StyledTD",componentId:"sc-1bku240-5"})(["padding:",";font-size:",";text-align:left;color:",";border-bottom:1px solid ",";vertical-align:inherit;height:40px;display:",";text-align:",";overflow:hidden;"],(e=>e.xs?"0.5em 0":"1em 0.5em"),(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.textSecondary),(e=>e.theme.colors.uiLevel1),(e=>e.hidden?"none":"table-cell"),(e=>e.align?e.align:"center"));var M=s("./app/components/Prefabs/Text.tsx"),P=s("./app/components/Views/Asset/Content/Thumbnail.tsx");const N=e=>{let{assetId:t}=e;const s=(0,n.k6)(),y=(0,o.useMemo)((()=>[{Header:"Thumbnail",key:"thumbnail",hideHeaderText:!0,width:12,Cell:function(e){return(0,w.jsx)(p.JX,{pad:[0,10],children:(0,w.jsx)(g.f,{width:80,children:(0,w.jsx)(P.p,{assetId:t,filename:e.name,width:100,fit:!0,placeHolderText:!0})})})}},{Header:"File Name",key:"filename",textAlign:"left",width:75,Cell:function(e){return(0,w.jsx)(p.JX,{alignLeft:!0,children:(0,w.jsx)(M.Z,{sm:!0,secondary:!0,children:(0,c.dv)(e.name)})})}}]),[t]),{data:v,error:b,size:_,setSize:j,isValidating:k}=(0,a.ZP)(((e,s)=>{if(s&&!s.files?.length)return null;const o={limit:10,offset:10*e};return[`${l.Pn.ASSETS}/${t}/list_files?${(0,d.uM)(o)}`,(0,r.bW)(),"paginated-single-asset-files"]}));let C=[];if(v&&v.length>0)for(let e=0;e<v.length;e++)v[e]?.files&&(C=[...C,...v[e].files]);const E=(0,i.Ii)(C).map(((e,o)=>(0,w.jsx)(T,{data:e,onClick:()=>s.push(`/assets/${t}/edit?file=${e.name}`)},`${e.name}-${o}`))),S=!v&&!b||_>0&&v&&void 0===v[_-1],A=0===v?.[0]?.files?.length||v&&v[v.length-1]?.files?.length<10,N=k&&v&&v.length===_;return(0,w.jsxs)(f.Z,{name:"table assets",children:[(0,w.jsx)(m.Z,{}),(0,w.jsx)(p.X2,{children:(0,w.jsx)(o.Suspense,{fallback:(0,w.jsx)(x,{minHeight:150,size:12,children:" "}),children:(0,w.jsx)(I,{columns:y,children:E})})}),!A&&(0,w.jsx)(p.X2,{alignCenter:!0,pad:[20,0],children:S?(0,w.jsx)(h.Z,{}):(0,w.jsx)(p.JX,{size:2,children:(0,w.jsx)(u.Z,{onClick:()=>j(_+1),disabled:A||S||N,message:"Load More"})})}),(0,w.jsx)(m.Z,{pad:20})]})}},"./app/components/Views/Asset/Content/TaskInfo/Gen1TaskInfo/parseGen1TaskInfo.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/StyleReferencePanel/preset-items.ts");const n=e=>{const{gen1Options:t={}}=e.options,s={cfgScale:t.cfg_scale,cfgTemporalScale:t.cfg_temporal_scale,compare:t.compare,depthBlurLevel:t.depth_blur_level,maskModeBackground:t.mask_mode_background,maskModeForeground:t.mask_mode_foreground,seed:t.seed,upscale:t.upscale,video:t.video,watermark:t.watermark,loraScale:t.lora_scale};if(t.image_prompt){const e=(0,o.Ly)(t.image_prompt);e?.id?s.presetId=e.id:s.imagePrompt=t.image_prompt}if(t.text_prompt){const e=(0,o.hh)(t.text_prompt,t.seed);e?.id?s.presetId=e.id:s.textPrompt=t.text_prompt}return s}},"./app/components/Views/Asset/Content/TaskInfo/Gen2TaskInfo/parseGen2TaskInfo.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapMagicToolMotionScoreToTaskMotionScore.ts"),n=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2CameraOptionsToTaskMotionVector.ts"),a=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2MotionBrushOptionsToTaskMotionVector.ts"),i=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/constants.ts");const r=e=>{let{task:t}=e;const{gen2Options:s={}}=t.options,o=s?.motion_vector,r=s?.motion_vector_mask,l=s?.layers,c={};if(!o)return c;if(l){const{x:e,y:t,z:s,r:n}=o;c.motionBrushOptions={values:(0,a.j_)({motionVector:{x:e,y:t,z:s,r:n}}),mask:r??"",layers:(0,a.fD)(l)}}else if(r){const{x:e,y:t,z:s,r:n}=o;c.motionBrushOptions={values:(0,a.j_)({motionVector:{x:e,y:t,z:s,r:n}}),mask:r,layers:[{frozen:!1,mask:r,values:(0,a.j_)({motionVector:{x:e,y:t,z:s,r:n}})},...i.EA.slice(1)]}}if(c.motionBrushOptions){if(Object.entries(o).some((e=>{let[t,s]=e;return t.startsWith("bg_")&&s}))){const{bg_x:e,bg_y:t,bg_z:s,bg_r:a,bg_x_pan:i,bg_y_pan:r}=o;c.cameraOptions=(0,n.Y)({motionVector:{x:e,y:t,z:s,r:a,bg_x_pan:i,bg_y_pan:r}})}}else c.cameraOptions=(0,n.Y)({motionVector:o});return c},l=e=>{const{gen2Options:t={}}=e.options,{text_prompt:s,image_prompt:n,interpolate:a,init_video:i,motion_score:l,motion_vector:c,seed:d,upscale:p,use_motion_score:u,use_motion_vectors:m,watermark:h,style:g,extended_from_task_id:f,init_image_seed:y,init_image_text_prompt:x}=t,v={textPrompt:s,interpolate:a,seed:d,upscale:p,watermark:h,style:g};if(n&&(v.imagePrompt=n),i&&(v.initVideo=i),u&&void 0!==l)v.motionScore=(0,o.E)(l);else if(m&&c){const t=r({task:e});v.cameraOptions=t.cameraOptions,v.motionBrushOptions=t.motionBrushOptions}return"string"==typeof f&&(v.extendedFromTaskId=f),"number"==typeof y&&(v.initImageSeed=y),"string"==typeof x&&(v.initImageTextPrompt=x),v}},"./app/components/Views/Asset/Content/TaskInfo/TaskInfo.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>bt});var o=s("./app/api/hooks/useTask.ts"),n=s("./app/components/ErrorBoundary.tsx"),a=s("./app/components/Prefabs/LoadingDots.tsx"),i=s("./app/components/Views/DebugPanel/DebugPanelWrapper.tsx"),r=s("./app/components/Views/Library/LibraryContext.tsx"),l=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),c=s("./app/utils/hooks/useSelector.ts"),d=s("./node_modules/react/index.js"),p=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=s("./app/components/Views/Asset/events/AssetEvents.tsx"),m=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/StyleReferencePanel/preset-items.ts"),h=s("./app/components/Views/MagicTools/MagicTool/GenZ/constants.ts"),g=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),f=s("./app/devoe/themeDark.ts"),y=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),x=s("./app/components/Views/Asset/Content/TaskInfo/shared/BaseCard/BaseCard.tsx"),v=s("./app/components/Views/Asset/Content/TaskInfo/shared/CardIconContainer/CardIconContainer.tsx"),b=s("./node_modules/react/jsx-runtime.js");const w=(0,p.ZP)(x.Z).withConfig({displayName:"ImageCard__Container",componentId:"sc-a2h2y1-0"})(["position:relative;flex-direction:column;justify-content:space-between;font-size:",";font-weight:600;"," background-size:cover;background-position:center;background-repeat:no-repeat;"],(e=>{let{theme:t}=e;return t.fonts.size.xxl}),(e=>{let{$withBackgroundShadow:t,$imageSrc:s}=e;return t?(0,p.iv)(["background-image:linear-gradient( 0deg,rgba(14,14,14,0.8) 0%,rgba(14,14,14,0) 45.34% ),url(",");"],s):(0,p.iv)(["background-image:url(",");"],s)})),_=e=>{let{children:t,imageSrc:s,withBackgroundShadow:o,...n}=e;return(0,b.jsxs)(w,{$imageSrc:s,$withBackgroundShadow:o,...n,children:[(0,b.jsx)(v.Z,{children:(0,b.jsx)(y.XBm,{width:16,height:16})}),t]})};var I=s("./app/api/mixpanel.ts"),T=s("./app/components/Views/MagicTools/utils.ts"),j=s("./app/components/Views/MagicTools/utils/getMagicToolNameFromId.ts"),k=s("./app/utils/mixpanel.ts"),C=s("./node_modules/react-router-dom/esm/react-router-dom.js"),E=s("./app/components/Prefabs/Icon/Icon.tsx");const S=(0,p.ZP)(l.x).withConfig({displayName:"ChipIcon__IconContainer",componentId:"sc-1oej7ln-0"})(["pointer-events:none;"]);var A=(0,p.ZP)(S).withConfig({displayName:"ChipIcon___StyledIconContainer",componentId:"sc-1oej7ln-1"})(["color:",";"],(e=>e.$_css));const M=e=>{let{className:t,color:s="#ac2271"}=e;return(0,b.jsx)(A,{className:t,$_css:s,children:(0,b.jsx)(E.Z,{icon:"graphics/chip",color:s,size:32})})},P=(0,p.ZP)(l.x).withConfig({displayName:"MagicWandButton__ButtonContainer",componentId:"sc-3sbq1f-0"})(["width:36px;height:36px;align-items:center;justify-content:center;border-radius:100%;background:rgba(255,255,255,0.1);pointer-events:none;"]),N=()=>(0,b.jsx)(P,{children:(0,b.jsx)(E.Z,{icon:"recipes/magic-wand",color:f.Z.colors.brand.eggplant,size:20})});var D=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts");const O=(0,p.ZP)(x.Z).withConfig({displayName:"LinkToMagicToolCard__Container",componentId:"sc-nja31c-0"})(["flex-direction:column;justify-content:space-between;font-size:",";font-weight:600;padding:0;"],(e=>{let{theme:t}=e;return t.fonts.size.xxl}));var L=(0,p.ZP)(O).withConfig({displayName:"LinkToMagicToolCard___StyledContainer",componentId:"sc-nja31c-1"})(["background:",";"],(e=>e.$_css));const R=(0,p.ZP)(C.rU).withConfig({displayName:"LinkToMagicToolCard__InnerContainer",componentId:"sc-nja31c-2"})(["display:flex;flex-direction:column;justify-content:space-between;height:100%;box-sizing:border-box;padding:12px 12px 20px 12px;"]),Z=e=>{let{toolId:t,taskId:s,creationId:o,iconColor:n="#ac2271",backgroundColor:a=f.Z.colors.brand.magenta,...i}=e;const r=(0,D.yF)({toolId:t,taskId:s,creationId:o});if(!r)return null;const c=(0,T.sN)((0,j.Rn)(t));return(0,b.jsx)(L,{...i,$_css:a,children:(0,b.jsxs)(R,{to:r,target:"_blank",onClick:()=>{(0,I.p6)({eventName:u.s.OpenTool,properties:{...(0,k.l)(),assetId:i.assetId,creationId:o,toolId:t}})},children:[(0,b.jsx)(M,{color:n}),(0,b.jsxs)(l.x,{justifyContent:"space-between",alignItems:"center",children:[c,(0,b.jsx)(N,{})]})]})})},U=(0,p.ZP)(x.Z).withConfig({displayName:"PresetCard__Container",componentId:"sc-oroubs-0"})(["position:relative;flex-direction:column;justify-content:space-between;font-size:",";font-weight:600;"," background-size:cover;background-position:center;background-repeat:no-repeat;"],(e=>{let{theme:t}=e;return t.fonts.size.xxl}),(e=>{let{$withBackgroundShadow:t,$imageSrc:s}=e;return t?(0,p.iv)(["background-image:linear-gradient( 0deg,rgba(14,14,14,0.8) 0%,rgba(14,14,14,0) 45.34% ),url(",");"],s):(0,p.iv)(["background-image:url(",");"],s)})),z=e=>{let{children:t,imageSrc:s,withBackgroundShadow:o,...n}=e;return(0,b.jsxs)(U,{$imageSrc:s,$withBackgroundShadow:o,...n,children:[(0,b.jsx)(v.Z,{children:(0,b.jsx)(y.EGi,{width:16,height:16})}),t]})};var V=s("./app/components/Views/Asset/Content/TaskInfo/shared/SeedCard/SeedCard.tsx"),B=s("./app/components/Views/Asset/Content/TaskInfo/shared/SettingsCard/SettingsCard.tsx");const G=(0,p.ZP)(l.x).withConfig({displayName:"SettingsCardBooleanSetting__Container",componentId:"sc-1m3jy54-0"})(["justify-content:space-between;align-items:center;font-size:",";line-height:22px;"],(e=>{let{theme:t}=e;return t.fonts.size.lg})),F=p.ZP.p.withConfig({displayName:"SettingsCardBooleanSetting__Label",componentId:"sc-1m3jy54-1"})(["font-weight:600;"]),$=(0,p.ZP)(l.x).withConfig({displayName:"SettingsCardBooleanSetting__Value",componentId:"sc-1m3jy54-2"})(["align-items:center;gap:8px;color:",";:after{content:'';display:inline-block;width:8px;height:8px;border-radius:100%;background-color:",";}"],(e=>{let{theme:t,$value:s}=e;return s?t.colors.white:t.colors.textInactive}),(e=>{let{theme:t,$value:s}=e;return s?t.colors.primaryLight:t.colors.textInactive})),W=e=>{let{label:t,value:s}=e;return(0,b.jsxs)(G,{children:[(0,b.jsx)(F,{children:t}),(0,b.jsx)($,{$value:s,children:s?"Yes":"No"})]})};var H=s("./app/utils/number.ts");const Y=(0,p.ZP)(l.x).withConfig({displayName:"SettingsCardNumberSetting__Container",componentId:"sc-11nxuk8-0"})(["justify-content:space-between;align-items:center;font-size:",";line-height:22px;"],(e=>{let{theme:t}=e;return t.fonts.size.lg})),X=p.ZP.p.withConfig({displayName:"SettingsCardNumberSetting__Label",componentId:"sc-11nxuk8-1"})(["font-weight:600;"]),q=(0,p.ZP)(l.x).withConfig({displayName:"SettingsCardNumberSetting__Value",componentId:"sc-11nxuk8-2"})(["align-items:center;gap:8px;color:white;"]),J=e=>{let{label:t,value:s}=e;return(0,b.jsxs)(Y,{children:[(0,b.jsx)(X,{children:t}),(0,b.jsx)(q,{children:(0,H.E5)(s,1)})]})};var K=s("./app/components/Views/Asset/Content/TaskInfo/shared/TextCard/TextCard.tsx");const Q=(0,p.ZP)(v.Z).withConfig({displayName:"VideoCard__IconContainer",componentId:"sc-d8o6if-0"})(["position:absolute;top:12px;left:12px;"]),ee=p.ZP.video.attrs({autoPlay:!1,controls:!1}).withConfig({displayName:"VideoCard__Video",componentId:"sc-d8o6if-1"})(["max-height:100%;min-height:100%;min-width:100%;max-width:100%;object-fit:cover;"]),te=(0,p.ZP)(x.Z).withConfig({displayName:"VideoCard__Container",componentId:"sc-d8o6if-2"})(["position:relative;flex-direction:column;justify-content:space-between;font-size:",";font-weight:600;padding:0;"],(e=>{let{theme:t}=e;return t.fonts.size.xxl})),se=e=>{let{children:t,videoSrc:s,...o}=e;return(0,b.jsxs)(te,{...o,children:[(0,b.jsx)(Q,{children:(0,b.jsx)(E.Z,{icon:"task_info/video"})}),(0,b.jsx)(ee,{src:s}),t]})},oe=e=>{let{taskInfo:t,...s}=e;return t.video?(0,b.jsx)(se,{videoSrc:t.video,...s}):null},ne=e=>{let{textPrompt:t,...s}=e;return(0,b.jsx)(K.Z,{...s,text:t,eventName:u.s.CopyPrompt})},ae=e=>{let{thumbnail:t,name:s,...o}=e;return(0,b.jsx)(z,{imageSrc:t,withBackgroundShadow:!0,...o,children:s})},ie=e=>{let{imagePrompt:t,...s}=e;return(0,b.jsx)(_,{imageSrc:t,withBackgroundShadow:!0,...s,children:"Image Style Reference"})},re=e=>{let{taskInfo:t,...s}=e;if(void 0!==t.textPrompt)return(0,b.jsx)(ne,{textPrompt:t.textPrompt,"data-style-reference-type":"text",...s});if(void 0!==t.presetId){const e=(0,m._p)(t.presetId);if(e)return(0,b.jsx)(ae,{name:e.name,thumbnail:e.image,"data-style-reference-type":"preset",...s})}return void 0!==t.imagePrompt?(0,b.jsx)(ie,{imagePrompt:t.imagePrompt,"data-style-reference-type":"image",...s}):null},le=e=>{let{taskInfo:t,...s}=e;return(0,b.jsxs)(B.Z,{...s,children:[void 0!==t.depthBlurLevel&&(0,b.jsx)(J,{label:"Style: structural consistency",value:t.depthBlurLevel}),void 0!==t.cfgScale&&(0,b.jsx)(J,{label:"Style: weight",value:t.cfgScale}),void 0!==t.loraScale&&(0,b.jsx)(J,{label:"LoRA weight",value:t.loraScale}),void 0!==t.cfgTemporalScale&&(0,b.jsx)(J,{label:"Frame consistency",value:t.cfgTemporalScale}),void 0!==t.upscale&&(0,b.jsx)(W,{label:"Upscale",value:t.upscale}),void 0!==t.watermark&&(0,b.jsx)(W,{label:"Remove watermark",value:!t.watermark}),void 0!==t.maskModeForeground&&(0,b.jsx)(W,{label:"Affect foreground only",value:t.maskModeForeground}),void 0!==t.maskModeBackground&&(0,b.jsx)(W,{label:"Affect background only",value:t.maskModeBackground}),void 0!==t.compare&&(0,b.jsx)(W,{label:"Compare wipe",value:t.compare})]})},ce=e=>{let{taskInfo:t,...s}=e;return void 0===t.seed?null:(0,b.jsx)(V.Z,{...s,seed:t.seed,truncatedSeedDigitCount:h.l})},de=e=>{let{taskId:t,...s}=e;return(0,b.jsx)(Z,{toolId:g.W.GEN_1,taskId:t,backgroundColor:f.Z.colors.brand.eggplant,iconColor:"#5409B2",...s})},pe=p.ZP.div.withConfig({displayName:"Gen1TaskInfoLayout__Container",componentId:"sc-1y3ve0b-0"})(["display:grid;gap:12px;[data-grid-item-type='video'],[data-grid-item-type='style-reference']{aspect-ratio:1;}grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:repeat(3,auto);grid-template-areas:",";@media (max-width:","){[data-grid-item-type]:not([data-style-reference-type='image']){aspect-ratio:unset;}grid-template-columns:1fr;","}"],(e=>{let{taskInfo:t}=e;return void 0===t.seed?"\n      'video video style-reference style-reference'\n      'video video style-reference style-reference'\n      'settings settings tool-link tool-link'\n      ":"\n      'video video style-reference style-reference'\n      'video video style-reference style-reference'\n      'settings settings seed tool-link'\n      "}),(e=>{let{theme:t}=e;return t.breakpoints.xs}),(e=>{let{taskInfo:t}=e;return void 0===t.seed?(0,p.iv)(["grid-template-rows:repeat(4,auto);grid-template-areas:",";"],"\n              'video'\n              'style-reference'\n              'settings'\n              'tool-link'\n            "):(0,p.iv)(["grid-template-rows:repeat(5,auto);grid-template-areas:",";"],"\n              'video'\n              'style-reference'\n              'settings'\n              'seed'\n              'tool-link'\n            ")})),ue=e=>{let{taskInfo:t,taskId:s,assetId:o,creationId:n}=e;return(0,b.jsxs)(pe,{taskInfo:t,children:[(0,b.jsx)(oe,{$gridArea:"video","data-grid-item-type":"video",taskInfo:t}),(0,b.jsx)(re,{$gridArea:"style-reference","data-grid-item-type":"style-reference",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(le,{$gridArea:"settings","data-grid-item-type":"settings",taskInfo:t}),(0,b.jsx)(ce,{$gridArea:"seed","data-grid-item-type":"seed",taskInfo:t,creationId:n,assetId:o}),(0,b.jsx)(de,{$gridArea:"tool-link","data-grid-item-type":"tool-link",taskId:s,creationId:n,assetId:o})]})};var me=s("./app/components/Views/Asset/Content/TaskInfo/Gen1TaskInfo/parseGen1TaskInfo.ts");const he=e=>{let{task:t,creationId:s,assetId:o}=e;const n=(0,me.Z)(t);return(0,b.jsx)(ue,{taskInfo:n,taskId:t.id,creationId:s,assetId:o})};var ge=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/highResTextToImageStyles.ts"),fe=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/constants.ts"),ye=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/CollapsedMotionBrushButton/CollapsedMotionBrushButton.tsx"),xe=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/constants.ts");const ve=(0,p.ZP)(l.x).withConfig({displayName:"CameraOptionsCard__CameraOptionsContainer",componentId:"sc-qgj9bj-0"})(["flex-direction:column;gap:4px;"]),be=(0,p.ZP)(x.Z).withConfig({displayName:"CameraOptionsCard__Container",componentId:"sc-qgj9bj-1"})(["flex-direction:column;justify-content:space-between;overflow:auto;::-webkit-scrollbar{display:none;}"]),we=e=>{let{children:t,...s}=e;return(0,b.jsxs)(be,{...s,children:[(0,b.jsx)(v.Z,{children:(0,b.jsx)(E.Z,{size:16,icon:"recipes/gen2/motion-controls/camera-options"})}),(0,b.jsx)(ve,{children:t})]})},_e=(0,p.ZP)(l.x).withConfig({displayName:"CameraOptionsDistanceCardOption__Container",componentId:"sc-uxtzk-0"})(["justify-content:space-between;align-items:center;font-size:",";line-height:22px;"],(e=>{let{theme:t}=e;return t.fonts.size.lg})),Ie=p.ZP.p.withConfig({displayName:"CameraOptionsDistanceCardOption__Label",componentId:"sc-uxtzk-1"})(["font-weight:600;"]),Te=(0,p.ZP)(l.x).withConfig({displayName:"CameraOptionsDistanceCardOption__Value",componentId:"sc-uxtzk-2"})(["align-items:center;gap:8px;color:white;"]),je=e=>{let{option:t,value:s}=e;return s?(0,b.jsxs)(_e,{children:[(0,b.jsx)(Ie,{children:fe.OI[t]}),(0,b.jsx)(Te,{children:s})]}):null},ke=(0,p.ZP)(l.x).withConfig({displayName:"MotionBrushAndCameraControlsOptionsCard__MotionBrushAndCameraControlsOptionsContainer",componentId:"sc-ov3ckd-0"})(["flex-direction:column;height:100%;justify-content:space-between;gap:4px;"]),Ce=(0,p.ZP)(x.Z).withConfig({displayName:"MotionBrushAndCameraControlsOptionsCard__Container",componentId:"sc-ov3ckd-1"})(["flex-direction:column;gap:4px;"]),Ee=e=>{let{children:t,...s}=e;return(0,b.jsx)(Ce,{...s,children:(0,b.jsx)(ke,{children:t})})},Se=(0,p.ZP)(l.x).withConfig({displayName:"SmallStringSetting__Container",componentId:"sc-swkyyw-0"})(["justify-content:space-between;align-items:center;font-size:",";line-height:18px;"],(e=>{let{theme:t}=e;return t.fonts.size.sm})),Ae=p.ZP.p.withConfig({displayName:"SmallStringSetting__Label",componentId:"sc-swkyyw-1"})(["font-weight:600;"]),Me=(0,p.ZP)(l.x).withConfig({displayName:"SmallStringSetting__Value",componentId:"sc-swkyyw-2"})(["align-items:center;gap:8px;color:white;"]),Pe=e=>{let{label:t,value:s}=e;return(0,b.jsxs)(Se,{children:[(0,b.jsx)(Ae,{children:t}),(0,b.jsx)(Me,{children:s})]})},Ne=(0,p.ZP)(l.x).withConfig({displayName:"MotionBrushOptionsCard__MotionBrushOptionsContainer",componentId:"sc-p7uq9d-0"})(["flex-direction:column;gap:4px;"]),De=(0,p.ZP)(x.Z).withConfig({displayName:"MotionBrushOptionsCard__Container",componentId:"sc-p7uq9d-1"})(["flex-direction:column;justify-content:space-between;"]),Oe=e=>{let{children:t,...s}=e;return(0,b.jsxs)(De,{...s,children:[(0,b.jsx)(v.Z,{children:(0,b.jsx)(E.Z,{size:16,icon:"recipes/gen2/motion-controls/motion-brush-options"})}),(0,b.jsx)(Ne,{children:t})]})},Le=(0,p.ZP)(l.x).withConfig({displayName:"MotionBrushOptionsDistanceCardOption__Container",componentId:"sc-2kpj64-0"})(["justify-content:space-between;align-items:center;font-size:",";line-height:22px;"],(e=>{let{theme:t}=e;return t.fonts.size.lg})),Re=p.ZP.p.withConfig({displayName:"MotionBrushOptionsDistanceCardOption__Label",componentId:"sc-2kpj64-1"})(["font-weight:600;"]),Ze=(0,p.ZP)(l.x).withConfig({displayName:"MotionBrushOptionsDistanceCardOption__Value",componentId:"sc-2kpj64-2"})(["align-items:center;gap:8px;color:white;"]),Ue=e=>{let{option:t,value:s}=e;return s?(0,b.jsxs)(Le,{children:[(0,b.jsx)(Re,{children:xe.E9[t]}),"motionPath"!==t&&(0,b.jsx)(Ze,{children:s})]}):null};var ze=s("./app/components/Views/Asset/Content/TaskInfo/shared/SettingsCard/SettingsCardStringSetting/SettingsCardStringSetting.tsx");const Ve=e=>{let{taskInfo:t,assetId:s,creationId:o,...n}=e;return void 0===t.textPrompt?null:(0,b.jsx)(K.Z,{...n,assetId:s,creationId:o,text:t.textPrompt,eventName:u.s.CopyPrompt})},Be=e=>{let{taskInfo:t,...s}=e;return t.imagePrompt?(0,b.jsx)(_,{imageSrc:t.imagePrompt,...s}):null},Ge=e=>{let{taskInfo:t,...s}=e;return t.initVideo?(0,b.jsx)(se,{videoSrc:t.initVideo,...s}):null},Fe=e=>{let{taskInfo:t,...s}=e;return(0,b.jsxs)(B.Z,{...s,children:[t.style&&(0,b.jsx)(ze.Z,{label:"Style",value:(0,ge.Gv)(t.style)}),void 0!==t.motionScore&&(0,b.jsx)(J,{label:"Motion",value:t.motionScore}),void 0!==t.upscale&&(0,b.jsx)(W,{label:"Upscale",value:t.upscale}),void 0!==t.interpolate&&(0,b.jsx)(W,{label:"Interpolate",value:t.interpolate}),void 0!==t.watermark&&(0,b.jsx)(W,{label:"Remove watermark",value:!t.watermark})]})},$e=e=>{let{taskInfo:t,...s}=e;return void 0===t.seed?null:(0,b.jsx)(V.Z,{...s,seed:t.seed,truncatedSeedDigitCount:h.l})},We=e=>{let{taskInfo:t,...s}=e;return t.cameraOptions?(0,b.jsx)(we,{...s,children:fe.Qs.map((e=>{const s=t.cameraOptions?.[e];return s?(0,b.jsx)(je,{option:e,value:s},e):null}))}):null},He=e=>{let{taskInfo:t,...s}=e;if(!t.motionBrushOptions)return null;const o=t.motionBrushOptions?.layers?.some((e=>e.path&&e.path.length>0));return(0,b.jsxs)(Oe,{...s,children:[ye.Q.map((e=>{const s=t.motionBrushOptions?.layers?.filter((t=>t.values?.[e]));return s?s.length<=0?null:1===s.length?(0,b.jsx)(Ue,{option:e,value:s[0].values[e]},e):s.length>1?(0,b.jsx)(Ue,{option:e,value:"Mixed"},e):void 0:null})),o&&(0,b.jsx)(Ue,{option:"motionPath",value:"Mixed"},"motionPath")]})},Ye=e=>{let{taskInfo:t,...s}=e;const{motionBrushOptions:o,cameraOptions:n}=t;return o&&n?(0,b.jsxs)(Ee,{...s,children:[(0,b.jsxs)(l.x,{flexDirection:"column",children:[(0,b.jsx)(Xe,{children:(0,b.jsx)(E.Z,{size:12,icon:"recipes/gen2/motion-controls/camera-options"})}),fe.Qs.map((e=>{const t=n[e];return t?(0,b.jsx)(Pe,{label:fe.OI[e],value:t},e):null}))]}),(0,b.jsxs)(l.x,{flexDirection:"column",children:[(0,b.jsx)(Xe,{children:(0,b.jsx)(E.Z,{size:12,icon:"recipes/gen2/motion-controls/motion-brush-options"})}),ye.Q.map((e=>{const t=o?.layers?.filter((t=>t.values?.[e]));return t?t.length<=0?null:1===t.length?(0,b.jsx)(Pe,{label:xe.E9[e],value:t[0].values[e]},e):t.length>1?(0,b.jsx)(Pe,{label:xe.E9[e],value:"Mixed"},e):void 0:null}))]})]}):null},Xe=(0,p.ZP)(v.Z).withConfig({displayName:"shared__StyledCardIconContainer",componentId:"sc-1rl3btn-0"})(["margin-bottom:4px;"]),qe=e=>{let{taskId:t,...s}=e;return(0,b.jsx)(Z,{toolId:g.W.GEN_2,taskId:t,...s})},Je=p.ZP.div.withConfig({displayName:"Gen2TaskInfoDoublePromptLayoutWithMotionBrushOrCameraOptions__Container",componentId:"sc-jiv4jg-0"})(["display:grid;gap:12px;grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr;grid-template-areas:",";@media (max-width:","){[data-grid-item-type='image-prompt']{aspect-ratio:1;}grid-template-columns:1fr;grid-template-rows:repeat(6,auto);grid-template-areas:",";}"],"\n    'text-prompt text-prompt image-prompt image-prompt'\n    'text-prompt text-prompt image-prompt image-prompt'\n    'settings motion-brush-or-camera-options seed tool-link'\n  ",(e=>{let{theme:t}=e;return t.breakpoints.xs}),"\n      'text-prompt'\n      'image-prompt'\n      'settings'\n      'motion-brush-or-camera-options'\n      'seed'\n      'tool-link'\n  "),Ke=e=>{let{taskInfo:t,taskId:s,assetId:o,creationId:n}=e;return(0,b.jsxs)(Je,{children:[(0,b.jsx)(Ve,{$gridArea:"text-prompt",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(Be,{$gridArea:"image-prompt","data-grid-item-type":"image-prompt",taskInfo:t}),(0,b.jsx)(Fe,{$gridArea:"settings",taskInfo:t}),t.motionBrushOptions&&t.cameraOptions?(0,b.jsx)(Ye,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):t.motionBrushOptions?(0,b.jsx)(He,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):t.cameraOptions?(0,b.jsx)(We,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):null,(0,b.jsx)($e,{$gridArea:"seed",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(qe,{$gridArea:"tool-link",taskId:s,creationId:n,assetId:o})]})},Qe=e=>{let{taskInfo:t,taskId:s,assetId:o,creationId:n}=e;return(0,b.jsxs)(et,{children:[(0,b.jsx)(Ve,{$gridArea:"text-prompt","data-grid-item-type":"text-prompt",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(Be,{$gridArea:"image-prompt","data-grid-item-type":"image-prompt",taskInfo:t}),(0,b.jsx)(Fe,{$gridArea:"settings",taskInfo:t}),(0,b.jsx)($e,{$gridArea:"seed","data-grid-item-type":"seed",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(qe,{$gridArea:"tool-link","data-grid-item-type":"tool-link",taskId:s,creationId:n,assetId:o})]})},et=p.ZP.div.withConfig({displayName:"Gen2TaskInfoDoublePromptLayout__Container",componentId:"sc-x6odt2-0"})(["display:grid;gap:12px;[data-grid-item-type='text-prompt'],[data-grid-item-type='image-prompt'],[data-grid-item-type='seed'],[data-grid-item-type='tool-link']{aspect-ratio:1;}grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr;grid-template-areas:",";@media (max-width:","){[data-grid-item-type]:not([data-grid-item-type='image-prompt']){aspect-ratio:unset;}grid-template-columns:1fr;grid-template-rows:repeat(5,auto);grid-template-areas:",";}"],"\n    'text-prompt text-prompt image-prompt image-prompt'\n    'text-prompt text-prompt image-prompt image-prompt'\n    'settings settings seed tool-link'\n  ",(e=>{let{theme:t}=e;return t.breakpoints.xs}),"\n      'text-prompt'\n      'image-prompt'\n      'settings'\n      'seed'\n      'tool-link'\n  "),tt=e=>{const{cameraOptions:t,motionBrushOptions:s}=e.taskInfo;return t||s?(0,b.jsx)(Ke,{...e}):(0,b.jsx)(Qe,{...e})},st=p.ZP.div.withConfig({displayName:"Gen2TaskInfoExtendedVideoLayoutWithMotionBrushOrCameraOptions__Container",componentId:"sc-1g1z93w-0"})(["display:grid;gap:12px;[data-grid-item-type='init-video']{aspect-ratio:1;}grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr;grid-template-areas:",";@media (max-width:","){[data-grid-item-type]:not([data-grid-item-type='init-video']){aspect-ratio:unset;}grid-template-columns:1fr;grid-template-rows:repeat(4,auto);grid-template-areas:",";}"],"\n    'init-video init-video settings motion-brush-or-camera-options'\n    'init-video init-video seed seed'\n  ",(e=>{let{theme:t}=e;return t.breakpoints.xs}),"\n      'init-video'\n      'settings'\n      'motion-brush-or-camera-options'\n      'seed'\n  "),ot=e=>{let{taskInfo:t,assetId:s,creationId:o}=e;return(0,b.jsxs)(st,{children:[t.initVideo&&(0,b.jsx)(Ge,{$gridArea:"init-video","data-grid-item-type":"init-video",taskInfo:t}),(0,b.jsx)(Fe,{$gridArea:"settings","data-grid-item-type":"settings",taskInfo:t}),t.motionBrushOptions&&t.cameraOptions?(0,b.jsx)(Ye,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):t.motionBrushOptions?(0,b.jsx)(He,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):t.cameraOptions?(0,b.jsx)(We,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):null,(0,b.jsx)($e,{$gridArea:"seed","data-grid-item-type":"seed",taskInfo:t,assetId:s,creationId:o})]})},nt=e=>{let{taskInfo:t,assetId:s,creationId:o}=e;return(0,b.jsxs)(at,{children:[t.initVideo&&(0,b.jsx)(Ge,{$gridArea:"init-video","data-grid-item-type":"init-video",taskInfo:t}),(0,b.jsx)(Fe,{$gridArea:"settings","data-grid-item-type":"settings",taskInfo:t}),(0,b.jsx)($e,{$gridArea:"seed","data-grid-item-type":"seed",taskInfo:t,assetId:s,creationId:o})]})},at=p.ZP.div.withConfig({displayName:"Gen2TaskInfoExtendedVideoLayout__Container",componentId:"sc-3rru4m-0"})(["display:grid;gap:12px;[data-grid-item-type='init-video']{aspect-ratio:1;}grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr;grid-template-areas:",";@media (max-width:","){[data-grid-item-type]:not([data-grid-item-type='init-video']){aspect-ratio:unset;}grid-template-columns:1fr;grid-template-rows:repeat(3,auto);grid-template-areas:",";}"],"\n    'init-video init-video settings settings'\n    'init-video init-video seed seed'\n  ",(e=>{let{theme:t}=e;return t.breakpoints.xs}),"\n      'init-video'\n      'settings'\n      'seed'\n  "),it=e=>{const{cameraOptions:t,motionBrushOptions:s}=e.taskInfo;return t||s?(0,b.jsx)(ot,{...e}):(0,b.jsx)(nt,{...e})},rt=p.ZP.div.withConfig({displayName:"Gen2TaskInfoSinglePromptLayoutWithMotionBrushOrCameraOptions__Container",componentId:"sc-1jpbrvy-0"})(["display:grid;gap:12px;[data-grid-item-type='text-prompt'],[data-grid-item-type='image-prompt'],[data-grid-item-type='seed'],[data-grid-item-type='tool-link']{aspect-ratio:1;}grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr;grid-template-areas:",";@media (max-width:","){[data-grid-item-type]:not([data-grid-item-type='image-prompt']){aspect-ratio:unset;}grid-template-columns:1fr;grid-template-rows:repeat(5,auto);grid-template-areas:",";}"],"\n    'prompt prompt settings motion-brush-or-camera-options'\n    'prompt prompt seed tool-link'\n  ",(e=>{let{theme:t}=e;return t.breakpoints.xs}),"\n      'prompt'\n      'settings'\n      'seed'\n      'motion-brush-or-camera-options'\n      'tool-link'\n  "),lt=e=>{let{taskInfo:t,taskId:s,assetId:o,creationId:n}=e;return(0,b.jsxs)(rt,{children:[t.imagePrompt?(0,b.jsx)(Be,{$gridArea:"prompt","data-grid-item-type":"image-prompt",taskInfo:t}):(0,b.jsx)(Ve,{$gridArea:"prompt","data-grid-item-type":"text-prompt",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(Fe,{$gridArea:"settings","data-grid-item-type":"settings",taskInfo:t}),(0,b.jsx)($e,{$gridArea:"seed","data-grid-item-type":"seed",taskInfo:t,assetId:o,creationId:n}),t.motionBrushOptions&&t.cameraOptions?(0,b.jsx)(Ye,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):t.motionBrushOptions?(0,b.jsx)(He,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):t.cameraOptions?(0,b.jsx)(We,{$gridArea:"motion-brush-or-camera-options",taskInfo:t}):null,(0,b.jsx)(qe,{$gridArea:"tool-link","data-grid-item-type":"tool-link",taskId:s,assetId:o,creationId:n})]})},ct=e=>{let{taskInfo:t,taskId:s,assetId:o,creationId:n}=e;return(0,b.jsxs)(dt,{children:[t.imagePrompt?(0,b.jsx)(Be,{$gridArea:"prompt","data-grid-item-type":"image-prompt",taskInfo:t}):(0,b.jsx)(Ve,{$gridArea:"prompt","data-grid-item-type":"text-prompt",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(Fe,{$gridArea:"settings","data-grid-item-type":"settings",taskInfo:t}),(0,b.jsx)($e,{$gridArea:"seed","data-grid-item-type":"seed",taskInfo:t,assetId:o,creationId:n}),(0,b.jsx)(qe,{$gridArea:"tool-link","data-grid-item-type":"tool-link",taskId:s,assetId:o,creationId:n})]})},dt=p.ZP.div.withConfig({displayName:"Gen2TaskInfoSinglePromptLayout__Container",componentId:"sc-12u1xp6-0"})(["display:grid;gap:12px;[data-grid-item-type='text-prompt'],[data-grid-item-type='image-prompt'],[data-grid-item-type='seed'],[data-grid-item-type='tool-link']{aspect-ratio:1;}grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr;grid-template-areas:",";@media (max-width:","){[data-grid-item-type]:not([data-grid-item-type='image-prompt']){aspect-ratio:unset;}grid-template-columns:1fr;grid-template-rows:repeat(4,auto);grid-template-areas:",";}"],"\n    'prompt prompt settings settings'\n    'prompt prompt seed tool-link'\n  ",(e=>{let{theme:t}=e;return t.breakpoints.xs}),"\n      'prompt'\n      'settings'\n      'seed'\n      'tool-link'\n  "),pt=e=>{const{cameraOptions:t,motionBrushOptions:s}=e.taskInfo;return t||s?(0,b.jsx)(lt,{...e}):(0,b.jsx)(ct,{...e})};var ut=s("./app/components/Views/Asset/Content/TaskInfo/Gen2TaskInfo/parseGen2TaskInfo.ts");const mt=e=>{let{task:t,creationId:s,assetId:o}=e;const n=(0,ut.Z)(t),a=Boolean(n.imagePrompt),i=Boolean(n.textPrompt);return Boolean(n.initVideo)?(0,b.jsx)(it,{taskInfo:n,creationId:s,assetId:o}):a&&i?(0,b.jsx)(tt,{taskInfo:n,taskId:t.id,creationId:s,assetId:o}):(0,b.jsx)(pt,{taskInfo:n,taskId:t.id,creationId:s,assetId:o})};var ht=s("./app/components/Views/Asset/Content/TaskInfo/shared/TaskInfoDebugger/TaskInfoDebugger.tsx");const gt=e=>{let{taskId:t,assetId:s}=e;const{asTeamId:n}=(0,r.t)(),{data:a}=(0,o.Z)({taskId:t,asTeamId:n},{suspense:!0});return(0,b.jsx)(ft,{task:a,assetId:s})},ft=e=>{let{task:t,creationId:s,assetId:o}=e;const n=(0,c.Z)((e=>e.showDebugPanel));return(0,b.jsxs)(yt,{children:[n&&t&&(0,b.jsx)(i.Z,{children:(0,b.jsx)(ht.Z,{task:t})}),"gen1"===t?.taskType&&(0,b.jsx)(he,{task:t,creationId:s,assetId:o}),"gen2"===t?.taskType&&(0,b.jsx)(mt,{task:t,creationId:s,assetId:o})]})},yt=e=>{let{children:t}=e;return(0,b.jsx)(l.x,{flexDirection:"column",gap:"12px",children:t})},xt=()=>null,vt=()=>(0,b.jsx)(l.x,{alignItems:"center",children:(0,b.jsx)(a.Z,{})}),bt=e=>{let{taskId:t,taskData:s,creationId:o,assetId:a}=e;return(0,b.jsx)(n.S,{FallbackComponent:xt,children:(0,b.jsx)(d.Suspense,{fallback:(0,b.jsx)(vt,{}),children:s?(0,b.jsx)(ft,{task:s,creationId:o,assetId:a}):(0,b.jsx)(gt,{taskId:t,assetId:a})})})}},"./app/components/Views/Asset/Content/TaskInfo/shared/BaseCard/BaseCard.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/Components/Common/Base.tsx");const n=(0,s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP)(o.x).withConfig({displayName:"BaseCard",componentId:"sc-1sh73f7-0"})(["background-color:",";border-radius:8px;padding:12px 12px 20px 12px;gap:12px;"," "," overflow:auto;::-webkit-scrollbar{display:none;}"],(e=>{let{theme:t}=e;return t.colors.uiLevel1}),(e=>{let{$gridArea:t}=e;return t?`grid-area: ${t};`:""}),(e=>{let{$aspectRatio:t}=e;return t?`aspect-ratio: ${t};`:""}))},"./app/components/Views/Asset/Content/TaskInfo/shared/CardIconContainer/CardIconContainer.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/Components/Common/Base.tsx");const n=(0,s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP)(o.x).withConfig({displayName:"CardIconContainer",componentId:"sc-1n4dgdq-0"})(["align-items:center;justify-content:center;min-width:32px;min-height:32px;width:32px;height:32px;border-radius:4px;background:",";color:white;"],(e=>{let{theme:t}=e;return t.colors.uiInactive}))},"./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/CopyButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s("./app/components/Prefabs/Text.tsx"),n=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),a=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),i=s("./app/components/Views/MagicTools/Components/Common/Tooltip.tsx"),r=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),l=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),c=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/useHandleCopy.ts"),d=s("./node_modules/react/jsx-runtime.js");const p=(0,l.ZP)(n.x).withConfig({displayName:"CopyButton__Container",componentId:"sc-a9psfy-0"})(["min-width:32px;min-height:32px;width:32px;height:32px;align-items:center;justify-content:center;"]),u=(0,l.ZP)(a.kq).withConfig({displayName:"CopyButton__Button",componentId:"sc-a9psfy-1"})(["width:100%;height:100%;border-radius:4px;padding:0;color:white;background:",";"],(e=>{let{theme:t}=e;return t.colors.uiInactive})),m=e=>{let{text:t}=e;const s=(0,c.Z)();return(0,d.jsx)(i.Z,{content:(0,d.jsx)(o.Z,{xxs:!0,children:"Copy value"}),children:(0,d.jsx)(p,{children:(0,d.jsx)(u,{onClick:()=>s(t),children:(0,d.jsx)(r.dqY,{width:16,height:16})})})})}},"./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/useHandleCopy.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./app/actions/flash.ts"),n=s("./app/utils/copyToClipboard.ts"),a=s("./node_modules/react-redux/es/index.js");const i=()=>{const e=(0,a.I0)();return t=>{(0,n.v)(t),e((0,o.showFlash)({message:"Copied to clipboard!",type:"SUCCESS"}))}}},"./app/components/Views/Asset/Content/TaskInfo/shared/ExtendFromAssetsButton/ExtendFromAssetsButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./app/components/Prefabs/TooltipWrapper.tsx"),n=s("./app/components/Views/Asset/events/AssetEvents.tsx"),a=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),i=s("./app/utils/trackEvent.ts"),r=(s("./node_modules/react/index.js"),s("./node_modules/react-router/esm/react-router.js")),l=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/Molecules/CircularButtonWithIcon.tsx"),d=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),p=s("./node_modules/react/jsx-runtime.js");const u=e=>{let{taskId:t,disabled:s=!1}=e;return s?(0,p.jsx)(o.Z,{message:"Video is too long to extend",zIndexOverride:1100,children:(0,p.jsx)(m,{taskId:t,disabled:s})}):(0,p.jsx)(m,{taskId:t})},m=e=>{let{taskId:t,disabled:s}=e;const o=(0,r.k6)(),l=(0,d.yF)({toolId:a.W.GEN_2,taskId:t,extendVideo:!0});return(0,p.jsx)(h,{icon:"recipes/gen2/extend",iconColor:"white",iconSize:20,text:"Extend",onClick:()=>{(0,i.L)({event:"Click",name:n.s.ExtendAsset}),o.push(l)},disabled:s})},h=(0,l.ZP)(c.Z).withConfig({displayName:"ExtendFromAssetsButton__ExtendButton",componentId:"sc-f0qu4v-0"})(["background:",";color:",";cursor:",";&:hover{background:",";}"],(e=>e.disabled?e.theme.colors.grayscale.gray600:e.theme.colors.primary),(e=>e.disabled?e.theme.colors.grayscale.gray10:"white"),(e=>e.disabled?"not-allowed":"pointer"),(e=>e.disabled?e.theme.colors.grayscale.gray600:e.theme.colors.primaryDark))},"./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts":(e,t,s)=>{"use strict";s.d(t,{Y8:()=>a,dD:()=>o,f5:()=>n,tT:()=>i,yF:()=>r});const o="fromAssetInputDetails",n="fromOriginalAsset",a="fromCreationInputDetails",i="extendVideo",r=e=>{let{toolId:t,taskId:s,creationId:r,extendVideo:l,assetId:c}=e;const d=new URL(window.location.href);return d.pathname=`/ai-tools/${t}`,r?(d.searchParams.set(a,r),d.pathname+d.search):c?(d.searchParams.set(n,c),d.pathname+d.search):s?(d.searchParams.set(o,s),l&&d.searchParams.set(i,"true"),d.pathname+d.search):d.pathname}},"./app/components/Views/Asset/Content/TaskInfo/shared/SeedCard/SeedCard.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var o=s("./app/api/mixpanel.ts"),n=s("./app/components/Views/Asset/events/AssetEvents.tsx"),a=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),i=s("./app/utils/hooks/useHover.ts"),r=s("./app/utils/hooks/useMediaQuery.ts"),l=s("./app/utils/mixpanel.ts"),c=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),d=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),p=s("./app/components/Views/Asset/Content/TaskInfo/shared/BaseCard/BaseCard.tsx"),u=s("./app/components/Views/Asset/Content/TaskInfo/shared/CardIconContainer/CardIconContainer.tsx"),m=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/CopyButton.tsx"),h=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/useHandleCopy.ts"),g=s("./app/components/Views/MagicTools/MagicTool/GenZ/utils/splitSeedForDisplay.ts"),f=s("./node_modules/react/jsx-runtime.js");const y=d.ZP.span.withConfig({displayName:"SeedText__Text",componentId:"sc-ll62rt-0"})(["color:",";word-break:break-word;user-select:text;::selection{background:rgba(229,90,169,0.5);}"],(e=>{let{theme:t}=e;return t.colors.uiLevel3})),x=d.ZP.span.withConfig({displayName:"SeedText__HighlightedText",componentId:"sc-ll62rt-1"})(["color:white;user-select:text;::selection{background:rgba(229,90,169,0.5);}"]),v=e=>{let{seed:t,truncatedSeedDigitCount:s}=e;if(void 0===s)return(0,f.jsx)(x,{children:t});const[o,n]=(0,g.T)({seed:t,truncatedSeedDigitCount:s});return(0,f.jsxs)(y,{children:[o,(0,f.jsx)(x,{children:n})]})},b=(0,d.ZP)(p.Z).withConfig({displayName:"SeedCard__Container",componentId:"sc-1eutywq-0"})(["flex-direction:column;justify-content:space-between;font-size:",";line-height:30px;font-weight:600;cursor:pointer;"," transition:background 0.2s ease-in-out;"],(e=>{let{theme:t}=e;return t.fonts.size.xxl}),(e=>{let{$hovered:t,theme:s}=e;return t&&`background: ${s.colors.grayscale.gray600};`})),w=(0,d.ZP)(u.Z).withConfig({displayName:"SeedCard__IconContainer",componentId:"sc-1eutywq-1"})(["","  transition:background 0.2s ease-in-out;"],(e=>{let{$hovered:t,theme:s}=e;return t&&`background: ${s.colors.brand.magenta};`})),_=e=>{let{children:t,seed:s,truncatedSeedDigitCount:d,inactive:p,...u}=e;const g=(0,r.YQ)(),[y,x]=(0,i.X)(),_=(0,h.Z)();return(0,f.jsxs)(b,{ref:y,$hovered:x,onClick:()=>{p||g||((0,o.p6)({eventName:n.s.CopySeed,properties:{...(0,l.l)(),assetId:u.assetId,creationId:u.creationId}}),_(`${s}`))},...u,children:[(0,f.jsxs)(a.x,{width:"100%",justifyContent:"space-between",children:[(0,f.jsx)(w,{$hovered:x,children:(0,f.jsx)(c.QlJ,{width:16,height:16})}),g&&(0,f.jsx)(m.Z,{text:`${s}`})]}),t,(0,f.jsx)(v,{seed:s,truncatedSeedDigitCount:d})]})}},"./app/components/Views/Asset/Content/TaskInfo/shared/SettingsCard/SettingsCard.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),n=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),a=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),i=s("./app/components/Views/Asset/Content/TaskInfo/shared/BaseCard/BaseCard.tsx"),r=s("./app/components/Views/Asset/Content/TaskInfo/shared/CardIconContainer/CardIconContainer.tsx"),l=s("./node_modules/react/jsx-runtime.js");const c=(0,a.ZP)(o.x).withConfig({displayName:"SettingsCard__SettingsContainer",componentId:"sc-12lxvqz-0"})(["flex-direction:column;gap:4px;"]),d=(0,a.ZP)(i.Z).withConfig({displayName:"SettingsCard__Container",componentId:"sc-12lxvqz-1"})(["flex-direction:column;justify-content:space-between;"]),p=e=>{let{children:t,...s}=e;return(0,l.jsxs)(d,{...s,children:[(0,l.jsx)(r.Z,{children:(0,l.jsx)(n.hsZ,{width:16,height:16})}),(0,l.jsx)(c,{children:t})]})}},"./app/components/Views/Asset/Content/TaskInfo/shared/SettingsCard/SettingsCardStringSetting/SettingsCardStringSetting.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),n=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=s("./node_modules/react/jsx-runtime.js");const i=(0,n.ZP)(o.x).withConfig({displayName:"SettingsCardStringSetting__Container",componentId:"sc-ltknuj-0"})(["justify-content:space-between;align-items:center;font-size:",";line-height:22px;"],(e=>{let{theme:t}=e;return t.fonts.size.lg})),r=n.ZP.p.withConfig({displayName:"SettingsCardStringSetting__Label",componentId:"sc-ltknuj-1"})(["font-weight:600;"]),l=(0,n.ZP)(o.x).withConfig({displayName:"SettingsCardStringSetting__Value",componentId:"sc-ltknuj-2"})(["align-items:center;gap:8px;color:white;display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:8px;"]),c=e=>{let{label:t,value:s}=e;return(0,a.jsxs)(i,{children:[(0,a.jsx)(r,{children:t}),(0,a.jsx)(l,{children:s})]})}},"./app/components/Views/Asset/Content/TaskInfo/shared/TaskInfoDebugger/TaskInfoDebugger.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/react/index.js"),n=s("./app/actions/flash.ts"),a=s("./app/store.ts"),i=s("./app/utils/hooks/useDebugControls.ts"),r=s("./app/utils/copyToClipboard.ts"),l=s("./node_modules/leva/dist/leva.esm.js");const c=e=>{const t=(0,o.useCallback)((()=>{(0,r.v)(JSON.stringify(e,null,2)),a.Z.dispatch((0,n.showFlash)({message:"Copied task info to clipboard",type:"SUCCESS"}))}),[e]);(0,i.Z)("Task Info",{Copy:(0,l.LI)(t)},[t,e])};var d=s("./node_modules/react/jsx-runtime.js");const p=e=>{let{task:t}=e;return c(t),null},u=e=>{let{task:t}=e;return(0,d.jsx)(p,{task:t})}},"./app/components/Views/Asset/Content/TaskInfo/shared/TextCard/TextCard.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>v});var o=s("./app/api/mixpanel.ts"),n=s("./app/components/Views/Asset/events/AssetEvents.tsx"),a=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),i=s("./app/utils/hooks/useHover.ts"),r=s("./app/utils/hooks/useMediaQuery.ts"),l=s("./app/utils/mixpanel.ts"),c=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),d=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),p=s("./app/components/Views/Asset/Content/TaskInfo/shared/BaseCard/BaseCard.tsx"),u=s("./app/components/Views/Asset/Content/TaskInfo/shared/CardIconContainer/CardIconContainer.tsx"),m=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/CopyButton.tsx"),h=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/useHandleCopy.ts"),g=s("./node_modules/react/jsx-runtime.js");const f=(0,d.ZP)(a.x).withConfig({displayName:"TextCard__TextContainer",componentId:"sc-6mc56s-0"})(["overflow:hidden;text-overflow:ellipsis;user-select:text;::selection{background:rgba(229,90,169,0.5);}"]),y=(0,d.ZP)(p.Z).withConfig({displayName:"TextCard__Container",componentId:"sc-6mc56s-1"})(["flex-direction:column;justify-content:space-between;font-size:",";line-height:30px;font-weight:600;cursor:pointer;@media (max-width:","){font-size:",";line-height:22px;}"," transition:background 0.2s ease-in-out;"],(e=>{let{theme:t}=e;return t.fonts.size.xxl}),(e=>{let{theme:t}=e;return t.breakpoints.md}),(e=>{let{theme:t}=e;return t.fonts.size.xl}),(e=>{let{$hovered:t,theme:s}=e;return t&&`background: ${s.colors.grayscale.gray600};`})),x=(0,d.ZP)(u.Z).withConfig({displayName:"TextCard__IconContainer",componentId:"sc-6mc56s-2"})(["","  transition:background 0.2s ease-in-out;"],(e=>{let{$hovered:t,theme:s}=e;return t&&`background: ${s.colors.brand.magenta};`})),v=e=>{let{text:t,inactive:s,...d}=e;const p=(0,r.YQ)(),[u,v]=(0,i.X)(),b=(0,h.Z)();return(0,g.jsxs)(y,{ref:u,$hovered:v,onClick:()=>{s||p||((0,o.p6)({eventName:d.eventName||n.s.CopyText,properties:{...(0,l.l)(),assetId:d.assetId,creationId:d.creationId}}),b(t))},...d,children:[(0,g.jsxs)(a.x,{width:"100%",justifyContent:"space-between",children:[(0,g.jsx)(x,{$hovered:v,children:(0,g.jsx)(c.VL1,{width:16,height:16})}),p&&(0,g.jsx)(m.Z,{text:t})]}),(0,g.jsx)(f,{children:t})]})}},"./app/components/Views/Asset/Content/Thumbnail.tsx":(e,t,s)=>{"use strict";s.d(t,{p:()=>g});var o=s("./node_modules/react/index.js"),n=s("./app/utils/hooks/useSafeState.ts"),a=s("./app/devoe/assets/img/placeholder-text.png");const i=s.p+"1f85e20d1319f031ebf75f789f0e8fc9.png";var r=s("./app/utils/constants.ts"),l=s("./app/utils/filenames.ts"),c=s("./app/utils/http.ts"),d=s("./app/components/Prefabs/Block.tsx"),p=s("./app/components/Prefabs/Loader/Loader.tsx"),u=s("./app/components/Prefabs/Pic.tsx"),m=s("./app/components/Prefabs/PreviewText.tsx"),h=s("./node_modules/react/jsx-runtime.js");const g=e=>{let{assetId:t,filename:s="",width:g,height:f=60,fit:y=!1,placeHolderText:x}=e;const[v,b]=(0,n.Z)(!1),[w,_]=(0,n.Z)(""),[I,T]=(0,n.Z)(!1);return(0,o.useEffect)((()=>{const e=(0,l.EE)(s),o="text"===e,n="image"===e;x&&o?_(a.Z):(T(o),o?(b(!0),fetch(`${r.T5}${r.Pn.ASSETS}/${t}/get_file?name=${encodeURIComponent(s)}`,{headers:(0,c.zl)()}).then((e=>e.text())).then((e=>{_(e),b(!1)}))):n&&(b(!0),fetch(`${r.T5}${r.Pn.ASSETS}/${t}/get_file?name=${encodeURIComponent(s)}`,{headers:(0,c.zl)()}).then((e=>e.blob())).then((e=>{_(URL.createObjectURL(e)),b(!1)}))))}),[t,s]),v?(0,h.jsx)(d.JX,{size:12,blackBackground:!0,minWidth:g,children:(0,h.jsx)(d.X2,{size:12,alignCenter:!0,minHeight:Number(f),children:(0,h.jsx)(p.Z,{width:16,height:16})})}):(0,h.jsx)(o.Suspense,{fallback:(0,h.jsx)(d.JX,{size:12,blackBackground:!0,minWidth:g,children:(0,h.jsx)(d.X2,{size:12,alignCenter:!0,minHeight:Number(f),children:(0,h.jsx)(p.Z,{width:16,height:16})})}),children:I?(0,h.jsx)(d.JX,{size:12,blackBackground:!0,children:(0,h.jsx)(d.X2,{maxHeight:f,minHeight:Number(f),blackBackground:!0,alignCenterHorizontal:!0,children:(0,h.jsx)(m.Z,{minWidth:g,maxWidth:g,minHeight:Number(f),children:w})})}):(0,h.jsx)(u.Z,{src:w??i,height:f,width:g,fit:y,cover:!0})})}},"./app/components/Views/Asset/Header/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Kj:()=>oe,Ii:()=>se,T6:()=>te});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-router/esm/react-router.js"),i=s("./app/utils/hooks/useSafeState.ts"),r=s("./app/api/mixpanel.ts"),l=s("./app/devoe/themeBase.ts"),c=s("./app/utils/hooks/useIsMountedRef.ts"),d=s("./app/utils/hooks/useMediaQuery.ts"),p=s("./app/utils/hooks/useWindowSize.ts"),u=s("./app/utils/mixpanel.ts"),m=s("./node_modules/react-redux/es/index.js"),h=s("./app/devoe/assets/img/placeholder-image.png"),g=s("./app/devoe/assets/img/placeholder-text.png"),f=s("./app/devoe/assets/img/text-pages.png"),y=s("./app/utils/auth.ts"),x=s("./app/utils/filenames.ts"),v=s("./app/components/Prefabs/Block.tsx"),b=s("./app/components/Prefabs/CloseButton/CloseButton.tsx"),w=s("./app/components/Prefabs/GalleryImage.tsx"),_=s("./app/components/Prefabs/Pic.tsx"),I=s("./app/components/Prefabs/PreviewText.tsx"),T=s("./app/components/Prefabs/Section.tsx"),j=s("./app/components/Views/MagicTools/Components/Outputs/VideoOutput.tsx"),k=s("./app/components/Views/MagicTools/utils.ts"),C=s("./app/components/Views/Asset/events/AssetEvents.tsx"),E=s("./node_modules/framer-motion/dist/framer-motion.es.js"),S=s("./app/utils/hooks/useHover.ts"),A=s("./app/utils/hooks/useImmediateEffect.ts"),M=s("./app/utils/hooks/useResizeObserver.ts"),P=s("./app/utils/time.ts"),N=s("./app/components/Prefabs/Icon/Icon.tsx"),D=s("./app/components/Prefabs/Slider.tsx"),O=s("./app/components/Prefabs/Text.tsx"),L=s("./node_modules/react/jsx-runtime.js");const R={PAUSED:{stroke:"#A5B4C7"},SELECTED:{stroke:"#6904E9"},PLAYING:{stroke:"#A5B4C7"}},Z={},U=e=>{let{playbackState:t="PAUSED"}=e;return(0,L.jsxs)(E.ww.svg,{viewBox:"0 0 744 170",fill:"none",xmlns:"http://www.w3.org/2000/svg",initial:"paused",animate:t,variants:{PLAYING:{transition:{staggerChildren:.05}}},children:[(0,L.jsx)(E.ww.line,{x1:"3.54167",y1:"81.4584",x2:"3.54167",y2:"88.5417",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"31.875",y1:"74.3749",x2:"31.875",y2:"95.6249",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"60.2083",y1:"60.2084",x2:"60.2083",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"88.5417",y1:"60.2084",x2:"88.5417",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"116.875",y1:"46.0417",x2:"116.875",y2:"123.958",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"145.208",y1:"46.0417",x2:"145.208",y2:"123.958",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"173.542",y1:"17.7084",x2:"173.542",y2:"152.292",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"201.875",y1:"3.54167",x2:"201.875",y2:"166.458",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"230.208",y1:"24.7917",x2:"230.208",y2:"145.208",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"258.542",y1:"38.9584",x2:"258.542",y2:"131.042",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"286.875",y1:"60.2084",x2:"286.875",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"315.208",y1:"60.2084",x2:"315.208",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"343.542",y1:"67.2917",x2:"343.542",y2:"102.708",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"371.875",y1:"74.3749",x2:"371.875",y2:"95.6249",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"400.208",y1:"67.2917",x2:"400.208",y2:"102.708",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"428.542",y1:"60.2084",x2:"428.542",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"456.875",y1:"60.2084",x2:"456.875",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"485.208",y1:"46.0417",x2:"485.208",y2:"123.958",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"513.542",y1:"38.9584",x2:"513.542",y2:"131.042",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"541.875",y1:"24.7917",x2:"541.875",y2:"145.208",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"570.208",y1:"31.8749",x2:"570.208",y2:"138.125",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"598.542",y1:"46.0417",x2:"598.542",y2:"123.958",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"626.875",y1:"46.0417",x2:"626.875",y2:"123.958",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"655.208",y1:"60.2084",x2:"655.208",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"683.542",y1:"60.2084",x2:"683.542",y2:"109.792",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"711.875",y1:"74.3749",x2:"711.875",y2:"95.6249",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z}),(0,L.jsx)(E.ww.line,{x1:"740.208",y1:"81.4584",x2:"740.208",y2:"88.5417",stroke:"#A5B4C7",strokeWidth:"7.08333",strokeLinecap:"round",variants:R,transition:Z})]})},z=(e,t)=>{switch(t.type){case"METADATA":return{...e,length:t.payload.duration};case"PROGRESS":return{...e,loadedChunks:t.payload.loadedChunks};case"PLAY":return"PLAYING"===e.state?e:{...e,state:"PLAYING"};case"PAUSE":return"PAUSED"===e.state?e:{...e,state:"PAUSED"};case"VOLUME_CHANGE":return{...e,volume:t.payload.volume};case"TIME_CHANGE":return{...e,currentTime:t.payload.currentTime};case"MUTE":return{...e,muted:!0};case"UNMUTE":return{...e,muted:!1};case"BEGIN_SCRUB":return{...e,scrubbing:!0,stateBeforeScrubbing:e.state};case"END_SCRUB":return{...e,scrubbing:!1};default:return e}},V={currentTime:0,length:0,loadedChunks:[],state:"PAUSED",volume:1,muted:!1,stateBeforeScrubbing:"PAUSED",scrubbing:!1},B=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__SliderScaler",componentId:"sc-16xmk4z-0"})(["flex:1;"]),G=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__VolumeContainer",componentId:"sc-16xmk4z-1"})(["position:relative;z-index:3;svg{z-index:2;margin-right:4px;}"]),F=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__VolumeSliderContainer",componentId:"sc-16xmk4z-2"})(["box-sizing:border-box;position:absolute;right:0;top:calc(50% - 12px);width:128px;height:24px;padding-left:16px;padding-right:30px;background:",";border-radius:6px;display:flex;align-items:center;"],(e=>e.theme.colors.uiLevel2)),$=o.ZP.div.withConfig({displayName:"AudioPlayer__Container",componentId:"sc-16xmk4z-3"})(["box-sizing:border-box;position:relative;height:492px;background:",";padding:32px;user-select:none;audio{display:none;}"],(e=>e.theme.colors.uiBackground)),W=o.ZP.div.withConfig({displayName:"AudioPlayer__Controls",componentId:"sc-16xmk4z-4"})(["position:absolute;bottom:32px;left:32px;right:32px;display:flex;padding:8px;display:flex;align-items:center;"]),H=o.ZP.div.withConfig({displayName:"AudioPlayer__PlayPause",componentId:"sc-16xmk4z-5"})(["margin-right:12px;"]),Y=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__Bar",componentId:"sc-16xmk4z-6"})(["position:relative;background:rgba(255,255,255,0.2);height:4px;flex:1;margin-right:16px;"]),X=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__Progress",componentId:"sc-16xmk4z-7"})(["position:absolute;top:0;left:0;height:100%;width:100%;background:#fff;transform-origin:left;pointer-events:none;z-index:2;"]),q=(0,o.ZP)(O.Z).withConfig({displayName:"AudioPlayer__Timecode",componentId:"sc-16xmk4z-8"})(["min-width:100px;"]),J=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__Seek",componentId:"sc-16xmk4z-9"})(["width:","px;height:16px;position:absolute;top:calc(50% - 8px);left:0;border-radius:100%;background:#fff;z-index:3;"],16),K=(0,o.ZP)(E.ww.div).withConfig({displayName:"AudioPlayer__Loaded",componentId:"sc-16xmk4z-10"})(["pointer-events:none;background:#fff;opacity:0.5;position:absolute;height:100%;z-index:1;"]),Q=o.ZP.div.withConfig({displayName:"AudioPlayer__WaveContainer",componentId:"sc-16xmk4z-11"})(["width:100%;height:100%;display:grid;place-items:center;"]),ee=e=>{let{src:t,audioPlayerStyles:s}=e;const o=(0,n.useRef)(null),[a,i]=(e=>{const[t,s]=(0,n.useReducer)(z,V);(0,n.useEffect)((()=>{const t=[["loadedmetadata",()=>{e.current&&(e.current.duration!==1/0?s({type:"METADATA",payload:{duration:e.current.duration}}):e.current.currentTime=Number.MAX_SAFE_INTEGER)}],["durationchange",()=>{e.current&&(e.current.currentTime=0,s({type:"METADATA",payload:{duration:e.current.duration}}))}],["progress",()=>{if(!e.current)return;const t=[];for(let s=0;s<e.current.buffered.length;s++)t.push([e.current.buffered.start(s),e.current.buffered.end(s)]);s({type:"PROGRESS",payload:{loadedChunks:t}})}],["play",()=>s({type:"PLAY"})],["pause",()=>s({type:"PAUSE"})],["volumechange",()=>{e.current&&s({type:"VOLUME_CHANGE",payload:{volume:e.current.volume}})}],["timeupdate",()=>{e.current&&s({type:"TIME_CHANGE",payload:{currentTime:e.current.currentTime}})}]];if(e.current){const s=e.current;return t.forEach((e=>{let[t,o]=e;s.addEventListener(t,o)})),()=>{t.forEach((e=>{let[t,o]=e;s.removeEventListener(t,o)}))}}}),[e]);const o=(0,n.useCallback)((()=>{if(e.current)try{e.current.play()}catch(e){console.error(e)}}),[e]),a=(0,n.useCallback)((()=>{e.current&&e.current.pause()}),[e]);(0,n.useEffect)((()=>{e.current&&(e.current.muted=t.muted)}),[t.muted,e]);const i=(0,n.useCallback)((()=>{"PLAYING"===t.state?a():o()}),[t.state,o,a]),r=(0,n.useCallback)((()=>{t.muted?s({type:"UNMUTE"}):s({type:"MUTE"})}),[t.muted]),l=(0,n.useCallback)((()=>{s({type:"BEGIN_SCRUB"}),a()}),[a]),c=(0,n.useCallback)((()=>{s({type:"END_SCRUB"}),"PLAYING"===t.stateBeforeScrubbing&&o()}),[t.stateBeforeScrubbing,o]),d=(0,n.useCallback)((s=>{e.current&&t.scrubbing&&(e.current.currentTime=s)}),[t.scrubbing]),p=(0,n.useCallback)((t=>{e.current&&(e.current.currentTime=t)}),[]),u=(0,n.useCallback)((t=>{e.current&&(e.current.volume=t)}),[e]);return[{play:o,pause:a,togglePlayPause:i,toggleMute:r,setVolume:u,scrubTo:d,seekTo:p,beginScrub:l,endScrub:c},t]})(o),r=(0,n.useMemo)((()=>`${(0,P.Nl)(i.currentTime)} / ${(0,P.Nl)(i.length)}`),[i.currentTime,i.length]),l=(0,n.useRef)(null),c=(0,M.Z)({ref:l}),d=(0,E.c$)(0);(0,A.Z)((()=>{d.set(i.currentTime/i.length*c.width)}),[i.currentTime,i.length,c.width]);const p=(0,E.Hm)(d,(e=>e/c.width)),u=(0,n.useMemo)((()=>i.loadedChunks.map((e=>{let[t,s]=e;return 0==i.length?[0,0]:[t/i.length*c.width,s/i.length*c.width]}))),[i.loadedChunks,c.width,i.length]),[m,h]=(0,S.X)();return(0,L.jsxs)($,{style:s?.container,children:[(0,L.jsx)("audio",{src:t,ref:o}),(0,L.jsx)(Q,{children:(0,L.jsx)(U,{playbackState:i.state})}),(0,L.jsxs)(W,{style:s?.controls,children:[(0,L.jsx)(H,{style:s?.playPause,children:(0,L.jsx)(N.Z,{icon:"PLAYING"===i.state?"audio-player-pause":"audio-player-play",onClick:a.togglePlayPause})}),(0,L.jsx)(q,{style:s?.timeCode,children:r}),(0,L.jsxs)(Y,{style:s?.bar,whileHover:"seek",ref:l,onPanSessionStart:(e,t)=>{if(!l.current)return;const s=l.current.getBoundingClientRect().left,o=t.point.x-s-8;d.set(o),a.seekTo(o/c.width*i.length)},onPanStart:()=>{a.beginScrub()},onPan:(e,t)=>{let s=d.get()+t.delta.x;s<0?s=0:s>c.width&&(s=c.width),d.set(s),a.scrubTo(s/c.width*i.length)},onPanEnd:()=>{a.endScrub()},children:[(0,L.jsx)(X,{style:{scaleX:p}}),u.map((e=>{let[t,s]=e;return(0,L.jsx)(K,{style:{left:t,width:s-t}},t)})),(0,L.jsx)(J,{style:{x:d}})]}),(0,L.jsxs)(G,{ref:m,style:s?.volume,children:[(0,L.jsx)(N.Z,{onClick:()=>a.toggleMute(),icon:i.muted?"audio-player-muted":"audio-player-speaker",color:"white"}),(0,L.jsx)(E.M_,{children:h&&(0,L.jsx)(F,{layout:!0,initial:"inactive",animate:"active",exit:"inactive",variants:{active:{opacity:1,width:128},inactive:{opacity:0,width:0}},transition:{stiffness:100},children:(0,L.jsx)(B,{layout:!0,children:(0,L.jsx)(D.Z,{min:0,max:1,step:.001,value:i.volume,onChange:e=>a.setVolume(e),barStyle:{height:4,borderRadius:20,background:"#575B6B"},fillStyle:{borderTopLeftRadius:20,borderBottomLeftRadius:20},handleStyle:{background:"#fff"}})})})})]})]})]})},te=600,se=e=>{let{asset:t,assetMediaContext:s,creationId:o,isInLightbox:i}=e;const r=(0,n.useRef)(null),c=(0,a.k6)(),p=(0,m.v9)(y.Pc),u=(0,d.ac)(`(max-width: ${l.u.breakpoints.sm})`);return(0,L.jsxs)(T.Z,{name:"Asset Header",pad:i?[0,16,0,16]:[u?8:32,16,0,16],ref:r,children:[p&&!i&&(0,L.jsx)(b.Z,{onClick:()=>c.goBack(),name:"Back"}),(0,L.jsx)(v.ZP,{flex:!0,horizontal:!0,pad:[u?0:8,0,0,0],children:(0,L.jsx)(oe,{asset:t,assetMediaContext:s,creationId:o,isInLightbox:i})})]})},oe=n.memo((e=>{let{asset:t,style:s,picHeight:o=550,audioPlayerStyles:a,renderAsMediaType:l,useGallery:d=!0,assetMediaContext:m="",creationId:b,isInLightbox:T=!1}=e;const j=l??t.mediaType,E=!(!t.previewUrls?.[0]||"text"!==(0,x.EE)(t.previewUrls[0])),S=!t.previewUrls?.[0],[A,M]=(0,i.Z)("");(0,n.useEffect)((()=>{E&&fetch(t?.previewUrls[0]).then((e=>e.text())).then((e=>M(e)))}),[t,t?.previewUrls,E,M]);const P=(0,c.Z)();let N,D;const O=(0,n.useRef)(null),[R,Z]=(0,n.useState)("");(0,n.useEffect)((()=>{if("video"!==j)return;(async()=>{const e=await(0,k.XY)({inputMedia:t,userInputs:{},videoModelName:"raw_video",videoCommandName:"raw_video",audioModelName:"raw_audio",audioCommandName:"raw_audio",audioSegmentDuration:30});P.current&&Z(e.url??"")})()}),[t,j,P]);const U=(0,n.useMemo)((()=>t.metadata?.size?.width&&t.metadata?.size?.height?t.metadata.size:t.metadata?.dimensions?{width:t.metadata.dimensions[0],height:t.metadata.dimensions[1]}:void 0),[t?.metadata?.dimensions,t?.metadata?.size]),z=!!U&&U?.width<=U?.height,V=U?U?.width/U?.height:"unset",B=(0,n.useMemo)((()=>({video_title:t.name,video_duration:t.metadata?.duration,assetId:t.id,creationId:b})),[t.id,t.metadata?.duration,t.name,b]),G=(0,n.useMemo)((()=>({isUserLoggedIn:(0,y.Pc)()})),[]),F={fallbackAssetUrl:t.url,trackCustomProperties:G,videoMetadata:B},$=(0,p.i)(),W=$.height?$.height-120:te,H=Math.min(te,W),Y=U?.height&&!T&&z&&U.height<H?`${U?.height}px`:"10vh";if("video"===j)D=!0,N=(0,L.jsx)(ne,{size:12,span:12,grow:!0,alignCenter:!0,blackBackground:!0,relative:!0,gutter:0,maxHeight:H,children:(0,L.jsx)(ae,{maxWidth:U?H*U.width/U.height:void 0,$_css:V,$_css2:Y,$_css3:T&&`\n                height: 33vw;\n                max-height: ${te}px;\n              `,children:(0,L.jsx)(ie,{width:t.metadata?.size?.width??"100%",height:t.metadata?.size?.height??te,playlistUrl:R,playerName:m?`assets-player-${m}`:"assets-player",fitVideo:!0,prefetchSegmentCount:10,playerRef:O,onLoadedData:()=>{},onLoadStart:()=>{},onLoadedMetaData:()=>{},onTimeUpdate:()=>{},playerConfig:F,loop:!0,onPlay:()=>{(0,r.p6)({eventName:C.s.PlayVideo,properties:{...(0,u.l)(),assetId:t?.id,creationId:b,assetVisibility:t?.private?"private":"public"}})},muted:T,autoPlay:T})})});else if("image"===j&&t.fileCount>4&&t.previewUrls.length>1&&d||"file"===j&&t.previewUrls.length>=5)D=!1,N=(0,L.jsx)(w.Z,{resource:t});else if("image"===j&&(t.previewUrls.length<5||t.previewUrls.length>=5&&!d)||"text"===j&&!E&&!S){x.Ks.image.some((e=>e.includes((0,x.vN)(t.previewUrls[0]).toLowerCase())))?(D=!0,N=(0,L.jsx)(_.Z,{src:t.previewUrls[0],height:o,scaleDown:!0,color:"white"}),"png"===(0,x.vN)(t?.previewUrls[0])&&(N=(0,L.jsx)(v.JX,{grow:!0,whiteBackground:!0,transparentBackground:!0,children:N}))):N=(0,L.jsx)(_.Z,{src:"text"===t.mediaType?g.Z:h.Z,height:o,scaleDown:!0,color:"white"})}else"text"===j&&E?(D=!0,N=(0,L.jsx)(v.X2,{maxHeight:te,minHeight:te,blackBackground:!0,alignCenterHorizontal:!0,pad:[40,0],children:(0,L.jsx)(I.Z,{minWidth:400,maxWidth:400,minHeight:te-100,children:A})})):"text"===j&&S?(D=!0,N=(0,L.jsx)(_.Z,{src:f.Z,height:o,scaleDown:!0,color:"white"})):"audio"===j&&(N=(0,L.jsx)(ee,{src:t.url,audioPlayerStyles:a}));return(0,L.jsx)(v.JX,{size:12,blackBackground:D,style:s,children:N})}));var ne=(0,o.ZP)(v.X2).withConfig({displayName:"Header___StyledRow",componentId:"sc-1eyroi9-0"})(["background:#121111;border-top-left-radius:8px;border-top-right-radius:8px;"]),ae=(0,o.ZP)(v.X2).withConfig({displayName:"Header___StyledRow2",componentId:"sc-1eyroi9-1"})(["aspect-ratio:",";min-height:",";height:100%;",";max-width:100%;"],(e=>e.$_css),(e=>e.$_css2),(e=>e.$_css3)),ie=(0,o.ZP)(j.Z).withConfig({displayName:"Header___StyledVideoOutput",componentId:"sc-1eyroi9-2"})(["",""],(e=>e.isVertical&&"border-top-left-radius: 8px;\n            border-top-right-radius: 8px;"))},"./app/components/Views/Asset/events/AssetEvents.tsx":(e,t,s)=>{"use strict";s.d(t,{s:()=>o});let o=function(e){return e.OpenCreation="Open Creation",e.OpenAsset="Open Asset",e.ShareAsset="Asset/Creation: Share Asset",e.CopyText="Asset/Creation: Copy Text",e.CopyPrompt="Asset/Creation: Copy Prompt",e.CopySeed="Asset/Creation: Copy Seed",e.OpenTool="Asset/Creation: Click Magic Tool Card",e.SignUp="Asset/Creation: Click Sign Up",e.DownloadAsset="Asset/Creation: Asset Download",e.PlayVideo="Asset/Creation: Play Video",e.PromptTeaserSignup="Asset/Creation: Click sign up from prompt teaser",e.ExtendAsset="Click Extend from Asset",e}({})},"./app/components/Views/Asset/useIsAssetOwner.ts":(e,t,s)=>{"use strict";s.d(t,{M:()=>n});var o=s("./app/api/hooks/useTeams.ts");const n=e=>{const t=(0,o.I7)();return e?.userId===t?.id}},"./app/components/Views/Asset/useLoadAsset.ts":(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var o=s("./app/api/assets.ts"),n=s("./app/utils/hooks/useSafeState.ts"),a=s("./node_modules/react/index.js");const i=e=>{let{assetId:t}=e;const[s,i]=(0,n.Z)(null),[r,l]=(0,n.Z)(null);return{asset:s,error:r,loadAsset:(0,a.useCallback)((()=>{(0,o.Nh)(t).then(i).catch((e=>{if(401===e.status)l("UNAUTHORIZED");else l("NOT_FOUND")}))}),[t,i,l])}}},"./app/components/Views/Asset/utils.ts":(e,t,s)=>{"use strict";s.d(t,{Dc:()=>f,V5:()=>m,Zn:()=>x,fh:()=>v,pI:()=>g});var o=s("./app/api/asset-groups.ts"),n=s("./app/api/assets.ts"),a=s("./app/api/generations.ts"),i=s("./app/api/mixpanel.ts"),r=s("./app/api/tasks.ts"),l=s("./app/utils/mixpanel.ts"),c=s("./node_modules/moment/moment.js"),d=s.n(c),p=s("./app/components/Views/Teamspace/teamspaceEventUtils.ts"),u=s("./app/components/Views/Asset/events/AssetEvents.tsx");const m=async e=>{let{asset:t,asTeamId:s}=e,o={assetId:t.id,url:t.url,name:t.name,type:t.mediaType};if(t.taskId){const e=await(0,r._X)(t.taskId,{asTeamId:s});e?.taskType&&(o=Object.assign(o,{taskType:e?.taskType}),"gen1"===e?.taskType&&h({taskId:t?.taskId,asTeamId:s}))}(0,i.p6)({eventName:u.s.DownloadAsset,properties:{...(0,l.l)(),...o}})},h=async e=>{let{taskId:t,asTeamId:s}=e;const o=await(0,r.Zx)(t,{asTeamId:s});if(!o)return;(0,a.Cw)({id:o,update:{conversion:"download"}})},g=e=>e?e>3600?d().utc(1e3*e).format("HH:mm:ss"):d().utc(1e3*e).format("mm:ss"):"",f=async e=>{let{assetOrAssetGroup:t,privateInTeam:s,asTeamId:a}=e;switch(t.type){case"Asset":return y({assetOrAssetGroup:t,asTeamId:a},(()=>{const e=t.value;return(0,n.O4)({id:e.id,privateInTeam:s,asTeamId:a})}));case"AssetGroup":return y({assetOrAssetGroup:t,asTeamId:a},(()=>{const e=t.value;return(0,o.oi)({id:e.id,privateInTeam:s,asTeamId:a})}))}},y=async(e,t)=>{let{assetOrAssetGroup:s,asTeamId:n}=e;const a=s.value,i=a.parentAssetGroupId;if(i){try{await(0,o.b1)({id:i,childrenIds:[a.id],asTeamId:n})}catch(e){throw new Error(e.message)}try{return await t(),a}catch(e){throw await(0,o.ib)({id:i,childrenIds:[a.id],asTeamId:n}),new Error(e.message)}}else try{return await t(),a}catch(e){throw new Error(e.message)}},x=async e=>{let{assetOrGroup:t,teamspaceId:s,asTeamId:a}=e;switch(t.type){case"Asset":return await y({assetOrAssetGroup:t,asTeamId:a},(()=>{(0,p.Qn)(s);const e=t.value;return(0,n.hd)({id:e.id,teamspaceId:s,asTeamId:a})}));case"AssetGroup":return await y({assetOrAssetGroup:t,asTeamId:a},(()=>{(0,p.NT)(s);const e=t.value;return(0,o.gG)({id:e.id,teamspaceId:s,asTeamId:a})}))}},v=async e=>{let{assetOrGroup:t,teamspaceId:s,asTeamId:a}=e;switch(t.type){case"Asset":return await y({assetOrAssetGroup:t,asTeamId:a},(()=>{(0,p.RS)(s);const e=t.value;return(0,n._Z)({id:e.id,teamspaceId:s,asTeamId:a})}));case"AssetGroup":return await y({assetOrAssetGroup:t,asTeamId:a},(()=>{(0,p.RS)(s);const e=t.value;return(0,o.hO)({id:e.id,teamspaceId:s,asTeamId:a})}))}}},"./app/components/Views/Assets/AddFolderDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{L:()=>v,y:()=>x});var o=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/uuid/dist/esm-browser/v4.js"),r=s("./app/actions/flash.ts"),l=s("./app/api/asset-groups.ts"),c=s("./app/api/hooks/asset-groups/useAssetsExplorerTree.ts"),d=s("./app/api/hooks/useAssetsAndAssetsGroups.ts"),p=s("./app/components/Prefabs/Block.tsx"),u=s("./app/components/Prefabs/RadixDialog.tsx"),m=s("./app/components/Views/Asset/utils.ts"),h=s("./app/components/Views/Library/LibraryContext.tsx"),g=s("./app/components/Views/Assets/shared.tsx"),f=s("./app/components/Views/Assets/useAssetsQuery.ts"),y=s("./node_modules/react/jsx-runtime.js");const x=e=>{let{children:t,createInAssetGroupId:s,privateInTeam:a,onSuccess:i,open:r,setOpen:l}=e;const c=v({createInAssetGroupId:s,privateInTeam:a,onSuccess:e=>{i?.(e),l(!1)}}),[d,m]=(0,n.useState)(!1),h=(0,n.useCallback)((async e=>{e.preventDefault(),m(!0);const t=new FormData(e.target).get("name");await c({assetGroupName:t}),m(!1)}),[c]);return(0,y.jsxs)(o.fC,{open:r,onOpenChange:l,children:[(0,y.jsx)(o.hg,{asChild:!0,children:t}),(0,y.jsxs)(o.h_,{children:[(0,y.jsx)(u.t9,{}),(0,y.jsxs)(u.cZ,{children:[(0,y.jsx)(u.$N,{children:"New folder"}),(0,y.jsxs)("form",{onSubmit:e=>{h(e)},children:[(0,y.jsx)(g.II,{placeholder:"Folder name",disabled:d,type:"text",name:"name",defaultValue:"New Folder",required:!0}),(0,y.jsxs)(p.X2,{alignCenter:!0,children:[(0,y.jsx)(o.x8,{asChild:!0,children:(0,y.jsx)(g.Lw,{disabled:d,type:"button",children:"Cancel"})}),(0,y.jsx)(g.KM,{disabled:d,type:"submit",children:"Add"})]})]})]})]})]})},v=e=>{let{createInAssetGroupId:t,privateInTeam:s,onSuccess:o}=e;const{asTeamId:p,teamspaceId:u}=(0,h.t)(),[{parentId:g,tab:y}]=(0,f.b)(),x=void 0===s?"private"===y:s,v=(0,d.zi)({asTeamId:p,privateInTeam:x,teamspaceId:u}),b=(0,c.sT)({asTeamId:p,privateInTeam:x}),w=(0,a.I0)();return(0,n.useCallback)((async e=>{let{assetGroupName:s}=e;try{const e={createdAt:new Date,createdBy:p,id:i.Z(),name:s,parentAssetGroupId:g||t||null,updatedAt:new Date,children:[]};v((t=>[...t||[],{type:"AssetGroup",value:e}]),!1),await(0,l.FL)({id:e.id,name:e.name,parentAssetGroupId:e.parentAssetGroupId??void 0,asTeamId:p,privateInTeam:x,teamspaceId:u}),!g&&u&&await(0,m.Zn)({assetOrGroup:{value:e,type:"AssetGroup"},teamspaceId:u,asTeamId:p}),o?.(e)}catch(e){w((0,r.showFlash)({message:"Failed to create folder",type:"WARNING"}))}finally{v(),b()}}),[p,b,t,w,x,v,o,g,u])}},"./app/components/Views/Assets/AssetGrid.tsx":(e,t,s)=>{"use strict";s.d(t,{R:()=>j,v:()=>C});var o=s("./app/devoe/themeBase.ts"),n=s("./app/utils/hooks/useMediaQuery.ts"),a=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/utils/hooks/useBasePath.ts"),c=s("./app/utils/hooks/useElementOffsetTop.ts"),d=s("./app/utils/hooks/useElementWidth.ts"),p=s("./app/utils/uploads.ts"),u=s("./app/components/Prefabs/Block.tsx"),m=s("./app/components/Prefabs/RadixDropdownMenu.tsx"),h=s("./app/components/Prefabs/Text.tsx"),g=s("./app/components/Prefabs/VirtualizedGrid.tsx"),f=s("./app/components/Views/Assets/AssetListLightbox.tsx"),y=s("./app/components/Views/Assets/AssetOptions.tsx"),x=s("./app/components/Views/Assets/AssetsList.tsx"),v=s("./app/components/Views/Assets/PendingUploadOptions.tsx"),b=s("./app/components/Views/Assets/SelectionContext.tsx"),w=s("./app/components/Views/Assets/constants.ts"),_=s("./app/components/Views/Assets/shared.tsx"),I=s("./app/components/Views/Assets/useAssetsQuery.ts"),T=s("./node_modules/react/jsx-runtime.js");const j=e=>{let{assets:t,pendingUploads:s}=e;const o=(0,i.useRef)(null),n=(0,d.R)(o),a=(0,c.tT)(o),[r,l]=(0,i.useState)(!1),[p,u]=(0,i.useState)(void 0);return(0,T.jsxs)("div",{ref:o,children:[(0,T.jsx)(g.$,{containerHeight:window.innerHeight,containerWidth:0!==n?n+32:0,gutter:16,numberOfItems:s.length+t.length,minWidth:224,aspectRatio:1.5,offsetTop:a,children:(e,o)=>{if(o<s.length){const t=s[o];return(0,T.jsx)(k,{style:e,upload:t},`${t.id}-${o}`)}const n=t[o-s.length];return(0,T.jsx)(E,{style:e,asset:n,onClick:e=>{u(e),l(!0)}},`${n.id}-${o}`)}}),r&&p&&(0,T.jsx)(f.Z,{asset:p,assetList:t,onClose:()=>l(!1),onChange:u})]})},k=e=>{let{style:t,upload:s}=e;const o=Math.round(100*s.uploadProgress),n=(0,i.useCallback)((()=>{(0,p.m1)(s.id)}),[s.id]);return(0,T.jsx)(v.f,{upload:s,asChild:!0,children:(0,T.jsxs)(P,{tabIndex:0,style:t,children:[(0,T.jsx)(N,{children:(0,T.jsx)(_.GK,{upload:s,height:"100%",width:"100%"})}),(0,T.jsxs)(u.JX,{pad:[0,8,8,8],gutter:4,alignLeft:!0,style:{flexShrink:0},children:[(0,T.jsx)(h.Z,{md:!0,noWrap:!0,children:s.name}),(0,T.jsxs)(h.Z,{xxs:!0,color:"primaryLight",children:[o,"% uploaded"]})]}),(0,T.jsx)(A,{}),(0,T.jsx)(M,{onClick:n,children:"Cancel upload"})]})})},C=e=>{switch(e.mediaType){case"video":return`Video ${(0,x.g)(e)}`;case"image":return"Image"+(e.metadata?.size?`, ${e.metadata.size.width} x ${e.metadata.size.height}`:"");case"audio":return"Audio";case"file":return"File";case"text":return"Text"}},E=e=>{let{style:t,asset:s,onClick:i}=e;const{setNodeRef:r,attributes:c,listeners:d,active:p}=(0,a.O1)({id:s.id,data:{type:"asset",parentAssetGroupId:s.parentAssetGroupId}}),m=(0,b.fY)(s.id,"asset",s.createdBy),g=(0,b.Vw)(s.id),f=(0,l.Z)("assets"),x=(0,_.B3)(`${f}${s.id}`),[,v]=(0,I.b)(),j=(0,n.ac)(`(max-width: ${o.u.breakpoints.sm})`),k=(0,n.YQ)();return(0,T.jsx)(y.V3,{asset:s,asChild:!0,children:(0,T.jsxs)(S,{ref:r,...c,...(0,_.YV)(d),style:t,onClick:e=>{k?x(e):m(e)},"data-selected":g,"data-dragging":p&&g,onDoubleClick:e=>{k||(j?x(e):i(s))},children:[(0,T.jsx)(N,{children:(0,T.jsx)(_.Ee,{src:(0,_.lR)(s,w.Z.MEDIUM)})}),(0,T.jsxs)(u.X2,{spaceBetween:!0,alignCenterVertical:!0,overflowHidden:!0,style:{flexShrink:0},pad:[0,8,8,8],children:[(0,T.jsxs)(u.JX,{gutter:4,alignLeft:!0,overflowHidden:!0,children:[(0,T.jsx)(h.Z,{md:!0,noWrap:!0,children:s.name}),(0,T.jsxs)(D,{gutter:8,overflowHidden:!0,children:[(0,T.jsx)(_.H8,{children:s.isUserUpload?"Upload":"Export"}),(0,T.jsxs)(O,{gutter:4,alignCenterVertical:!0,overflowHidden:!0,children:[s.parentAssetGroupName&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(_.W3,{style:{overflow:"hidden"},to:{search:v({parentId:s.parentAssetGroupId??void 0})},children:["In ",(0,T.jsx)("span",{children:s.parentAssetGroupName})]}),(0,T.jsx)(L,{sm:!0,secondary:!0,noWrap:!0,children:"•"})]}),(0,T.jsx)(R,{sm:!0,secondary:!0,noWrap:!0,children:C(s)})]})]})]}),(0,T.jsx)(y.fy,{asset:s})]})]})})},S=r.ZP.div.withConfig({displayName:"AssetGrid__AssetCardContainer",componentId:"sc-1tcl991-0"})(["cursor:pointer;background-color:",";border-radius:4px;box-sizing:border-box;display:flex;flex-direction:column;gap:8px;transition:transform 0.3s ease;&[data-dragging='true']{opacity:0.6;}&[data-selected='true']{outline:2px solid ",";}& ",'[data-state="closed"]{opacity:0;pointer-events:none;position:absolute;}&:hover ',",&:focus-visible ",",& ",":focus{position:static;opacity:1;pointer-events:all;}&:hover,&:focus-visible{transform:scale(1.05);}"],(e=>e.theme.colors.grayscale.gray600),(e=>e.theme.colors.primary),m.OI,m.OI,m.OI,m.OI),A=r.ZP.div.withConfig({displayName:"AssetGrid__UploadCardHoverBackground",componentId:"sc-1tcl991-1"})(["opacity:0;pointer-events:none;position:absolute;inset:0;transition:opacity 0.3s ease;background-color:",";"],(e=>e.theme.colors.uiBackground)),M=r.ZP.button.withConfig({displayName:"AssetGrid__UploadCardCancelButton",componentId:"sc-1tcl991-2"})(["box-sizing:border-box;cursor:pointer;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:",";line-height:",";color:",";padding:4px 12px;border:1px solid ",";transition:all 0.3 ease;border-radius:20px;white-space:nowrap;background-color:",";&:hover{color:",";background-color:",";}"],(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.theme.colors.primaryLight),(e=>e.theme.colors.primaryLight),(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.primaryLight)),P=(0,r.ZP)(S).withConfig({displayName:"AssetGrid__UploadCardContainer",componentId:"sc-1tcl991-3"})(["cursor:initial;position:relative;& video{cursor:default;}&:hover{& ","{opacity:0.7;}& ","{opacity:1;}}"],A,M),N=r.ZP.div.withConfig({displayName:"AssetGrid__ImageContainer",componentId:"sc-1tcl991-4"})(["display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-top-left-radius:4px;border-top-right-radius:4px;overflow:hidden;position:relative;background-color:#666e7a;"]);var D=(0,r.ZP)(u.X2).withConfig({displayName:"AssetGrid___StyledRow",componentId:"sc-1tcl991-5"})(["width:100%"]),O=(0,r.ZP)(u.X2).withConfig({displayName:"AssetGrid___StyledRow2",componentId:"sc-1tcl991-6"})(["width:100%"]),L=(0,r.ZP)(h.Z).withConfig({displayName:"AssetGrid___StyledText",componentId:"sc-1tcl991-7"})(["flex-shrink:0;"]),R=(0,r.ZP)(h.Z).withConfig({displayName:"AssetGrid___StyledText2",componentId:"sc-1tcl991-8"})(["flex-shrink:0;"])},"./app/components/Views/Assets/AssetListLightbox.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>le});var o=s("./app/components/Prefabs/Block.tsx"),n=s("./app/components/Prefabs/Lightbox.tsx"),a=s("./app/components/Prefabs/LoadingEllipsis/LoadingEllipsis.tsx"),i=s("./app/components/Prefabs/Section.tsx"),r=s("./app/components/Prefabs/TooltipWrapper.tsx"),l=s("./app/components/UI/Base.tsx"),c=s("./app/utils/auth.ts"),d=s("./app/utils/hooks/useHasGen2NewPromptReveal.ts"),p=s("./node_modules/react/index.js"),u=s("./node_modules/react-redux/es/index.js"),m=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=s("./app/components/Views/Asset/Content/ContentV2/AssetContentV2.tsx"),g=s("./app/components/Views/Asset/Content/TaskInfo/TaskInfo.tsx"),f=s("./app/components/Views/Asset/Header/index.tsx"),y=s("./app/components/Views/Asset/useLoadAsset.ts"),x=s("./app/components/Views/Library/LibraryContext.tsx"),v=s("./app/actions/flash.ts"),b=s("./app/api/hooks/useTask.ts"),w=s("./app/api/hooks/useTeams.ts"),_=s("./app/constants/z-indexes.ts"),I=s("./app/utils/hooks/useSelector.ts"),T=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),j=s("./app/components/Views/Asset/Content/AssetMetadata/MediaMetadata.tsx"),k=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/CoreAssetActions.tsx"),C=s("./app/components/Views/Asset/Content/AssetMetadata/ShareableAssetActions/Molecules/CircularButtonWithIcon.tsx"),E=s("./app/components/Views/Asset/Content/TaskInfo/shared/ExtendFromAssetsButton/ExtendFromAssetsButton.tsx"),S=s("./app/components/Views/Asset/useIsAssetOwner.ts"),A=s("./app/components/Views/MagicTools/Components/Common/Sharing/ShareGenerationResult.tsx"),M=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/canExtendTaskInGen2.ts"),P=s("./app/components/Prefabs/RadixDropdownMenu.tsx"),N=s("./app/components/Prefabs/Text.tsx"),D=s("./app/utils/trackEvent.ts"),O=s("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),L=s("./node_modules/react-router/esm/react-router.js"),R=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),Z=s("./app/components/Views/Dashboard/Components/Text.tsx"),U=s("./node_modules/react/jsx-runtime.js");const z=[{id:"remix",title:"Remix prompt",mnemonic:"G2"}],V=e=>{let{taskId:t,assetId:s}=e;const[o,n]=(0,p.useState)(!1),{asTeamId:a}=(0,x.t)(),{data:i}=(0,b.Z)({taskId:t,asTeamId:a},{suspense:!0}),r=(0,L.k6)(),l=(0,R.yF)({toolId:"gen-2",taskId:t}),c=(0,p.useCallback)((e=>{let{editWorkflowId:t}=e;(0,D.L)({event:"Click",name:"Open asset in tool",section:"Asset Lightbox",otherProperties:{editWorkflowId:t,assetId:s}}),"remix"===t&&r.push(l)}),[s,r,l]);return"gen2"!==i?.taskType?null:(0,U.jsxs)(O.fC,{open:o,onOpenChange:n,children:[(0,U.jsxs)(B,{children:[(0,U.jsx)(G,{lg:!0,children:"Edit"}),(0,U.jsx)(W,{height:20,width:20})]}),(0,U.jsx)(H,{align:"end",sideOffset:6,children:z.map((e=>(0,U.jsx)(F,{config:{...e,onSelect:c},selected:!1},e.title)))})]})},B=(0,m.ZP)(O.xz).withConfig({displayName:"OpenAssetInToolDropdown__DropdownTrigger",componentId:"sc-1snxsbk-0"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;background:",";border-radius:96px;height:40px;padding:12px 12px 12px 18px;border:none;cursor:pointer;gap:4px;&:hover{background:",";}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.grayscale.gray500)),G=(0,m.ZP)(N.Z).withConfig({displayName:"OpenAssetInToolDropdown__DropdownTriggerText",componentId:"sc-1snxsbk-1"})(["color:",";text-align:center;font-family:Roobert;font-size:14px;font-style:normal;font-weight:500;line-height:20px;"],(e=>{let{theme:t}=e;return t.colors.white})),F=e=>{let{config:t,selected:s}=e;const o=(0,m.Fg)();return(0,U.jsxs)($,{onSelect:()=>{t.onSelect({editWorkflowId:t.id})},"data-selected":s,children:[(0,U.jsx)(l.x,{style:{backgroundColor:o.colors.brand.magenta,position:"relative",width:16,height:16,borderRadius:4},children:(0,U.jsx)(Y,{"min-width":21,children:t.mnemonic})}),t.title]})},$=(0,m.ZP)(P.R3).withConfig({displayName:"OpenAssetInToolDropdown__DropdownItem",componentId:"sc-1snxsbk-2"})(["display:flex;flex-direction:row;justify-content:flex-start;gap:8px;font-style:normal;font-weight:500;font-size:12px;line-height:16px;color:",";border-radius:0;&[data-selected='true']{background:",";color:white;}"],(e=>{let{theme:t}=e;return t.colors.white}),(e=>{let{theme:t}=e;return t.colors.primary}));var W=(0,m.ZP)(T.VAA).withConfig({displayName:"OpenAssetInToolDropdown___StyledCaretDownIcon",componentId:"sc-1snxsbk-3"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.white})),H=(0,m.ZP)(P.gR).withConfig({displayName:"OpenAssetInToolDropdown___StyledStyledDropdownContent",componentId:"sc-1snxsbk-4"})(["width:190px;background-color:",";border-radius:12px;padding:8px;"],(e=>{let{theme:t}=e;return t.colors.uiLevel1})),Y=(0,m.ZP)(Z.aC).withConfig({displayName:"OpenAssetInToolDropdown___StyledHeading",componentId:"sc-1snxsbk-5"})(["margin:auto;text-align:center;font-family:Roobert;font-size:8px;font-style:normal;font-weight:600;line-height:16px;"]),X=s("./app/components/Views/Assets/shared.tsx");const q=e=>{let{asset:t,loadAsset:s,onClose:o}=e;const n=(0,u.I0)(),a=(0,I.Z)(c.Pc),i=`${window.location.origin}/assets/${t.id}`,l=(0,S.M)(t),d=(0,w.Qt)({suspense:!0}),m=(0,w.B9)(d?.id,{suspense:!0}),[h,g]=(0,p.useState)(!1),{asTeamId:f}=(0,x.t)(),{data:y}=(0,b.Z)({taskId:t.taskId,asTeamId:f}),C=(0,M.z8)(y),P=(0,M.P2)(y),N=C&&l;return(0,U.jsxs)(K,{flexDirection:"row",onClick:e=>{e.stopPropagation()},children:[(0,U.jsxs)(Q,{flexDirection:"column",flexGrow:1,gap:"1px",children:[(0,U.jsx)(j.Jf,{lg:!0,asset:t}),(0,U.jsx)(j.fi,{sm:!0,asset:t})]}),(0,U.jsxs)(ee,{flexDirection:"row",justifyContent:"flex-end",children:[N&&(0,U.jsx)(E.Z,{disabled:!P,taskId:t.taskId}),a&&m&&t.taskId&&(0,U.jsx)(V,{taskId:t.taskId,assetId:t.id}),(0,U.jsx)(te,{icon:"public-share",iconColor:"white",iconSize:15,onClick:async e=>{e?.stopPropagation(),a&&l?g(!0):(0,X.KX)({assetLink:i,asset:t,onComplete:()=>{n((0,v.showFlash)({message:"Copied link!",type:"SUCCESS"}))}})}}),a&&(0,U.jsx)(se,{children:(0,U.jsx)(k.Z,{asset:t,loadAsset:s,isInLightbox:!0,overflowStyle:{zIndex:_.I.DropdownInLightbox}})}),(0,U.jsx)(r.Z,{message:"Close (Esc)",zIndexOverride:1100,children:(0,U.jsx)(J,{onClick:o,children:(0,U.jsx)(T.Pxu,{height:16,width:16})})})]}),h&&(0,U.jsx)(A.Z,{shareLocation:"asset-page",taskId:t.taskId,taskArtifactId:t.id,open:!0,onOpenChange:e=>{g(e)},onClose:()=>{g(!1)},onPublishCallback:s})]})},J=m.ZP.button.withConfig({displayName:"AssetListLightboxMetadataBar__CircularButtonWithRadixIcon",componentId:"sc-ccap1u-0"})(["isolation:isolate;background:",";color:",";border-radius:96px;border-width:0;cursor:pointer;align-items:center;justify-content:center;gap:8px;height:40px;width:40px;display:flex;&:hover{background:",";color:",";}"],(e=>e.theme.colors.white),(e=>e.theme.colors.black),(e=>e.theme.colors.textSecondary),(e=>e.theme.colors.white));var K=(0,m.ZP)(l.x).withConfig({displayName:"AssetListLightboxMetadataBar___StyledBox",componentId:"sc-ccap1u-1"})(["background:",";min-height:71px;width:100%;padding:16px;"],(e=>e.theme.colors.black)),Q=(0,m.ZP)(l.x).withConfig({displayName:"AssetListLightboxMetadataBar___StyledBox2",componentId:"sc-ccap1u-2"})(["padding-left:16px;"]),ee=(0,m.ZP)(l.x).withConfig({displayName:"AssetListLightboxMetadataBar___StyledBox3",componentId:"sc-ccap1u-3"})(["gap:12px;align-items:center;"]),te=(0,m.ZP)(C.Z).withConfig({displayName:"AssetListLightboxMetadataBar___StyledCircularButtonWithIcon",componentId:"sc-ccap1u-4"})(["background-color:",";"],(e=>e.theme.colors.uiLevel1)),se=(0,m.ZP)(l.x).withConfig({displayName:"AssetListLightboxMetadataBar___StyledBox4",componentId:"sc-ccap1u-5"})(["position:relative;"]);const oe=e=>{let{asset:t}=e;const{asTeamId:s}=(0,x.t)(),o=t?.userId===s,n=(0,u.v9)(c.Pc);return t?(0,U.jsxs)(ue,{span:12,scrollable:!0,gutter:0,children:[(0,U.jsx)(f.Ii,{asset:t,isInLightbox:!0}),t.taskId&&n&&o&&(0,U.jsx)(i.Z,{name:"Task info",pad:[12,16,0,16],children:(0,U.jsx)(g.Z,{taskId:t.taskId,assetId:t.id})})]}):null},ne=e=>{let{asset:t}=e;const s=(0,d.Z)(),o=e=>{e.stopPropagation()};return t?s?(0,U.jsx)(pe,{onClick:o,children:(0,U.jsx)(h.Z,{isInLightbox:!0,assetId:t.id})}):(0,U.jsx)(de,{onClick:o,children:(0,U.jsx)(oe,{asset:t})}):null},ae=e=>{let{asset:t}=e;const s=(0,u.v9)(c.Pc),o=e=>{e.stopPropagation()};return t?s?(0,U.jsx)(ne,{asset:t}):(0,U.jsx)(de,{onClick:o,children:(0,U.jsx)(oe,{asset:t})}):null},ie=e=>{let{onClose:t,asset:s,assetList:o,onChange:a}=e;const[i,c]=(0,p.useState)(s),{asset:d,loadAsset:u}=(0,y.R)({assetId:i.id});(0,p.useEffect)((()=>{d&&c(d)}),[d]),(0,p.useEffect)((()=>{c(s)}),[s]);const m=o.findIndex((e=>e.id===i.id)),h=0!==m,g=m!==o.length-1,f=(0,p.useCallback)((e=>{if(e?.stopPropagation(),!h)return;const t=n.PR({currentIndex:m,list:o});t&&t.id!==i.id&&a(t)}),[h,m,o,i.id,a]),x=(0,p.useCallback)((e=>{if(e?.stopPropagation(),!g)return;const t=n.Y2({currentIndex:m,list:o});t&&t.id!==i.id&&a(t)}),[g,m,o,i.id,a]);return(0,p.useEffect)((()=>{const e=e=>{"ArrowLeft"!==e.key&&"j"!==e.key||!h||f(),"ArrowRight"!==e.key&&"k"!==e.key||!g||x(),"Escape"===e.key&&t?.()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[g,h,x,f,t]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(q,{asset:i,loadAsset:u,onClose:t}),(0,U.jsxs)(l.x,{flexDirection:"row",alignItems:"center",children:[(0,U.jsx)(l.x,{height:56,width:56,children:!!h&&(0,U.jsx)(r.Z,{message:"Previous (Left Arrow)",zIndexOverride:1100,children:(0,U.jsx)(ge,{onClick:f,caretIcon:!0,$_css:!h&&"\n                    opacity: 0;\n                    pointer-events: none;\n                    "})})}),(0,U.jsx)(ae,{asset:i}),(0,U.jsx)(l.x,{height:56,width:56,children:g&&(0,U.jsx)(r.Z,{message:"Next (Right Arrow)",zIndexOverride:1100,children:(0,U.jsx)(fe,{onClick:x,caretIcon:!0,$_css2:!g&&"\n              opacity: 0;\n              pointer-events: none;\n              "})})})]})]})},re=e=>{let{}=e;return(0,U.jsx)(a.Z,{})},le=e=>{let{onClose:t,asset:s,assetList:o,onChange:n}=e;return(0,U.jsx)(me,{onClick:t,children:(0,U.jsx)(he,{flexDirection:"column",justifyContent:"flex-start",alignItems:"center",children:(0,U.jsx)(p.Suspense,{fallback:re,children:(0,U.jsx)(ie,{onClose:t,asset:s,assetList:o,onChange:n})})})})},ce=(0,m.iv)(["background-color:",";border-radius:96px;height:56px;width:56px;display:flex;&:hover{background-color:",";}"],(e=>e.theme.colors.black),(e=>e.theme.colors.uiLevel1)),de=(0,m.ZP)(n.VY).withConfig({displayName:"AssetListLightbox__LightboxContent",componentId:"sc-1stwy2d-0"})(["display:flex;align-items:center;background:none;padding:8px;border-radius:8px;max-height:80vh;width:60vw;"]),pe=(0,m.ZP)(n.VY).withConfig({displayName:"AssetListLightbox__LightboxContentV2",componentId:"sc-1stwy2d-1"})(["display:flex;align-items:center;background:none;padding:8px;border-radius:8px;max-height:80vh;width:80vw;@media screen and (max-width:1024px){max-height:85vh;min-height:85vh;}"]),ue=(0,m.ZP)(o.JX).withConfig({displayName:"AssetListLightbox__Container",componentId:"sc-1stwy2d-2"})(["background-color:",";padding-bottom:8px;padding-top:8px;width:100%;height:auto;max-height:80vh;overflow-x:hidden;border-radius:8px;::-webkit-scrollbar{width:4px;}::-webkit-scrollbar-thumb{border:4px solid ",";border-radius:9999px;background-color:",";}::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar-corner{background:",";}"],(e=>e.theme.colors.uiBackground),(e=>e.theme.colors.secondary),(e=>e.theme.colors.secondary),(e=>e.theme.colors.uiHoverable));var me=(0,m.ZP)(n.fC).withConfig({displayName:"AssetListLightbox___StyledLightboxRoot",componentId:"sc-1stwy2d-3"})(["background-color:rgba(0,0,0,0.2);opacity:0.8;backdrop-filter:blur(10px);"]),he=(0,m.ZP)(l.x).withConfig({displayName:"AssetListLightbox___StyledBox",componentId:"sc-1stwy2d-4"})(["width:100%;height:100%;gap:32px;"]),ge=(0,m.ZP)(n.IT).withConfig({displayName:"AssetListLightbox___StyledLightboxLeftArrow",componentId:"sc-1stwy2d-5"})(["",";",""],(e=>e.$_css),ce),fe=(0,m.ZP)(n.UV).withConfig({displayName:"AssetListLightbox___StyledLightboxRightArrow",componentId:"sc-1stwy2d-6"})(["",";",""],(e=>e.$_css2),ce)},"./app/components/Views/Assets/AssetOptions.tsx":(e,t,s)=>{"use strict";s.d(t,{V3:()=>P,fy:()=>M});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/utils/downloadZipWithToast.ts"),a=s("./node_modules/@radix-ui/react-context-menu/dist/index.module.js"),i=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),r=s("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),l=s("./node_modules/react/index.js"),c=s("./node_modules/react-redux/es/index.js"),d=s("./app/actions/flash.ts"),p=s("./app/api/assets.ts"),u=s("./app/api/hooks/asset-groups/useAssetsExplorerTree.ts"),m=s("./app/api/hooks/assets/useUserCanEditAssets.ts"),h=s("./app/api/hooks/useAssetsAndAssetsGroups.ts"),g=s("./app/utils/downloads.ts"),f=s("./app/components/Prefabs/Block.tsx"),y=s("./app/components/Prefabs/Icon/Icon.tsx"),x=s("./app/components/Prefabs/RadixContextMenu.tsx"),v=s("./app/components/Prefabs/RadixDialog.tsx"),b=s("./app/components/Prefabs/RadixDropdownMenu.tsx"),w=s("./app/components/Views/Asset/utils.ts"),_=s("./app/components/Views/Library/LibraryContext.tsx"),I=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),T=s("./app/components/Views/Assets/DeleteAssetOrAssetGroupDialog.tsx"),j=s("./app/components/Views/Assets/MoveAssetOrAssetGroupDialog.tsx"),k=s("./app/components/Views/Assets/SelectionContext.tsx"),C=s("./app/components/Views/Assets/hooks/useGetShareWithWorkspaceOrTeamspaceMessage.ts"),E=s("./app/components/Views/Assets/shared.tsx"),S=s("./app/components/Views/Assets/useAssetsQuery.ts"),A=s("./node_modules/react/jsx-runtime.js");const M=e=>{let{asset:t}=e;const[s,n]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),u=(0,o.Qt)({suspense:!0}),h=(0,C.g)(u.id),f=(0,l.useCallback)((async()=>{const e=await(0,p.CT)(t.id);(0,g.Sv)({name:t.name,url:e}),(0,w.V5)({asset:t,asTeamId:u?.id})}),[t,u?.id]),[{tab:x}]=(0,S.b)(),{visible:v,disabled:_}=(0,j.w)([t]),I=(0,m.H)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(N,{asset:t,open:s,onOpenChange:n}),(0,A.jsx)(j.S,{selections:[{id:t.id,type:"asset",createdBy:t.createdBy}],asset:t,open:a,onOpenChange:i}),(0,A.jsx)(T.U,{selections:[{id:t.id,type:"asset",createdBy:t.createdBy}],asset:t,open:c,onOpenChange:d}),(0,A.jsxs)(r.fC,{children:[(0,A.jsx)(b.OI,{onClick:e=>e.stopPropagation(),"aria-label":"Asset Options Button",children:(0,A.jsx)(y.Z,{icon:"three-dots",style:{cursor:"inherit"}})}),(0,A.jsxs)(b.gR,{children:[(0,A.jsx)(b.R3,{onSelect:f,children:"Download"}),(0,A.jsx)(b.R3,{onSelect:()=>n(!0),disabled:!I,children:"Rename"}),v&&(0,A.jsx)(b.R3,{onSelect:()=>i(!0),disabled:_,children:h("private"===x)}),(0,A.jsx)(b.R3,{onSelect:()=>d(!0),$danger:!0,disabled:!I,children:"Delete"})]})]})]})},P=e=>{let{asset:t,children:s,asChild:i}=e;const{asTeamId:r}=(0,_.t)(),[c,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),[{tab:v}]=(0,S.b)(),{visible:b,disabled:E}=(0,j.w)([t]),M=(0,m.H)(),P=(0,k.a3)(),D=(0,l.useMemo)((()=>P.some((e=>{let{id:s}=e;return s===t.id}))?P:[{type:"asset",id:t.id,createdBy:t.createdBy}]),[P,t]),[O,L]=(0,I.JW)(),R=(0,o.I7)({suspense:!0}),Z=(0,C.g)(r),U=(0,l.useCallback)((async()=>{if(D.length<2){const e=await(0,p.CT)(t.id);(0,g.Sv)({name:t.name,url:e}),(0,w.V5)({asset:t,asTeamId:R?.id})}else(0,n.B)({dispatchToast:L,selectedItems:D,asTeamId:r,privateInTeam:"private"===v,name:`Runway Batch Download_${D.length} Files_${(new Date).toISOString()}`})}),[r,t,R?.id,L,D,v]);return(0,A.jsxs)(a.fC,{children:[(0,A.jsx)(a.xz,{asChild:i,children:s}),(0,A.jsxs)(x.h_,{children:[(0,A.jsx)(x.Zo,{onSelect:U,children:"Download"}),D.length<2&&(0,A.jsx)(x.Zo,{onSelect:()=>d(!0),disabled:!M,children:"Rename"}),b&&(0,A.jsx)(x.Zo,{onSelect:()=>h(!0),disabled:E,children:Z("private"===v)}),(0,A.jsx)(x.Zo,{onSelect:()=>y(!0),$danger:!0,disabled:!M,children:"Delete"})]}),(0,A.jsx)(N,{asset:t,open:c,onOpenChange:d}),(0,A.jsx)(j.S,{selections:D,asset:t,open:u,onOpenChange:h}),(0,A.jsx)(T.U,{selections:D,asset:t,open:f,onOpenChange:y})]})},N=e=>{let{open:t,onOpenChange:s,asset:o}=e;const{asTeamId:n,teamspaceId:a}=(0,_.t)(),[{tab:r}]=(0,S.b)(),m=(0,h.zi)({asTeamId:n,privateInTeam:"private"===r,teamspaceId:a}),g=(0,u.sT)({asTeamId:n,privateInTeam:"private"===r}),y=(0,c.I0)(),x=(0,l.useCallback)((async e=>{e.preventDefault();const t=new FormData(e.target).get("name");s(!1);try{m((e=>(e||[]).map((e=>"Asset"!==e.type||e.value.id!==o.id?e:{...e,value:{...e.value,name:t}}))),!1),await(0,p.Rk)({id:o.id,name:t})}catch{y((0,d.showFlash)({message:"Failed to rename asset",type:"WARNING"}))}finally{m(),g()}}),[s,m,o.id,y,g]);return(0,A.jsx)(i.fC,{open:t,onOpenChange:s,children:(0,A.jsxs)(i.h_,{children:[(0,A.jsx)(v.t9,{}),(0,A.jsxs)(v.cZ,{children:[(0,A.jsxs)(v.$N,{children:["Rename ",o.name]}),(0,A.jsxs)("form",{onSubmit:x,children:[(0,A.jsx)(E.II,{type:"text",name:"name",defaultValue:o.name,required:!0}),(0,A.jsxs)(f.X2,{alignCenter:!0,children:[(0,A.jsx)(i.x8,{asChild:!0,children:(0,A.jsx)(E.Lw,{type:"button",children:"Cancel"})}),(0,A.jsx)(E.KM,{type:"submit",children:"Rename"})]})]})]})]})})}},"./app/components/Views/Assets/AssetsList.tsx":(e,t,s)=>{"use strict";s.d(t,{g:()=>M,l:()=>S});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/TooltipWrapper.tsx"),a=s("./app/devoe/themeBase.ts"),i=s("./app/utils/hooks/useMediaQuery.ts"),r=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),l=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/moment/moment.js"),d=s.n(c),p=s("./node_modules/react/index.js"),u=s("./app/api/hooks/useTeams.ts"),m=s("./app/utils/hooks/useBasePath.ts"),h=s("./app/utils/hooks/useElementOffsetTop.ts"),g=s("./app/components/Prefabs/Avatar/Avatar.tsx"),f=s("./app/components/Prefabs/Block.tsx"),y=s("./app/components/Prefabs/Icon/Icon.tsx"),x=s("./app/components/Prefabs/Text.tsx"),v=s("./app/components/Prefabs/VirtualizedTable.tsx"),b=s("./app/components/Views/Library/LibraryContext.tsx"),w=s("./app/components/Views/Assets/AssetListLightbox.tsx"),_=s("./app/components/Views/Assets/AssetOptions.tsx"),I=s("./app/components/Views/Assets/PendingUploadOptions.tsx"),T=s("./app/components/Views/Assets/SelectionContext.tsx"),j=s("./app/components/Views/Assets/constants.ts"),k=s("./app/components/Views/Assets/shared.tsx"),C=s("./app/components/Views/Assets/useAssetsQuery.ts"),E=s("./node_modules/react/jsx-runtime.js");const S=e=>{let{assets:t,pendingUploads:s}=e;const o=(0,p.useRef)(null),n=(0,h.tT)(o),[{sortAssetsBy:a,assetsOrder:i},r]=(0,C.b)(),[l,c]=(0,p.useState)(!1),[d,u]=(0,p.useState)(void 0);return(0,E.jsxs)("div",{ref:o,children:[(0,E.jsx)(v.C,{rowHeight:54,containerHeight:window.innerHeight,offsetTop:n,numberOfItems:s.length+t.length,renderRow:(e,o)=>{if(o<s.length){const t=s[o];return(0,E.jsx)(A,{style:e,upload:t},`${t.id}-${o}`)}const n=t[o-s.length];return(0,E.jsx)(P,{style:e,asset:n,onClick:e=>{u(e),c(!0)}},`${n.id}-${o}`)},children:(0,E.jsx)(k.hr,{children:(0,E.jsxs)("tr",{children:[(0,E.jsx)(k.Th,{$width:[50,40],$align:"left",style:{paddingLeft:"8px"},children:(0,E.jsx)(k.hW,{to:{search:r({sortAssetsBy:"name",assetsOrder:"asc"===i?"desc":"asc"})},children:(0,E.jsxs)(f.X2,{gutter:2,alignLeft:!0,alignCenterVertical:!0,children:[(0,E.jsx)("span",{children:"NAME"}),"name"===a&&(0,E.jsx)(N,{icon:"desc"===i?"arrowUp-active":"arrowDown-active"})]})})}),(0,E.jsx)(k.Th,{$width:10,$align:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(x.Z,{sm:!0,secondary:!0,children:"TYPE"})}),(0,E.jsx)(k.Th,{$width:10,$align:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(x.Z,{sm:!0,secondary:!0,children:"MEDIA"})}),(0,E.jsx)(k.Th,{$width:10,$align:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(x.Z,{sm:!0,secondary:!0,children:"DURATION"})}),(0,E.jsx)(k.Th,{$width:10,$align:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(x.Z,{sm:!0,secondary:!0,children:"CREATOR"})}),(0,E.jsx)(k.Th,{$width:[40,10],$align:"center",children:(0,E.jsx)(k.hW,{to:{search:r({sortAssetsBy:"createdAt",assetsOrder:"asc"===i?"desc":"asc"})},children:(0,E.jsxs)(f.X2,{gutter:2,alignCenter:!0,alignCenterVertical:!0,children:[(0,E.jsx)("span",{children:"CREATED"}),"createdAt"===a&&(0,E.jsx)(D,{icon:"desc"===i?"arrowUp-active":"arrowDown-active"})]})})}),(0,E.jsx)(k.Th,{$width:10,$align:"center"})]})})}),l&&d&&(0,E.jsx)(w.Z,{asset:d,assetList:t,onClose:()=>c(!1),onChange:u})]})},A=e=>{let{upload:t,style:s}=e;const o=Math.round(100*t.uploadProgress);return(0,E.jsx)(I.f,{upload:t,asChild:!0,children:(0,E.jsxs)(k.Tr,{style:s,children:[(0,E.jsx)(k.Td,{$width:[90,40],$justify:"flex-start",children:(0,E.jsxs)(f.X2,{gutter:16,alignCenterVertical:!0,style:{overflow:"hidden"},children:[(0,E.jsx)(O,{children:(0,E.jsx)(k.GK,{upload:t,height:32,width:42})}),(0,E.jsxs)(f.JX,{gutter:0,overflowHidden:!0,children:[(0,E.jsx)(x.Z,{md:!0,noWrap:!0,children:t.name}),(0,E.jsxs)(x.Z,{sm:!0,color:"primaryLight",noWrap:!0,children:[o,"% uploaded"]})]})]})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",children:(0,E.jsx)(k.H8,{children:"Upload"})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",children:(0,E.jsx)(x.Z,{sm:!0,noWrap:!0,children:(0,l.capitalize)(t.mediaType)})}),(0,E.jsx)(k.Td,{$width:10,$hiddenOnMobile:!0}),(0,E.jsx)(k.Td,{$width:10,$hiddenOnMobile:!0}),(0,E.jsx)(k.Td,{$width:10,$hiddenOnMobile:!0}),(0,E.jsx)(k.Td,{$width:10,children:(0,E.jsx)(k.IC,{children:(0,E.jsx)(I.q,{upload:t})})})]})})},M=e=>e.metadata?.size?`${e.metadata.size.width} x ${e.metadata.size.height}`:e.metadata?.dimensions&&2===e.metadata?.dimensions.length?`${e.metadata.dimensions[0]} x ${e.metadata.dimensions[1]}`:"",P=e=>{let{asset:t,style:s,onClick:o}=e;const{setNodeRef:c,attributes:p,listeners:h,active:v}=(0,r.O1)({id:t.id,data:{type:"asset",parentAssetGroupId:t.parentAssetGroupId}}),{asTeamId:w}=(0,b.t)(),{data:I}=(0,u.lU)(w);let S;I&&(S=I.find((e=>e.user.id===t.createdBy)));const A=(0,T.fY)(t.id,"asset",t.createdBy),P=(0,T.Vw)(t.id),[,N]=(0,C.b)(),D=(0,m.Z)("assets"),O=(0,k.B3)(`${D}${t.id}`),Z=M(t),U=(0,i.ac)(`(max-width: ${a.u.breakpoints.sm})`),z=(0,i.YQ)();return(0,E.jsx)(_.V3,{asset:t,asChild:!0,children:(0,E.jsxs)(k.Tr,{style:s,ref:c,...(0,k.YV)(h),...p,onClick:e=>{z?O(e):A(e)},"data-selected":P,"data-dragging":v&&P,onDoubleClick:e=>{z||(U?O(e):o(t))},children:[(0,E.jsx)(k.Td,{$width:[50,40],$justify:"flex-start",children:(0,E.jsxs)(f.X2,{gutter:16,alignCenterVertical:!0,style:{overflow:"hidden"},children:[(0,E.jsx)(L,{children:(0,E.jsx)(k.Ee,{src:(0,k.lR)(t,j.Z.SMALL)})}),(0,E.jsxs)(f.JX,{gutter:0,overflowHidden:!0,children:[(0,E.jsxs)(f.X2,{children:[(0,E.jsx)(R,{md:!0,noWrap:!0,children:t.name}),!t.private&&(0,E.jsx)(n.Z,{message:"This asset is public",children:(0,E.jsx)(y.Z,{icon:"globe",color:"white",size:15})})]}),(0,E.jsxs)(f.X2,{children:[t.parentAssetGroupName&&(0,E.jsxs)(k.W3,{to:{search:N({parentId:t.parentAssetGroupId})},children:["In ",(0,E.jsx)("span",{children:t.parentAssetGroupName})]}),t.parentAssetGroupName&&Z&&(0,E.jsx)(x.Z,{sm:!0,secondary:!0,children:"•"}),Z&&(0,E.jsx)(x.Z,{sm:!0,secondary:!0,children:Z})]})]})]})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(k.H8,{children:t.isUserUpload?"Upload":"Export"})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(x.Z,{sm:!0,noWrap:!0,children:(0,l.capitalize)(t.mediaType)})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",$hiddenOnMobile:!0,children:(0,E.jsx)(x.Z,{sm:!0,noWrap:!0,children:(0,k.LU)(t.metadata?.duration)})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",$hiddenOnMobile:!0,children:S||t?(0,E.jsx)(g.Z,{size:"x-small",type:"circle",image:t.createdBy!==t.userId&&S?.user?S?.user.picture:t.userPicture,user:t.createdBy!==t.userId&&S?S?.user.username:t.username,style:{margin:"0 auto"}}):null}),(0,E.jsx)(k.Td,{$width:[40,10],$justify:"center",children:(0,E.jsx)(x.Z,{sm:!0,color:"textSecondary",noWrap:!0,children:d()(t.createdAt).fromNow()})}),(0,E.jsx)(k.Td,{$width:10,$justify:"center",children:(0,E.jsx)(k.IC,{children:(0,E.jsx)(_.fy,{asset:t})})})]})})};var N=(0,o.ZP)(y.Z).withConfig({displayName:"AssetsList___StyledIcon",componentId:"sc-1kgfhmk-0"})(["cursor:inherit;"]),D=(0,o.ZP)(y.Z).withConfig({displayName:"AssetsList___StyledIcon2",componentId:"sc-1kgfhmk-1"})(["cursor:inherit;"]),O=(0,o.ZP)(k.mo).withConfig({displayName:"AssetsList___StyledImageContainer",componentId:"sc-1kgfhmk-2"})(["height:32px;width:32px;"]),L=(0,o.ZP)(k.mo).withConfig({displayName:"AssetsList___StyledImageContainer2",componentId:"sc-1kgfhmk-3"})(["height:32px;width:42px;"]),R=(0,o.ZP)(x.Z).withConfig({displayName:"AssetsList___StyledText",componentId:"sc-1kgfhmk-4"})(["margin-right:8px !important;"])},"./app/components/Views/Assets/DeleteAssetOrAssetGroupDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{U:()=>x});var o=s("./node_modules/@radix-ui/react-alert-dialog/dist/index.module.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./app/actions/flash.ts"),r=s("./app/api/asset-groups.ts"),l=s("./app/api/assets.ts"),c=s("./app/api/hooks/asset-groups/useAssetsExplorerTree.ts"),d=s("./app/api/hooks/useAssetsAndAssetsGroups.ts"),p=s("./app/components/Prefabs/Block.tsx"),u=s("./app/components/Prefabs/RadixAlertDialog.tsx"),m=s("./app/components/Prefabs/Text.tsx"),h=s("./app/components/Views/Library/LibraryContext.tsx"),g=s("./app/components/Views/Assets/shared.tsx"),f=s("./app/components/Views/Assets/useAssetsQuery.ts"),y=s("./node_modules/react/jsx-runtime.js");const x=e=>{let{open:t,onOpenChange:s,asset:x,assetGroup:v,selections:b,children:w}=e;const{asTeamId:_,teamspaceId:I}=(0,h.t)(),[{tab:T}]=(0,f.b)(),j=(0,d.zi)({asTeamId:_,privateInTeam:"private"===T,teamspaceId:I}),k=(0,c.sT)({asTeamId:_,privateInTeam:"private"===T&&!I}),C=(0,a.I0)(),E=(0,n.useCallback)((async e=>{e.preventDefault(),s?.(!1),j((e=>(e||[]).filter((e=>!b.some((t=>t.id===e.value.id))))),!1);const t=(await Promise.allSettled(b.map((e=>"asset"===e.type?(0,l.mo)(e.id):(0,r.RE)({id:e.id,asTeamId:_}))))).filter((e=>"rejected"===e.status));t.length>0&&C((0,i.showFlash)({message:`Failed to delete ${t.length} item${t.length>1?"s":""}`,type:"WARNING"})),j(),k()}),[s,j,b,k,_,C]),S=x?x.name:v?v.name:"";let A=`Delete ${S}?`;b.length>1&&(A=`Delete ${(0,g.de)(b)}?`);let M=`Are you sure you want to delete ${S}? `;return b.length>1&&(M=`Are you sure you want to delete ${(0,g.YE)(b)}? `),M+="This will not change the amount of credits you have.",(0,y.jsxs)(o.fC,{open:t,onOpenChange:s,children:[w&&(0,y.jsx)(o.xz,{asChild:!0,children:w}),(0,y.jsxs)(o.h_,{children:[(0,y.jsx)(u.dh,{}),(0,y.jsx)(u._T,{children:(0,y.jsxs)(p.JX,{gutter:28,children:[(0,y.jsxs)(p.JX,{gutter:8,children:[(0,y.jsx)(u.f$,{children:A}),(0,y.jsx)(m.Z,{center:!0,sm:!0,secondary:!0,children:M})]}),(0,y.jsxs)(p.X2,{alignCenter:!0,children:[(0,y.jsx)(o.aU,{asChild:!0,children:(0,y.jsx)(g.Lw,{type:"button",children:"Cancel"})}),(0,y.jsx)(o.$j,{asChild:!0,children:(0,y.jsx)(g.m1,{type:"button",onClick:E,children:"Delete"})})]})]})})]})]})}},"./app/components/Views/Assets/MoveAssetOrAssetGroupDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{S:()=>B,w:()=>V});var o=s("./app/utils/hooks/flags/useHasTeamspaces.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/hooks/assets/useUserCanEditAssets.ts"),i=s("./app/api/hooks/useTeams.ts"),r=s("./app/utils/hooks/useSelector.ts"),l=s("./app/components/UI/RoundedPrimaryButton.tsx"),c=s("./node_modules/@radix-ui/react-alert-dialog/dist/index.module.js"),d=s("./node_modules/react-redux/es/index.js"),p=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=s("./app/api/hooks/asset-groups/useAssetsExplorerTree.ts"),m=s("./app/api/hooks/useAssetsAndAssetsGroups.ts"),h=s("./app/components/Prefabs/Block.tsx"),g=s("./app/components/Prefabs/RadixAlertDialog.tsx"),f=s("./app/components/Prefabs/Text.tsx"),y=s("./app/api/hooks/useTeamspaces.ts"),x=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceIcon.tsx"),v=s("./app/components/UI/Base.tsx"),b=s("./app/components/Views/Teamspace/teamspaceEventUtils.ts"),w=s("./node_modules/react/jsx-runtime.js");let _=function(e){return e.MoveToTeamspace="MoveToTeamspace",e.SaveToTeamspace="SaveToTeamspace",e}({});const I=e=>{let{selectedTeamspace:t,setSelectedTeamspace:s,teamId:o,includePrivate:n=!1,uiContext:a}=e;const{data:i}=(0,y.gb)(o,{suspense:!0});if(!i)return null;return(0,w.jsxs)(j,{flexDirection:"column",gap:"12px",maxHeight:240,overflowY:"auto",children:[n&&(0,w.jsxs)(T,{isSelected:!t,onClick:()=>{s(null),(0,b.Sh)(null,a)},grow:!0,gutter:8,children:[(0,w.jsx)(x.Z5,{}),(0,w.jsx)(f.Z,{md:!0,children:"Private Assets"})]},"private"),i.map((e=>(0,w.jsxs)(T,{isSelected:e.id===t?.id,onClick:()=>{s(e),(0,b.Sh)(e,a)},grow:!0,gutter:8,children:[(0,w.jsx)(x._J,{teamspace:e}),(0,w.jsx)(f.Z,{md:!0,children:e.name})]},e.id)))]})},T=(0,p.ZP)(h.X2).withConfig({displayName:"TeamspaceSelector__TeamspaceSelectorEntry",componentId:"sc-1pr4d3t-0"})(["padding:12px 23px 12px 14px;border:1px solid ",";border-radius:8px;height:48px;cursor:pointer;border-color:",";&:hover{border-color:",";}align-items:center;"],(e=>e.theme.colors.uiLevel2),(e=>e.isSelected?e.theme.colors.primaryLight:e.theme.colors.uiLevel2),(e=>e.theme.colors.primaryLight));var j=(0,p.ZP)(v.x).withConfig({displayName:"TeamspaceSelector___StyledBox",componentId:"sc-1pr4d3t-1"})(["width:calc(100% + 12px);padding-right:12px;"]),k=s("./app/components/Views/Library/LibraryContext.tsx"),C=s("./app/components/Views/Assets/hooks/useCurrentTeamspace.ts"),E=s("./app/components/Views/Assets/shared.tsx"),S=s("./node_modules/lodash/lodash.js"),A=s("./app/actions/flash.ts"),M=s("./app/components/Views/Asset/utils.ts");const P=e=>({...e,value:{...e.value,parentAssetGroupId:null,parentAssetGroupName:""}}),N=(e,t)=>{if("Asset"===t.type)return[];const s=e.filter((s=>{const o=((e,t)=>{const s=e.filter((e=>"AssetGroup"===e.type));let o=s.find((e=>t.value.parentAssetGroupId&&e.value.id===t.value.parentAssetGroupId));const n=[];for(;o;)n.push(o.value.id),o=s.find((e=>o?.value.parentAssetGroupId&&e.value.id===o.value.parentAssetGroupId));return n})(e,s);return o.includes(t.value.id)}));return s},D=(e,t)=>{const s=e.filter((e=>t.some((t=>t.id===e.value.id)))).map((e=>e.value.id));return e=(0,S.compact)(e.map((e=>s.includes(e.value.id)?null:"AssetGroup"===e.type?{...e,value:{...e.value,children:e.value.children?.filter((e=>!s.includes(e.value.id)))}}:e)))},O=async e=>{let{onOpenChange:t,moveToPrivate:s,mutateTeamAssetsAndAssetGroups:o,selections:n,mutatePrivateAssetsAndAssetGroups:a,asTeamId:i,dispatch:r,clearAssetExplorerCache:l,currentTeamspace:c,selectedTeamspace:d}=e;t?.(!1);const p=[];if(s){let e=[];o((t=>{t.forEach((e=>{n.some((t=>t.id===e.value.id))&&p.push((0,S.cloneDeep)(e))})),e=(0,S.flatten)(p.map((e=>"Asset"===e.type?[]:N(t,e))));return D(t,n)}),!1),a((t=>[...t,...p.map(P),...e]),!1)}else{let e=[];a((t=>{t.forEach((e=>{n.some((t=>t.id===e.value.id))&&p.push((0,S.cloneDeep)(e))})),e=(0,S.flatten)(p.map((e=>"Asset"===e.type?[]:N(t,e))));return D(t,n)}),!1),o((t=>[...t,...p.map(P),...e]),!1)}let u=[];u=c||d?await Promise.allSettled([...p.map((async e=>{if(s){if(!c)throw new Error("Unknown current teamspace");return(0,M.fh)({assetOrGroup:e,asTeamId:i,teamspaceId:c.id})}return d?(0,M.Zn)({assetOrGroup:e,asTeamId:i,teamspaceId:d.id}):void console.warn("No selected teamspace")}))]):await Promise.allSettled([...p.map((async e=>(0,M.Dc)({assetOrAssetGroup:e,asTeamId:i,privateInTeam:s})))]);const m=u.filter((e=>"rejected"===e.status));if(m.length){let e=`Failed to move ${m.length} item${m.length>1?"s":""}`;const t=m[0].reason;t&&(e=`${e}. ${t}.`),r((0,A.showFlash)({message:e,type:"WARNING"}))}a(),o(),l()},L=e=>{let{open:t,onOpenChange:s,asset:o,assetGroup:a,selections:i,children:p}=e;const{asTeamId:y}=(0,k.t)(),x=(0,C.u)(y)||null,v=!!x,b=x?.name,T=(0,r.Z)((e=>e.settings.lastUsedTeamspace)),[j,S]=n.useState(T),A=(0,m.zi)({asTeamId:y,privateInTeam:!0}),M=(0,m.zi)({asTeamId:y,privateInTeam:!1,teamspaceId:x?.id}),P=(0,u.sT)({asTeamId:y,privateInTeam:!v}),N=(0,d.I0)(),D=(0,n.useCallback)((async e=>{e.preventDefault();const t=v;await O({onOpenChange:s,moveToPrivate:t,mutateTeamAssetsAndAssetGroups:M,selections:i,mutatePrivateAssetsAndAssetGroups:A,asTeamId:y,currentTeamspace:x,selectedTeamspace:j,dispatch:N,clearAssetExplorerCache:P})}),[v,s,M,i,A,y,x,j,N,P]),L=o?o.name:a?a.name:"",U=v?"Unshare":"Share",z=(0,n.useMemo)((()=>i.length>1?`${U} ${(0,E.de)(i)}?`:`${U} ${L}?`),[i,U,L]),V=(0,n.useMemo)((()=>v?`Members of ${b} will lose access to this asset.`:`Assets will be accessible to all members on ${j?.name||"your selected teamspace"}.`),[b,v,j?.name]);return(0,w.jsxs)(c.fC,{open:t,onOpenChange:s,children:[p&&(0,w.jsx)(c.xz,{asChild:!0,children:p}),(0,w.jsxs)(c.h_,{children:[(0,w.jsx)(g.dh,{onClick:()=>s?.(!1)}),(0,w.jsxs)(R,{children:[(0,w.jsxs)(h.JX,{gutter:8,children:[(0,w.jsx)(g.f$,{children:z}),(0,w.jsx)(f.Z,{center:!0,md:!0,secondary:!0,children:V})]}),!v&&(0,w.jsx)(I,{teamId:y,selectedTeamspace:j,setSelectedTeamspace:S,uiContext:_.MoveToTeamspace}),(0,w.jsxs)(Z,{alignCenter:!0,grow:!0,gutter:12,children:[(0,w.jsx)(c.$j,{asChild:!0,children:(0,w.jsx)(l.K,{type:"button",onClick:D,style:{width:"100%"},loading:!1,disabled:!j&&!v,children:U})}),(0,w.jsx)(c.aU,{asChild:!0,children:(0,w.jsx)(l.x,{loading:!1,style:{width:"100%"},children:"Cancel"})})]})]})]})]})},R=(0,p.ZP)(g._T).withConfig({displayName:"MoveAssetOrAssetGroupToTeamspaceDialog__DialogContent",componentId:"sc-187pyer-0"})(["border-radius:16px;background:black;display:flex;width:400px;padding:24px;flex-direction:column;justify-content:center;align-items:center;gap:24px;flex-shrink:0;"]);var Z=(0,p.ZP)(h.JX).withConfig({displayName:"MoveAssetOrAssetGroupToTeamspaceDialog___StyledCol",componentId:"sc-187pyer-1"})(["width:100%;"]),U=s("./app/components/Views/Assets/useAssetsQuery.ts");const z=e=>{let{open:t,onOpenChange:s,asset:o,assetGroup:a,selections:i,children:r}=e;const{asTeamId:l}=(0,k.t)(),[{tab:p}]=(0,U.b)(),y=(0,m.zi)({asTeamId:l,privateInTeam:!0}),x=(0,m.zi)({asTeamId:l,privateInTeam:!1}),v=(0,u.sT)({asTeamId:l,privateInTeam:"private"===p}),b=(0,d.I0)(),_=(0,n.useCallback)((async()=>{const e="team"===p;await O({onOpenChange:s,moveToPrivate:e,mutateTeamAssetsAndAssetGroups:x,selections:i,mutatePrivateAssetsAndAssetGroups:y,asTeamId:l,dispatch:b,clearAssetExplorerCache:v})}),[s,p,x,y,i,l,v,b]),I=o?o.name:a?a.name:"",T=(0,n.useMemo)((()=>i.length>1?`Move ${(0,E.de)(i)}?`:`Move ${I}?`),[i,I]),j=(0,n.useMemo)((()=>"team"===p?"Members of your workspace will lose access to this asset.":"Workspace assets are accessible to all members on your workspace."),[p]);return(0,w.jsxs)(c.fC,{open:t,onOpenChange:s,children:[r&&(0,w.jsx)(c.xz,{asChild:!0,children:r}),(0,w.jsxs)(c.h_,{children:[(0,w.jsx)(g.dh,{onClick:()=>s?.(!1)}),(0,w.jsx)(g._T,{children:(0,w.jsxs)(h.JX,{gutter:28,children:[(0,w.jsxs)(h.JX,{gutter:8,children:[(0,w.jsx)(g.f$,{children:T}),(0,w.jsx)(f.Z,{center:!0,sm:!0,secondary:!0,children:j})]}),(0,w.jsxs)(h.X2,{alignCenter:!0,children:[(0,w.jsx)(c.aU,{asChild:!0,children:(0,w.jsx)(E.Lw,{type:"button",children:"Cancel"})}),(0,w.jsx)(c.$j,{asChild:!0,children:(0,w.jsxs)(E.KM,{type:"button",onClick:_,style:{maxWidth:170,width:"auto"},children:["Move to ","private"===p?"Team":"Private"]})})]})]})})]})]})},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=(0,i.I7)(),s=(0,r.Z)((t=>{const s=t.user.id;return!e.some((e=>e.createdBy!==s))})),o=(0,a.H)();return t?{visible:!0,disabled:!s||!o}:{visible:!1,disabled:!0}},B=e=>{const t=(0,i.I7)({suspense:!0}),s=(0,o.Y)(t?.id||null),[{tab:n}]=(0,U.b)();return open?s&&"team"!==n?(0,w.jsx)(L,{...e}):(0,w.jsx)(z,{...e}):null}},"./app/components/Views/Assets/PendingUploadOptions.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>u,q:()=>p});var o=s("./node_modules/react/index.js"),n=s("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),a=s("./node_modules/@radix-ui/react-context-menu/dist/index.module.js"),i=s("./app/components/Prefabs/RadixDropdownMenu.tsx"),r=s("./app/components/Prefabs/RadixContextMenu.tsx"),l=s("./app/components/Prefabs/Icon/Icon.tsx"),c=s("./app/utils/uploads.ts"),d=s("./node_modules/react/jsx-runtime.js");const p=e=>{let{upload:t}=e;const s=(0,o.useCallback)((async()=>{(0,c.m1)(t.id)}),[t.id]);return(0,d.jsxs)(n.fC,{children:[(0,d.jsx)(i.OI,{children:(0,d.jsx)(l.Z,{icon:"three-dots",style:{cursor:"inherit"}})}),(0,d.jsx)(i.gR,{children:(0,d.jsx)(i.R3,{onSelect:s,children:"Cancel"})})]})},u=e=>{let{upload:t,children:s,asChild:n}=e;const i=(0,o.useCallback)((async()=>{(0,c.m1)(t.id)}),[t.id]);return(0,d.jsxs)(a.fC,{children:[(0,d.jsx)(a.xz,{asChild:n,children:s}),(0,d.jsx)(r.h_,{children:(0,d.jsx)(r.Zo,{onSelect:i,children:"Cancel"})})]})}},"./app/components/Views/Assets/SelectionContext.tsx":(e,t,s)=>{"use strict";s.d(t,{U9:()=>r,Vw:()=>c,a3:()=>l,fY:()=>d});var o=s("./node_modules/react/index.js"),n=s("./app/components/Views/Assets/shared.tsx"),a=s("./node_modules/react/jsx-runtime.js");const i=o.createContext({selections:[],onSelect:()=>{}}),r=e=>{let{selections:t,onSelect:s,children:n}=e;const r=o.useMemo((()=>({selections:t,onSelect:s})),[t,s]);return(0,a.jsx)(i.Provider,{value:r,children:n})},l=()=>{const{selections:e}=o.useContext(i);return e},c=e=>{const{selections:t}=o.useContext(i);return o.useMemo((()=>t.some((t=>t.id===e))),[t,e])},d=(e,t,s)=>{const{onSelect:a}=o.useContext(i);return o.useCallback((o=>{e!==n.hD&&(o.currentTarget===o.target||o.currentTarget.contains(o.target))&&(o.stopPropagation(),a(e,t,s,o))}),[a,e,t,s])}},"./app/components/Views/Assets/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={SMALL:{width:100,height:100},MEDIUM:{width:400,height:400}}},"./app/components/Views/Assets/hooks/useCurrentTeamspace.ts":(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var o=s("./app/api/hooks/useTeamspaces.ts"),n=s("./app/utils/hooks/flags/useHasTeamspaces.ts"),a=s("./node_modules/react-router/esm/react-router.js");const i=e=>{const t=(0,n.Y)(e),{data:s}=(0,o.gb)(e),{teamspaceId:i}=(0,a.UO)();if(!t)return null;const r=s?.find((e=>e.id===i));return r}},"./app/components/Views/Assets/hooks/useGetShareWithWorkspaceOrTeamspaceMessage.ts":(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var o=s("./app/utils/hooks/flags/useHasTeamspaces.ts"),n=s("./app/components/Views/Assets/useAssetsQuery.ts"),a=s("./app/components/Views/Assets/hooks/useCurrentTeamspace.ts");const i=e=>{const t=(0,o.Y)(e),s=!!(0,a.u)(e),[{tab:i}]=(0,n.b)();return function(){return t&&"team"!==i?s?"Unshare from teamspace":"Share with teamspace":arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"Share with workspace":"Unshare from workspace"}}},"./app/components/Views/Assets/shared.tsx":(e,t,s)=>{"use strict";s.d(t,{B3:()=>W,Ee:()=>U,GK:()=>Z,H8:()=>N,IC:()=>k,II:()=>E,KM:()=>M,KX:()=>X,LU:()=>v,Lw:()=>A,RO:()=>z,Td:()=>j,Th:()=>_,Tr:()=>I,W3:()=>$,YE:()=>G,YV:()=>Y,YX:()=>F,cr:()=>O,de:()=>B,gO:()=>L,hD:()=>D,hW:()=>T,hr:()=>w,kp:()=>V,lR:()=>b,m1:()=>P,mo:()=>C});var o=s("./app/api/mixpanel.ts"),n=s("./app/utils/mixpanel.ts"),a=s("./app/utils/copyToClipboard.ts"),i=s("./node_modules/polished/dist/polished.esm.js"),r=s("./node_modules/react/index.js"),l=s("./node_modules/react-router-dom/esm/react-router-dom.js"),c=s("./node_modules/react-router/esm/react-router.js"),d=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),p=s("./app/devoe/assets/img/placeholder-audio.png"),u=s("./app/devoe/assets/img/placeholder-image.png"),m=s("./app/devoe/assets/img/text-pages.png"),h=s("./app/utils/filenames.ts"),g=s("./app/utils/hooks/useImage.ts"),f=s("./app/components/Prefabs/Video.tsx"),y=s("./app/components/Views/Asset/events/AssetEvents.tsx"),x=s("./node_modules/react/jsx-runtime.js");const v=e=>{if("number"!=typeof e)return null;const t=Math.round(e),s=Math.floor(t/60),o=t-60*s;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},b=(e,t)=>{if(e.previewUrls.length>0){const s=(0,h.EE)(e.previewUrls[0]);if(s&&"image"===s)return t?(0,g.wD)(e.previewUrls[0],t.width,t.height):e.previewUrls[0]}switch(e.mediaType){case"text":return m.Z;case"audio":return p.Z;default:return u.Z}},w=d.ZP.thead.withConfig({displayName:"shared__Thead",componentId:"sc-1c9siem-0"})(["border-bottom:1px solid ",";"],(e=>e.theme.colors.uiLevel1)),_=d.ZP.th.withConfig({displayName:"shared__Th",componentId:"sc-1c9siem-1"})(["display:",";box-sizing:border-box;height:40px;text-align:",";width:","%;padding:10px 0;@media (min-width:1024px){width:","%;display:table-cell;}"],(e=>e.$hiddenOnMobile?"none":"table-cell"),(e=>e.$align),(e=>Array.isArray(e.$width)?e.$width[0]:e.$width),(e=>Array.isArray(e.$width)?e.$width[1]:e.$width)),I=d.ZP.tr.withConfig({displayName:"shared__Tr",componentId:"sc-1c9siem-2"})(["cursor:pointer;display:flex;border-radius:2px;padding-left:4px;cursor:pointer;&[data-dragging='true']{opacity:0.6;}&[data-selected='true'],&[data-over='true']{background-color:",";outline:1px solid ",";z-index:1;}&[data-selected='false']{&:hover,&:focus-visible{background-color:",";}}"],(e=>(0,i.m4)(e.theme.colors.primary,.25)),(e=>e.theme.colors.primary),(e=>e.theme.colors.uiLevel1)),T=(0,d.ZP)(l.rU).withConfig({displayName:"shared__HeadLink",componentId:"sc-1c9siem-3"})(["font-size:",";color:",";"],(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.textSecondary)),j=d.ZP.td.withConfig({displayName:"shared__Td",componentId:"sc-1c9siem-4"})(["",";width:","%;border-bottom:1px solid ",";@media (min-width:1024px){width:","%;display:",";}"],(e=>e.$justify?(0,d.iv)(["display:",";height:100%;align-items:center;justify-content:",";"],e.$hiddenOnMobile?"none":"flex",e.$justify):(0,d.iv)(["display:",";"],e.$hiddenOnMobile?"none":"initial")),(e=>Array.isArray(e.$width)?e.$width[0]:e.$width),(e=>e.theme.colors.uiLevel1),(e=>Array.isArray(e.$width)?e.$width[1]:e.$width),(e=>e.$justify?"flex":"initial")),k=d.ZP.div.withConfig({displayName:"shared__OptionsWrapper",componentId:"sc-1c9siem-5"})(["display:flex;height:100%;justify-content:flex-end;align-items:center;"]),C=d.ZP.div.withConfig({displayName:"shared__ImageContainer",componentId:"sc-1c9siem-6"})(["display:flex;justify-content:center;align-items:center;height:100%;width:100%;flex-shrink:0;border-radius:4px;overflow:hidden;text-align:center;background-color:#666e7a;position:relative;"]),E=d.ZP.input.withConfig({displayName:"shared__Input",componentId:"sc-1c9siem-7"})(["box-sizing:border-box;height:40px;width:100%;border-radius:6px;font-size:",";padding:12px 8px;border:1px solid #b8b8b8;margin-bottom:30px;&:disabled{opacity:0.6;}&:focus-visible{outline:2px solid ",";}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.colors.primary)),S=(0,d.iv)(["cursor:pointer;box-sizing:border-box;border-radius:6px;height:32px;padding:8px;font-size:",";width:100%;max-width:100px;white-space:pre;&:disabled{opacity:0.6;}&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.primary)),A=d.ZP.button.withConfig({displayName:"shared__CancelButton",componentId:"sc-1c9siem-8"})(["background-color:",";border:1px solid ",";color:",";"," &:focus-visible{outline:2px solid ",";}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.white),S,(e=>e.theme.colors.primary)),M=d.ZP.button.withConfig({displayName:"shared__PrimaryButton",componentId:"sc-1c9siem-9"})(["background-color:",";border:none;color:#fff;",""],(e=>e.theme.colors.primary),S),P=d.ZP.button.withConfig({displayName:"shared__DeleteButton",componentId:"sc-1c9siem-10"})(["background-color:",";border:none;color:#fff;"," &:focus-visible{outline-color:",";}"],(e=>e.theme.colors.danger),S,(e=>e.theme.colors.danger)),N=d.ZP.span.withConfig({displayName:"shared__MediaTypeLabel",componentId:"sc-1c9siem-11"})(["height:16px;line-height:16px;box-sizing:border-box;padding:0 8px;font-size:",";color:",";background-color:",";border-radius:20px;"],(e=>e.theme.fonts.size.xs),(e=>e.theme.colors.textSecondary),(e=>e.theme.colors.uiLevel2)),D="exports",O={id:D,name:"Exports",children:[],createdAt:new Date,parentAssetGroupId:null,updatedAt:new Date,createdBy:-1},L=()=>(0,x.jsxs)(R,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,x.jsx)("path",{d:"M8 2.74994V0.999939",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M5.382 3.45699L4.5 1.93799",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M3.45748 5.38194L1.93848 4.49994",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M2.75001 8H1",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M8 15V13.25",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M11.5002 14.062L10.6182 12.543",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M14.063 11.5L12.5439 10.618",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M15 8H13.25",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M14.063 4.5L12.5439 5.382",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M3.45748 10.618L1.93848 11.5",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M11.5002 1.93799L10.6182 3.45699",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M5.382 12.543L4.5 14.062",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})]}),R=d.ZP.svg.withConfig({displayName:"shared__AssetLoaderIcon",componentId:"sc-1c9siem-12"})(["animation:spin 5s linear infinite;@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}"]),Z=e=>{let{upload:t,width:s,height:o}=e;if(t.canViewLocally)switch(t.mediaType){case"image":return(0,x.jsx)(U,{src:t.fileObjectURL});case"video":return(0,x.jsx)(f.Z,{src:t.fileObjectURL,videoAsThumbnail:!0,height:o,width:s,noControls:!0})}return(0,x.jsx)(L,{})},U=d.ZP.img.withConfig({displayName:"shared__Image",componentId:"sc-1c9siem-13"})(["width:100%;height:100%;object-fit:cover;object-position:center;"]),z=e=>(0,x.jsx)("svg",{width:"32",height:"32",...e,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M15.4994 9.13121C15.6105 9.29906 15.7984 9.4 15.9997 9.4H29.1663C29.6634 9.4 30.0663 9.80294 30.0663 10.3V26.5C30.0663 26.9971 29.6634 27.4 29.1663 27.4H2.83301C2.33595 27.4 1.93301 26.9971 1.93301 26.5V5.5C1.93301 5.00294 2.33595 4.6 2.83301 4.6H12.2847C12.4189 4.6 12.5441 4.66729 12.6182 4.77919L13.1185 4.44798L12.6182 4.77919L15.4994 9.13121Z",fill:"#A5B4C7",stroke:"#A5B4C7",strokeWidth:"1.2",strokeLinejoin:"round"})}),V=d.ZP.span.withConfig({displayName:"shared__HasMoreText",componentId:"sc-1c9siem-14"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,0.6);"]),B=e=>{const t=e.filter((e=>"asset"===e.type)).length,s=e.filter((e=>"assetGroup"===e.type)).length;if(0!==t||0!==s)return 0===t?`${s} folder${1===s?"":"s"}`:0===s?`${t} file${1===t?"":"s"}`:`${s} folder${1===s?"":"s"} and ${t} file${1===t?"":"s"}`},G=e=>{const t=e.filter((e=>"asset"===e.type)).length,s=e.filter((e=>"assetGroup"===e.type)).length;if(0!==t||0!==s)return 0===t?"your selected folders":0===s?"your selected files":"your selected folders and files"},F=e=>(0,x.jsx)("svg",{width:"258",height:"171",viewBox:"0 0 258 171",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",...e,children:(0,x.jsx)("path",{d:"M1 4C1 2.34315 2.34315 1 4 1H62.6742C63.544 1 64.3709 1.37744 64.9407 2.03451L69.7383 7.56673C70.688 8.66184 72.0662 9.29091 73.5157 9.29091H96.75H129H254C255.657 9.29091 257 10.6341 257 12.2909V167C257 168.657 255.657 170 254 170H4C2.34315 170 1 168.657 1 167V4Z"})}),$=(0,d.ZP)(l.rU).withConfig({displayName:"shared__FolderLink",componentId:"sc-1c9siem-15"})(["display:block;white-space:pre;font-size:",";line-height:",";color:",";overflow:hidden;text-overflow:ellipsis;&:hover span,&:focus-visible span{color:",";text-decoration:underline;}"],(e=>e.theme.fonts.size.sm),(e=>e.theme.fonts.lineHeight.sm),(e=>e.theme.colors.textSecondary),(e=>e.theme.colors.primaryLight)),W=e=>{const t=(0,c.k6)();return(0,r.useCallback)((s=>{H(s)&&t.push(e)}),[t,e])},H=e=>e.currentTarget===e.target||e.currentTarget.contains(e.target),Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onMouseDown:(t,s)=>{H(t)&&e.onMouseDown?.(t,s)},onTouchStart:(t,s)=>{H(t)&&e.onTouchStart?.(t,s)}}},X=e=>{let{assetLink:t,asset:s,onComplete:i}=e;(0,a.v)(t),(0,o.p6)({eventName:y.s.ShareAsset,properties:{...(0,n.l)(),assetId:s.id,assetVisibility:s?.private?"private":"public"}}),i?.()}},"./app/components/Views/Assets/useAssetsQuery.ts":(e,t,s)=>{"use strict";s.d(t,{b:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./node_modules/uuid/dist/esm-browser/validate.js"),i=s("./app/components/Views/Assets/shared.tsx");const r=()=>{const{search:e}=(0,n.TH)(),t=(0,o.useMemo)((()=>{const t=new URLSearchParams(e),s=c(t.get("parentId"));return{viewAssetsAs:d(t.get("viewAssetsAs"),"table"),viewAssetGroupsAs:d(t.get("viewAssetGroupsAs"),"grid"),assetType:p(t.get("assetType"),"All"),mediaType:u(t.get("mediaType"),"All"),sortAssetsBy:m(t.get("sortAssetsBy"),"createdAt"),assetsOrder:h(t.get("assetsOrder"),"desc"),parentId:s,tab:l(t.get("tab"),"private")}}),[e]),s=(0,o.useCallback)((e=>{const s=new URLSearchParams;return s.set("viewAssetsAs",e.viewAssetsAs||t.viewAssetsAs),s.set("viewAssetGroupsAs",e.viewAssetGroupsAs||t.viewAssetGroupsAs),s.set("assetType",e.assetType||t.assetType),s.set("mediaType",e.mediaType||t.mediaType),s.set("sortAssetsBy",e.sortAssetsBy||t.sortAssetsBy),s.set("assetsOrder",e.assetsOrder||t.assetsOrder),s.set("parentId",e.parentId||t.parentId),s.set("tab",e.tab||t.tab),null===e.parentId&&s.delete("parentId"),s.toString()}),[t]);return[t,s]},l=(e,t)=>{switch(e){case"team":case"private":return e;default:return t}},c=e=>null===e||""===e?null:e===i.hD||a.Z(e)?e:null,d=(e,t)=>{switch(e){case"grid":case"table":return e;default:return t}},p=(e,t)=>{switch(e){case"Exports":case"Uploads":return e;default:return t}},u=(e,t)=>{switch(e){case"Audio":case"Image":case"Video":case"Text":case"Font":return e;default:return t}},m=(e,t)=>{switch(e){case"name":case"createdAt":case"updatedAt":case"mediaType":case"favorite":return e;default:return t}},h=(e,t)=>{switch(e){case"asc":case"desc":return e;default:return t}}},"./app/components/Views/AssetsV2/DndContainer.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>y});var o=s("./app/api/hooks/useMoveAssetsOrAssetGroups.ts"),n=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),a=s("./node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/react-dom/index.js"),l=s("./app/components/Views/Assets/shared.tsx"),c=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),d=s("./app/components/Views/Storyboard/lib/createId.ts");const p={container:"DragPreview__container__OFmGB",folder:"DragPreview__folder___2Xg6",image:"DragPreview__image__ZLJIx",numberOfItems:"DragPreview__numberOfItems__RWayG"};var u=s("./node_modules/react/jsx-runtime.js");const m=80,h=50,g=(e,t,s)=>t+e-s;function f(e){let{activeItems:t}=e;return(0,u.jsxs)("div",{className:p.container,children:[t.map(((e,s)=>{const o=g(0,t.length,s);return"AssetGroup"===e.type?(0,u.jsx)(l.YX,{style:{zIndex:o,bottom:4*s,left:4*s},className:p.folder},e.value.id):(0,u.jsx)("img",{src:(0,l.lR)(e.value),style:{zIndex:o,bottom:4*s,left:4*s},className:p.image},e.value.id)})),t.length>1&&(0,u.jsx)("div",{className:p.numberOfItems,style:{zIndex:t.length+1},children:t.length})]})}function y(e){let{asTeamId:t,privateInTeam:s,selectedIds:p,selectionDispatch:g,parentId:y,page:x,assetGroups:v,children:b,canEdit:w}=e;const _=(0,o.U)(t,s),[,I]=(0,c.JW)(),[T,j]=(0,i.useState)([]),k=(0,n.Dy)((0,n.VT)(n.MA,{activationConstraint:{distance:3}}),(0,n.VT)(n.LO,{activationConstraint:{distance:3}}));return(0,u.jsxs)(n.LB,{sensors:y!==l.hD&&w?k:void 0,onDragStart:function(e){let t=p;t.some((t=>t===e.active.id))||(t=[e.active.id]),g({type:"set",ids:t});const s=x.filter((e=>"Upload"!==e.type&&t.includes(e.value.id)));j(s)},onDragEnd:async function(e){if(j([]),null!==y&&"root"===e.over?.id){try{await _(T,y,null)}catch{I({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,d.M)(),error:!0}})}return}const t=v.find((t=>t.id===e.over?.id));if(t&&!T.some((e=>e.value.id===t.id)))try{await _(T,y,t.id)}catch{I({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,d.M)(),error:!0}})}},collisionDetection:e=>{if(!e.pointerCoordinates)return[];const t={bottom:e.pointerCoordinates.y+h/2,top:e.pointerCoordinates.y-h/2,left:e.pointerCoordinates.x-m/2,right:e.pointerCoordinates.x+m/2,height:h,width:m};return(0,n.Xo)({...e,collisionRect:t})},children:[b,(0,r.createPortal)((0,u.jsx)(n.y9,{dropAnimation:null,adjustScale:!1,modifiers:[a.oJ],children:T.length>0?(0,u.jsx)(f,{activeItems:T}):null}),document.body)]})}},"./app/components/Views/AssetsV2/Dropzone.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>c});var o=s("./node_modules/react-dropzone/dist/es/index.js"),n=s("./app/components/Views/MagicTools/Components/Common/MediaSelectorV2/utils.ts");const a={container:"Dropzone__container__mm3MV",indicator:"Dropzone__indicator__lPCtG"};var i=s("./app/components/Views/AssetsV2/hooks/useUpload.ts"),r=s("./node_modules/react/jsx-runtime.js");const l=(0,n.j)(["image","audio","video"]);function c(e){let{children:t,asTeamId:s,parentId:n,privateInTeam:c,teamspaceId:d,favorite:p}=e;const u=(0,i.V)({asTeamId:s,parentId:n,privateInTeam:c,teamspaceId:d,favorite:p}),{getRootProps:m,isDragAccept:h}=(0,o.uI)({accept:l,onDropAccepted:u,noClick:!0,noKeyboard:!0});return(0,r.jsxs)("div",{...m(),className:a.container,children:[t,h?(0,r.jsx)("div",{className:a.indicator}):null]})}},"./app/components/Views/AssetsV2/Loading.tsx":(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var o=s("./app/components/Prefabs/Loader/Loader.tsx");s("./node_modules/react/index.js");const n={container:"Loading__container__LLFVZ"};var a=s("./node_modules/react/jsx-runtime.js");function i(){return(0,a.jsx)("div",{className:n.container,children:(0,a.jsx)(o.Z,{})})}},"./app/components/Views/AssetsV2/NoAssetsMessage.tsx":(e,t,s)=>{"use strict";s.d(t,{T:()=>a});const o={container:"NoAssetsMessage__container__aM14L"};var n=s("./node_modules/react/jsx-runtime.js");function a(){return(0,n.jsx)("div",{className:o.container,children:"No assets yet."})}},"./app/components/Views/AssetsV2/ViewControls.tsx":(e,t,s)=>{"use strict";s.d(t,{w:()=>g});var o=s("./node_modules/clsx/dist/clsx.mjs"),n=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),a=s("./node_modules/lucide-react/dist/esm/icons/check.js"),i=s("./node_modules/react-aria-components/dist/import.mjs"),r=s("./node_modules/react-router/esm/react-router.js"),l=s("./node_modules/react-router-dom/esm/react-router-dom.js");const c={container:"ViewControls__container__sHufT",label:"ViewControls__label__WTDS8",spacer:"ViewControls__spacer__hDH8a",viewAsContainer:"ViewControls__viewAsContainer__Ed14z",viewAsButton:"ViewControls__viewAsButton__VCvss",trigger:"ViewControls__trigger__Ojmi7",popover:"ViewControls__popover__VSVEu",enter:"ViewControls__enter__AG1hf",exit:"ViewControls__exit__NsPTq",sectionHeader:"ViewControls__sectionHeader__JEDhK",separator:"ViewControls__separator__QiLt9",item:"ViewControls__item__T2aMv"};var d=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),p=s("./node_modules/react/jsx-runtime.js");function u(e){return(0,p.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("rect",{width:"7.52947",height:"7.52947",rx:"2",fill:"currentColor"}),(0,p.jsx)("rect",{x:"8.4707",width:"7.52947",height:"7.52947",rx:"2",fill:"currentColor"}),(0,p.jsx)("rect",{y:"8.4707",width:"7.52947",height:"7.52947",rx:"2",fill:"currentColor"}),(0,p.jsx)("rect",{x:"8.4707",y:"8.4707",width:"7.52947",height:"7.52947",rx:"2",fill:"currentColor"})]})}function m(e){return(0,p.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("rect",{width:"16",height:"2.52632",rx:"1.26316",fill:"currentColor"}),(0,p.jsx)("rect",{y:"6.7373",width:"16",height:"2.52632",rx:"1.26316",fill:"currentColor"}),(0,p.jsx)("rect",{y:"13.4736",width:"16",height:"2.52632",rx:"1.26316",fill:"currentColor"})]})}var h=s("./app/components/Views/AssetsV2/lib/tracking.ts");function g(){const e=(0,d.b)(),t=(0,d.y)(),s=(0,r.TH)();return(0,p.jsxs)("div",{className:c.container,children:[(0,p.jsx)("span",{className:c.label,children:"Assets"}),(0,p.jsx)("div",{className:c.spacer}),(0,p.jsx)(f,{}),(0,p.jsx)(y,{}),(0,p.jsxs)("div",{className:c.viewAsContainer,children:[(0,p.jsx)(l.rU,{className:c.viewAsButton,"data-active":"table"===e.viewAs,onClick:()=>(0,h.CP)("list"),to:{pathname:s.pathname,search:t({viewAs:"table"})},children:(0,p.jsx)(m,{height:16,width:16})}),(0,p.jsx)(l.rU,{className:c.viewAsButton,"data-active":"grid"===e.viewAs,onClick:()=>(0,h.CP)("grid"),to:{pathname:s.pathname,search:t({viewAs:"grid"})},children:(0,p.jsx)(u,{width:16,height:16})})]})]})}function f(){const e=(0,d.b)(),t=(0,d.y)(),s=(0,r.k6)();let o;switch(e.sortBy){case"name":o="Name";break;case"createdAt":o="Date created";break;case"updatedAt":o="Date updated";break;case"mediaType":o="Media type";break;case"favorite":o="Favorite"}return(0,p.jsxs)(i.bF,{children:[(0,p.jsxs)(i.zx,{className:c.trigger,children:[o,(0,p.jsx)(n.Z,{size:16})]}),(0,p.jsxs)(x,{onAction:function(o){let n=e.order,a=e.sortBy;switch(o){case"newest-first":n="desc";break;case"oldest-first":n="asc";break;case"date-update":a="updatedAt";break;case"date-created":a="createdAt";break;case"name":a="name";break;case"media-type":a="mediaType"}(0,h.F7)({trigger:"dropdown",sortBy:a,sortOrder:n}),s.push({search:t({sortBy:a,order:n})})},children:[(0,p.jsxs)(i.$0,{children:[(0,p.jsx)(i.h4,{className:c.sectionHeader,children:"Order"}),(0,p.jsx)(v,{selected:"desc"===e.order,id:"newest-first",children:"Newest first"}),(0,p.jsx)(v,{selected:"asc"===e.order,id:"oldest-first",children:"Oldest first"})]}),(0,p.jsx)(i.Z0,{className:c.separator}),(0,p.jsxs)(i.$0,{children:[(0,p.jsx)(i.h4,{className:c.sectionHeader,children:"Order"}),(0,p.jsx)(v,{selected:"updatedAt"===e.sortBy,id:"date-update",children:"Date updated"}),(0,p.jsx)(v,{selected:"createdAt"===e.sortBy,id:"date-created",children:"Date created"}),(0,p.jsx)(v,{selected:"name"===e.sortBy,id:"name",children:"Name"}),(0,p.jsx)(v,{selected:"mediaType"===e.sortBy,id:"media-type",children:"Media type"})]})]})]})}function y(){const e=(0,d.b)(),t=(0,d.y)(),s=(0,r.k6)();let o,a;switch(e.assetType){case"All":o="All";break;case"Exports":o="Exports";break;case"Uploads":o="Uploads"}switch(e.mediaType){case"All":a="All";break;case"Image":a="Image";break;case"Video":a="Video";break;case"Audio":a="Audio";break;case"Text":a="Text";break;case"Font":a="Font"}let l=`${a} - ${o}`;return"All"===a&&"All"===o&&(l="All media"),(0,p.jsxs)(i.bF,{children:[(0,p.jsxs)(i.zx,{className:c.trigger,children:[l,(0,p.jsx)(n.Z,{size:16})]}),(0,p.jsxs)(x,{onAction:function(o){let n=e.assetType,a=e.mediaType;switch(o){case"all-asset-types":n="All";break;case"uploads":n="Uploads";break;case"exports":n="Exports";break;case"all-media-types":a="All";break;case"image":a="Image";break;case"video":a="Video";break;case"audio":a="Audio";break;case"text":a="Text";break;case"font":a="Font"}s.push({search:t({assetType:n,mediaType:a})}),(0,h.nA)({assetType:n,mediaType:a})},children:[(0,p.jsxs)(i.$0,{children:[(0,p.jsx)(i.h4,{className:c.sectionHeader,children:"Type"}),(0,p.jsx)(v,{selected:"All"===e.assetType,id:"all-asset-types",children:"All"}),(0,p.jsx)(v,{selected:"Uploads"===e.assetType,id:"uploads",children:"Uploads"}),(0,p.jsx)(v,{selected:"Exports"===e.assetType,id:"exports",children:"Exports"})]}),(0,p.jsx)(i.Z0,{className:c.separator}),(0,p.jsxs)(i.$0,{children:[(0,p.jsx)(i.h4,{className:c.sectionHeader,children:"Assets"}),(0,p.jsx)(v,{selected:"All"===e.mediaType,id:"all-media-types",children:"All"}),(0,p.jsx)(v,{selected:"Image"===e.mediaType,id:"image",children:"Image"}),(0,p.jsx)(v,{selected:"Video"===e.mediaType,id:"video",children:"Video"}),(0,p.jsx)(v,{selected:"Audio"===e.mediaType,id:"audio",children:"Audio"}),(0,p.jsx)(v,{selected:"Text"===e.mediaType,id:"text",children:"Text"}),(0,p.jsx)(v,{selected:"Font"===e.mediaType,id:"font",children:"Font"})]})]})]})}function x(e){let{children:t,...s}=e;return(0,p.jsx)(i.J2,{className:c.popover,children:(0,p.jsx)(i.v2,{...s,children:t})})}function v(e){let{children:t,className:s,selected:n,...r}=e;return(0,p.jsxs)(i.sN,{className:(0,o.W)(c.item,s),...r,children:[t," ",n?(0,p.jsx)(a.Z,{size:16}):null]})}},"./app/components/Views/AssetsV2/action-bar/index.tsx":(e,t,s)=>{"use strict";s.d(t,{o:()=>_});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/asset-groups.ts"),i=s("./app/api/assets.ts");function r(e,t){const s=(0,o.lt)(e,t);return(0,n.useCallback)((t=>{const o=async function(){const s=[];for(const o of t)o.value.favorite||("Asset"===o.type?s.push((0,i.Vw)({id:o.value.id,asTeamId:e})):"AssetGroup"===o.type&&s.push((0,a.Hg)({id:o.value.id,asTeamId:e})));await Promise.all(s)}();return s(o,{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=new Set;for(const e of t)s.add(e.value.id);const o=[];for(const t of e)"Asset"===t.type&&s.has(t.value.id)||"AssetGroup"===t.type&&s.has(t.value.id)?o.push({type:t.type,value:{...t.value,favorite:!0}}):o.push(t);return o}}),o}),[e,s])}function l(e,t){const s=(0,o.lt)(e,t);return(0,n.useCallback)((t=>{const o=async function(){const s=[];for(const o of t)o.value.favorite&&("Asset"===o.type?s.push((0,i.ju)({id:o.value.id,asTeamId:e})):"AssetGroup"===o.type&&s.push((0,a.lF)({id:o.value.id,asTeamId:e})));await Promise.all(s)}();return s(o,{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=new Set;for(const e of t)s.add(e.value.id);const o=[];for(const t of e)"Asset"===t.type&&s.has(t.value.id)||"AssetGroup"===t.type&&s.has(t.value.id)?o.push({type:t.type,value:{...t.value,favorite:!1}}):o.push(t);return o}}),o}),[e,s])}var c=s("./app/utils/downloadZipWithToast.ts"),d=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),p=s("./node_modules/lucide-react/dist/esm/icons/x.js"),u=s("./node_modules/react-aria-components/dist/import.mjs"),m=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),h=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),g=s("./app/components/Views/AssetsV2/lib/tracking.ts"),f=s("./node_modules/clsx/dist/clsx.mjs");const y={popover:"Options__popover__YzXG9",enter:"Options__enter__peWab",exit:"Options__exit__WqVqG",item:"Options__item__AzKFB"};var x=s("./node_modules/react/jsx-runtime.js");function v(e){let{children:t,...s}=e;return(0,x.jsx)(u.J2,{className:y.popover,children:(0,x.jsx)(u.v2,{...s,children:t})})}function b(e){let{children:t,className:s,...o}=e;return(0,x.jsx)(u.sN,{className:(0,f.Z)(y.item,s),...o,children:t})}const w={container:"index__container__CDEgn",numberOfItems:"index__numberOfItems__yHRC3",divider:"index__divider__t_wD3",actionsTrigger:"index__actionsTrigger__AJ0uc",closeButton:"index__closeButton__pFgip"};function _(e){let{selectedIds:t,asTeamId:s,privateInTeam:o,page:a,hasTeamspaces:i,teamspaceId:f,canEdit:y,selectionDispatch:_}=e;const T=(0,n.useContext)(h.M),[,j]=(0,m.JW)(),k=r(s,o),C=l(s,o),E=[],S=[];for(const e of a)t.includes(e.value.id)&&("Asset"===e.type?E.push(e.value):"AssetGroup"===e.type&&S.push(e.value));let A="";A=E.length>0&&S.length>0?`${S.length} folders and ${E.length} asset selected`:E.length>0?`${E.length} asset selected`:`${S.length} folders selected`;let M=null,P=null;y&&(f?P=(0,x.jsx)(b,{id:"remove-from-teamspace",children:"Unshare from teamspace"}):i&&(P=(0,x.jsx)(b,{id:"share-with-teamspace",children:"Share with teamspace"})),f||(M=o?(0,x.jsx)(b,{id:"share-with-workspace",children:"Share with workspace"}):(0,x.jsx)(b,{id:"remove-from-workspace",children:"Unshare from workspace"})));let N=null;return N=I(E,S)?(0,x.jsx)(b,{id:"toggle-favorite",children:"Unfavorite"}):(0,x.jsx)(b,{id:"toggle-favorite",children:"Favorite"}),(0,x.jsxs)("div",{className:w.container,children:[(0,x.jsx)("span",{className:w.numberOfItems,children:A}),(0,x.jsx)("div",{className:w.divider}),(0,x.jsxs)(u.bF,{children:[(0,x.jsxs)(u.zx,{className:w.actionsTrigger,children:[(0,x.jsx)("span",{children:"Actions"}),(0,x.jsx)(d.Z,{size:16})]}),(0,x.jsxs)(v,{onAction:function(e){switch(e){case"toggle-favorite":{const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});I(E,S)?C(e).catch((()=>{j({type:"ADD_TOAST",data:(0,m.Ir)({error:!0,title:"Failed to remove from favorites"})})})):k(e).catch((()=>{j({type:"ADD_TOAST",data:(0,m.Ir)({error:!0,title:"Failed to add to favorites"})})}));break}case"share-with-workspace":{const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});(0,g.GL)({numAssetSelected:e.length,actionType:"shareWithWorkspace"}),T.showMoveWithinWorkspace(e);break}case"remove-from-workspace":{const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});(0,g.GL)({numAssetSelected:e.length,actionType:"removeFromWorkspace"}),T.showMoveWithinWorkspace(e);break}case"share-with-teamspace":{const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});(0,g.GL)({numAssetSelected:e.length,actionType:"shareWithTeamspace"}),T.showMoveToTeamspace(e);break}case"remove-from-teamspace":{if(!f)return;const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});(0,g.GL)({numAssetSelected:e.length,actionType:"removeFromTeamspace"}),T.showRemoveFromTeamspace(f,e);break}case"move":{const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});(0,g.GL)({numAssetSelected:e.length,actionType:"move"}),T.showBulkMove(e);break}case"download":(0,g.GL)({numAssetSelected:t.length,actionType:"download"}),(0,c.B)({dispatchToast:j,selectedItems:t.map((e=>({id:e}))),asTeamId:s,privateInTeam:o,name:`Runway Batch Download_${t.length} Files_${(new Date).toISOString()}`});break;case"delete":{const e=[];for(const t of E)e.push({type:"Asset",value:t});for(const t of S)e.push({type:"AssetGroup",value:t});(0,g.GL)({numAssetSelected:e.length,actionType:"delete"}),T.showDeleteMixed(e);break}}},children:[P,M,(0,x.jsx)(b,{id:"download",children:"Download"}),y?N:null,y?(0,x.jsx)(b,{id:"move",children:"Move"}):null,y?(0,x.jsx)(b,{id:"delete",children:"Delete"}):null]})]}),(0,x.jsx)(u.zx,{onPress:function(){_({type:"clear"})},className:w.closeButton,children:(0,x.jsx)(p.Z,{size:16,color:"white"})})]})}function I(e,t){for(const t of e)if(!t.favorite)return!1;for(const e of t)if(!e.favorite)return!1;return!0}},"./app/components/Views/AssetsV2/dialogs/index.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>ie,T:()=>ye});var o=s("./app/components/Prefabs/AriaModal.tsx"),n=s("./node_modules/react/index.js"),a=s("./app/api/hooks/useMoveAssetsOrAssetGroups.ts"),i=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),r=s("./node_modules/lucide-react/dist/esm/icons/chevron-right.js"),l=s("./node_modules/lucide-react/dist/esm/icons/folder.js"),c=s("./node_modules/react-aria-components/dist/import.mjs"),d=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),p=s("./app/components/Views/Storyboard/lib/createId.ts");const u={dialog:"BulkMoveDialog__dialog__rRSza",title:"BulkMoveDialog__title__CGJ0K",description:"BulkMoveDialog__description__ffxCy",folders:"BulkMoveDialog__folders__WPf3P",folderContainer:"BulkMoveDialog__folderContainer__HSWqi",icon:"BulkMoveDialog__icon__QS9tS",name:"BulkMoveDialog__name__leWqM",noFolders:"BulkMoveDialog__noFolders__gp11s",buttons:"BulkMoveDialog__buttons__sHvAA",cancelButton:"BulkMoveDialog__cancelButton__pYGsa",moveButton:"BulkMoveDialog__moveButton__eHF_m"};var m=s("./node_modules/react/jsx-runtime.js");function h(e){let{asTeamId:t,privateInTeam:s,items:o,entriesByParentId:i,onClose:r}=e;const[l,h]=(0,n.useState)(null),f=o[0].value.parentAssetGroupId,[,y]=(0,d.JW)(),x=(0,a.U)(t,s);let v=0,b=0;for(const e of o)"Asset"===e.type?v++:b++;let w="";w=v>0&&b>0?`Move ${b} folders and ${v} assets`:v>0?`Move ${v} assets`:`Move ${b} folders`;const _=new Set;for(const e of o)_.add(e.value.id);return(0,m.jsxs)(c.Vq,{className:u.dialog,children:[(0,m.jsx)(c.X6,{slot:"title",className:u.title,children:w}),(0,m.jsx)("p",{className:u.description,children:"Select a folder to move the selected items to."}),(0,m.jsx)("div",{className:u.folders,children:(0,m.jsx)(g,{id:"root",name:"Assets",selectedFolderId:l,setSelectedFolderId:h,entriesByParentId:i,itemIds:_,originId:f,depth:0,selectable:null!==f})}),(0,m.jsxs)("div",{className:u.buttons,children:[(0,m.jsx)("button",{onClick:r,className:u.cancelButton,type:"button",children:"Cancel"}),(0,m.jsx)("button",{onClick:async function(e){e.preventDefault(),r();try{x(o,f,"root"===l?null:l)}catch{y({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,p.M)(),error:!0}})}},className:u.moveButton,disabled:null===l,type:"button",children:"Move"})]})]})}function g(e){let{id:t,name:s,depth:o,selectedFolderId:a,entriesByParentId:c,itemIds:d,originId:p,selectable:h,setSelectedFolderId:f}=e;const[y,x]=(0,n.useState)("root"===t);const v=[];if(y){const e=c[t];if(e)for(const t of e)"AssetGroup"===t.type&&v.push((0,m.jsx)(g,{id:t.value.id,name:t.value.name,selectedFolderId:a,setSelectedFolderId:f,entriesByParentId:c,itemIds:d,originId:p,depth:o+1,selectable:!d.has(t.value.id)&&p!==t.value.id},t.value.id))}return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{onClick:h?function(){f(t)}:void 0,className:u.folderContainer,"data-selected":a===t,"data-selectable":h,style:{paddingLeft:22*o+32+"px"},children:[(0,m.jsx)("div",{onClick:function(){"root"!==t&&x(!y)},children:y?(0,m.jsx)(i.Z,{size:16,className:u.icon}):(0,m.jsx)(r.Z,{size:16,className:u.icon})}),(0,m.jsx)(l.Z,{size:16,className:u.icon}),(0,m.jsx)("div",{className:u.name,children:s})]}),y&&v.length>0?v:null,y&&0===v.length?(0,m.jsx)("div",{className:u.noFolders,style:{paddingLeft:22*(o+1)+32+"px"},children:"No folders"}):null]})}var f=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),y=s("./app/api/assets.ts"),x=s("./app/api/hooks/useAsset.ts");var v=s("./app/components/Views/AssetsV2/lib/tracking.ts");const b={dialog:"DeleteAssetDialog__dialog__WDrSi",title:"DeleteAssetDialog__title__rEInO",description:"DeleteAssetDialog__description__hztsL",buttons:"DeleteAssetDialog__buttons__GjS46",cancelButton:"DeleteAssetDialog__cancelButton__xJvm5",deleteButton:"DeleteAssetDialog__deleteButton__xcq8B"};function w(e){let{asTeamId:t,privateInTeam:s,asset:o,onClose:a}=e;const i=function(e,t){const s=(0,f.lt)(e,t),o=(0,x.y)();return(0,n.useCallback)((t=>{const n=(0,y.mo)(t.id,e);return o(t.id,n,{populateCache:!1,revalidate:!0}),s(n,{populateCache:!1,revalidate:!0,optimisticData(e){if(!e)return[];const s=[];for(const o of e)o.value.id!==t.id&&s.push(o);return s}}),n}),[e,o,s])}(t,s),[,r]=(0,d.JW)();return(0,m.jsxs)(c.Vq,{className:b.dialog,children:[(0,m.jsxs)(c.X6,{slot:"title",className:b.title,children:["Delete ",o.name,"?"]}),(0,m.jsxs)("span",{className:b.description,children:["Are you sure you want to delete ",o.name,"? This will not change the amount of credits you have."]}),(0,m.jsxs)("div",{className:b.buttons,children:[(0,m.jsx)("button",{onClick:a,className:b.cancelButton,children:"Cancel"}),(0,m.jsx)("button",{onClick:async function(e){e.preventDefault(),a();try{(0,v.Op)(),await i(o)}catch{r({type:"ADD_TOAST",data:{title:"Failed to delete asset",open:!0,id:(0,p.M)(),error:!0}})}},className:b.deleteButton,type:"submit",children:"Delete"})]})]})}var _=s("./app/api/asset-groups.ts");const I={dialog:"DeleteAssetGroupDialog__dialog__VbizF",title:"DeleteAssetGroupDialog__title__ocIgc",description:"DeleteAssetGroupDialog__description__Dr8FG",buttons:"DeleteAssetGroupDialog__buttons__PxruY",cancelButton:"DeleteAssetGroupDialog__cancelButton__qz_L2",deleteButton:"DeleteAssetGroupDialog__deleteButton__ZGjXT"};function T(e){let{asTeamId:t,privateInTeam:s,assetGroup:o,onClose:a}=e;const i=function(e,t){const s=(0,f.lt)(e,t);return(0,n.useCallback)((t=>s((0,_.RE)({id:t.id,asTeamId:e}),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const o of e)o.value.id!==t.id&&s.push(o);return s}})),[e,s])}(t,s),[,r]=(0,d.JW)();return(0,m.jsxs)(c.Vq,{className:I.dialog,children:[(0,m.jsxs)(c.X6,{slot:"title",className:I.title,children:["Delete ",o.name,"?"]}),(0,m.jsxs)("span",{className:I.description,children:["Are you sure you want to delete ",o.name,"? This will not change the amount of credits you have."]}),(0,m.jsxs)("div",{className:I.buttons,children:[(0,m.jsx)("button",{onClick:a,className:I.cancelButton,children:"Cancel"}),(0,m.jsx)("button",{onClick:async function(e){e.preventDefault(),a();try{(0,v.lH)(),await i(o)}catch{r({type:"ADD_TOAST",data:{title:"Failed to delete folder",open:!0,id:(0,p.M)(),error:!0}})}},className:I.deleteButton,type:"submit",children:"Delete"})]})]})}const j={dialog:"DeleteMixedDialog__dialog__YLMia",title:"DeleteMixedDialog__title__yBLF_",description:"DeleteMixedDialog__description__qpaSZ",buttons:"DeleteMixedDialog__buttons__gIifd",cancelButton:"DeleteMixedDialog__cancelButton__en_7p",deleteButton:"DeleteMixedDialog__deleteButton__loYQu"};function k(e){let{asTeamId:t,privateInTeam:s,items:o,onClose:a}=e;const i=function(e,t){const s=(0,f.lt)(e,t);return(0,n.useCallback)((t=>s(async function(){const s=[];for(const o of t)"Asset"!==o.type?s.push((0,_.RE)({id:o.value.id,asTeamId:e})):s.push((0,y.mo)(o.value.id,e));await Promise.all(s)}(),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=new Set;for(const e of t)s.add(e.value.id);const o=[];for(const t of e)s.has(t.value.id)||o.push(t);return o}})),[e,s])}(t,s),[,r]=(0,d.JW)();let l=0,u=0;for(const e of o)"Asset"===e.type?l++:u++;let h="",g="";return l>0&&u>0?(h=`Delete ${u} folders and ${l} assets`,g=`Are you sure you want to delete ${u} folders and ${l} assets? This will not change the amount of credits you have.`):l>0?(h=`Delete ${l} assets`,g=`Are you sure you want to delete ${l} assets? This will not change the amount of credits you have.`):(h=`Delete ${u} folders`,g=`Are you sure you want to delete ${u} folders? This will not change the amount of credits you have.`),(0,m.jsxs)(c.Vq,{className:j.dialog,children:[(0,m.jsx)(c.X6,{slot:"title",className:j.title,children:h}),(0,m.jsx)("span",{className:j.description,children:g}),(0,m.jsxs)("div",{className:j.buttons,children:[(0,m.jsx)("button",{onClick:a,className:j.cancelButton,children:"Cancel"}),(0,m.jsx)("button",{onClick:async function(e){e.preventDefault(),a();try{(0,v.n0)({numberOfAssets:l,numberOfAssetGroups:u}),i(o)}catch{r({type:"ADD_TOAST",data:{title:"Failed to delete items",open:!0,id:(0,p.M)(),error:!0}})}},className:j.deleteButton,type:"submit",children:"Delete"})]})]})}var C=s("./app/api/tasks.ts"),E=s("./app/api/hooks/usePendingAssets.ts");const S={dialog:"DeletePendingAssetDialog__dialog__MV8K3",title:"DeletePendingAssetDialog__title__XEN8w",buttons:"DeletePendingAssetDialog__buttons__SCJO4",cancelButton:"DeletePendingAssetDialog__cancelButton__xmy7h",deleteButton:"DeletePendingAssetDialog__deleteButton__ApzWl"};function A(e){let{asTeamId:t,privateInTeam:s,asset:o,onClose:a}=e;const i=function(e,t){const s=(0,E.Xk)(e,t);return(0,n.useCallback)((t=>s((0,C._5)(t.id,{asTeamId:e}),{populateCache:!1,revalidate:!0,optimisticData(e){if(!e)return[];const s=[];for(const o of e)o.id!==t.id&&s.push(o);return s}})),[e,s])}(t,s),[,r]=(0,d.JW)();return(0,m.jsxs)(c.Vq,{className:S.dialog,children:[(0,m.jsxs)(c.X6,{slot:"title",className:S.title,children:["Delete ",o.name,"?"]}),(0,m.jsxs)("div",{className:S.buttons,children:[(0,m.jsx)(c.zx,{onPress:a,className:S.cancelButton,children:"Cancel"}),(0,m.jsx)(c.zx,{onPress:async function(){a();try{await i(o)}catch{r({type:"ADD_TOAST",data:{title:"Failed to delete asset",open:!0,id:(0,p.M)(),error:!0}})}},className:S.deleteButton,children:"Delete"})]})]})}var M=s("./app/components/Views/Asset/utils.ts");function P(e){const t=(0,f.lt)(e,!0),s=(0,f.lt)(e,!1);return(0,n.useCallback)((async(o,n)=>{t(async function(){const t=[];for(const s of o)t.push((0,M.Zn)({assetOrGroup:s,teamspaceId:n,asTeamId:e}));await Promise.all(t),s(void 0,{populateCache:!1,revalidate:!0})}(),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const t=new Set;for(const e of o)t.add(e.value.id);const s=[];for(const o of e)t.has(o.value.id)||s.push(o);return s}})}),[e,t,s])}var N=s("./app/api/hooks/useTeamspaces.ts"),D=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceIcon.tsx"),O=s("./app/components/ErrorBoundary.tsx"),L=s("./node_modules/lucide-react/dist/esm/icons/loader.js"),R=s("./node_modules/lucide-react/dist/esm/icons/alert-triangle.js");const Z={dialog:"MoveToTeamspaceDialog__dialog__cma0I",title:"MoveToTeamspaceDialog__title__g5GHX",description:"MoveToTeamspaceDialog__description__mOmpP",buttons:"MoveToTeamspaceDialog__buttons__hGuTL",cancelButton:"MoveToTeamspaceDialog__cancelButton__zeiPY",moveButton:"MoveToTeamspaceDialog__moveButton__gCC9F",teamspaceScroller:"MoveToTeamspaceDialog__teamspaceScroller__O3XNp",teamspaceList:"MoveToTeamspaceDialog__teamspaceList__wu1gC",teamspaceItem:"MoveToTeamspaceDialog__teamspaceItem__RDr_D",teamspaceLoader:"MoveToTeamspaceDialog__teamspaceLoader__SLJ4B",teamspaceLoaderIcon:"MoveToTeamspaceDialog__teamspaceLoaderIcon__TZlVn",spin:"MoveToTeamspaceDialog__spin__PwTIp",teamspaceError:"MoveToTeamspaceDialog__teamspaceError__lYu8A"};function U(e){let{asTeamId:t,items:s,onClose:o}=e;return(0,m.jsxs)(c.Vq,{className:Z.dialog,children:[(0,m.jsx)(c.X6,{slot:"title",className:Z.title,children:z(s)}),(0,m.jsx)(O.S,{fallback:(0,m.jsx)(W,{}),children:(0,m.jsx)(n.Suspense,{fallback:(0,m.jsx)($,{}),children:(0,m.jsx)(V,{asTeamId:t,renderSingle:e=>(0,m.jsx)(B,{asTeamId:t,teamspace:e,items:s,onClose:o}),renderMany:e=>(0,m.jsx)(G,{asTeamId:t,teamspaces:e,items:s,onClose:o})})})})]})}function z(e){const t=[],s=[];for(const o of e)"Asset"===o.type?t.push(o.value):s.push(o.value);if(1===t.length&&0===s.length)return`Share ${t[0].name}`;if(1===s.length&&0===t.length)return`Share ${s[0].name}`;const o=t.length,n=s.length;return 0!==o||0!==n?0===o?`Share ${n} folder${1===n?"":"s"}`:0===n?`Share ${o} file${1===o?"":"s"}`:`Share ${n} folder${1===n?"":"s"} and ${o} file${1===o?"":"s"}`:void 0}function V(e){let{asTeamId:t,renderSingle:s,renderMany:o}=e;const n=(0,N.gb)(t,{suspense:!0});if(!n.data)throw new Error("Teamspace data is not available");return 1===n.data.length?s(n.data[0]):o(n.data)}function B(e){let{asTeamId:t,teamspace:s,items:o,onClose:n}=e;const a=P(t),[,i]=(0,d.JW)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{className:Z.description,children:["Assets will be accessible to all members of ",s.name]}),(0,m.jsx)("div",{style:{flex:1}}),(0,m.jsxs)("div",{className:Z.buttons,children:[(0,m.jsx)(c.zx,{onPress:n,className:Z.cancelButton,children:"Cancel"}),(0,m.jsx)(c.zx,{onPress:async function(){n();try{await a(o,s.id)}catch{i({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,p.M)(),error:!0}})}},className:Z.moveButton,children:"Share"})]})]})}function G(e){let{asTeamId:t,items:s,teamspaces:o,onClose:a}=e;const[i,r]=(0,n.useState)(null),l=P(t),[,u]=(0,d.JW)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:Z.description,children:"Assets will be accessible to all members on your selected teamspace."}),(0,m.jsx)(F,{teamspaces:o,selectedId:i,setSelectedId:r}),(0,m.jsxs)("div",{className:Z.buttons,children:[(0,m.jsx)(c.zx,{onPress:a,className:Z.cancelButton,children:"Cancel"}),(0,m.jsx)(c.zx,{onPress:async function(){if(null!==i){a();try{await l(s,i)}catch{u({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,p.M)(),error:!0}})}}},isDisabled:null===i,className:Z.moveButton,children:"Share"})]})]})}function F(e){let{teamspaces:t,selectedId:s,setSelectedId:o}=e;const n=[];for(const a of t){function i(){s===a.id?o(null):o(a.id)}n.push((0,m.jsxs)(c.zx,{className:Z.teamspaceItem,"data-selected":s===a.id,onPress:i,children:[(0,m.jsx)(D._J,{teamspace:a}),(0,m.jsx)("span",{children:a.name})]},a.id))}return(0,m.jsx)("div",{className:Z.teamspaceScroller,children:(0,m.jsx)("div",{className:Z.teamspaceList,children:n})})}function $(){return(0,m.jsx)("div",{className:Z.teamspaceLoader,children:(0,m.jsx)(L.Z,{size:24,className:Z.teamspaceLoaderIcon})})}function W(){return(0,m.jsx)("div",{className:Z.teamspaceError,children:(0,m.jsx)(R.Z,{size:40})})}const H={dialog:"MoveWithinWorkspaceDialog__dialog__UGdfU",title:"MoveWithinWorkspaceDialog__title__j5qVd",description:"MoveWithinWorkspaceDialog__description__hzo78",buttons:"MoveWithinWorkspaceDialog__buttons__OqPyi",cancelButton:"MoveWithinWorkspaceDialog__cancelButton__rJ2Pb",moveButton:"MoveWithinWorkspaceDialog__moveButton__FMnNV"};function Y(e){let{asTeamId:t,privateInTeam:s,items:o,onClose:a}=e;const i=function(e,t){const s=(0,f.lt)(e,t),o=(0,f.lt)(e,!t);return(0,n.useCallback)((n=>s(async function(){const s=[];for(const o of n)s.push((0,M.Dc)({assetOrAssetGroup:o,asTeamId:e,privateInTeam:!t}));await Promise.all(s),o(void 0,{populateCache:!1,revalidate:!0})}(),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const t=new Set;for(const e of n)t.add(e.value.id);const s=[];for(const o of e)t.has(o.value.id)||s.push(o);return s}})),[e,s,o,t])}(t,s),[,r]=(0,d.JW)();return(0,m.jsxs)(c.Vq,{className:H.dialog,children:[(0,m.jsx)(c.X6,{slot:"title",className:H.title,children:X(o)}),(0,m.jsx)("span",{className:H.description,children:q(s)}),(0,m.jsxs)("div",{className:H.buttons,children:[(0,m.jsx)("button",{onClick:a,className:H.cancelButton,children:"Cancel"}),(0,m.jsx)("button",{onClick:async function(e){e.preventDefault(),a();try{await i(o),s?(0,v.Iy)():(0,v.bA)()}catch{r({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,p.M)(),error:!0}})}},className:H.moveButton,type:"submit",children:"Move"})]})]})}function X(e){const t=[],s=[];for(const o of e)"Asset"===o.type?t.push(o.value):s.push(o.value);if(1===t.length&&0===s.length)return`Move ${t[0].name}`;if(1===s.length&&0===t.length)return`Move ${s[0].name}`;const o=t.length,n=s.length;return 0!==o||0!==n?0===o?`Move ${n} folder${1===n?"":"s"}`:0===n?`Move ${o} file${1===o?"":"s"}`:`Move ${n} folder${1===n?"":"s"} and ${o} file${1===o?"":"s"}`:void 0}function q(e){return e?"Workspace assets are accessible to all members on your workspace.":"Members of your workspace will lose access to this asset."}const J={dialog:"RemoveFromTeamspaceDialog__dialog__klDuZ",title:"RemoveFromTeamspaceDialog__title__u6ISM",description:"RemoveFromTeamspaceDialog__description__SGUZj",buttons:"RemoveFromTeamspaceDialog__buttons__bsvoH",cancelButton:"RemoveFromTeamspaceDialog__cancelButton__fk4Z6",moveButton:"RemoveFromTeamspaceDialog__moveButton__Shjep"};function K(e){let{asTeamId:t,items:s,teamspaceId:o,onClose:a}=e;const i=function(e){const t=(0,f.lt)(e,!1),s=(0,f.lt)(e,!0);return(0,n.useCallback)((async(o,n)=>{t(async function(){const t=[];for(const s of o)t.push((0,M.fh)({assetOrGroup:s,teamspaceId:n,asTeamId:e}));await Promise.all(t),s(void 0,{populateCache:!1,revalidate:!0})}(),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const t=new Set;for(const e of o)t.add(e.value.id);const s=[];for(const o of e)t.has(o.value.id)||s.push(o);return s}})}),[e,s,t])}(t),[,r]=(0,d.JW)();return(0,m.jsxs)(c.Vq,{className:J.dialog,children:[(0,m.jsx)(c.X6,{slot:"title",className:J.title,children:Q(s)}),(0,m.jsx)("span",{className:J.description,children:ee(s)}),(0,m.jsxs)("div",{className:J.buttons,children:[(0,m.jsx)(c.zx,{onPress:a,className:J.cancelButton,children:"Cancel"}),(0,m.jsx)(c.zx,{onPress:async function(){a();try{await i(s,o)}catch{r({type:"ADD_TOAST",data:{title:"Failed to move items",open:!0,id:(0,p.M)(),error:!0}})}},className:J.moveButton,children:"Move"})]})]})}function Q(e){const t=[],s=[];for(const o of e)"Asset"===o.type?t.push(o.value):s.push(o.value);if(1===t.length&&0===s.length)return`Unshare ${t[0].name}`;if(1===s.length&&0===t.length)return`Unshare ${s[0].name}`;const o=t.length,n=s.length;return 0!==o||0!==n?0===o?`Unshare ${n} folder${1===n?"":"s"}`:0===n?`Unshare ${o} file${1===o?"":"s"}`:`Unshare ${n} folder${1===n?"":"s"} and ${o} file${1===o?"":"s"}`:void 0}function ee(e){const t=[],s=[];for(const o of e)"Asset"===o.type?t.push(o.value):s.push(o.value);if(1===t.length&&0===s.length)return"Members of this teamspace will lose access to the asset.";if(1===s.length&&0===t.length)return"Members of this teamspace will lose access to the folder.";const o=t.length,n=s.length;return 0!==o||0!==n?0===o?`Members of this teamspace will lose access to ${n} folder${1===n?"":"s"}.`:0===n?`Members of this teamspace will lose access to ${o} asset${1===o?"":"s"}.`:`Members of this teamspace will lose access to ${n} folder${1===n?"":"s"} and ${o} asset${1===o?"":"s"}.`:void 0}const te={dialog:"RenameAssetDialog__dialog__B9XjA",title:"RenameAssetDialog__title__rSY3M",form:"RenameAssetDialog__form__M8pQ4",input:"RenameAssetDialog__input__URGQy",buttons:"RenameAssetDialog__buttons__o6ZJl",cancelButton:"RenameAssetDialog__cancelButton__MDeOr",renameButton:"RenameAssetDialog__renameButton__krstd"};function se(e){let{asTeamId:t,privateInTeam:s,asset:o,onClose:a}=e;const i=function(e,t){const s=(0,f.lt)(e,t),o=(0,x.y)();return(0,n.useCallback)(((t,n)=>{const a=(0,y.Rk)({id:n.id,name:t,asTeamId:e});return o(n.id,a,{populateCache:!1,revalidate:!0,optimisticData:()=>({...n,name:t})}),s(a,{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const o of e)"Asset"===o.type&&o.value.id===n.id?s.push({type:"Asset",value:{...o.value,name:t}}):s.push(o);return s}}),a}),[e,o,s])}(t,s),[r,l]=(0,n.useState)(o.name),[,u]=(0,d.JW)();return(0,m.jsxs)(c.Vq,{className:te.dialog,children:[(0,m.jsxs)(c.X6,{slot:"title",className:te.title,children:["Rename ",o.name]}),(0,m.jsxs)("form",{onSubmit:async function(e){e.preventDefault(),a();try{await i(r,o)}catch{u({type:"ADD_TOAST",data:{title:"Failed to rename asset",open:!0,id:(0,p.M)(),error:!0}})}},className:te.form,children:[(0,m.jsx)("input",{className:te.input,type:"text",name:"name",value:r,onChange:e=>l(e.target.value),required:!0,autoFocus:!0}),(0,m.jsxs)("div",{className:te.buttons,children:[(0,m.jsx)("button",{onClick:a,className:te.cancelButton,type:"button",children:"Cancel"}),(0,m.jsx)("button",{className:te.renameButton,type:"submit",children:"Rename"})]})]})]})}var oe=s("./app/api/hooks/useRenameAssetGroup.ts");const ne={dialog:"RenameAssetGroupDialog__dialog__L1slN",title:"RenameAssetGroupDialog__title__o1udM",form:"RenameAssetGroupDialog__form__QBC16",input:"RenameAssetGroupDialog__input__BVwu9",buttons:"RenameAssetGroupDialog__buttons__U9NgM",cancelButton:"RenameAssetGroupDialog__cancelButton__fM0CP",renameButton:"RenameAssetGroupDialog__renameButton__YjnYT"};function ae(e){let{asTeamId:t,privateInTeam:s,assetGroup:o,onClose:a}=e;const i=(0,oe.N)(t,s),[,r]=(0,d.JW)(),[l,u]=(0,n.useState)(o.name);return(0,m.jsxs)(c.Vq,{className:ne.dialog,children:[(0,m.jsxs)(c.X6,{slot:"title",className:ne.title,children:["Rename ",o.name]}),(0,m.jsxs)("form",{onSubmit:async function(e){e.preventDefault(),a();try{await i(l,o.id)}catch{r({type:"ADD_TOAST",data:{title:"Failed to rename folder",open:!0,id:(0,p.M)(),error:!0}})}},className:ne.form,children:[(0,m.jsx)("input",{className:ne.input,type:"text",name:"name",value:l,onChange:e=>u(e.target.value),required:!0,autoFocus:!0}),(0,m.jsxs)("div",{className:ne.buttons,children:[(0,m.jsx)("button",{onClick:a,className:ne.cancelButton,type:"button",children:"Cancel"}),(0,m.jsx)("button",{className:ne.renameButton,type:"submit",children:"Rename"})]})]})]})}const ie=(0,n.createContext)({});function re(e){return"rename-asset"===e?.type}function le(e){return"delete-asset"===e?.type}function ce(e){return"rename-asset-group"===e?.type}function de(e){return"delete-asset-group"===e?.type}function pe(e){return"delete-mixed"===e?.type}function ue(e){return"move-within-workspace"===e?.type}function me(e){return"bulk-move"===e?.type}function he(e){return"move-to-teamspace"===e?.type}function ge(e){return"remove-from-teamspace"===e?.type}function fe(e){return"delete-pending-asset"===e?.type}function ye(e){let{asTeamId:t,privateInTeam:s,entriesByParentId:o,children:a}=e;const[i,r]=(0,n.useState)(null),l=(0,n.useMemo)((()=>({showRenameAsset(e){r({type:"rename-asset",asset:e})},showDeleteAsset(e){r({type:"delete-asset",asset:e})},showRenameAssetGroup(e){r({type:"rename-asset-group",assetGroup:e})},showDeleteAssetGroup(e){r({type:"delete-asset-group",assetGroup:e})},showDeleteMixed(e){r({type:"delete-mixed",items:e})},showMoveWithinWorkspace(e){r({type:"move-within-workspace",items:e})},showBulkMove(e){r({type:"bulk-move",items:e})},showMoveToTeamspace(e){r({type:"move-to-teamspace",items:e})},showRemoveFromTeamspace(e,t){r({type:"remove-from-teamspace",teamspaceId:e,items:t})},showDeletePendingAsset(e){r({type:"delete-pending-asset",asset:e})}})),[]);return(0,m.jsxs)(ie.Provider,{value:l,children:[a,(0,m.jsx)(xe,{isOpen:re(i),onOpenChange:()=>r(null),children:re(i)?(0,m.jsx)(se,{asTeamId:t,privateInTeam:s,asset:i.asset,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:le(i),onOpenChange:()=>r(null),children:le(i)?(0,m.jsx)(w,{asTeamId:t,privateInTeam:s,asset:i.asset,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:fe(i),onOpenChange:()=>r(null),children:fe(i)?(0,m.jsx)(A,{asTeamId:t,privateInTeam:s,asset:i.asset,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:ce(i),onOpenChange:()=>r(null),children:ce(i)?(0,m.jsx)(ae,{asTeamId:t,privateInTeam:s,assetGroup:i.assetGroup,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:de(i),onOpenChange:()=>r(null),children:de(i)?(0,m.jsx)(T,{asTeamId:t,privateInTeam:s,assetGroup:i.assetGroup,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:pe(i),onOpenChange:()=>r(null),children:pe(i)?(0,m.jsx)(k,{asTeamId:t,privateInTeam:s,items:i.items,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:ue(i),onOpenChange:()=>r(null),children:ue(i)?(0,m.jsx)(Y,{asTeamId:t,privateInTeam:s,items:i.items,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:me(i),onOpenChange:()=>r(null),children:me(i)?(0,m.jsx)(h,{asTeamId:t,privateInTeam:s,items:i.items,entriesByParentId:o,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:he(i),onOpenChange:()=>r(null),children:he(i)?(0,m.jsx)(U,{asTeamId:t,items:i.items,onClose:()=>r(null)}):null}),(0,m.jsx)(xe,{isOpen:ge(i),onOpenChange:()=>r(null),children:ge(i)?(0,m.jsx)(K,{asTeamId:t,teamspaceId:i.teamspaceId,items:i.items,onClose:()=>r(null)}):null})]})}function xe(e){let{isOpen:t,children:s,onOpenChange:n}=e;return(0,m.jsx)(o.u,{isOpen:t,onOpenChange:n,children:s})}},"./app/components/Views/AssetsV2/grid/AssetCell.tsx":(e,t,s)=>{"use strict";s.d(t,{E:()=>f});var o=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),n=s("./node_modules/react/index.js"),a=s("./app/utils/hooks/useHover.ts"),i=s("./app/components/Prefabs/ScrubbableVideo.tsx"),r=s("./app/components/Views/Assets/AssetGrid.tsx"),l=s("./app/components/Views/Assets/constants.ts"),c=s("./app/components/Views/Assets/shared.tsx"),d=s("./app/components/Views/AssetsV2/hooks/useAssetContextMenu.tsx"),p=s("./app/components/Views/AssetsV2/lightbox/index.tsx"),u=s("./app/components/Views/AssetsV2/shared/FavoriteAssetButton.tsx"),m=s("./app/components/Views/AssetsV2/shared/InlineAssetOptions.tsx");const h={container:"AssetCell__container__BlVnr",media:"AssetCell__media__ozqoZ",footer:"AssetCell__footer__LV9Fp",name:"AssetCell__name__PhvGZ",footerBottomRow:"AssetCell__footerBottomRow__Kd86o",footerBottomSpacer:"AssetCell__footerBottomSpacer__ODTsB",uploadType:"AssetCell__uploadType__QE1lA",subtext:"AssetCell__subtext__k2NiD",favoriteButton:"AssetCell__favoriteButton__hsuG1"};var g=s("./node_modules/react/jsx-runtime.js");function f(e){let{asset:t,asTeamId:s,selected:o,teamspaceId:d,hasTeamspaces:p,privateInTeam:f,canEdit:x,selectionDispatch:v}=e;const b="video"===t.mediaType&&"gif"!==t.fileExtStandardized,[w,_]=(0,a.X)(),I=(0,c.lR)(t,l.Z.MEDIUM);return(0,g.jsxs)(y,{asset:t,asTeamId:s,selected:o,privateInTeam:f,teamspaceId:d,hasTeamspaces:p,canEdit:x,onSelect:function(e){v({type:"click",id:t.id,selected:o,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey})},children:[(0,g.jsxs)("div",{ref:w,children:[(0,g.jsx)(n.Suspense,{fallback:null,children:(0,g.jsx)(u.X,{assetOrAssetGroup:{type:"Asset",value:t},canEdit:x,asTeamId:s,privateInTeam:f,origin:"assets grid",className:h.favoriteButton})}),b&&t.metadata?.duration&&_?(0,g.jsx)(i.P,{videoURL:t.url,duration:t.metadata.duration,placeholder:I}):(0,g.jsx)("img",{src:I,className:h.media})]}),(0,g.jsxs)("div",{className:h.footer,children:[(0,g.jsx)("span",{className:h.name,children:t.name}),(0,g.jsxs)("div",{className:h.footerBottomRow,children:[(0,g.jsx)("span",{className:h.uploadType,children:t.isUserUpload?"Upload":"Export"}),(0,g.jsx)("span",{className:h.subtext,children:(0,r.v)(t)}),(0,g.jsx)("div",{className:h.footerBottomSpacer}),(0,g.jsx)(m.W,{asset:t,asTeamId:s,teamspaceId:d,hasTeamspaces:p,privateInTeam:f,canEdit:x})]})]})]})}function y(e){let{asTeamId:t,privateInTeam:s,teamspaceId:a,hasTeamspaces:i,canEdit:r,asset:l,selected:u,onSelect:m,children:f}=e;const{onContextMenu:y,contextMenu:x}=(0,d.x)(l,t,s,a,i,r),v=(0,n.useContext)(p.p),b=(0,o.O1)({id:l.id});return(0,g.jsxs)("div",{"data-testid":"asset-cell",ref:b.setNodeRef,...b.attributes,...(0,c.YV)(b.listeners),className:h.container,tabIndex:0,onClick:m,onDoubleClick:function(){v.present(l.id)},"data-selected":u,onContextMenu:y,children:[f,x]})}},"./app/components/Views/AssetsV2/grid/AssetGroupCell.tsx":(e,t,s)=>{"use strict";s.d(t,{z:()=>y});var o=s("./app/utils/downloadZipWithToast.ts"),n=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),a=s("./node_modules/react/index.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./app/components/Views/Assets/shared.tsx"),l=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),c=s("./app/components/Views/Storyboard/hooks/useMergeRefs.ts"),d=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),p=s("./app/components/Views/AssetsV2/hooks/useAssetGroupContextMenu.tsx"),u=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),m=s("./app/components/Views/AssetsV2/lib/tracking.ts"),h=s("./app/components/Views/AssetsV2/grid/AssetGroupCell.css"),g=s("./app/components/Views/AssetsV2/grid/shared/Options.tsx"),f=s("./node_modules/react/jsx-runtime.js");function y(e){let{assetGroup:t,items:s,asTeamId:o,privateInTeam:n,selected:a,teamspaceId:i,hasTeamspaces:l,canEdit:c,selectionDispatch:d}=e;const p=[];for(const e of s||[])if("AssetGroup"!==e.type&&(p.push((0,r.lR)(e.value)),p.length>=4))break;const u=(s?.length||0)-p.length;return(0,f.jsxs)(x,{assetGroup:t,asTeamId:o,privateInTeam:n,onSelect:function(e){d({type:"click",id:t.id,selected:a,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey})},selected:a,teamspaceId:i,hasTeamspaces:l,canEdit:c,children:[(0,f.jsx)(r.YX,{className:h.Z.folder}),(0,f.jsxs)("div",{className:h.Z.content,children:[(0,f.jsx)("div",{className:h.Z.imageGrid,"data-items":p.length,children:p.map(((e,t)=>{const s=t===p.length-1&&u>0;return(0,f.jsxs)("div",{className:h.Z.imageContainer,children:[(0,f.jsx)("img",{src:e,className:h.Z.image}),s?(0,f.jsx)("div",{className:h.Z.hasMoreText,children:`+${u}`}):null]},e)}))}),(0,f.jsxs)("div",{className:h.Z.footer,children:[(0,f.jsx)("span",{className:h.Z.name,children:t.name}),(0,f.jsxs)("div",{className:h.Z.footerBottomRow,children:[(0,f.jsxs)("span",{className:h.Z.subtext,children:["Folder, ",s?.length||0," items"]}),(0,f.jsx)("div",{className:h.Z.footerBottomSpacer}),(0,f.jsx)(v,{assetGroup:t,asTeamId:o,privateInTeam:n,teamspaceId:i,hasTeamspaces:l,canEdit:c})]})]})]})]})}function x(e){let{asTeamId:t,assetGroup:s,privateInTeam:o,children:a,selected:l,teamspaceId:d,hasTeamspaces:g,canEdit:y,onSelect:x}=e;const v=(0,i.k6)(),{onContextMenu:b,contextMenu:w}=(0,p.Z)(s,t,o,d,g,y),_=(0,u.y)(),I=(0,n.O1)({id:s.id}),T=(0,n.Zj)({id:s.id}),j=(0,c.q)([I.setNodeRef,T.setNodeRef]);return(0,f.jsxs)("div",{"data-testid":"asset-group-cell",ref:j,...I.attributes,...(0,r.YV)(I.listeners),className:h.Z.container,tabIndex:0,onClick:x,onDoubleClick:function(){(0,m._o)(d?"teamspace":"private"),v.push({search:_({parentId:s.id})})},"data-selected":l,"data-over":T.isOver,onContextMenu:b,children:[a,w]})}function v(e){let{assetGroup:t,asTeamId:s,privateInTeam:n,teamspaceId:i,hasTeamspaces:r,canEdit:c}=e;const p=(0,a.useContext)(d.M),[u,h]=(0,l.JW)();let y=null,x=null;return c&&(i?x=(0,f.jsx)(g.r,{id:"remove-from-teamspace",children:"Unshare from teamspace"}):r&&(x=(0,f.jsx)(g.r,{id:"share-with-teamspace",children:"Share with teamspace"})),i||(y=n?(0,f.jsx)(g.r,{id:"share-with-workspace",children:"Share with workspace"}):(0,f.jsx)(g.r,{id:"remove-from-workspace",children:"Unshare from workspace"}))),(0,f.jsxs)(g.E,{onAction:function(e){switch(e){case"download":(0,m.RP)("private"),async function(){(0,o.B)({dispatchToast:h,selectedItems:[t],asTeamId:s,privateInTeam:n,name:t.name,fileCount:t.children?.length||1})}();break;case"rename":p.showRenameAssetGroup(t);break;case"share-with-workspace":(0,m.So)(),p.showMoveWithinWorkspace([{type:"AssetGroup",value:t}]);break;case"remove-from-workspace":(0,m.Er)(),p.showMoveWithinWorkspace([{type:"AssetGroup",value:t}]);break;case"share-with-teamspace":(0,m.el)(),p.showMoveToTeamspace([{type:"AssetGroup",value:t}]);break;case"remove-from-teamspace":if(null===i)return;(0,m.kM)(),p.showRemoveFromTeamspace(i,[{type:"AssetGroup",value:t}]);break;case"delete":p.showDeleteAssetGroup(t)}},children:[x,y,(0,f.jsx)(g.r,{id:"download",children:"Download"}),c?(0,f.jsx)(g.r,{id:"rename",children:"Rename"}):null,c?(0,f.jsx)(g.r,{id:"delete",children:"Delete"}):null]})}},"./app/components/Views/AssetsV2/grid/TeamspaceCell.tsx":(e,t,s)=>{"use strict";s.d(t,{h:()=>g});var o=s("./app/utils/downloadZipWithToast.ts"),n=s("./node_modules/lucide-react/dist/esm/icons/users-round.js"),a=s("./node_modules/react-router/esm/react-router.js"),i=s("./app/components/Views/Assets/shared.tsx"),r=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),l=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),c=s("./app/components/Views/AssetsV2/hooks/useTeamspaceContextMenu.tsx"),d=s("./app/components/Views/AssetsV2/lib/tracking.ts"),p=s("./app/components/Views/AssetsV2/grid/AssetGroupCell.css");const u={teamspaceIndicator:"TeamspaceCell__teamspaceIndicator__Esq3D"};var m=s("./app/components/Views/AssetsV2/grid/shared/Options.tsx"),h=s("./node_modules/react/jsx-runtime.js");function g(e){let{assetGroup:t,asTeamId:s}=e;return(0,h.jsxs)(f,{assetGroup:t,asTeamId:s,privateInTeam:!1,children:[(0,h.jsx)(i.YX,{className:p.Z.folder}),(0,h.jsxs)("div",{className:p.Z.content,children:[(0,h.jsx)(n.Z,{className:u.teamspaceIndicator,size:56,strokeWidth:1.5}),(0,h.jsxs)("div",{className:p.Z.footer,children:[(0,h.jsx)("span",{className:p.Z.name,children:t.name}),(0,h.jsxs)("div",{className:p.Z.footerBottomRow,children:[(0,h.jsx)("span",{className:p.Z.subtext,children:"Teamspace"}),(0,h.jsx)("div",{className:p.Z.footerBottomSpacer}),(0,h.jsx)(y,{assetGroup:t,asTeamId:s,privateInTeam:!1})]})]})]})]})}function f(e){let{asTeamId:t,assetGroup:s,privateInTeam:o,children:n}=e;const i=(0,a.k6)(),{onContextMenu:r,contextMenu:u}=(0,c.L)(s,t,o),m=(0,l.y)();return(0,h.jsxs)("div",{className:p.Z.container,tabIndex:0,onDoubleClick:function(){(0,d._o)("teamspace"),i.push({search:m({parentId:s.id})})},onContextMenu:r,children:[n,u]})}function y(e){let{assetGroup:t,asTeamId:s,privateInTeam:n}=e;const[a,i]=(0,r.JW)();return(0,h.jsx)(m.E,{onAction:function(e){if("download"===e)(0,d.RP)("teamspace"),async function(){(0,o.B)({dispatchToast:i,selectedItems:[t],asTeamId:s,privateInTeam:n,name:t.name,fileCount:t.children?.length||1})}()},children:(0,h.jsx)(m.r,{id:"download",children:"Download"})})}},"./app/components/Views/AssetsV2/grid/UploadCell.tsx":(e,t,s)=>{"use strict";s.d(t,{k:()=>l});var o=s("./app/utils/uploads.ts"),n=s("./node_modules/lucide-react/dist/esm/icons/loader.js"),a=s("./node_modules/react-aria-components/dist/import.mjs");const i={container:"UploadCell__container__EonIJ",cancelButtonContainer:"UploadCell__cancelButtonContainer__GHs_r",loader:"UploadCell__loader__AH0Td",icon:"UploadCell__icon__mCkaZ",spin:"UploadCell__spin__QpTU7",footer:"UploadCell__footer__iBuMp",name:"UploadCell__name__EHjDk",footerBottomRow:"UploadCell__footerBottomRow__Zw86F",subtext:"UploadCell__subtext__NimYV",cancelButton:"UploadCell__cancelButton__Rrmcq"};var r=s("./node_modules/react/jsx-runtime.js");function l(e){let{upload:t}=e;const s=Math.round(100*t.uploadProgress);return(0,r.jsxs)("div",{className:i.container,children:[(0,r.jsx)("div",{className:i.loader,children:(0,r.jsx)(n.Z,{size:32,className:i.icon})}),(0,r.jsxs)("div",{className:i.footer,children:[(0,r.jsx)("span",{className:i.name,children:t.name}),(0,r.jsx)("div",{className:i.footerBottomRow,children:(0,r.jsxs)("span",{className:i.subtext,children:[s,"% uploaded"]})})]}),(0,r.jsx)("div",{className:i.cancelButtonContainer,children:(0,r.jsx)(a.zx,{className:i.cancelButton,onPress:function(){(0,o.m1)(t.id)},children:"Cancel upload"})})]})}},"./app/components/Views/AssetsV2/grid/index.tsx":(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var o=s("./node_modules/react/index.js");const n={container:"index__container__xPi2_",scrollContainer:"index__scrollContainer__ooC7k"};var a=s("./node_modules/react/jsx-runtime.js");const i=224,r=16,l=4/3;function c(e){let{scrollRef:t,page:s,renderItem:c}=e;const p=(0,o.useRef)(null),u=(0,o.useRef)({}),[m,h]=(0,o.useState)(0),[g,f]=(0,o.useState)(0),[y,x]=(0,o.useState)(0),[v,b]=(0,o.useState)(0);if((0,o.useEffect)((()=>{const e=p.current;if(!e)return;const t=()=>{b(e.offsetTop)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[]),(0,o.useEffect)((()=>{const e=t.current;if(!e)return;const s=()=>{x(e.scrollTop)},o=new ResizeObserver((e=>{h(e[0].contentRect.height),f(e[0].contentRect.width-48)}));return o.observe(e),e.addEventListener("scroll",s),()=>{o.disconnect(),e.removeEventListener("scroll",s)}}),[t]),m<=0||g<=0)return null;const w=Math.max(y-v,0),_=function(e,t,s){return Math.floor(s/(e+t))}(i,r,g),I=function(e,t,s){const o=t*(e-1);return(s-o)/e}(_,r,g),T=function(e,t){return e/t}(I,l),j=function(e,t,s,o){const n=e-s,a=Math.floor(n/t)*o;return Math.max(a,0)}(w,T+r,m,_),k=function(e,t,s,o,n){const a=e+s,i=Math.round((a+s)/t)*n;return Math.min(i,o-1)}(w,T+r,m,s.length,_),C=[];for(let e=j;e<=k;e++){const t=d(Math.floor(e/_),Math.floor(e%_),T,I,r,u.current);C.push((0,a.jsx)("div",{style:t,children:c(s[e])},e))}const E=Math.max(1,Math.ceil(s.length/_))*T;return(0,a.jsx)("div",{className:n.container,children:(0,a.jsx)("div",{ref:p,className:n.scrollContainer,style:{height:E},children:C})})}function d(e,t,s,o,n,a){const i=`${e}-${t}-${s}-${o}`;if(a[i])return a[i];const r={position:"absolute",top:e*(s+n),left:t*(o+n),height:s,width:o};return a[i]=r,r}},"./app/components/Views/AssetsV2/grid/shared/Options.tsx":(e,t,s)=>{"use strict";s.d(t,{E:()=>l,r:()=>c});var o=s("./node_modules/clsx/dist/clsx.mjs"),n=s("./node_modules/lucide-react/dist/esm/icons/more-horizontal.js"),a=s("./node_modules/react-aria-components/dist/import.mjs");const i={trigger:"Options__trigger__S4ZCo",popover:"Options__popover__p9wts",enter:"Options__enter__ZEBIn",exit:"Options__exit__r_dfC",item:"Options__item__fgl6w"};var r=s("./node_modules/react/jsx-runtime.js");function l(e){let{children:t,...s}=e;return(0,r.jsx)("div",{onClick:function(e){e.stopPropagation()},children:(0,r.jsxs)(a.bF,{children:[(0,r.jsx)(a.zx,{className:i.trigger,"aria-label":"Options",children:(0,r.jsx)(n.Z,{size:16})}),(0,r.jsx)(a.J2,{className:i.popover,children:(0,r.jsx)(a.v2,{...s,children:t})})]})})}function c(e){let{children:t,className:s,...n}=e;return(0,r.jsx)(a.sN,{className:(0,o.Z)(i.item,s),...n,children:t})}},"./app/components/Views/AssetsV2/header/NewFolderDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{I:()=>p,B:()=>u});var o=s("./app/api/hooks/useCreateAssetGroup.ts"),n=s("./app/components/Prefabs/AriaModal.tsx"),a=s("./node_modules/lucide-react/dist/esm/icons/folder-plus.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/react-aria-components/dist/import.mjs"),l=s("./app/components/Views/AssetsV2/lib/tracking.ts");const c={trigger:"NewFolderDialog__trigger__nX7Ul",dialog:"NewFolderDialog__dialog__lm1Nm",title:"NewFolderDialog__title__xUmQ6",form:"NewFolderDialog__form__c5X1P",input:"NewFolderDialog__input__hXBlg",error:"NewFolderDialog__error__MhicP",buttons:"NewFolderDialog__buttons__haE7B",cancelButton:"NewFolderDialog__cancelButton__moqvQ",submitButton:"NewFolderDialog__submitButton__LVrYU"};var d=s("./node_modules/react/jsx-runtime.js");function p(e){let{children:t,teamspaceId:s,privateInTeam:o}=e;return(0,d.jsxs)(r.hg,{children:[(0,d.jsxs)(r.zx,{className:c.trigger,onPress:function(){let e;e=s?"teamspace":o?"private":"workspace",(0,l._J)(e)},children:["New Folder ",(0,d.jsx)(a.Z,{size:20})]}),(0,d.jsx)(n.u,{children:(0,d.jsx)(r.Vq,{className:c.dialog,children:t})})]})}function u(e){let{asTeamId:t,parentId:s,teamspaceId:n,privateInTeam:a,favorite:p,onClose:u}=e;const m=(0,o.L)(t,a,n??void 0),[h,g]=(0,i.useState)("");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.X6,{slot:"title",className:c.title,children:"Create new folder"}),(0,d.jsxs)(r.l0,{className:c.form,onSubmit:async function(e){let t;e.preventDefault(),u(),t=n?"teamspace":a?"private":"workspace",(0,l.DD)(t),m({name:h,parentId:s,favorite:p})},children:[(0,d.jsxs)(r.nv,{value:h,onChange:g,"aria-label":"Folder name",isRequired:!0,type:"text",autoFocus:!0,children:[(0,d.jsx)(r.II,{placeholder:"New Folder",className:c.input}),(0,d.jsx)(r.cp,{className:c.error})]}),(0,d.jsxs)("div",{className:c.buttons,children:[(0,d.jsx)(r.zx,{className:c.cancelButton,onPress:u,children:"Cancel"}),(0,d.jsx)(r.zx,{type:"submit",className:c.submitButton,children:"Create"})]})]})]})}},"./app/components/Views/AssetsV2/header/UploadButton.tsx":(e,t,s)=>{"use strict";s.d(t,{p:()=>m});var o=s("./app/utils/assets.ts"),n=s("./app/utils/files.ts"),a=s("./node_modules/lucide-react/dist/esm/icons/upload-cloud.js"),i=s("./node_modules/lucide-react/dist/esm/icons/file-up.js"),r=s("./node_modules/lucide-react/dist/esm/icons/folder-up.js"),l=s("./node_modules/react-aria-components/dist/import.mjs"),c=s("./app/components/Views/AssetsV2/hooks/useUpload.ts"),d=s("./app/components/Views/AssetsV2/lib/tracking.ts");const p={trigger:"UploadButton__trigger__qhxFG",popover:"UploadButton__popover__udUzG",enter:"UploadButton__enter__xBDz4",exit:"UploadButton__exit__J9nf8",item:"UploadButton__item__wGIaf"};var u=s("./node_modules/react/jsx-runtime.js");function m(e){let{parentId:t,asTeamId:s,privateInTeam:m,teamspaceId:h,favorite:g}=e;const f=(0,c.V)({asTeamId:s,parentId:t,privateInTeam:m,teamspaceId:h??void 0,favorite:g});return(0,u.jsxs)(l.bF,{children:[(0,u.jsxs)(l.zx,{className:p.trigger,children:["Upload ",(0,u.jsx)(a.Z,{size:16})]}),(0,u.jsx)(l.J2,{className:p.popover,children:(0,u.jsxs)(l.v2,{onAction:async function(e){switch(e){case"file":{(0,d.$S)("file");const e=await(0,n.QM)({multiple:!0,acceptExtensions:o._D});f(e);break}case"folder":{(0,d.$S)("folder");const e=await(0,n.QM)({directory:!0,acceptExtensions:o._D});f(e);break}}},children:[(0,u.jsxs)(l.sN,{id:"file",className:p.item,children:[(0,u.jsx)(i.Z,{size:16}),"File"]}),(0,u.jsxs)(l.sN,{id:"folder",className:p.item,children:[(0,u.jsx)(r.Z,{size:16}),"Folder"]})]})})]})}},"./app/components/Views/AssetsV2/hooks/useAssetContextMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{x:()=>m});var o=s("./app/api/assets.ts"),n=s("./app/utils/downloads.ts"),a=s("./node_modules/react/index.js"),i=s("./node_modules/use-context-menu/dist/use-context-menu.esm.js"),r=s("./app/components/Views/Asset/utils.ts"),l=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),c=s("./app/components/Views/AssetsV2/shared/ExtendThisButton.tsx"),d=s("./app/components/Views/AssetsV2/hooks/useAssetContextMenu.css"),p=s("./app/components/Views/AssetsV2/hooks/useOpenInGen2.ts"),u=s("./node_modules/react/jsx-runtime.js");function m(e,t,s,m,h,g){const f=(0,a.useContext)(l.M),y=(0,p.E)(e,p.Z.AssetContextMenu),x=(0,c.L)(e.taskId,t);function v(){f.showMoveWithinWorkspace([{type:"Asset",value:e}])}let b=null,w=null;g&&(m?w=(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:function(){null!==m&&f.showRemoveFromTeamspace(m,[{type:"Asset",value:e}])},children:"Unshare from teamspace"}):h&&(w=(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:function(){f.showMoveToTeamspace([{type:"Asset",value:e}])},children:"Share with teamspace"})),m||(b=s?(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:v,children:"Share with workspace"}):(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:v,children:"Unshare from workspace"})));const _="image"===e.mediaType;return(0,i.av)((0,u.jsxs)(u.Fragment,{children:[_?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:y,children:"Use in Gen-2"}),(0,u.jsx)("div",{className:d.Z.divider})]}):x&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:x,children:"Extend in Gen-2"}),(0,u.jsx)("div",{className:d.Z.divider})]}),w,b,(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:async function(){const s=await(0,o.CT)(e.id);(0,n.Sv)({name:e.name,url:s}),(0,r.V5)({asset:e,asTeamId:t})},children:"Download"}),g?(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:function(){f.showRenameAsset(e)},children:"Rename"}):null,g?(0,u.jsx)(i.Zo,{className:d.Z.item,onSelect:function(){f.showDeleteAsset(e)},children:"Delete"}):null]}),{className:d.Z.contextMenu})}},"./app/components/Views/AssetsV2/hooks/useAssetGroupContextMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("./app/utils/downloadZipWithToast.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/use-context-menu/dist/use-context-menu.esm.js"),i=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),r=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),l=s("./app/components/Views/AssetsV2/lib/tracking.ts"),c=s("./app/components/Views/AssetsV2/hooks/useAssetContextMenu.css"),d=s("./node_modules/react/jsx-runtime.js");function p(e,t,s,p,u,m){const[,h]=(0,i.JW)(),g=(0,n.useContext)(r.M);function f(){g.showMoveWithinWorkspace([{type:"AssetGroup",value:e}])}let y=null,x=null;return m&&(p?x=(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:function(){null!==p&&((0,l.kM)(),g.showRemoveFromTeamspace(p,[{type:"AssetGroup",value:e}]))},children:"Unshare from teamspace"}):u&&(x=(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:function(){(0,l.el)(),g.showMoveToTeamspace([{type:"AssetGroup",value:e}])},children:"Share with teamspace"})),p||(y=s?(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:f,children:"Share with workspace"}):(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:f,children:"Unshare from workspace"}))),(0,a.av)((0,d.jsxs)(d.Fragment,{children:[x,y,(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:async function(){(0,o.B)({dispatchToast:h,selectedItems:[e],asTeamId:t,privateInTeam:s,name:e.name,fileCount:e.children?.length||1})},children:"Download"}),m?(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:function(){g.showRenameAssetGroup(e)},children:"Rename"}):null,m?(0,d.jsx)(a.Zo,{className:c.Z.item,onSelect:function(){g.showDeleteAssetGroup(e)},children:"Delete"}):null]}),{className:c.Z.contextMenu})}},"./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts":(e,t,s)=>{"use strict";s.d(t,{b:()=>r,y:()=>g});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./node_modules/uuid/dist/esm-browser/validate.js"),i=s("./app/components/Views/Assets/shared.tsx");function r(){const{search:e}=(0,n.TH)();return(0,o.useMemo)((()=>{const t=new URLSearchParams(e);return{viewAs:d(t.get("viewAs"),"table"),assetType:p(t.get("assetType"),"All"),mediaType:u(t.get("mediaType"),"All"),parentId:c(t.get("parentId")),tab:l(t.get("tab"),"private"),order:h(t.get("order"),"desc"),sortBy:m(t.get("sortBy"),"createdAt")}}),[e])}function l(e,t){switch(e){case"private":case"shared":return e;default:return t}}function c(e){return null===e||""===e?null:e===i.hD||a.Z(e)?e:null}function d(e,t){switch(e){case"grid":case"table":return e;default:return t}}function p(e,t){switch(e){case"Exports":case"Uploads":return e;default:return t}}function u(e,t){switch(e){case"Audio":case"Image":case"Video":case"Text":case"Font":return e;default:return t}}function m(e,t){switch(e){case"name":case"createdAt":case"updatedAt":case"mediaType":case"favorite":return e;default:return t}}function h(e,t){switch(e){case"asc":case"desc":return e;default:return t}}function g(){const e=r();return(0,o.useCallback)((t=>{const s=new URLSearchParams;return void 0!==t.viewAs?s.set("viewAs",t.viewAs):s.set("viewAs",e.viewAs),void 0!==t.assetType?s.set("assetType",t.assetType):s.set("assetType",e.assetType),void 0!==t.mediaType?s.set("mediaType",t.mediaType):s.set("mediaType",e.mediaType),void 0!==t.mediaType?s.set("mediaType",t.mediaType):s.set("mediaType",e.mediaType),void 0!==t.sortBy?s.set("sortBy",t.sortBy):s.set("sortBy",e.sortBy),void 0!==t.order?s.set("order",t.order):s.set("order",e.order),void 0!==t.parentId?null!==t.parentId&&s.set("parentId",t.parentId):null!==e.parentId&&s.set("parentId",e.parentId),void 0!==t.tab?s.set("tab",t.tab):s.set("tab",e.tab),null===t.parentId&&s.delete("parentId"),s.toString()}),[e])}},"./app/components/Views/AssetsV2/hooks/useCanEdit.ts":(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var o=s("./app/api/hooks/useTeams.ts");function n(e){const t=(0,o.Z5)(e,{suspense:!0});return!!t&&(0,o.JR)(t)}},"./app/components/Views/AssetsV2/hooks/useOpenInGen2.ts":(e,t,s)=>{"use strict";s.d(t,{E:()=>l,Z:()=>r});var o=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),n=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),a=s("./node_modules/react-router/esm/react-router.js"),i=s("./app/utils/trackEvent.ts");let r=function(e){return e.AssetListOptions="assetListOptions",e.AssetContextMenu="assetContextMenu",e}({});const l=(e,t)=>{const s=(0,o.yF)({toolId:n.W.GEN_2,assetId:e.id}),i=(0,a.k6)();return()=>{d(t),i.push(s)}};var c=function(e){return e.UseInGen2FromAssetList="UseInGen2FromAssetList",e}(c||{});const d=e=>{(0,i.L)({event:"Click",name:"Secondary Button",section:"Assets",otherProperties:{toolId:n.W.GEN_2,gen2EventId:c.UseInGen2FromAssetList,context:e}})}},"./app/components/Views/AssetsV2/hooks/usePendingUploads.ts":(e,t,s)=>{"use strict";s.d(t,{W:()=>a});var o=s("./app/utils/uploads.ts"),n=s("./node_modules/react/index.js");function a(e,t,s,a){const i=(0,n.useMemo)((()=>({uploadState:"uploading",filterType:"DATASET",parentId:s,asTeamId:e,privateInTeam:t,teamspaceId:a})),[s,e,t,a]);return(0,o.e0)(i)}},"./app/components/Views/AssetsV2/hooks/useSelection.ts":(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/react/index.js");function a(e){const[t,s]=(0,n.useState)([]);(0,n.useEffect)((()=>{const o=new Set;for(const t of e)o.add(t.value.id);let n=!1;const a=[];for(const e of t)o.has(e)?a.push(e):n=!0;n&&s(a)}),[e,t]);const a=(0,n.useCallback)((t=>"clear"===t.type?s([]):"set"===t.type?s(t.ids):"toggle"===t.type?t.shiftKey?s((s=>{const{start:n,end:a}=i(e,t.id,s),r=[];for(let t=n;t<=a;t++)r.push(e[t].value.id);return(0,o.uniq)([...s,...r])})):s((e=>t.selected?e.filter((e=>e!==t.id)):[...e,t.id])):t.metaKey||t.ctrlKey?s((e=>t.selected?e.filter((e=>e!==t.id)):[...e,t.id])):t.shiftKey?s((s=>{const{start:n,end:a}=i(e,t.id,s),r=[];for(let t=n;t<=a;t++)r.push(e[t].value.id);return(0,o.uniq)([...s,...r])})):void s([t.id])),[e]);return{selectedIds:t,dispatch:a}}function i(e,t,s){const o=s[s.length-1];let n=0,a=0;for(let s=0;s<e.length;s++)e[s].value.id===o&&(n=s),e[s].value.id===t&&(a=s);return{start:Math.min(n,a),end:Math.max(n,a)}}},"./app/components/Views/AssetsV2/hooks/useTeamspaceContextMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{L:()=>l});var o=s("./app/utils/downloadZipWithToast.ts"),n=s("./node_modules/use-context-menu/dist/use-context-menu.esm.js"),a=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),i=s("./app/components/Views/AssetsV2/hooks/useAssetContextMenu.css"),r=s("./node_modules/react/jsx-runtime.js");function l(e,t,s){const[,l]=(0,a.JW)();return(0,n.av)((0,r.jsx)(n.Zo,{className:i.Z.item,onSelect:async function(){(0,o.B)({dispatchToast:l,selectedItems:[e],asTeamId:t,privateInTeam:s,name:e.name,fileCount:e.children?.length||1})},children:"Download"}),{className:i.Z.contextMenu})}},"./app/components/Views/AssetsV2/hooks/useUpload.ts":(e,t,s)=>{"use strict";s.d(t,{V:()=>g});var o=s("./app/actions/flash.ts"),n=s("./app/api/asset-groups.ts"),a=s("./app/api/hooks/useSortedAssetsAndAssetGroups.ts"),i=s("./app/utils/assets.ts"),r=s("./app/utils/filenames.ts"),l=s("./app/utils/heic.ts"),c=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/uuid/dist/esm-browser/v4.js"),p=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),u=s("./app/components/Views/Asset/utils.ts");const m="____SYNTHETIC_FOLDER____";class h{name;parent;children;id;constructor(e,t){this.name=e,this.parent=t,this.children=[],this.id=null}add(e){this.children.push(e)}getFiles(){return this.children.filter((e=>e instanceof File||e&&e.__isAFile__))}getFolders(){return this.children.filter((e=>e instanceof h))}}function g(e){let{parentId:t,asTeamId:s,privateInTeam:g,teamspaceId:f,favorite:y}=e;const x=(0,p.lt)(s,g),v=(0,c.I0)();async function b(e,t,o){if(null===e.id&&e.name!==m){const t={name:e.name,id:d.Z(),createdAt:new Date,updatedAt:new Date,children:[],parentAssetGroupId:o??e.parent?.id??null,createdBy:-1,privateInTeam:g&&!f};await(0,n.FL)({id:t.id,name:t.name,parentAssetGroupId:t.parentAssetGroupId??void 0,asTeamId:s,teamspaceId:f,privateInTeam:g,favorite:y}),e.id=t.id,f&&await(0,u.Zn)({assetOrGroup:{value:t,type:"AssetGroup"},teamspaceId:f,asTeamId:s})}const i=e.getFiles(),r=e.getFolders();t.push(...function(e,t){return e.map((e=>(0,a.cp)({file:e,parentId:t,asTeamId:s,privateInTeam:g,favorite:y,finalize:async e=>{t?await(0,n.ib)({id:t,childrenIds:[e.id],asTeamId:s}):f&&await(0,u.Zn)({assetOrGroup:{value:e,type:"Asset"},teamspaceId:f,asTeamId:s})}})))}(i,e.id)),await Promise.all(r.map((e=>b(e,t,null))))}return async function(e){if(e.length<1)return;const s=e.filter((e=>{const t=(0,r.vj)(e.name);return i._D.includes(`.${t}`)}));if(s.length<1)return void v((0,o.showFlash)({message:"No valid files selected. Please upload video, image, audio or font files.",type:"WARNING"}));if(s.length>50)return void v((0,o.showFlash)({message:"Too many files selected, please select at most 50 files",type:"WARNING"}));v((0,o.showFlash)({message:`Started uploading ${s.length} ${1===s.length?"file":"files"}`,type:"SUCCESS"}));const n=function(e){const t=new h(m,null);for(const s of e){let e=s.webkitRelativePath||s.name;e.startsWith("/")&&(e=e.substring(1));const o=e.split("/").slice(0,-1);if(0===o.length){t.add(s);continue}let n=t;for(const e of o){let t=n.children.find((t=>t.name===e));t||(t=new h(e,n),n.add(t)),n=t}n.add(s)}return t}(await Promise.all(s.map((e=>(0,l.f4)(e)))));n.id=t||null;const a=[];await b(n,a,t);const c=await Promise.allSettled(a);x(void 0,{populateCache:!1});const d=c.filter((e=>"fulfilled"===e.status));d.length>0&&v((0,o.showFlash)({message:`Finished uploading ${d.length} ${1===d.length?"file":"files"}`,type:"SUCCESS"}))}}},"./app/components/Views/AssetsV2/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>je});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/types/features.ts"),a=s("./app/utils/hooks/useFeatures.ts");var i=s("./app/api/hooks/useTeams.ts"),r=s("./app/components/CreateTeam/index.tsx"),l=s("./app/components/Prefabs/PageMeta/PageMeta.tsx"),c=s("./app/utils/features.ts"),d=s("./node_modules/react/index.js"),p=s("./node_modules/react-router/esm/react-router.js"),u=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),m=s("./app/components/Views/Assets/shared.tsx"),h=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),g=s("./app/components/Views/AssetsV2/DndContainer.tsx"),f=s("./app/components/Views/AssetsV2/Dropzone.tsx"),y=s("./app/components/Views/AssetsV2/NoAssetsMessage.tsx"),x=s("./app/components/Views/AssetsV2/ViewControls.tsx"),v=s("./node_modules/react-router-dom/esm/react-router-dom.js");const b={container:"VisibilityTabs__container__rsTXk",tab:"VisibilityTabs__tab__QOQcV",tabText:"VisibilityTabs__tabText___Tisy",tabBorder:"VisibilityTabs__tabBorder__Qx3Sm"};var w=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),_=s("./node_modules/react/jsx-runtime.js");function I(){const e=(0,w.b)(),t=(0,w.y)();return(0,_.jsxs)("div",{className:b.container,children:[(0,_.jsxs)(v.rU,{className:b.tab,"data-active":"private"===e.tab,to:{search:t({tab:"private"})},children:[(0,_.jsx)("span",{className:b.tabText,children:"Private"}),(0,_.jsx)("div",{className:b.tabBorder})]}),(0,_.jsxs)(v.rU,{className:b.tab,"data-active":"shared"===e.tab,to:{search:t({tab:"shared"})},children:[(0,_.jsx)("span",{className:b.tabText,children:"Shared"}),(0,_.jsx)("div",{className:b.tabBorder})]})]})}var T=s("./app/components/Views/AssetsV2/action-bar/index.tsx"),j=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),k=s("./app/components/Views/AssetsV2/grid/index.tsx"),C=s("./app/components/Views/AssetsV2/grid/AssetCell.tsx"),E=s("./app/components/Views/AssetsV2/grid/AssetGroupCell.tsx"),S=s("./app/components/Views/AssetsV2/grid/TeamspaceCell.tsx"),A=s("./app/components/Views/AssetsV2/grid/UploadCell.tsx"),M=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),P=s("./node_modules/lucide-react/dist/esm/icons/chevron-right.js"),N=s("./app/components/Views/AssetsV2/header/NewFolderDialog.tsx"),D=s("./app/components/Views/AssetsV2/header/UploadButton.tsx");const O={container:"index__container__ZTkjZ",title:"index__title__SeRkU",parents:"index__parents__oGF6U",parent:"index__parent__wpVrp",parentDivider:"index__parentDivider__Sg94c",numberOfItems:"index__numberOfItems__hsVpV"};function L(e){let{asTeamId:t,parentId:s,privateInTeam:o,parents:n,teamspaceId:a,entriesByParentId:i,canEdit:r,mode:l}=e;return(0,_.jsxs)("div",{className:O.container,children:[0===n.length?(0,_.jsx)("span",{className:O.title,children:"all"===l?"All Assets":"Favorite Assets"}):(0,_.jsx)(R,{parents:n,entriesByParentId:i}),s!==m.hD&&r?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(N.I,{privateInTeam:o,teamspaceId:a,children:e=>{let{close:n}=e;return(0,_.jsx)(N.B,{privateInTeam:o,teamspaceId:a,parentId:s,asTeamId:t,onClose:n,favorite:"favorites"===l})}}),r?(0,_.jsx)(D.p,{asTeamId:t,privateInTeam:o,teamspaceId:a,parentId:s,favorite:"favorites"===l}):null]}):null]})}function R(e){let{entriesByParentId:t,parents:s}=e;return(0,_.jsxs)("div",{className:O.parents,children:[(0,_.jsx)(Z,{id:null,name:"Assets"}),s.map(((e,o)=>{if(s.length-1===o){const s=t[e.id]||[];return(0,_.jsxs)(d.Fragment,{children:[(0,_.jsx)("span",{"data-current":"true",className:O.parent,children:e.name}),s.length>0?(0,_.jsxs)("span",{className:O.numberOfItems,children:[s.length," items"]}):null]},e.id)}return(0,_.jsx)(Z,{id:e.id,name:e.name},e.id)}))]})}function Z(e){let{id:t,name:s}=e;const o=(0,w.y)(),n=(0,M.Zj)({id:t??"root"});return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(v.rU,{ref:n.setNodeRef,className:O.parent,"data-over":n.isOver,to:{search:o({parentId:t})},children:s}),(0,_.jsx)(P.Z,{size:20,className:O.parentDivider})]})}var U=s("./app/components/Views/AssetsV2/hooks/useCanEdit.ts"),z=s("./app/components/Views/AssetsV2/hooks/usePendingUploads.ts"),V=s("./app/components/Views/AssetsV2/hooks/useSelection.ts"),B=s("./app/components/Views/AssetsV2/index.css"),G=s("./app/components/Views/AssetsV2/lib/divideAssets.ts"),F=s("./app/components/Views/AssetsV2/lib/filterFavorited.ts"),$=s("./app/components/Views/AssetsV2/lib/sortAssets.ts"),W=s("./app/components/Views/AssetsV2/lightbox/index.tsx"),H=s("./app/api/hooks/usePendingAssets.ts"),Y=s("./app/utils/sort.ts");var X=s("./node_modules/moment/moment.js"),q=s.n(X),J=s("./app/components/Views/AssetsV2/hooks/useAssetContextMenu.tsx"),K=s("./app/components/Views/AssetsV2/lib/tracking.ts");const Q={container:"AssetCard__container__E5rVO",media:"AssetCard__media__m6BE2",details:"AssetCard__details__xGCNb",label:"AssetCard__label__pU1uc",name:"AssetCard__name__vBXup",createdAt:"AssetCard__createdAt__Pl_RC"};function ee(e){let{asset:t,asTeamId:s,privateInTeam:o,teamspaceId:n,hasTeamspaces:a,canEdit:i}=e;const r=(0,d.useContext)(W.p),{contextMenu:l,onContextMenu:c}=(0,J.x)(t,s,o,n,a,i);return(0,_.jsxs)("button",{className:Q.container,onClick:function(){(0,K.se)(t),r.present(t.id)},onContextMenu:c,children:[(0,_.jsx)("img",{className:Q.media,src:(0,m.lR)(t)}),(0,_.jsxs)("div",{className:Q.details,children:[(0,_.jsx)("span",{className:Q.label,children:"Export"}),(0,_.jsx)("span",{className:Q.name,children:t.name}),(0,_.jsx)("span",{className:Q.createdAt,children:q()(t.createdAt).fromNow()})]}),l]})}var te=s("./node_modules/use-context-menu/dist/use-context-menu.esm.js");const se={contextMenu:"usePendingAssetContextMenu__contextMenu__xA_Il",item:"usePendingAssetContextMenu__item__G7xIQ"};const oe={container:"PendingAssetCard__container__x9WOZ",media:"PendingAssetCard__media__Zrmoi",loader:"PendingAssetCard__loader__sQ8Ow",spin:"PendingAssetCard__spin__i2aZX",details:"PendingAssetCard__details__AzcZU",label:"PendingAssetCard__label__NANHS",name:"PendingAssetCard__name__daINd",progress:"PendingAssetCard__progress__GIeOz"};function ne(e){let{asset:t}=e;const{contextMenu:s,onContextMenu:o}=function(e){const t=(0,d.useContext)(j.M);return(0,te.av)((0,_.jsx)(te.Zo,{className:se.item,onSelect:function(){t.showDeletePendingAsset(e)},children:"Cancel"}),{className:se.contextMenu})}(t);return(0,_.jsxs)("div",{className:oe.container,onContextMenu:o,children:[(0,_.jsx)("div",{className:oe.media,children:(0,_.jsx)(ae,{})}),(0,_.jsxs)("div",{className:oe.details,children:[(0,_.jsx)("span",{className:oe.label,children:"Exporting"}),(0,_.jsx)("span",{className:oe.name,children:t.name}),(0,_.jsxs)("span",{className:oe.progress,children:[Math.round(100*t.progressRatio),"% exported..."]})]}),s]})}function ae(){return(0,_.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:oe.loader,children:[(0,_.jsx)("path",{d:"M8 2.74994V0.999939",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M5.382 3.45699L4.5 1.93799",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M3.45748 5.38194L1.93848 4.49994",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M2.75001 8H1",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M8 15V13.25",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M11.5002 14.062L10.6182 12.543",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M14.063 11.5L12.5439 10.618",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M15 8H13.25",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M14.063 4.5L12.5439 5.382",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M3.45748 10.618L1.93848 11.5",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M11.5002 1.93799L10.6182 3.45699",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_.jsx)("path",{d:"M5.382 12.543L4.5 14.062",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})]})}var ie=s("./node_modules/lucide-react/dist/esm/icons/arrow-right.js");const re={container:"SeeAllExports__container__c1Rqr",details:"SeeAllExports__details__zkJwr",title:"SeeAllExports__title__iw1LM",numberOfFiles:"SeeAllExports__numberOfFiles__RpBv9",button:"SeeAllExports__button__AmuFC"};function le(e){let{numberOfExports:t}=e;const s=(0,w.y)();return(0,_.jsxs)(v.rU,{className:re.container,to:{search:s({parentId:m.hD})},children:[(0,_.jsxs)("div",{className:re.details,children:[(0,_.jsx)("span",{className:re.label,children:"All Exports"}),(0,_.jsx)("span",{className:re.numberOfFiles,children:t})]}),(0,_.jsxs)("div",{className:re.button,children:[(0,_.jsx)("span",{children:"View all"}),(0,_.jsx)(ie.Z,{size:16})]})]})}const ce={container:"index__container__NEqTW",title:"index__title__xHFic",assets:"index__assets__BT5_5",gridItem:"index__gridItem__AYq_4",empty:"index__empty__wQsEh"},de=4;function pe(e){let{asTeamId:t,privateInTeam:s,hasTeamspaces:o,canEdit:n,exports:a}=e;const{data:i}=(0,H.u)({asTeamId:t,privateInTeam:s}),r=(0,d.useMemo)((()=>[...a].sort(((e,t)=>(0,Y.C)(e.createdAt,t.createdAt,"descending")))),[a]),l=(0,d.useMemo)((()=>{if(void 0===i)return;if(0===i.length)return a.length>de?r.slice(0,de-1):r.slice(0,de);const e=[...i,...r.slice(0,de-i.length)];return i.length+a.length>de?e.slice(0,de-1):e}),[i,r,a]);return(0,_.jsxs)("div",{className:ce.container,children:[(0,_.jsx)("span",{className:ce.title,children:"Recently exported"}),void 0!==l&&0===l.length?(0,_.jsx)("div",{className:ce.empty,children:"There are no recent exports."}):null,void 0!==l?(0,_.jsxs)("div",{className:ce.assets,children:[l.map((e=>function(e){return"progressRatio"in e}(e)?(0,_.jsx)("div",{className:ce.gridItem,children:(0,_.jsx)(ne,{asset:e})},e.id):(0,_.jsx)("div",{className:ce.gridItem,children:(0,_.jsx)(ee,{asset:e,asTeamId:t,privateInTeam:s,teamspaceId:null,hasTeamspaces:o,canEdit:n})},e.id))),a.length>de?(0,_.jsx)("div",{className:ce.gridItem,children:(0,_.jsx)(le,{numberOfExports:a.length})}):null]}):null]})}var ue=s("./app/components/Views/AssetsV2/table/index.tsx"),me=s("./app/components/Views/AssetsV2/table/AssetGroupRow.tsx"),he=s("./app/components/Views/AssetsV2/table/AssetRow.tsx"),ge=s("./app/components/Views/AssetsV2/table/TeamspaceRow.tsx"),fe=s("./app/components/Views/AssetsV2/table/UploadRow.tsx");const ye=(0,d.memo)(he.M),xe=(0,d.memo)(me.f),ve=(0,d.memo)(ge.A),be=(0,d.memo)(C.E),we=(0,d.memo)(E.z),_e=(0,d.memo)(S.h),Ie=(0,d.memo)(A.k),Te=(0,d.memo)(T.o);function je(e){let{onlyFavorites:t=!1}=e;const s=(0,d.useRef)(null),v=(0,i.I7)({suspense:!0}),b=(0,w.b)(),T=(0,w.y)(),C=(0,p.k6)(),E=(0,a.h)(v.id),S=(0,U.o)(v.id),A=function(e){const t=(0,o.yG)(e,{suspense:!0}),s=(0,a.h)(e);return"Enterprise"===t.name&&s.data.permitted[n.G.Teamspaces]}(v.id),M=(0,c._K)(E.data.permitted),{data:P}=(0,u.wQ)(v.id,"private"===b.tab),N=(0,d.useMemo)((()=>{let e=P;return t&&(e=(0,F.X)(P)),(0,G.z)(e)}),[t,P]),D=(0,z.W)(v.id,"private"===b.tab,b.parentId),O=N.entriesByParentId[b.parentId||"root"];null!==b.parentId&&void 0===O&&C.replace({search:T({parentId:null})});const R=(0,d.useMemo)((()=>Array.isArray(O)?(0,$.R)(O,D,{order:b.order,sortBy:b.sortBy,assetType:b.assetType,mediaType:b.mediaType}):[]),[O,b.order,b.sortBy,b.assetType,b.mediaType,D]),{selectedIds:Z,dispatch:H}=(0,V.c)(R),Y=(0,d.useMemo)((()=>{if("exports"===b.parentId)return[{id:m.hD,name:"Exports"}];const e=[];let t=b.parentId;for(;null!==t;){const s=N.assetGroups.find((e=>e.id===t));if(!s)break;e.unshift(s),t=s.parentAssetGroupId}return e}),[b.parentId,N.assetGroups]),X=(0,d.useMemo)((()=>{for(const e of Y)if(e.userGroupId)return e.userGroupId;return null}),[Y]);return(0,d.useEffect)((()=>{H({type:"clear"}),s.current?.scrollTo(0,0)}),[b.parentId,H]),(0,_.jsxs)(h.VW,{children:[(0,_.jsx)(j.T,{asTeamId:v.id,privateInTeam:"private"===b.tab,entriesByParentId:N.entriesByParentId,children:(0,_.jsx)(W.e,{asTeamId:v.id,privateInTeam:"private"===b.tab,page:R,exports:N.exports,canEdit:S,hasTeamspaces:A,teamspaceId:X,children:(0,_.jsx)(g.Q,{asTeamId:v.id,page:R,assetGroups:N.assetGroups,parentId:b.parentId,privateInTeam:"private"===b.tab,selectedIds:Z,canEdit:S,selectionDispatch:H,children:(0,_.jsxs)("div",{ref:s,className:B.Z.container,children:[Z.length>1?(0,_.jsx)(Te,{selectedIds:Z,page:R,asTeamId:v.id,privateInTeam:"private"===b.tab,selectionDispatch:H,teamspaceId:X,hasTeamspaces:A,canEdit:S}):null,(0,_.jsx)(L,{asTeamId:v.id,privateInTeam:"private"===b.tab,parentId:b.parentId,parents:Y,entriesByParentId:N.entriesByParentId,teamspaceId:X,canEdit:S,mode:t?"favorites":"all"}),null===b.parentId?(0,_.jsx)(I,{}):null,(0,_.jsxs)(f.f,{asTeamId:v.id,privateInTeam:"private"===b.tab,parentId:b.parentId,favorite:t,children:[null!==b.parentId||t?null:(0,_.jsx)(pe,{asTeamId:v.id,privateInTeam:"private"===b.tab,exports:N.exports,canEdit:S,hasTeamspaces:A}),(0,_.jsx)(x.w,{}),0===R.length?(0,_.jsx)(y.T,{}):null,"table"===b.viewAs&&R.length>0?(0,_.jsx)(ue.X,{scrollRef:s,page:R,canEdit:S,hasFavoriteAccess:M,renderItem:e=>{switch(e.type){case"Upload":return(0,_.jsx)(fe.e,{upload:e.value,hasFavoriteAccess:M,canEdit:S},e.value.id);case"Asset":return(0,_.jsx)(ye,{asTeamId:v.id,asset:e.value,selected:Z.includes(e.value.id),selectionDispatch:H,teamspaceId:X,canEdit:S,hasTeamspaces:A,privateInTeam:"private"===b.tab,hasFavoriteAccess:M},e.value.id);case"AssetGroup":return e.value.userGroupId?(0,_.jsx)(ve,{assetGroup:e.value,asTeamId:v.id,hasFavoriteAccess:M,canEdit:S},e.value.id):(0,_.jsx)(xe,{asTeamId:v.id,privateInTeam:"private"===b.tab,selected:Z.includes(e.value.id),assetGroup:e.value,entriesByParentId:N.entriesByParentId,teamspaceId:X,selectionDispatch:H,canEdit:S,hasTeamspaces:A,hasFavoriteAccess:M},e.value.id)}}}):null,"grid"===b.viewAs&&R.length>0?(0,_.jsx)(k.E,{scrollRef:s,page:R,renderItem:e=>{switch(e.type){case"Upload":return(0,_.jsx)(Ie,{upload:e.value},e.value.id);case"Asset":return(0,_.jsx)(be,{asset:e.value,asTeamId:v.id,selected:Z.includes(e.value.id),selectionDispatch:H,teamspaceId:X,canEdit:S,hasTeamspaces:A,privateInTeam:"private"===b.tab},e.value.id);case"AssetGroup":return e.value.userGroupId?(0,_.jsx)(_e,{assetGroup:e.value,asTeamId:v.id},e.value.id):(0,_.jsx)(we,{assetGroup:e.value,items:N.entriesByParentId[e.value.id],asTeamId:v.id,privateInTeam:"private"===b.tab,selected:Z.includes(e.value.id),selectionDispatch:H,teamspaceId:X,canEdit:S,hasTeamspaces:A},e.value.id)}}}):null]})]})})})}),(0,_.jsx)(r.p,{}),(0,_.jsx)(l.Z,{title:t?"Favorite Assets":"Assets"})]})}},"./app/components/Views/AssetsV2/lib/divideAssets.ts":(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts");function n(e){const t=[],s=[],n=[],r={root:[]};for(const l of e)"Asset"===l.type?(t.push(l.value),l.value.isUserUpload||(s.push(l.value),i(r,o.hD,l)),i(r,l.value.parentAssetGroupId||"root",l)):(n.push(l.value),a(r,l.value.id),i(r,l.value.parentAssetGroupId||"root",l));return{assets:t,assetGroups:n,exports:s,entriesByParentId:r}}function a(e,t){void 0===e[t]&&(e[t]=[])}function i(e,t,s){e[t]?e[t].push(s):e[t]=[s]}},"./app/components/Views/AssetsV2/lib/filterFavorited.ts":(e,t,s)=>{"use strict";function o(e){const t=new Map,s=new Map;for(const o of e)t.set(o.value.id,o),a(s,n(o),o.value.id);const o=new Set;function i(e){const n=s.get(e)||[];for(const e of n){const s=t.get(e);s&&("Asset"!==s.type?(o.add(e),i(e)):o.add(e))}}function r(e){const s=t.get(e);if(!s)return;const a=n(s);"root"!==a&&(o.add(a),r(a))}!function e(n){const a=s.get(n)||[];for(const s of a){const n=t.get(s);n&&(n.value.favorite&&(o.add(s),r(s)),"AssetGroup"===n.type&&(n.value.favorite?i(s):e(s)))}}("root");const l=[];for(const t of e)o.has(t.value.id)&&l.push(t);return l}function n(e){return e.value.parentAssetGroupId||"root"}function a(e,t,s){const o=e.get(t);o?o.push(s):e.set(t,[s])}s.d(t,{X:()=>o})},"./app/components/Views/AssetsV2/lib/sortAssets.ts":(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var o=s("./app/utils/sort.ts");function n(e,t,s){const n=e.filter((e=>{if("AssetGroup"===e.type)return!0;let t=!0;s.assetType&&"All"!==s.assetType&&(t="Exports"===s.assetType?!e.value.isUserUpload:e.value.isUserUpload);let o=!0;return s.mediaType&&"All"!==s.mediaType&&(o=s.mediaType.toLowerCase()===e.value.mediaType),t&&o}));for(const e of t)n.push({type:"Upload",value:e});return n.sort(((e,t)=>{if("AssetGroup"===e.type&&"AssetGroup"===t.type)switch(s.sortBy){case"createdAt":return(0,o.C)(new Date(e.value.createdAt),new Date(t.value.createdAt),"asc"===s.order?"ascending":"descending");case"name":return(0,o.C)(e.value.name,t.value.name,"asc"===s.order?"ascending":"descending");case"favorite":return(0,o.C)(e.value.favorite,t.value.favorite,"asc"===s.order?"ascending":"descending");default:return(0,o.C)(e.value.createdAt,t.value.createdAt,"ascending")}if("Upload"===e.type&&"Upload"===t.type)return 0;if("Asset"===e.type&&"Asset"===t.type)switch(s.sortBy){case"createdAt":return(0,o.C)(new Date(e.value.createdAt),new Date(t.value.createdAt),"asc"===s.order?"ascending":"descending");case"updatedAt":return(0,o.C)(new Date(e.value.updatedAt),new Date(t.value.updatedAt),"asc"===s.order?"ascending":"descending");case"mediaType":return(0,o.C)(e.value.mediaType,t.value.mediaType,"asc"===s.order?"ascending":"descending");case"favorite":return(0,o.C)(e.value.favorite,t.value.favorite,"asc"===s.order?"ascending":"descending");case"name":return(0,o.C)(e.value.name,t.value.name,"asc"===s.order?"ascending":"descending")}return"AssetGroup"===e.type?-1:"AssetGroup"===t.type?1:"Upload"===e.type&&"Asset"===t.type?-1:"Asset"===e.type&&"Upload"===t.type?1:0}))}},"./app/components/Views/AssetsV2/lib/tracking.ts":(e,t,s)=>{"use strict";s.d(t,{$S:()=>h,CP:()=>g,DD:()=>l,Er:()=>b,F7:()=>p,GL:()=>m,Iy:()=>v,Op:()=>T,RP:()=>i,S8:()=>_,So:()=>x,_J:()=>r,_o:()=>c,bA:()=>w,el:()=>f,kM:()=>y,lH:()=>j,n0:()=>k,nA:()=>u,se:()=>d,tK:()=>I});var o=s("./app/api/mixpanel.ts"),n=s("./app/utils/mixpanel.ts");function a(e){let{eventName:t,properties:s}=e;(0,o.bc)({eventName:t,properties:{...(0,n.l)(),...s}})}function i(e){a({eventName:"downloadFolderFromAssets",properties:{folderType:e}})}function r(e){a({eventName:"Click Secondary -> Create New Folder",properties:{folderType:e}})}function l(e){a({eventName:"Click Primary -> Created new folder",properties:{folderType:e}})}function c(e){a({eventName:"clickAssetsPageFolder",properties:{folderType:e}})}function d(e){a({eventName:"viewAssetLightbox",properties:{mediaType:e.mediaType}})}function p(e){let{trigger:t,sortBy:s,sortOrder:o}=e;a({eventName:"dropdown"===t?"sortAssetsPageDropdown":"sortAssetsPageColumn",properties:{sortBy:s,sortOrder:o}})}function u(e){let{assetType:t,mediaType:s}=e;a({eventName:"filterAssetsPage",properties:{assetType:t,mediaType:s}})}function m(e){let{numAssetSelected:t,actionType:s}=e;a({eventName:"bulkAssetsAction",properties:{numAssetSelected:t,actionType:s}})}function h(e){a({eventName:"Click Primary -> Upload to Assets Page",properties:{uploadSelection:e}})}function g(e){a({eventName:"changeDisplayKind",properties:{displayAs:e}})}function f(){a({eventName:"Open Move to Teamspace Dialog"})}function y(){a({eventName:"Open Remove from Teamspace Dialog"})}function x(){a({eventName:"Open Move to Workspace Dialog"})}function v(){a({eventName:"Move to Workspace"})}function b(){a({eventName:"Open Remove from Workspace Dialog"})}function w(){a({eventName:"Remove from Workspace"})}function _(e){let{assetType:t,origin:s}=e;a({eventName:"Favorite Asset",properties:{assetType:t,origin:s}})}function I(e){let{assetType:t,origin:s}=e;a({eventName:"Unfavorite Asset",properties:{assetType:t,origin:s}})}function T(){a({eventName:"Delete Asset"})}function j(){a({eventName:"Delete Folder"})}function k(e){let{numberOfAssets:t,numberOfAssetGroups:s}=e;a({eventName:"Delete Mixed",properties:{numberOfAssets:t,numberOfFolders:s}})}},"./app/components/Views/AssetsV2/lightbox/index.tsx":(e,t,s)=>{"use strict";s.d(t,{e:()=>et,p:()=>Qe});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-aria-components/dist/import.mjs"),a=s("./node_modules/lucide-react/dist/esm/icons/chevron-left.js"),i=s("./node_modules/lucide-react/dist/esm/icons/chevron-right.js");const r={container:"Content__container__JwY1U",leftButton:"Content__leftButton__IRrX3",rightButton:"Content__rightButton__BwKNh"};var l=s("./node_modules/swr/dist/index.mjs");var c=s("./app/components/Views/AssetsV2/shared/gen-1-task-details.tsx"),d=s("./app/components/Views/AssetsV2/shared/gen-2-task-details.tsx"),p=s("./app/components/Views/AssetsV2/shared/generate-audio-task-details.tsx"),u=s("./app/utils/date.ts");const m={container:"audio-details__container__OSk9j",detailsLabel:"audio-details__detailsLabel__Zaoai",row:"audio-details__row__g4yFc",rowLabel:"audio-details__rowLabel__bEb5W",rowValue:"audio-details__rowValue__k246e"};var h=s("./app/components/Prefabs/AudioPlayer/useAudioDuration.tsx"),g=s("./node_modules/react/jsx-runtime.js");function f(e){let{asset:t}=e;const s=(0,h.C)(t.url);return(0,g.jsxs)("div",{className:m.container,children:[(0,g.jsx)("span",{className:m.detailsLabel,children:"Details"}),(0,g.jsxs)("div",{className:m.row,children:[(0,g.jsx)("span",{className:m.rowLabel,children:"Media type"}),(0,g.jsx)("span",{className:m.rowValue,children:"Audio"})]}),s?(0,g.jsxs)("div",{className:m.row,children:[(0,g.jsx)("span",{className:m.rowLabel,children:"Duration"}),(0,g.jsx)("span",{className:m.rowValue,children:(0,u.L)(s)})]}):null]})}var y=s("./app/components/Views/Storyboard/lib/asset.ts");const x={container:"image-details__container__dMcnb",detailsLabel:"image-details__detailsLabel__d9dUo",row:"image-details__row__Zz4oX",rowLabel:"image-details__rowLabel__dbhFO",rowValue:"image-details__rowValue__SUKDm"};function v(e){let{asset:t}=e;const s=(0,y.j)(t);return(0,g.jsxs)("div",{className:x.container,children:[(0,g.jsx)("span",{className:x.detailsLabel,children:"Details"}),(0,g.jsxs)("div",{className:x.row,children:[(0,g.jsx)("span",{className:x.rowLabel,children:"Media type"}),(0,g.jsx)("span",{className:x.rowValue,children:"Image"})]}),s?(0,g.jsxs)("div",{className:x.row,children:[(0,g.jsx)("span",{className:x.rowLabel,children:"Dimensions"}),(0,g.jsxs)("span",{className:x.rowValue,children:[s.width,"x",s.height]})]}):null]})}const b={container:"video-details__container__UXXrQ",detailsLabel:"video-details__detailsLabel__NmQgJ",row:"video-details__row__l5tWl",rowLabel:"video-details__rowLabel__OMB1A",rowValue:"video-details__rowValue__SiMiw"};function w(e){let{asset:t}=e;const s=(0,y.j)(t);return(0,g.jsxs)("div",{className:b.container,children:[(0,g.jsx)("span",{className:b.detailsLabel,children:"Details"}),(0,g.jsxs)("div",{className:b.row,children:[(0,g.jsx)("span",{className:b.rowLabel,children:"Media type"}),(0,g.jsx)("span",{className:b.rowValue,children:"Video"})]}),s?(0,g.jsxs)("div",{className:b.row,children:[(0,g.jsx)("span",{className:b.rowLabel,children:"Dimensions"}),(0,g.jsxs)("span",{className:b.rowValue,children:[s.width,"x",s.height]})]}):null,t.metadata?.duration?(0,g.jsxs)("div",{className:b.row,children:[(0,g.jsx)("span",{className:b.rowLabel,children:"Duration"}),(0,g.jsx)("span",{className:b.rowValue,children:(0,u.L)(t.metadata.duration)})]}):null]})}var _=s("./app/api/hooks/useTask.ts"),I=s("./app/components/Views/Storyboard/hooks/useElementSize.ts"),T=s("./app/utils/hooks/useMediaQuery.ts");function j(e,t,s,o){const n=e/t;return n>s/o?{width:s,height:s/n}:{width:o*n,height:o}}const k={mobileContainer:"with-task__mobileContainer__PAP7l",desktopContainer:"with-task__desktopContainer__Yk0_Z",leftColumn:"with-task__leftColumn__asBx0",rightColumn:"with-task__rightColumn__wawZr",detailsContainer:"with-task__detailsContainer__Hq2X0"};function C(e){let{size:t,assetSize:s,taskId:o,asTeamId:n,renderMedia:a,renderHeader:i,renderDetails:r}=e;return(0,T.ac)("(min-width: 1024px)")?(0,g.jsx)(E,{asTeamId:n,assetSize:s,renderDetails:r,renderHeader:i,renderMedia:a,size:t,taskId:o}):(0,g.jsx)(S,{asTeamId:n,assetSize:s,renderDetails:r,renderHeader:i,renderMedia:a,size:t,taskId:o})}function E(e){let{asTeamId:t,assetSize:s,renderDetails:n,renderHeader:a,renderMedia:i,size:r,taskId:l}=e;const c=Math.min(.33*r.width,500),d=r.width-c,p=j(s.width,s.height,d,r.height),u=-1===s.width&&-1===s.height;return(0,g.jsxs)("div",{className:k.desktopContainer,style:r,children:[(0,g.jsx)("div",{className:k.leftColumn,style:{width:d},children:null!==p?(0,g.jsx)("div",{style:u?{height:"100%",width:"100%"}:p,children:(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(A,{asTeamId:t,taskId:l,children:i})})}):null}),(0,g.jsxs)("div",{className:k.rightColumn,style:{width:c},children:[a(),(0,g.jsx)("div",{className:k.detailsContainer,children:(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(A,{asTeamId:t,taskId:l,children:n})})})]})]})}function S(e){let{asTeamId:t,assetSize:s,renderDetails:n,renderHeader:a,renderMedia:i,size:r,taskId:l}=e;const c=(0,o.useRef)(null),d=(0,I.h)(c);let p=null;return null!==d&&(p=j(s.width,s.height,r.width,r.height-d.height)),(0,g.jsxs)("div",{className:k.mobileContainer,style:r,children:[null!==p&&(0,g.jsx)("div",{children:(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(A,{asTeamId:t,taskId:l,children:i})})}),(0,g.jsx)("div",{ref:c,children:a()}),null!==p?(0,g.jsx)("div",{className:k.detailsContainer,children:(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(A,{asTeamId:t,taskId:l,children:n})})}):null]})}function A(e){let{taskId:t,asTeamId:s,children:o}=e;return o((0,_.Z)({taskId:t,asTeamId:s},{suspense:!0}).data)}function M(e){let{size:t,assetSize:s,renderMedia:o,renderHeader:n,renderDetails:a}=e;return(0,T.ac)("(min-width: 1024px)")?(0,g.jsx)(P,{assetSize:s,renderDetails:a,renderHeader:n,renderMedia:o,size:t}):(0,g.jsx)(N,{assetSize:s,renderDetails:a,renderHeader:n,renderMedia:o,size:t})}function P(e){let{assetSize:t,renderDetails:s,renderHeader:o,renderMedia:n,size:a}=e;const i=Math.min(.33*a.width,500),r=a.width-i,l=j(t.width,t.height,r,a.height);return(0,g.jsxs)("div",{className:k.desktopContainer,style:a,children:[(0,g.jsx)("div",{className:k.leftColumn,style:{width:r},children:null!==l?(0,g.jsx)("div",{style:l,children:n()}):null}),(0,g.jsxs)("div",{className:k.rightColumn,style:{width:i},children:[o(),(0,g.jsx)("div",{className:k.detailsContainer,children:s()})]})]})}function N(e){let{assetSize:t,renderDetails:s,renderHeader:n,renderMedia:a,size:i}=e;const r=(0,o.useRef)(null),l=(0,I.h)(r);let c=null;return null!==l&&(c=j(t.width,t.height,i.width,i.height-l.height)),(0,g.jsxs)("div",{className:k.mobileContainer,style:i,children:[(0,g.jsx)("div",{ref:r,children:n()}),null!==c?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:c,children:a()}),(0,g.jsx)("div",{className:k.detailsContainer,children:s()})]}):null]})}const D={container:"audio-preview__container__iLQKl",gradient:"audio-preview__gradient__ZWo4P"};var O=s("./app/components/Prefabs/AudioPlayer/index.tsx");function L(e){let{asset:t}=e;return(0,g.jsx)("div",{className:D.container,children:(0,g.jsx)("div",{className:D.gradient,children:(0,g.jsx)(O.Z,{url:t.url})})})}var R=s("./app/api/assets.ts"),Z=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts");function U(e,t){const s=(0,Z.lt)(e,t);return(0,o.useCallback)(((e,t)=>{const o=(0,R.ci)(t.id,e);return s(o,{revalidate:!0,populateCache:!1,optimisticData(s){if(!s)return[];const o=[];for(const n of s)"Asset"===n.type&&n.value.id===t.id?o.push({type:"Asset",value:{...n.value,private:e}}):o.push(n);return o}})}),[s])}var z=s("./app/components/Prefabs/TooltipWrapper.tsx"),V=s("./app/components/Views/Asset/utils.ts"),B=s("./app/utils/downloads.ts"),G=s("./node_modules/lucide-react/dist/esm/icons/x.js"),F=s("./node_modules/lucide-react/dist/esm/icons/loader.js"),$=s("./node_modules/lucide-react/dist/esm/icons/download.js"),W=s("./node_modules/moment/moment.js"),H=s.n(W),Y=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),X=s("./app/components/Views/AssetsV2/hooks/useOpenInGen2.ts");function q(e){return(0,g.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,g.jsx)("path",{d:"M14.667 8.00008L8.66702 2.66675V6.00008C8.66702 6.00008 3.56036 5.66675 2.10036 8.86675C1.03369 11.0667 1.36702 12.8001 1.43369 13.0667C1.41369 12.9867 1.76702 12.6201 1.82036 12.5467C1.96702 12.3601 2.12702 12.1801 2.28702 12.0001C2.60702 11.6534 2.95369 11.3334 3.32702 11.0467C3.86702 10.6334 4.48036 10.3001 5.14036 10.1201C5.86702 9.92675 6.61369 10.0001 7.36036 10.0001C7.79369 10.0001 8.23369 10.0001 8.66702 10.0001V13.3334L14.667 8.00008Z",stroke:"currentColor",strokeWidth:"1.2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})}var J=s("./app/components/Views/AssetsV2/lib/tracking.ts"),K=s("./app/components/Views/AssetsV2/shared/FavoriteAssetButton.tsx"),Q=s("./app/components/Views/AssetsV2/shared/asset-actions.ts"),ee=s("./app/components/Prefabs/AriaModal.tsx"),te=s("./app/components/Views/MagicTools/Components/Common/Sharing/tracking.ts"),se=s("./app/utils/copyToClipboard.ts");const oe={dialog:"index__dialog__TiuKg",heading:"index__heading__fAQJl",description:"index__description___WzuR",linkContainer:"index__linkContainer__KOzuO",link:"index__link__gURvR",publish:"index__publish__dPV_G",copy:"index__copy__aCDms",close:"index__close__IcQMV"};function ne(e){let{asTeamId:t,privateInTeam:s,asset:o,children:a}=e;return(0,g.jsxs)(n.hg,{children:[a,(0,g.jsx)(ee.u,{children:(0,g.jsx)(n.Vq,{className:oe.dialog,children:e=>{let{close:n}=e;return(0,g.jsx)(ae,{asTeamId:t,privateInTeam:s,asset:o,onClose:n})}})})]})}function ae(e){let{asset:t,asTeamId:s,privateInTeam:o,onClose:a}=e;const i=U(s,o);const r=`${window.location.origin}/assets/${t.id}`;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.X6,{slot:"title",className:oe.heading,children:"Publish and Share"}),(0,g.jsx)("span",{className:oe.description,children:"Publishing will also make the text and media prompts available to anyone with the link"}),t.private?null:(0,g.jsx)("div",{className:oe.linkContainer,children:(0,g.jsx)("span",{className:oe.link,children:r})}),t.private?(0,g.jsx)(n.zx,{onPress:async function(){await i(!1,t),(0,te.P)({shareLocation:"asset-page",link:r})},className:oe.publish,children:(0,g.jsx)("span",{children:"Publish"})}):(0,g.jsx)(ie,{link:r}),(0,g.jsx)(n.zx,{onPress:a,className:oe.close,children:(0,g.jsx)("span",{children:"Close"})})]})}function ie(e){let{link:t}=e;const[s,a]=(0,o.useState)(!1),i=(0,o.useRef)(null);return(0,g.jsx)(n.zx,{onPress:function(){(0,se.v)(t),a(!0),i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{a(!1)}),5e3)},className:oe.copy,children:(0,g.jsx)("span",{children:s?"Copied!":"Copy Link"})})}var re=s("./app/api/shared-assets.ts");const le={dialog:"index__dialog__gjIPu",heading:"index__heading__NR2Rq",description:"index__description__Euk2P",linkContainer:"index__linkContainer__hg9k4",link:"index__link__uayZN",publish:"index__publish__S8Beb",copy:"index__copy__GdeNq",close:"index__close__SwOmR"};function ce(e){let{asTeamId:t,privateInTeam:s,taskId:o,asset:a,children:i}=e;return(0,g.jsxs)(n.hg,{children:[i,(0,g.jsx)(ee.u,{children:(0,g.jsx)(n.Vq,{className:le.dialog,children:e=>{let{close:n}=e;return(0,g.jsx)(de,{asTeamId:t,privateInTeam:s,taskId:o,asset:a,onClose:n})}})})]})}function de(e){let{asTeamId:t,privateInTeam:s,asset:a,taskId:i,onClose:r}=e;const[l,c]=(0,o.useState)(!1),[d,p]=(0,o.useState)(null),u=U(t,s),m=(0,o.useCallback)((async(e,t)=>await(0,re.v)({asTeamId:t,type:"task",taskId:e})),[]);function h(e){return`${window.location.origin}/creation/${e}`}return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.X6,{slot:"title",className:le.heading,children:"Publish and Share"}),(0,g.jsx)("span",{className:le.description,children:"Publishing will also make the text and media prompts available to anyone with the link"}),null===d?(0,g.jsx)(n.zx,{onPress:async function(){try{c(!0),a.private&&await u(!1,a);const{sharedAsset:e}=await m(i,t);p(e.id),(0,te.P)({shareLocation:"asset-page",link:h(e.id),generationId:e.id})}finally{c(!1)}},className:le.publish,isDisabled:l,children:l?(0,g.jsx)("span",{children:"Publishing..."}):(0,g.jsx)("span",{children:"Publish"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:le.linkContainer,children:(0,g.jsx)("span",{className:le.link,children:h(d)})}),(0,g.jsx)(pe,{link:h(d)})]}),(0,g.jsx)(n.zx,{onPress:r,className:le.close,children:(0,g.jsx)("span",{children:"Close"})})]})}function pe(e){let{link:t}=e;const[s,a]=(0,o.useState)(!1),i=(0,o.useRef)(null);return(0,g.jsx)(n.zx,{onPress:function(){(0,se.v)(t),a(!0),i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{a(!1)}),5e3)},className:le.copy,children:(0,g.jsx)("span",{children:s?"Copied!":"Copy Link"})})}const ue={container:"header__container__Kn2y8",topRow:"header__topRow__rBN_M",name:"header__name__goB_Z",closeButton:"header__closeButton__jRTlt",subtitle:"header__subtitle__e6GX6",actions:"header__actions__gxwqj",iconButton:"header__iconButton__Iw5r8",loader:"header__loader__crmTW",spin:"header__spin__dkdl7",moreButton:"header__moreButton___JLRB"};var me=s("./node_modules/clsx/dist/clsx.mjs"),he=s("./node_modules/lucide-react/dist/esm/icons/more-horizontal.js");const ge={trigger:"options__trigger__S9ywt",popover:"options__popover__Y9Ioz",enter:"options__enter__xOfaI",exit:"options__exit__yw47d",item:"options__item__c7aIC"};function fe(e){let{children:t,...s}=e;return(0,g.jsx)("div",{onClick:function(e){e.stopPropagation()},children:(0,g.jsxs)(n.bF,{children:[(0,g.jsx)(n.zx,{className:ge.trigger,children:(0,g.jsx)(he.Z,{size:16})}),(0,g.jsx)(n.J2,{className:ge.popover,children:(0,g.jsx)(n.v2,{...s,children:t})})]})})}function ye(e){let{children:t,className:s,...o}=e;return(0,g.jsx)(n.sN,{className:(0,me.Z)(ge.item,s),...o,children:t})}function xe(e){let{asset:t,asTeamId:s,privateInTeam:a,canEdit:i,hasTeamspaces:r,teamspaceId:l}=e;const c=(0,o.useContext)(n.$H);return(0,g.jsxs)("div",{className:ue.container,children:[(0,g.jsxs)("div",{className:ue.topRow,children:[(0,g.jsx)("span",{className:ue.name,children:t.name}),(0,g.jsx)(n.zx,{className:ue.closeButton,onPress:c.close,children:(0,g.jsx)(G.Z,{size:24,color:"white"})})]}),(0,g.jsxs)("span",{className:ue.subtitle,children:["Created by ",(0,g.jsx)("span",{className:ue.username,children:t.username})," ·"," ",H()(t.createdAt).fromNow()]}),(0,g.jsxs)("div",{className:ue.actions,children:[(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(K.X,{assetOrAssetGroup:{type:"Asset",value:t},asTeamId:s,canEdit:i,privateInTeam:a,className:ue.iconButton,origin:"assets lightbox",shouldRenderTooltip:!0})}),(0,g.jsx)(ve,{asset:t,asTeamId:s}),t.taskId?(0,g.jsx)(ce,{asTeamId:s,privateInTeam:a,taskId:t.taskId,asset:t,children:(0,g.jsx)(z.Z,{message:"Publish and share",zIndexOverride:99999,children:(0,g.jsx)(n.zx,{className:ue.iconButton,children:(0,g.jsx)(q,{height:16,width:16,color:"white"})})})}):(0,g.jsx)(ne,{asTeamId:s,privateInTeam:a,asset:t,children:(0,g.jsx)(z.Z,{message:"Publish and share",zIndexOverride:99999,children:(0,g.jsx)(n.zx,{className:ue.iconButton,children:(0,g.jsx)(q,{height:16,width:16,color:"white"})})})}),(0,g.jsx)("div",{style:{flex:1}}),(0,g.jsx)(be,{asset:t,asTeamId:s,privateInTeam:a,canEdit:i,hasTeamspaces:r,teamspaceId:l})]})]})}function ve(e){let{asTeamId:t,asset:s}=e;const[a,i]=(0,o.useState)(!1);return(0,g.jsx)(z.Z,{message:"Download",zIndexOverride:99999,children:(0,g.jsx)(n.zx,{isDisabled:a,className:ue.iconButton,onPress:async function(){i(!0);try{const e=await(0,R.CT)(s.id);(0,B.Sv)({name:s.name,url:e}),(0,V.V5)({asset:s,asTeamId:t})}finally{i(!1)}},children:a?(0,g.jsx)(F.Z,{className:ue.loader,size:16}):(0,g.jsx)($.Z,{size:16})})})}function be(e){let{asset:t,asTeamId:s,privateInTeam:n,canEdit:a,hasTeamspaces:i,teamspaceId:r}=e;const l=(0,o.useContext)(Y.M),c=U(s,n),d=(0,X.E)(t,X.Z.AssetListOptions);let p=null,u=null;a&&(r?u=(0,g.jsx)(ye,{id:Q.V.RemoveFromTeamspace,children:"Unshare from teamspace"}):i&&(u=(0,g.jsx)(ye,{id:Q.V.ShareWithTeamspace,children:"Share with teamspace"})),r||(p=n?(0,g.jsx)(ye,{id:Q.V.ShareWithWorkspace,children:"Share with workspace"}):(0,g.jsx)(ye,{id:Q.V.RemoveFromWorkspace,children:"Unshare from workspace"})));const m="image"===t.mediaType;return(0,g.jsxs)(fe,{onAction:function(e){switch(e){case Q.V.Download:!async function(){try{const e=await(0,R.CT)(t.id);(0,B.Sv)({name:t.name,url:e}),(0,V.V5)({asset:t,asTeamId:s})}catch{}}();break;case Q.V.Unpublish:!async function(){try{await c(!0,t)}catch{}}();break;case Q.V.Rename:l.showRenameAsset(t);break;case Q.V.ShareWithWorkspace:(0,J.So)(),l.showMoveWithinWorkspace([{type:"Asset",value:t}]);break;case Q.V.RemoveFromWorkspace:(0,J.Er)(),l.showMoveWithinWorkspace([{type:"Asset",value:t}]);break;case Q.V.ShareWithTeamspace:(0,J.el)(),l.showMoveToTeamspace([{type:"Asset",value:t}]);break;case Q.V.RemoveFromTeamspace:if(null===r)return;(0,J.kM)(),l.showRemoveFromTeamspace(r,[{type:"Asset",value:t}]);break;case Q.V.Delete:l.showDeleteAsset(t);break;case Q.V.UseInGen2:d()}},children:[m&&(0,g.jsx)(ye,{id:Q.V.UseInGen2,children:"Use in Gen2"}),(0,g.jsx)(ye,{id:Q.V.Download,children:"Download"}),(0,g.jsx)(ye,{id:Q.V.Rename,children:"Rename"}),u,p,t.private?null:(0,g.jsx)(ye,{id:Q.V.Unpublish,children:"Unpublish"}),(0,g.jsx)(ye,{id:Q.V.Delete,children:"Delete"})]})}const we={container:"image-preview__container__kC9Jp",loading:"image-preview__loading__QO8mX",image:"image-preview__image__WcvN_"};function _e(e){let{asset:t}=e;return(0,g.jsx)("div",{className:we.container,children:(0,g.jsx)("img",{src:t.url,className:we.image})})}var Ie=s("./app/api/mixpanel.ts"),Te=s("./app/components/Views/Asset/events/AssetEvents.tsx"),je=s("./app/components/Views/MagicTools/Components/Outputs/VideoOutput.tsx"),ke=s("./app/components/Views/MagicTools/utils.ts"),Ce=s("./app/utils/mixpanel.ts");const Ee={container:"video-preview__container___Zz2t",video:"video-preview__video__Ctj4f"};function Se(e){let{asset:t}=e;const s=(0,o.useRef)(null),[n,a]=(0,o.useState)("");return(0,o.useEffect)((()=>{(async()=>{const e=await(0,ke.XY)({inputMedia:t,userInputs:{},videoModelName:"raw_video",videoCommandName:"raw_video",audioModelName:"raw_audio",audioCommandName:"raw_audio",audioSegmentDuration:30});a(e.url??"")})()}),[t]),(0,g.jsx)("div",{className:Ee.container,children:(0,g.jsx)(je.Z,{playerRef:s,playlistUrl:n,playerConfig:{fallbackAssetUrl:t.url},onPlay:function(){(0,Ie.p6)({eventName:Te.s.PlayVideo,properties:{...(0,Ce.l)(),assetId:t.id,assetVisibility:t.private?"private":"public"}})},loop:!0,autoPlay:!0})})}var Ae=s("./node_modules/framer-motion/dist/framer-motion.es.js"),Me=s("./app/components/Views/MagicTools/MagicTool/TextToSpeech/hooks/useGradientForVoiceId.ts"),Pe=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),Ne=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),De=s("./app/components/Views/MagicTools/Components/Common/Text.tsx");const Oe=Ae.ww.custom(Pe.x);var Le=(0,Ne.ZP)(Oe).withConfig({displayName:"generate-audio-task-media___StyledAnimatedBox",componentId:"sc-1af5kgq-0"})(["position:absolute;left:0px;top:0px;height:100%;width:100%;background:linear-gradient( transparent,transparent 60%,gray 100% );pointer-events:none;"]);const Re=e=>{const{data:t}=(0,p.Kk)(e.task),s=e.task.options.text,n=e.asset.url,a=(0,o.useRef)(null),{scrollYProgress:i}=(0,Ae.BO)(a),r=(0,Ae.Hm)(i,[.9,1],[1,0]),[l,c]=(0,o.useState)(!1);(0,o.useLayoutEffect)((()=>{const e=a.current;e&&e.scrollHeight>e.clientHeight&&c(!0)}),[]);const d=(0,Me.J)();return(0,g.jsxs)(ze,{$_css:d(t?.voiceId),children:[(0,g.jsx)(Ve,{}),(0,g.jsxs)(Be,{flexDirection:"column",children:[(0,g.jsxs)(Ze,{children:[(0,g.jsxs)(Pe.x,{alignItems:"center",gap:"20px",children:[(0,g.jsx)(Ge,{width:"40px",height:"40px",borderRadius:"8px",$_css2:d(t?.voiceId)}),(0,g.jsxs)(Fe,{children:["Spoken by"," ",(0,g.jsx)($e,{children:t?t.name:"Voice unavailable"})]})]}),(0,g.jsx)(We,{ref:a,children:(0,g.jsxs)(Ue,{children:[s,l&&(0,g.jsx)(Le,{style:{opacity:r}})]})})]}),(0,g.jsx)(He,{flexShrink:0,flexDirection:"column",justifyContent:"end",padding:"24px",alignItems:"stretch",children:(0,g.jsx)(O.Z,{url:n})})]})]})},Ze=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media__ScriptContainer",componentId:"sc-1af5kgq-1"})(["flex:1;padding:56px;padding-bottom:0;flex-direction:column;gap:24px;overflow:hidden;position:relative;@media (max-width:1024px){padding:24px;padding-bottom:0;}"]),Ue=(0,Ne.ZP)(De.xv).withConfig({displayName:"generate-audio-task-media__ScriptInner",componentId:"sc-1af5kgq-2"})(["font-size:32px;font-weight:700;line-height:42px;white-space:pre-wrap;mix-blend-mode:hard-light;@media (max-width:1024px){font-size:24px;line-height:32px;}"]);var ze=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media___StyledBox",componentId:"sc-1af5kgq-3"})(["height:100%;border-radius:16px;position:relative;background-image:url(",");background-position:center;background-size:cover;@media (max-width:1024px){max-height:400px;}"],(e=>e.$_css)),Ve=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media___StyledBox2",componentId:"sc-1af5kgq-4"})(["position:absolute;inset:0;background:rgba(0,0,0,0.4);"]),Be=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media___StyledBox3",componentId:"sc-1af5kgq-5"})(["position:relative;width:100%;"]),Ge=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media___StyledBox4",componentId:"sc-1af5kgq-6"})(["border:2px solid white;background-image:url(",");background-position:center;background-size:cover;"],(e=>e.$_css2)),Fe=(0,Ne.ZP)(De.xv).withConfig({displayName:"generate-audio-task-media___StyledText",componentId:"sc-1af5kgq-7"})(["color:",";font-size:14px;font-weight:500;line-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(e=>e.theme.colors.textSecondary)),$e=(0,Ne.ZP)("span").withConfig({displayName:"generate-audio-task-media___StyledSpan",componentId:"sc-1af5kgq-8"})(["color:white;"]),We=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media___StyledBox5",componentId:"sc-1af5kgq-9"})(["overflow-y:auto;::-webkit-scrollbar-track{background:transparent;}::-webkit-scrollbar-thumb{background:",";}"],(e=>e.theme.colors.uiOverlay)),He=(0,Ne.ZP)(Pe.x).withConfig({displayName:"generate-audio-task-media___StyledBox6",componentId:"sc-1af5kgq-10"})(["border-radius:0px 0px 16px 16px;background:linear-gradient( 180deg,rgba(211,180,166,0) 0%,rgba(30,31,36,0.26) 32.17%,#1d1e23 78.83% );backdrop-filter:blur(2px);"]);function Ye(e){let{asset:t,size:s,asTeamId:o,privateInTeam:n,canEdit:a,hasTeamspaces:i,teamspaceId:r}=e;const u=function(e){const{data:t,...s}=(0,l.ZP)(`${e.id}-size`,(()=>{if(e.metadata?.size)return e.metadata.size;if(e.metadata?.dimensions)return{width:e.metadata.dimensions[0],height:e.metadata.dimensions[1]};switch(e.mediaType){case"image":return new Promise(((t,s)=>{const o=new Image;o.onload=()=>{t({width:o.naturalWidth,height:o.naturalHeight})},o.onerror=()=>{s()},o.src=e.url}));case"video":return new Promise(((t,s)=>{const o=document.createElement("video");o.onloadedmetadata=()=>{t({width:o.videoWidth,height:o.videoHeight})},o.onerror=()=>{s()},o.src=e.url}));default:return{width:-1,height:-1}}}),{suspense:!0});return{...s,data:t}}(t);return t.taskId?(0,g.jsx)(C,{taskId:t.taskId,asTeamId:o,size:s,assetSize:{width:u.data.width??s.width,height:u.data.height??s.height},renderMedia:e=>{switch(t.mediaType){case"image":return(0,g.jsx)(_e,{asset:t},t.url);case"video":return(0,g.jsx)(Se,{asset:t},t.url);case"audio":return(0,p.$G)(e)?(0,g.jsx)(Re,{task:e,asset:t},t.url):(0,g.jsx)(L,{asset:t},t.url);default:return null}},renderHeader:()=>(0,g.jsx)(xe,{privateInTeam:n,asTeamId:o,asset:t,canEdit:a,hasTeamspaces:i,teamspaceId:r}),renderDetails:e=>{switch(e.taskType){case"gen2":return(0,g.jsx)(d.P,{task:e});case"gen1":return(0,g.jsx)(c.T,{task:e});case"generate_audio":return(0,p.$G)(e)?(0,g.jsx)(p.Q,{task:e}):null;default:return null}}}):(0,g.jsx)(M,{size:s,assetSize:{width:u.data.width??s.width,height:u.data.height??s.height},renderMedia:()=>{switch(t.mediaType){case"image":return(0,g.jsx)(_e,{asset:t},t.url);case"video":return(0,g.jsx)(Se,{asset:t},t.url);case"audio":return(0,g.jsx)(L,{asset:t},t.url);default:return null}},renderHeader:()=>(0,g.jsx)(xe,{privateInTeam:n,asTeamId:o,asset:t,canEdit:a,hasTeamspaces:i,teamspaceId:r}),renderDetails:()=>{switch(t.mediaType){case"video":return(0,g.jsx)(w,{asset:t});case"image":return(0,g.jsx)(v,{asset:t});case"audio":return(0,g.jsx)(f,{asset:t});default:return null}}})}const Xe={container:"preview-loading__container__NH9h2",loading:"preview-loading__loading__vkSJQ"};function qe(e){let{size:t}=e;return(0,g.jsx)("div",{className:Xe.container,style:t})}function Je(e){let{asset:t,size:s,prevAsset:l,nextAsset:c,asTeamId:d,privateInTeam:p,onChangeAsset:u,canEdit:m,hasTeamspaces:h,teamspaceId:f}=e;return(0,g.jsxs)("div",{className:r.container,children:[(0,g.jsx)(n.zx,{className:r.leftButton,isDisabled:null===l,onPress:function(){null!==l&&u(l.id)},children:(0,g.jsx)(a.Z,{size:24})}),(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)(qe,{size:s}),children:(0,g.jsx)(Ye,{privateInTeam:p,asTeamId:d,asset:t,size:s,canEdit:m,hasTeamspaces:h,teamspaceId:f})}),(0,g.jsx)(n.zx,{className:r.rightButton,isDisabled:null===c,onPress:function(){null!==c&&u(c.id)},children:(0,g.jsx)(i.Z,{size:24})})]})}const Ke={overlay:"index__overlay__aWTnE","modal-fade":"index__modal-fade__rQM9J",modal:"index__modal__j9CmX",dialog:"index__dialog__FYR28",content:"index__content__T6oj3","modal-zoom":"index__modal-zoom__LthPK"},Qe=(0,o.createContext)({});function et(e){let{children:t,privateInTeam:s,page:a,asTeamId:i,exports:r,canEdit:l,hasTeamspaces:c,teamspaceId:d}=e;const[p,u]=(0,o.useState)(null),m=(0,o.useMemo)((()=>{if(null===p)return null;const e=a.findIndex((e=>e.value.id===p));if(-1===e){const e=r.find((e=>e.id===p));return e?{asset:e,prevAsset:null,nextAsset:null}:null}const t=a[e];if("Asset"!==t.type)return null;let s=null,o=null;const n=a[e-1];void 0!==n&&"Asset"===n.type&&(s=n.value);const i=a[e+1];return void 0!==i&&"Asset"===i.type&&(o=i.value),{asset:t.value,prevAsset:s,nextAsset:o}}),[p,r,a]);null===m&&null!==p&&u(null);const h=(0,o.useMemo)((()=>({present:u})),[]);return(0,g.jsxs)(Qe.Provider,{value:h,children:[t,(0,g.jsx)("div",{onKeyDown:function(e){"ArrowLeft"===e.key&&m?.prevAsset?u(m.prevAsset.id):"ArrowRight"===e.key&&m?.nextAsset&&u(m.nextAsset.id)},children:(0,g.jsx)(n.J_,{isOpen:null!==m,onOpenChange:()=>u(null),className:Ke.overlay,children:(0,g.jsx)(n.u_,{isKeyboardDismissDisabled:!0,className:Ke.modal,children:null!==m?(0,g.jsx)(n.Vq,{"aria-label":m.asset.name,className:Ke.dialog,children:e=>{let{close:t}=e;return(0,g.jsx)(tt,{onClose:t,children:e=>(0,g.jsx)(Je,{asTeamId:i,privateInTeam:s,size:e,prevAsset:m.prevAsset,asset:m.asset,nextAsset:m.nextAsset,canEdit:l,hasTeamspaces:c,teamspaceId:d,onChangeAsset:u})})}}):null})})})]})}function tt(e){let{onClose:t,children:s}=e;const n=(0,o.useRef)(null),[a,i]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const e=n.current;if(!e)return;const t=new ResizeObserver((e=>{const t=e[0];if(!t)return;const{width:s,height:o}=t.contentRect;i((e=>{let t=s-64,n=o-120;return window.innerWidth>768&&(t=s-64-160-32,n=o-120-64),e?.width===t&&e?.height===n?e:{width:t,height:n}}))}));return t.observe(e),()=>{t.disconnect()}}),[n]),(0,g.jsx)("div",{ref:n,className:Ke.content,onClick:function(e){e.target===e.currentTarget&&t()},children:null!==a?s(a):null})}},"./app/components/Views/AssetsV2/shared/ExtendThisButton.tsx":(e,t,s)=>{"use strict";s.d(t,{G:()=>m,L:()=>g});var o=s("./app/api/hooks/useTask.ts"),n=s("./app/utils/trackEvent.ts"),a=s("./node_modules/react-router/esm/react-router.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),l=s("./app/components/Views/Asset/events/AssetEvents.tsx"),c=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/canExtendTaskInGen2.ts"),d=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),p=s("./app/components/Views/AssetsV2/shared/PrimaryPillButton.tsx"),u=s("./node_modules/react/jsx-runtime.js");function m(e){const t=(0,r.yF)({toolId:d.W.GEN_2,taskId:e.task.id,extendVideo:!0});const s="primary"===e.style?p.P:h;return(0,u.jsx)(s,{to:t,onClick:function(){(0,n.L)({event:"Click",name:l.s.ExtendAsset})},children:"Extend in Gen-2"})}const h=(0,i.ZP)(p.P).withConfig({displayName:"ExtendThisButton__SecondaryPillButton",componentId:"sc-1s1wfvo-0"})(["background:",";&:hover{background:",";}"],(e=>{let{theme:t}=e;return t.colors.grayscale.gray500}),(e=>{let{theme:t}=e;return t.colors.grayscale.gray600}));function g(e,t){const s=(0,a.k6)(),i=(0,r.yF)({toolId:d.W.GEN_2,taskId:e,extendVideo:!0}),p=(0,o.Z)({taskId:e,asTeamId:t});if(!(0,c.CN)(p.data))return null;return function(){(0,n.L)({event:"Click",name:l.s.ExtendAsset}),s.push(i)}}},"./app/components/Views/AssetsV2/shared/FavoriteAssetButton.tsx":(e,t,s)=>{"use strict";s.d(t,{X:()=>y});var o=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),n=s("./node_modules/react/index.js"),a=s("./app/api/asset-groups.ts");var i=s("./app/api/hooks/useAddAssetToFavorites.ts"),r=s("./app/api/hooks/useRemoveAssetFromFavorites.ts");var l=s("./app/devoe/themeDark.ts"),c=s("./app/types/features.ts"),d=s("./app/utils/hooks/useFeatures.ts"),p=s("./node_modules/lucide-react/dist/esm/icons/heart.js"),u=s("./node_modules/react-aria-components/dist/import.mjs"),m=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),h=s("./app/components/Views/AssetsV2/lib/tracking.ts"),g=s("./app/components/Prefabs/TooltipWrapper.tsx"),f=s("./node_modules/react/jsx-runtime.js");function y(e){let{assetOrAssetGroup:t,asTeamId:s,canEdit:y,className:v,origin:b,privateInTeam:w,shouldRenderTooltip:_}=e;const I=(0,d.h)(s),[T,j]=(0,m.JW)(),k=(0,i.E)(s,w),C=(0,r.p)(s,w),E=function(e,t){const s=(0,o.lt)(e,t);return(0,n.useCallback)((t=>s((0,a.Hg)({id:t.id,asTeamId:e}),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const o of e)"AssetGroup"===o.type&&o.value.id===t.id?s.push({type:"AssetGroup",value:{...o.value,favorite:!0}}):s.push(o);return s}})),[e,s])}(s,w),S=function(e,t){const s=(0,o.lt)(e,t);return(0,n.useCallback)((t=>s((0,a.lF)({id:t.id,asTeamId:e}),{revalidate:!0,populateCache:!1,optimisticData(e){if(!e)return[];const s=[];for(const o of e)"AssetGroup"===o.type&&o.value.id===t.id?s.push({type:"AssetGroup",value:{...o.value,favorite:!1}}):s.push(o);return s}})),[e,s])}(s,w);if(!I.data.permitted[c.G.FavoriteAssets])return null;if(!y)return null;const A=!0===t.value.favorite,M="Asset"===t.type,P="AssetGroup"===t.type;const N={strokeWidth:0,fill:l.Z.colors.primaryLight},D=(0,f.jsx)(u.zx,{className:v,onPress:async function(){try{if(M){const e=t.value;A?(await C(e),(0,h.tK)({assetType:"asset",origin:b})):(await k(e),(0,h.S8)({assetType:"asset",origin:b}))}if(P){const e=t.value;A?(await S(e),(0,h.tK)({assetType:"folder",origin:b})):(await E(e),(0,h.S8)({assetType:"folder",origin:b}))}}catch{const e=(0,m.Ir)({});j({type:"ADD_TOAST",data:{...e}}),j({type:"SET_TOAST",data:{id:e.id,open:!0,error:!0,title:x({isFavorite:A,isAsset:M}),description:"Please try again."}})}},children:(0,f.jsx)(p.Z,{size:16,...A?N:{}})});return _?(0,f.jsx)(g.Z,{message:A?"Remove from favorites":"Add to favorites",zIndexOverride:99999,children:D}):D}const x=e=>{let{isFavorite:t,isAsset:s}=e;return s?t?"Error removing an asset from favorites":"Error adding an asset to favorites":t?"Error removing a folder from favorites":"Error adding a folder to favorites"}},"./app/components/Views/AssetsV2/shared/InlineAssetOptions.tsx":(e,t,s)=>{"use strict";s.d(t,{W:()=>h});var o=s("./app/api/assets.ts"),n=s("./app/utils/downloads.ts"),a=s("./node_modules/react/index.js"),i=s("./app/components/Views/Asset/utils.ts"),r=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),l=s("./app/components/Views/AssetsV2/hooks/useOpenInGen2.ts"),c=s("./app/components/Views/AssetsV2/lib/tracking.ts"),d=s("./app/components/Views/AssetsV2/table/cells/OptionsCell.tsx"),p=s("./app/components/Views/AssetsV2/shared/ExtendThisButton.tsx"),u=s("./app/components/Views/AssetsV2/shared/asset-actions.ts"),m=s("./node_modules/react/jsx-runtime.js");function h(e){let{asset:t,asTeamId:s,teamspaceId:h,hasTeamspaces:g,privateInTeam:f,canEdit:y}=e;const x=(0,a.useContext)(r.M),v=(0,l.E)(t,l.Z.AssetListOptions),b=(0,p.L)(t.taskId,s);let w=null,_=null;y&&(h?_=(0,m.jsx)(d.rK,{id:u.V.RemoveFromTeamspace,children:"Unshare from teamspace"}):g&&(_=(0,m.jsx)(d.rK,{id:u.V.ShareWithTeamspace,children:"Share with teamspace"})),h||(w=f?(0,m.jsx)(d.rK,{id:u.V.ShareWithWorkspace,children:"Share with workspace"}):(0,m.jsx)(d.rK,{id:u.V.RemoveFromWorkspace,children:"Unshare from workspace"})));const I="image"===t.mediaType;return(0,m.jsxs)(d.f_,{onAction:function(e){switch(e){case u.V.Download:!async function(){const e=await(0,o.CT)(t.id);(0,n.Sv)({name:t.name,url:e}),(0,i.V5)({asset:t,asTeamId:s})}();break;case u.V.Rename:x.showRenameAsset(t);break;case u.V.ShareWithWorkspace:(0,c.So)(),x.showMoveWithinWorkspace([{type:"Asset",value:t}]);break;case u.V.RemoveFromWorkspace:(0,c.Er)(),x.showMoveWithinWorkspace([{type:"Asset",value:t}]);break;case u.V.ShareWithTeamspace:(0,c.el)(),x.showMoveToTeamspace([{type:"Asset",value:t}]);break;case u.V.RemoveFromTeamspace:if(null===h)return;(0,c.kM)(),x.showRemoveFromTeamspace(h,[{type:"Asset",value:t}]);break;case u.V.Delete:x.showDeleteAsset(t);break;case u.V.UseInGen2:v();break;case u.V.ExtendInGen2:b?.()}},children:[I?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.rK,{id:u.V.UseInGen2,children:"Use in Gen-2"}),(0,m.jsx)(d.Rz,{})]}):null,b?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.rK,{id:u.V.ExtendInGen2,children:"Extend in Gen-2"}),(0,m.jsx)(d.Rz,{})]}):null,_,w,(0,m.jsx)(d.rK,{id:u.V.Download,children:"Download"}),y?(0,m.jsx)(d.rK,{id:u.V.Rename,children:"Rename"}):null,y?(0,m.jsx)(d.rK,{id:u.V.Delete,children:"Delete"}):null]})}},"./app/components/Views/AssetsV2/shared/MotionBrushCanvas.tsx":(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var o=s("./app/api/useSuspendableImageElement.ts"),n=s("./app/components/Prefabs/ImageMasker/Mask/constants.ts"),a=s("./node_modules/react/index.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./node_modules/react/jsx-runtime.js");const l=e=>{let{hoveredMotionBrushIndex:t=null,maskUrls:s}=e;const n=(0,o.T)({urls:s});return(0,r.jsx)(c,{hoveredMotionBrushIndex:t,maskImages:n})},c=e=>{let{maskImages:t,hoveredMotionBrushIndex:s}=e;const o=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=o.current,t=e?.getContext("2d");e&&t&&(i.current=t,t.clearRect(0,0,e.width,e.height))}),[]),(0,a.useEffect)((()=>{const e=o.current,a=i.current;e&&a&&(e.width=e.clientWidth,e.height=e.clientHeight,t?.length&&0!==e.width&&0!==e.height&&t.forEach(((t,o)=>{if(null!==s&&o!==s)return;const i=n.OQ[o],r=document.createElement("canvas"),l=r.getContext("2d");if(!l)return;r.width=2*e.width,r.height=2*e.height,l.drawImage(t,0,0,r.width,r.height);const c=l.getImageData(0,0,r.width,r.height),{data:d}=c;for(let e=0;e<c.height;e++)for(let t=0;t<c.width;t++){const s=4*e*c.width+4*t;0===d[s]?d[s+3]=0:(d[s]=i[0],d[s+1]=i[1],d[s+2]=i[2],d[s+3]=i[3])}l.putImageData(c,0,0,0,0,c.width,c.height),a.drawImage(r,0,0,e.width,e.height)})))}),[t,s]),(0,r.jsx)(d,{id:"brush-canvas",ref:o})},d=i.ZP.canvas.withConfig({displayName:"MotionBrushCanvas__Canvas",componentId:"sc-1yasla-0"})(["width:100%;height:100%;min-height:40px;position:absolute;top:0;right:0;bottom:0;left:0;opacity:0.5;"])},"./app/components/Views/AssetsV2/shared/PrimaryPillButton.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>n});var o=s("./node_modules/react-router-dom/esm/react-router-dom.js");const n=(0,s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP)(o.rU).withConfig({displayName:"PrimaryPillButton",componentId:"sc-10fsqu1-0"})(["height:40px;border-radius:20px;display:flex;gap:6px;justify-content:center;align-items:center;font-size:14px;font-weight:600;padding-left:16px;padding-right:16px;width:100%;box-sizing:border-box;background-color:",";&:hover{background:",";}"],(e=>{let{theme:t}=e;return t.colors.primary}),(e=>{let{theme:t}=e;return t.colors.primaryDark}))},"./app/components/Views/AssetsV2/shared/asset-actions.ts":(e,t,s)=>{"use strict";s.d(t,{V:()=>o});let o=function(e){return e.Download="download",e.Unpublish="unpublish",e.Rename="rename",e.ShareWithWorkspace="share-with-workspace",e.RemoveFromWorkspace="remove-from-workspace",e.ShareWithTeamspace="share-with-teamspace",e.RemoveFromTeamspace="remove-from-teamspace",e.Delete="delete",e.UseInGen2="use-in-gen2",e.ExtendInGen2="extend-in-gen2",e}({})},"./app/components/Views/AssetsV2/shared/gen-1-task-details.tsx":(e,t,s)=>{"use strict";s.d(t,{T:()=>U});var o=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),n=s("./node_modules/lucide-react/dist/esm/icons/copy.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/components/Views/Asset/Content/TaskInfo/Gen1TaskInfo/parseGen1TaskInfo.ts"),r=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/useHandleCopy.ts"),l=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),c=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),d=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/StyleReferencePanel/preset-items.ts"),p=s("./app/components/Prefabs/Block.tsx"),u=s("./app/components/UI/Base.tsx"),m=s("./node_modules/react/index.js"),h=s("./app/components/Prefabs/Text.tsx"),g=s("./node_modules/react/jsx-runtime.js");const f=e=>{let{video:t,textPrompt:s,imagePrompt:o,preset:a}=e;const i=(0,r.Z)(),[l,c]=(0,m.useState)(!1);return(0,g.jsxs)(y,{children:[(0,g.jsxs)(x,{children:["Prompt",(0,g.jsx)(k,{$expanded:l,onClick:()=>c((e=>!e)),children:(0,g.jsx)(C,{height:20,width:20})})]}),(0,g.jsxs)(_,{$expanded:l,children:[t&&(0,g.jsxs)(I,{children:[!l&&(0,g.jsx)(v,{children:"Video input"}),(0,g.jsx)(j,{$expanded:l,src:t,controls:!!l})]}),o&&!s&&(0,g.jsxs)(I,{children:[!l&&(0,g.jsx)(v,{children:"Style reference"}),(0,g.jsx)(T,{$expanded:l,src:o})]}),s&&(0,g.jsxs)(p.JX,{children:[(0,g.jsx)(v,{children:"Text prompt"}),(0,g.jsxs)(I,{children:[(0,g.jsx)(b,{children:s}),(0,g.jsx)(w,{onClick:()=>i(`${s}`),children:(0,g.jsx)(n.Z,{size:12})})]})]}),a&&(0,g.jsxs)(I,{children:[!l&&(0,g.jsxs)(p.JX,{children:[(0,g.jsx)(v,{children:"Style reference"}),(0,g.jsx)(b,{children:a.name})]}),(0,g.jsx)(T,{$expanded:l,src:a.image})]})]})]})},y=(0,a.ZP)(u.x).withConfig({displayName:"Gen1Prompt__Container",componentId:"sc-qro1c6-0"})(["width:100%;flex-direction:column;"]),x=(0,a.ZP)(u.x).withConfig({displayName:"Gen1Prompt__Header",componentId:"sc-qro1c6-1"})(["width:100%;gap:8px;justify-content:space-between;font-size:14px;line-height:20px;font-weight:600;color:",";"],(e=>{let{theme:t}=e;return t.colors.textPrimary})),v=(0,a.ZP)(h.Z).withConfig({displayName:"Gen1Prompt__Subheader",componentId:"sc-qro1c6-2"})(["font-size:14px;font-weight:500;color:",";"],(e=>{let{theme:t}=e;return t.colors.textSecondary})),b=(0,a.ZP)(h.Z).withConfig({displayName:"Gen1Prompt__PromptText",componentId:"sc-qro1c6-3"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.textSecondary})),w=(0,a.ZP)(c.kq).withConfig({displayName:"Gen1Prompt__CopyButton",componentId:"sc-qro1c6-4"})(["background:transparent;padding:0;min-height:0;"]),_=(0,a.ZP)(u.x).withConfig({displayName:"Gen1Prompt__CollapsibleBox",componentId:"sc-qro1c6-5"})(["flex-direction:column;gap:16px;padding:8px 0;font-size:14px;line-height:20px;color:",";",""],(e=>{let{theme:t}=e;return t.colors.textSecondary}),(e=>{let{$expanded:t}=e;return!t&&(0,a.iv)(["justify-content:space-between;"])})),I=(0,a.ZP)(u.x).withConfig({displayName:"Gen1Prompt__CollapsibleRow",componentId:"sc-qro1c6-6"})(["justify-content:space-between;align-items:center;"]),T=a.ZP.img.withConfig({displayName:"Gen1Prompt__ImagePrompt",componentId:"sc-qro1c6-7"})(["border-radius:8px;margin-left:auto;"," ",""],(e=>{let{$expanded:t}=e;return t&&(0,a.iv)(["width:100%;"])}),(e=>{let{$expanded:t}=e;return!t&&(0,a.iv)(["max-width:40px;max-height:40px;max-width:40px;max-height:40px;min-width:40px;min-height:40px;object-fit:cover;border-radius:4px;overflow:hidden;"])})),j=a.ZP.video.withConfig({displayName:"Gen1Prompt__VideoPrompt",componentId:"sc-qro1c6-8"})([""," ",""],(e=>{let{$expanded:t}=e;return t&&(0,a.iv)(["width:100%;"])}),(e=>{let{$expanded:t}=e;return!t&&(0,a.iv)(["max-width:40px;max-height:40px;max-width:40px;max-height:40px;min-width:40px;min-height:40px;object-fit:cover;border-radius:4px;overflow:hidden;"])})),k=(0,a.ZP)(u.x).withConfig({displayName:"Gen1Prompt__ToggleButton",componentId:"sc-qro1c6-9"})(["cursor:pointer;transform:",";"],(e=>{let{$expanded:t}=e;return t?"rotate(0deg)":"rotate(-90deg)"}));var C=(0,a.ZP)(o.VAA).withConfig({displayName:"Gen1Prompt___StyledCaretDownIcon",componentId:"sc-qro1c6-10"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.textSecondary})),E=s("./app/components/Views/AssetsV2/shared/PrimaryPillButton.tsx"),S=s("./app/components/Views/AssetsV2/shared/task-details.css");const A="Style: structural consistency",M="Style: weight",P="LoRA weight",N="Frame consistency",D="Upscale",O="Remove watermark",L="Affect foreground only",R="Affect background only",Z="Compare wipe",U=e=>{let{task:t}=e;const s=(0,r.Z)(),a=(0,l.yF)({toolId:"gen-1",taskId:t.id}),{textPrompt:c,imagePrompt:p,presetId:u,video:m,depthBlurLevel:h,cfgScale:y,loraScale:x,cfgTemporalScale:v,upscale:b,watermark:w,maskModeForeground:_,maskModeBackground:I,compare:T,seed:j}=(0,i.Z)(t);let k;return u&&(k=(0,d._p)(u)),(0,g.jsxs)("div",{className:S.Z.container,children:[(0,g.jsxs)("div",{className:S.Z.scrollContainer,children:[(0,g.jsx)(f,{video:m,textPrompt:c,imagePrompt:p,preset:k}),(0,g.jsx)("div",{className:S.Z.divider}),(0,g.jsx)("div",{className:S.Z.header,children:"General settings"}),(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:"Generated with"}),(0,g.jsx)("div",{className:S.Z.settingValue,children:"Gen-1"})]}),void 0!==h&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:A}),(0,g.jsx)("div",{className:S.Z.settingValue,children:h})]}),void 0!==y&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:M}),(0,g.jsx)("div",{className:S.Z.settingValue,children:y})]}),void 0!==x&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:P}),(0,g.jsx)("div",{className:S.Z.settingValue,children:x})]}),void 0!==v&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:N}),(0,g.jsx)("div",{className:S.Z.settingValue,children:v})]}),void 0!==b&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:D}),(0,g.jsx)("div",{className:S.Z.settingValue,children:b?"Yes":"No"})]}),void 0!==w&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:O}),(0,g.jsx)("div",{className:S.Z.settingValue,children:w?"No":"Yes"})]}),void 0!==_&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:L}),(0,g.jsx)("div",{className:S.Z.settingValue,children:_?"Yes":"No"})]}),void 0!==I&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:R}),(0,g.jsx)("div",{className:S.Z.settingValue,children:I?"Yes":"No"})]}),void 0!==T&&(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:Z}),(0,g.jsx)("div",{className:S.Z.settingValue,children:T?"Yes":"No"})]}),(0,g.jsxs)("div",{className:S.Z.settingContainer,children:[(0,g.jsx)("div",{className:S.Z.settingName,children:"Seed"}),(0,g.jsxs)("div",{className:S.Z.settingValue,children:[(0,g.jsx)(z,{onClick:()=>s(`${j}`),children:(0,g.jsx)(n.Z,{size:14})}),(0,g.jsx)("span",{children:j})]})]})]}),(0,g.jsx)("div",{className:S.Z.reuseThisContainer,children:(0,g.jsxs)(E.P,{to:a,children:[(0,g.jsx)(o.$2U,{height:14,width:14}),(0,g.jsx)("span",{children:"Reuse in Gen-1"})]})})]})},z=(0,a.ZP)(c.kq).withConfig({displayName:"gen-1-task-details__CopyButton",componentId:"sc-oibypv-0"})(["background:transparent;padding:0;min-height:0;"])},"./app/components/Views/AssetsV2/shared/gen-2-task-details.tsx":(e,t,s)=>{"use strict";s.d(t,{P:()=>W});var o=s("./app/api/mixpanel.ts"),n=s("./app/utils/mixpanel.ts"),a=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),i=s("./node_modules/lucide-react/dist/esm/icons/copy.js"),r=s("./node_modules/react/index.js"),l=s("./node_modules/lodash/lodash.js"),c=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=s("./app/components/Views/Asset/Content/TaskInfo/Gen2TaskInfo/parseGen2TaskInfo.ts"),p=s("./app/components/Views/Asset/Content/TaskInfo/shared/CopyButton/useHandleCopy.ts"),u=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),m=s("./app/components/Views/Asset/events/AssetEvents.tsx"),h=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),g=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/highResTextToImageStyles.ts"),f=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/canExtendTaskInGen2.ts"),y=s("./app/components/Views/AssetsV2/shared/ExtendThisButton.tsx"),x=s("./app/components/UI/Base.tsx"),v=s("./node_modules/lucide-react/dist/esm/icons/eye.js"),b=s("./app/components/Views/AssetsV2/shared/MotionBrushCanvas.tsx");const w="gen-2-image-prompt__container__rfjWc",_="gen-2-image-prompt__inner__WRCAC",I="gen-2-image-prompt__image__FEs5_",T="gen-2-image-prompt__imagePreviewTextContainer__uHlGT",j="gen-2-image-prompt__imagePreviewContainer__af5Xt",k="gen-2-image-prompt__imagePreview__TX8y6",C="gen-2-image-prompt__initImageTextPrompt__nUwUJ";var E=s("./node_modules/react/jsx-runtime.js");const S=e=>{let{expanded:t,imagePrompt:s,showBrushCanvas:o,maskUrls:n,hoveredMotionBrushIndex:a,initImageTextPrompt:i}=e;return(0,E.jsxs)("div",{className:w,style:t?{alignItems:"flex-start",justifyContent:"space-between",gap:"16px",flexDirection:"column"}:{alignItems:"center",justifyContent:"space-between",gap:"4px",flexDirection:"row"},children:[(0,E.jsxs)("div",{className:_,children:[(0,E.jsxs)("div",{className:T,children:[(0,E.jsx)(v.Z,{size:16}),(0,E.jsx)("span",{className:k,children:"Image preview"})]}),i&&(0,E.jsx)("span",{className:C,children:i})]}),(0,E.jsxs)("div",{className:j,children:[(0,E.jsx)("img",{src:s,className:I,style:t?{width:"100%",height:"100%"}:{maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",objectFit:"cover",borderRadius:"4px",overflow:"hidden"}}),o&&(0,E.jsx)(b.T,{maskUrls:n,hoveredMotionBrushIndex:a})]})]})},A="2024-02-27T20:00:00.000Z",M=e=>{let{imagePrompt:t,textPrompt:s,initVideo:o,motionBrushOptions:n,showMotionBrushMasks:a,hoveredMotionBrushIndex:l,taskCreatedAt:c,initImageTextPrompt:d}=e;const u=(0,p.Z)(),[m,h]=(0,r.useState)((()=>!!n)),g=(0,r.useMemo)((()=>n?.layers.map((e=>e.mask)).filter((e=>e.length))||[]),[n?.layers]),f=n&&m&&a&&c>A;return(0,E.jsxs)(P,{children:[(0,E.jsxs)(D,{children:["Prompt",(0,E.jsxs)(U,{children:[s&&(0,E.jsx)(R,{onClick:()=>u(`${s}`),children:(0,E.jsx)(i.Z,{size:12})}),(t||o)&&(0,E.jsx)(Z,{$expanded:m,onClick:()=>h((e=>!e)),children:(0,E.jsx)(z,{height:20,width:20})})]})]}),(0,E.jsxs)(N,{$expanded:m,children:[t&&(0,E.jsx)(S,{expanded:m,imagePrompt:t,showBrushCanvas:f,maskUrls:g,hoveredMotionBrushIndex:l,initImageTextPrompt:d}),o&&(0,E.jsxs)(x.x,{justifyContent:"space-between",flex:1,gap:"4px",flexDirection:m?"column":"row",children:[(0,E.jsx)("span",{children:"Extended from video"}),(0,E.jsx)(O,{$expanded:m,src:o,controls:!!m})]})]}),s&&!t&&(0,E.jsx)(x.x,{children:(0,E.jsx)("span",{children:s})}),s&&t&&(0,E.jsxs)(L,{$expanded:m,children:[s,(0,E.jsx)(R,{onClick:()=>u(`${s}`),children:(0,E.jsx)(i.Z,{size:12})})]})]})},P=(0,c.ZP)(x.x).withConfig({displayName:"Gen2Prompt__Container",componentId:"sc-41j43x-0"})(["width:100%;flex-direction:column;"]),N=(0,c.ZP)(x.x).withConfig({displayName:"Gen2Prompt__CollapsibleBox",componentId:"sc-41j43x-1"})(["flex-direction:",";gap:16px;padding:8px 0;font-size:14px;line-height:20px;color:",";",""],(e=>{let{$expanded:t}=e;return t?"column":"row"}),(e=>{let{theme:t}=e;return t.colors.textSecondary}),(e=>{let{$expanded:t}=e;return!t&&(0,c.iv)(["justify-content:space-between;"])})),D=(0,c.ZP)(x.x).withConfig({displayName:"Gen2Prompt__Header",componentId:"sc-41j43x-2"})(["width:100%;gap:8px;justify-content:space-between;font-size:14px;line-height:20px;font-weight:600;color:",";"],(e=>{let{theme:t}=e;return t.colors.textPrimary})),O=c.ZP.video.withConfig({displayName:"Gen2Prompt__VideoPrompt",componentId:"sc-41j43x-3"})(["border-radius:8px;margin-left:auto;"," ",""],(e=>{let{$expanded:t}=e;return t&&(0,c.iv)(["width:100%;"])}),(e=>{let{$expanded:t}=e;return!t&&(0,c.iv)(["max-width:40px;max-height:40px;max-width:40px;max-height:40px;min-width:40px;min-height:40px;object-fit:cover;border-radius:4px;overflow:hidden;"])})),L=(0,c.ZP)(x.x).withConfig({displayName:"Gen2Prompt__DoublePromptText",componentId:"sc-41j43x-4"})(["gap:6px;border-radius:0 0 8px 8px;background-color:",";color:",";padding:12px;font-size:14px;line-height:20px;",""],(e=>{let{theme:t}=e;return t.colors.uiLevel1}),(e=>{let{theme:t}=e;return t.colors.textSecondary}),(e=>{let{$expanded:t}=e;return!t&&(0,c.iv)(["background-color:transparent;padding:0;max-height:40px;overflow:hidden;text-overflow:ellipsis;"])})),R=(0,c.ZP)(h.kq).withConfig({displayName:"Gen2Prompt__CopyButton",componentId:"sc-41j43x-5"})(["background:transparent;padding:0;min-height:0;"]),Z=(0,c.ZP)(x.x).withConfig({displayName:"Gen2Prompt__ToggleButton",componentId:"sc-41j43x-6"})(["cursor:pointer;transform:",";"],(e=>{let{$expanded:t}=e;return t?"rotate(0deg)":"rotate(-90deg)"}));var U=(0,c.ZP)(x.x).withConfig({displayName:"Gen2Prompt___StyledBox",componentId:"sc-41j43x-7"})(["gap:4px;"]),z=(0,c.ZP)(a.VAA).withConfig({displayName:"Gen2Prompt___StyledCaretDownIcon",componentId:"sc-41j43x-8"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.textSecondary})),V=s("./app/components/Views/AssetsV2/shared/PrimaryPillButton.tsx"),B=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/constants.ts"),G=s("./app/components/Views/AssetsV2/shared/task-details.css");const F=e=>{let{cameraOptions:t}=e;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:G.Z.subheader,children:"Camera Control"}),B.Qs.map((e=>{const s=t[e];return s?(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:B.OI[e]}),(0,E.jsx)("div",{className:G.Z.settingValue,children:s})]},e):null}))]})};var $=s("./app/components/Views/AssetsV2/shared/motion-brush-options.tsx");const W=e=>{let{task:t,assetId:s}=e;const c=(0,p.Z)(),h=(0,d.Z)(t),[x,v]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),_=(0,u.yF)({toolId:"gen-2",taskId:t.id}),{textPrompt:I,imagePrompt:T,initVideo:j,interpolate:k,motionScore:C,seed:S,upscale:P,style:N,motionBrushOptions:D,cameraOptions:O,extendedFromTaskId:L,initImageTextPrompt:R}=h,Z=N&&(0,g.Gv)(N),U=(0,l.debounce)((e=>{w(e)}),50),z=(0,f.P2)(t);return(0,E.jsxs)("div",{className:G.Z.container,children:[(0,E.jsxs)("div",{className:G.Z.scrollContainer,children:[(0,E.jsx)(M,{imagePrompt:T,textPrompt:I,initVideo:j,motionBrushOptions:D,showMotionBrushMasks:x,hoveredMotionBrushIndex:b,initImageTextPrompt:R,taskCreatedAt:t.createdAt}),(0,E.jsx)("div",{className:G.Z.divider}),(O||D)&&(0,E.jsx)("div",{className:G.Z.header,children:"Director Mode"}),O&&(0,E.jsx)(F,{cameraOptions:O}),D&&(0,E.jsx)($.f,{motionBrushOptions:D,showMotionBrushMasks:x,canShowMotionBrushMasks:t.createdAt>A,setShowMotionBrushMasks:v,hoveredIndex:b,setHoveredIndex:e=>U(e),originTaskId:L}),(0,E.jsx)("div",{className:G.Z.header,children:"General Settings"}),(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:"Generated with"}),(0,E.jsx)("div",{className:G.Z.settingValue,children:"Gen-2"})]}),N&&(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:"Style"}),(0,E.jsx)("div",{className:G.Z.settingValue,children:Z})]}),!O&&!D&&C&&(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:"Motion"}),(0,E.jsx)("div",{className:G.Z.settingValue,children:C})]}),(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:"Seed"}),(0,E.jsxs)("div",{className:G.Z.settingValue,children:[(0,E.jsx)(H,{onClick:()=>c(`${S}`),children:(0,E.jsx)(i.Z,{size:14})}),(0,E.jsx)("span",{children:S})]})]}),(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:"Upscale"}),(0,E.jsx)("div",{className:G.Z.settingValue,children:P?"Yes":"No"})]}),(0,E.jsxs)("div",{className:G.Z.settingContainer,children:[(0,E.jsx)("div",{className:G.Z.settingName,children:"Interpolate"}),(0,E.jsx)("div",{className:G.Z.settingValue,children:k?"Yes":"No"})]})]}),(0,E.jsxs)("div",{className:G.Z.reuseThisContainer,children:[z&&(0,E.jsx)(y.G,{task:t,style:j?"primary":"secondary"}),!j&&(0,E.jsxs)(V.P,{target:"_blank",to:_,onClick:()=>{(0,o.p6)({eventName:m.s.OpenTool,properties:{...(0,n.l)(),assetId:s,toolId:"gen-2"}})},children:[(0,E.jsx)(a.$2U,{height:14,width:14}),(0,E.jsx)("span",{children:"Reuse in Gen-2"})]})]})]})},H=(0,c.ZP)(h.kq).withConfig({displayName:"gen-2-task-details__CopyButton",componentId:"sc-rcwod8-0"})(["background:transparent;padding:0;min-height:0;"])},"./app/components/Views/AssetsV2/shared/generate-audio-task-details.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>I,$G:()=>_,Kk:()=>w});var o=s("./app/actions/flash.ts"),n=s("./app/api/hooks/useTeams.ts"),a=s("./app/api/text-to-speech.ts"),i=s("./app/components/Prefabs/Loader/Loader.tsx"),r=s("./app/utils/copyToClipboard.ts"),l=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),c=s("./node_modules/lodash/lodash.js"),d=s("./node_modules/react/index.js"),p=s("./node_modules/react-aria-components/dist/import.mjs"),u=s("./node_modules/react-redux/es/index.js"),m=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=s("./node_modules/swr/dist/index.mjs"),g=s("./app/components/Views/Asset/Content/TaskInfo/shared/LinkToMagicToolCard/useLinkToMagicToolCardUrl.ts"),f=s("./app/components/Views/MagicTools/MagicTool/TextToSpeech/utils.ts"),y=s("./app/components/Views/AssetsV2/shared/PrimaryPillButton.tsx");const x={script:"generate-audio-task-details__script__Z90Ve"};var v=s("./app/components/Views/AssetsV2/shared/task-details.css"),b=s("./node_modules/react/jsx-runtime.js");const w=e=>{const t=(0,n.Qt)(),s=e.options.voice_id;return(0,h.ZP)(["voices",s,t.id],(()=>(0,a.Su)({voiceId:s,asTeamId:t.id})))},_=e=>"text"in e.options&&"voice_id"in e.options,I=e=>{const{data:t,error:s}=w(e.task),o=(0,g.yF)({toolId:"text-to-speech",taskId:e.task.id});return(0,b.jsxs)("div",{className:v.Z.container,children:[(0,b.jsxs)("div",{className:v.Z.scrollContainer,children:[(0,b.jsx)(T,{script:e.task.options.text}),(0,b.jsx)("div",{className:v.Z.divider}),(0,b.jsx)("div",{className:v.Z.header,children:"Settings"}),(0,b.jsxs)("div",{className:v.Z.settingContainer,children:[(0,b.jsx)("div",{className:v.Z.settingName,children:"Generated with"}),(0,b.jsx)("div",{className:v.Z.settingValue,children:"Text to Speech"})]}),(0,b.jsxs)("div",{className:v.Z.settingContainer,children:[(0,b.jsx)("div",{className:v.Z.settingName,children:"Voice used"}),(0,b.jsx)("div",{className:v.Z.settingValue,children:s?"Voice unavailable":t?t.name:(0,b.jsx)(i.Z,{width:16,height:16})})]}),t&&(0,f.CJ)(t)&&(0,b.jsxs)("div",{className:v.Z.settingContainer,children:[(0,b.jsx)("div",{className:v.Z.settingName,children:"Voice qualities"}),(0,b.jsx)("div",{className:v.Z.settingValue,children:Object.values(t.labels).map((e=>(0,c.capitalize)(e))).join(", ")})]})]}),(0,b.jsx)("div",{className:v.Z.reuseThisContainer,children:(0,b.jsxs)(y.P,{to:o,children:[(0,b.jsx)(l.$2U,{height:14,width:14}),(0,b.jsx)("span",{children:"Reuse in Text to Speech"})]})})]})},T=e=>{const t=(0,u.I0)(),[s,n]=(0,d.useState)(!1);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:v.Z.header,children:["Script",(0,b.jsxs)("div",{className:v.Z.header,children:[(0,b.jsx)(j,{onPress:()=>{(0,r.v)(e.script),t((0,o.showFlash)({message:"Script copied to clipboard",type:"SUCCESS"}))},children:(0,b.jsx)(l.TIy,{color:"white"})}),(0,b.jsx)(j,{onPress:()=>n((e=>!e)),children:(0,b.jsx)(l.VAA,{height:20,width:20,"data-expanded":s,className:v.Z.collapsibleTrigger})})]})]}),(0,b.jsx)("div",{"data-expanded":s,className:[v.Z.settingValue,x.script].join(" "),children:e.script})]})},j=(0,m.ZP)(p.zx).withConfig({displayName:"generate-audio-task-details__Button",componentId:"sc-1lunr2t-0"})(["background:transparent;border:0;cursor:pointer;"])},"./app/components/Views/AssetsV2/shared/motion-brush-options.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>T});var o=s("./app/components/Prefabs/ImageMasker/Mask/constants.ts"),n=s("./app/components/UI/Base.tsx"),a=s("./node_modules/lodash/lodash.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/CollapsedMotionBrushButton/CollapsedMotionBrushButton.tsx"),c=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/MotionBrushDialog/MovementControls/Inputs/DistanceInput/icons.tsx"),d=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/getMotionBrushToggleValueFromDistance.ts"),p=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushLayerIsDirectionless.ts"),u=s("./app/api/hooks/useTask.ts"),m=s("./app/api/hooks/useTeams.ts"),h=s("./app/components/ErrorBoundary.tsx"),g=s("./app/components/Prefabs/Text.tsx"),f=s("./app/components/Views/AssetsV2/shared/MotionBrushCanvas.tsx"),y=s("./node_modules/react/jsx-runtime.js");function x(e){return(0,y.jsx)(h.S,{fallback:(0,y.jsx)(w,{children:(0,y.jsx)(g.Z,{children:"Motion brush preview not available"})}),children:(0,y.jsxs)(_,{children:[(0,y.jsx)(v,{taskId:e.originTaskId}),e.showMotionBrushMasks&&(0,y.jsx)(f.T,{maskUrls:e.maskUrls,hoveredMotionBrushIndex:e.hoveredMotionBrushIndex})]})})}function v(e){const t=(0,m.Qt)(),{data:s}=(0,u.Z)({taskId:e.taskId,asTeamId:t.id},{suspense:!0});if(!s)throw new Error("No task data available for preview frame");const o=s?.artifacts[0].previewUrls.slice(-1)[0];return(0,y.jsx)(b,{src:o,alt:"Last frame of input video"})}const b=r.ZP.img.withConfig({displayName:"VideoMotionBrushPreview__ImagePrompt",componentId:"sc-kd83o6-0"})(["width:100%;border-radius:8px;"]),w=r.ZP.div.withConfig({displayName:"VideoMotionBrushPreview__FallBack",componentId:"sc-kd83o6-1"})(["background-color:",";border-radius:8px;display:flex;justify-content:center;align-items:center;width:100%;height:100%;padding-block:8px;"],(e=>{let{theme:t}=e;return t.colors.secondary}));var _=(0,r.ZP)(n.x).withConfig({displayName:"VideoMotionBrushPreview___StyledBox",componentId:"sc-kd83o6-2"})({position:"relative"}),I=s("./app/components/Views/AssetsV2/shared/task-details.css");const T=e=>{let{motionBrushOptions:t,showMotionBrushMasks:s,canShowMotionBrushMasks:a,hoveredIndex:r,setShowMotionBrushMasks:l,setHoveredIndex:c,originTaskId:d}=e;const u=(0,i.useMemo)((()=>t?.layers.map((e=>e.mask)).filter((e=>e.length))||[]),[t?.layers]);return t.layers?.some((e=>e.mask.length))?(0,y.jsxs)(n.x,{flexDirection:"column",gap:"4px",children:[a&&(0,y.jsxs)("div",{className:I.Z.subheader,children:["Motion Brush",(0,y.jsx)("span",{role:"button",className:I.Z.textToggle,onClick:()=>l(!s),children:s?"Hide masks":"Show masks"})]}),d&&(0,y.jsx)(x,{originTaskId:d,maskUrls:u,hoveredMotionBrushIndex:r,showMotionBrushMasks:s}),(0,y.jsx)("div",{children:t.layers?.map(((e,t)=>{const n=o.Iu[t];return(0,p.Z)(e)?null:(0,y.jsx)("div",{style:{borderWidth:"1px",borderStyle:"solid",borderColor:r===t&&s&&a?n:"transparent"},className:I.Z.motionBrushContainer,onMouseEnter:()=>c(t),onMouseLeave:()=>c(null),children:(0,y.jsx)(j,{hasMotionPath:e.path?e.path.length>0:null,layerValues:e.values,index:t})},t)}))})]}):null},j=e=>{let{hasMotionPath:t,layerValues:s,index:n}=e;const r=o.Iu[n],p=(0,i.useMemo)((()=>{if(t){return[{icon:k,value:"Custom"}]}if(!s)return[];const e=l.Q.map((e=>{const t=s[e],o=(0,d.Z)(t);return o?{icon:c.Z[e]?.[o]?.icon,value:t}:null}));return(0,a.compact)(e)}),[t,s]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:I.Z.motionBrushName,children:[(0,y.jsx)("div",{style:{backgroundColor:r,opacity:.8,width:"12px",height:"12px",borderRadius:"50%",border:"1px solid #fff"}}),(0,y.jsxs)("span",{children:["Brush ",n+1]})]}),(0,y.jsx)("div",{className:I.Z.directionIcons,children:p.map(((e,t)=>e?(0,y.jsxs)("div",{className:I.Z.valueContainer,children:[(0,y.jsx)("div",{className:I.Z.directionIcon,children:(0,y.jsx)(e.icon,{})}),(0,y.jsx)("div",{className:I.Z.directionValue,children:e.value})]},t):null))})]})},k=(0,r.ZP)(c.c).withConfig({displayName:"motion-brush-options__CustomPathIcon",componentId:"sc-1h3bfzz-0"})(["width:16px;height:16px;"])},"./app/components/Views/AssetsV2/table/AssetGroupRow.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>_});var o=s("./app/utils/downloadZipWithToast.ts"),n=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),a=s("./node_modules/lucide-react/dist/esm/icons/folder.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/react-router/esm/react-router.js"),l=s("./app/components/Views/Assets/shared.tsx"),c=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),d=s("./app/components/Views/Storyboard/hooks/useMergeRefs.ts"),p=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),u=s("./app/components/Views/AssetsV2/hooks/useAssetGroupContextMenu.tsx"),m=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),h=s("./app/components/Views/AssetsV2/lib/tracking.ts"),g=s("./app/components/Views/AssetsV2/table/AssetGroupRow.css"),f=s("./app/components/Views/AssetsV2/table/cells/CreatedAtCell.tsx"),y=s("./app/components/Views/AssetsV2/table/cells/FavoriteCell.tsx"),x=s("./app/components/Views/AssetsV2/table/cells/NameCell.tsx"),v=s("./app/components/Views/AssetsV2/table/cells/OptionsCell.tsx"),b=s("./app/components/Views/AssetsV2/table/shared/SelectionCheckbox.tsx"),w=s("./node_modules/react/jsx-runtime.js");function _(e){let{asTeamId:t,privateInTeam:s,selected:o,assetGroup:i,entriesByParentId:c,teamspaceId:p,hasTeamspaces:v,hasFavoriteAccess:_,canEdit:T,selectionDispatch:j}=e;const k=(0,r.k6)(),C=(0,m.y)(),{onContextMenu:E,contextMenu:S}=(0,u.Z)(i,t,s,p,v,T),A=(0,n.O1)({id:i.id}),M=(0,n.Zj)({id:i.id}),P=(0,d.q)([A.setNodeRef,M.setNodeRef]);return(0,w.jsxs)("tr",{id:"asset-group-row","data-testid":"asset-group-row",ref:P,...A.attributes,...(0,l.YV)(A.listeners),"data-over":M.isOver,"data-selected":o,onClick:function(e){j({type:"click",id:i.id,selected:o,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey})},onDoubleClick:function(){(0,h._o)(p?"teamspace":"private"),k.push({search:C({parentId:i.id})})},className:g.Z.container,onContextMenu:E,children:[(0,w.jsx)(x.Q,{checkbox:(0,w.jsx)(b.G,{selected:o,onChange:function(e){j({type:"toggle",id:i.id,selected:o,shiftKey:e.shiftKey})}}),thumbnail:(0,w.jsx)(a.Z,{size:32,color:"#A5B4C7",fill:"#A5B4C7",className:g.Z.thumbnail}),title:i.name,subtext:`Folder - ${c[i.id]?.length||0} items`}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)(f.S,{createdAt:i.createdAt}),_&&T?(0,w.jsx)(y.k,{asTeamId:t,canEdit:T,assetOrAssetGroup:{type:"AssetGroup",value:i},privateInTeam:s}):null,(0,w.jsx)(I,{assetGroup:i,asTeamId:t,privateInTeam:s,teamspaceId:p,hasTeamspaces:v,canEdit:T}),S]})}function I(e){let{assetGroup:t,asTeamId:s,privateInTeam:n,teamspaceId:a,hasTeamspaces:r,canEdit:l}=e;const d=(0,i.useContext)(p.M),[u,m]=(0,c.JW)();let g=null,f=null;return l&&(a?f=(0,w.jsx)(v.rK,{id:"remove-from-teamspace",children:"Unshare from teamspace"}):r&&(f=(0,w.jsx)(v.rK,{id:"share-with-teamspace",children:"Share with teamspace"})),a||(g=n?(0,w.jsx)(v.rK,{id:"share-with-workspace",children:"Share with workspace"}):(0,w.jsx)(v.rK,{id:"remove-from-workspace",children:"Unshare from workspace"}))),(0,w.jsxs)(v.f_,{onAction:function(e){switch(e){case"download":(0,h.RP)("private"),async function(){(0,o.B)({dispatchToast:m,selectedItems:[t],asTeamId:s,privateInTeam:n,name:t.name,fileCount:t.children?.length||1})}();break;case"rename":d.showRenameAssetGroup(t);break;case"share-with-workspace":(0,h.So)(),d.showMoveWithinWorkspace([{type:"AssetGroup",value:t}]);break;case"remove-from-workspace":(0,h.Er)(),d.showMoveWithinWorkspace([{type:"AssetGroup",value:t}]);break;case"share-with-teamspace":(0,h.el)(),d.showMoveToTeamspace([{type:"AssetGroup",value:t}]);break;case"remove-from-teamspace":if(null===a)return;(0,h.kM)(),d.showRemoveFromTeamspace(a,[{type:"AssetGroup",value:t}]);break;case"delete":d.showDeleteAssetGroup(t)}},children:[f,g,(0,w.jsx)(v.rK,{id:"download",children:"Download"}),l?(0,w.jsx)(v.rK,{id:"rename",children:"Rename"}):null,l?(0,w.jsx)(v.rK,{id:"delete",children:"Delete"}):null]})}},"./app/components/Views/AssetsV2/table/AssetRow.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>C});var o=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/lucide-react/dist/esm/icons/globe.js"),i=s("./node_modules/react/index.js"),r=s("./app/components/Views/Assets/shared.tsx"),l=s("./app/components/Views/AssetsV2/hooks/useAssetContextMenu.tsx");function c(e){return e.metadata?.size?`${e.metadata.size.width} x ${e.metadata.size.height}`:e.metadata?.dimensions&&2===e.metadata?.dimensions.length?`${e.metadata.dimensions[0]} x ${e.metadata.dimensions[1]}`:""}var d=s("./app/components/Views/AssetsV2/lib/tracking.ts"),p=s("./app/components/Views/AssetsV2/lightbox/index.tsx"),u=s("./app/components/Views/AssetsV2/shared/InlineAssetOptions.tsx");const m={container:"AssetRow__container__FsIb_",thumbnail:"AssetRow__thumbnail__N4WSQ",title:"AssetRow__title__up3rH"},h={cell:"AvatarCell__cell__FGqNM",avatar:"AvatarCell__avatar__FZx3B",initialsContainer:"AvatarCell__initialsContainer__SX7Fk",initials:"AvatarCell__initials__Uzqi7"};var g=s("./node_modules/react/jsx-runtime.js");function f(e){let{url:t,initials:s}=e,o=null;return t?o=(0,g.jsx)("img",{src:t,className:h.avatar}):s&&(o=(0,g.jsx)("div",{className:h.initialsContainer,children:(0,g.jsx)("span",{className:h.initials,children:s})})),(0,g.jsx)("td",{className:h.cell,children:o})}var y=s("./app/components/Views/AssetsV2/table/cells/CreatedAtCell.tsx");const x={cell:"DurationCell__cell___4O8x",duration:"DurationCell__duration__p9L7P"};function v(e){let{duration:t}=e;return(0,g.jsx)("td",{className:x.cell,children:(0,g.jsx)("span",{className:x.duration,children:b(t)})})}function b(e){if("number"!=typeof e)return null;const t=Math.round(e),s=Math.floor(t/60),o=t-60*s;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}var w=s("./app/components/Views/AssetsV2/table/cells/FavoriteCell.tsx");const _={cell:"MediaTypeCell__cell__TmLPE",mediaType:"MediaTypeCell__mediaType__4jHyD"};function I(e){let{mediaType:t}=e;return(0,g.jsx)("td",{className:_.cell,children:(0,g.jsx)("span",{className:_.mediaType,children:(0,n.capitalize)(t)})})}var T=s("./app/components/Views/AssetsV2/table/cells/NameCell.tsx"),j=s("./app/components/Views/AssetsV2/table/cells/TypeCell.tsx"),k=s("./app/components/Views/AssetsV2/table/shared/SelectionCheckbox.tsx");function C(e){let{asTeamId:t,selected:s,asset:o,teamspaceId:i,hasTeamspaces:l,hasFavoriteAccess:d,privateInTeam:p,canEdit:h,selectionDispatch:x}=e;return(0,g.jsxs)(E,{asTeamId:t,asset:o,privateInTeam:p,teamspaceId:i,hasTeamspaces:l,canEdit:h,selected:s,onSelect:function(e){x({type:"click",id:o.id,selected:s,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey})},children:[(0,g.jsx)(T.Q,{checkbox:(0,g.jsx)(k.G,{selected:s,onChange:function(e){x({type:"toggle",id:o.id,selected:s,shiftKey:e.shiftKey})}}),thumbnail:(0,g.jsx)("img",{src:(0,r.lR)(o),className:m.thumbnail}),title:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{children:o.name}),o.private?null:(0,g.jsx)(a.Z,{size:14})]}),titleClassName:m.title,subtext:c(o)||""}),(0,g.jsx)(j.D,{isUserUploaded:o.isUserUpload}),(0,g.jsx)(I,{mediaType:o.mediaType}),(0,g.jsx)(v,{duration:o.metadata?.duration}),(0,g.jsx)(f,{url:o.userPicture,initials:(0,n.capitalize)(o.username.slice(0,2))}),(0,g.jsx)(y.S,{createdAt:o.createdAt}),d&&h?(0,g.jsx)(w.k,{asTeamId:t,canEdit:h,assetOrAssetGroup:{type:"Asset",value:o},privateInTeam:p}):null,(0,g.jsx)(u.W,{asTeamId:t,asset:o,teamspaceId:i,hasTeamspaces:l,canEdit:h,privateInTeam:p})]})}function E(e){let{asTeamId:t,selected:s,privateInTeam:n,teamspaceId:a,hasTeamspaces:c,canEdit:u,asset:h,onSelect:f,children:y}=e;const x=(0,i.useContext)(p.p),v=(0,o.O1)({id:h.id}),{contextMenu:b,onContextMenu:w}=(0,l.x)(h,t,n,a,c,u);return(0,g.jsxs)("tr",{id:"asset-row","data-testid":"asset-row",ref:v.setNodeRef,...v.attributes,...(0,r.YV)(v.listeners),"data-selected":s,onContextMenu:w,onClick:f,onDoubleClick:function(){(0,d.se)(h),x.present(h.id)},className:m.container,children:[y,b]})}},"./app/components/Views/AssetsV2/table/TeamspaceRow.tsx":(e,t,s)=>{"use strict";s.d(t,{A:()=>y});var o=s("./app/utils/downloadZipWithToast.ts"),n=s("./node_modules/lucide-react/dist/esm/icons/folder.js"),a=s("./node_modules/lucide-react/dist/esm/icons/users-round.js"),i=s("./node_modules/react-router/esm/react-router.js"),r=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),l=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),c=s("./app/components/Views/AssetsV2/hooks/useTeamspaceContextMenu.tsx"),d=s("./app/components/Views/AssetsV2/lib/tracking.ts"),p=s("./app/components/Views/AssetsV2/table/AssetGroupRow.css");const u={thumbnailContainer:"TeamspaceRow__thumbnailContainer__LfAw4",teamspaceIndicator:"TeamspaceRow__teamspaceIndicator__EKYe9"};var m=s("./app/components/Views/AssetsV2/table/cells/CreatedAtCell.tsx"),h=s("./app/components/Views/AssetsV2/table/cells/NameCell.tsx"),g=s("./app/components/Views/AssetsV2/table/cells/OptionsCell.tsx"),f=s("./node_modules/react/jsx-runtime.js");function y(e){let{asTeamId:t,assetGroup:s,hasFavoriteAccess:o,canEdit:r}=e;const g=(0,i.k6)(),y=(0,l.y)(),{onContextMenu:v,contextMenu:b}=(0,c.L)(s,t,!1);return(0,f.jsxs)("tr",{onDoubleClick:function(){(0,d._o)("teamspace"),g.push({search:y({parentId:s.id})})},className:p.Z.container,onContextMenu:v,children:[(0,f.jsx)(h.Q,{thumbnail:(0,f.jsxs)("div",{className:u.thumbnailContainer,children:[(0,f.jsx)(n.Z,{size:32,color:"#A5B4C7",fill:"#A5B4C7",className:p.Z.thumbnail}),(0,f.jsx)(a.Z,{className:u.teamspaceIndicator,size:18,strokeWidth:1.5})]}),title:s.name,subtext:"Teamspace"}),(0,f.jsx)("td",{}),(0,f.jsx)("td",{}),(0,f.jsx)("td",{}),(0,f.jsx)("td",{}),(0,f.jsx)(m.S,{createdAt:s.createdAt}),o&&r?(0,f.jsx)("td",{}):null,(0,f.jsx)(x,{assetGroup:s,asTeamId:t,privateInTeam:!1}),b]})}function x(e){let{assetGroup:t,asTeamId:s,privateInTeam:n}=e;const[a,i]=(0,r.JW)();return(0,f.jsx)(g.f_,{onAction:function(e){if("download"===e)(0,d.RP)("teamspace"),async function(){(0,o.B)({dispatchToast:i,selectedItems:[t],asTeamId:s,privateInTeam:n,name:t.name,fileCount:t.children?.length||1})}()},children:(0,f.jsx)(g.rK,{id:"download",children:"Download"})})}},"./app/components/Views/AssetsV2/table/UploadRow.tsx":(e,t,s)=>{"use strict";s.d(t,{e:()=>p});var o=s("./app/utils/uploads.ts"),n=s("./node_modules/react/index.js");const a={container:"UploadRow__container__eo1_A",thumbnail:"UploadRow__thumbnail___cMk7",subtext:"UploadRow__subtext__H0pEO"};var i=s("./app/components/Views/AssetsV2/table/cells/NameCell.tsx"),r=s("./app/components/Views/AssetsV2/table/cells/OptionsCell.tsx"),l=s("./app/components/Views/AssetsV2/table/cells/TypeCell.tsx"),c=s("./node_modules/react/jsx-runtime.js");function d(e){let{upload:t,hasFavoriteAccess:s,canEdit:o}=e;return(0,c.jsxs)("tr",{className:a.container,children:[(0,c.jsx)(i.Q,{thumbnail:(0,c.jsx)(m,{upload:t}),title:t.name,subtext:`${Math.floor(100*t.uploadProgress)}% uploaded`,subtextClassName:a.subtext}),(0,c.jsx)(l.D,{isUserUploaded:!0}),(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),(0,c.jsx)("td",{}),s&&o?(0,c.jsx)("td",{}):null,(0,c.jsx)(u,{upload:t})]})}const p=n.memo(d);function u(e){let{upload:t}=e;return(0,c.jsx)(r.f_,{onAction:function(e){if("cancel"===e)(0,o.m1)(t.id)},children:(0,c.jsx)(r.rK,{id:"cancel",children:"Cancel"})})}function m(e){let{upload:t}=e;return"image"===t.mediaType&&t.fileObjectURL?(0,c.jsx)("img",{src:t.fileObjectURL,className:a.thumbnail}):"video"===t.mediaType&&t.fileObjectURL?(0,c.jsx)("video",{src:t.fileObjectURL,controls:!1,className:a.thumbnail}):null}},"./app/components/Views/AssetsV2/table/cells/CreatedAtCell.tsx":(e,t,s)=>{"use strict";s.d(t,{S:()=>r});var o=s("./node_modules/moment/moment.js"),n=s.n(o);s("./node_modules/react/index.js");const a={cell:"CreatedAtCell__cell__uvUJx",createdAt:"CreatedAtCell__createdAt__f8K0k"};var i=s("./node_modules/react/jsx-runtime.js");function r(e){let{createdAt:t}=e;return(0,i.jsx)("td",{className:a.cell,children:(0,i.jsx)("span",{className:a.createdAt,children:n()(t).fromNow()})})}},"./app/components/Views/AssetsV2/table/cells/FavoriteCell.tsx":(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var o=s("./app/components/Views/AssetsV2/shared/FavoriteAssetButton.tsx");const n={cell:"FavoriteCell__cell__wmxD3",favoriteButton:"FavoriteCell__favoriteButton__vPYr6"};var a=s("./node_modules/react/jsx-runtime.js");function i(e){let{asTeamId:t,assetOrAssetGroup:s,canEdit:i,privateInTeam:r}=e;return(0,a.jsx)("td",{className:n.cell,children:(0,a.jsx)(o.X,{className:n.favoriteButton,assetOrAssetGroup:s,canEdit:i,asTeamId:t,privateInTeam:r,origin:"assets row"})})}},"./app/components/Views/AssetsV2/table/cells/NameCell.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var o=s("./node_modules/clsx/dist/clsx.mjs");const n={cell:"NameCell__cell__g_QXV",container:"NameCell__container__hFeN0",details:"NameCell__details__P4t7w",titleContainer:"NameCell__titleContainer__XnJG2",title:"NameCell__title__cgdpW",subtext:"NameCell__subtext__TslwS"};var a=s("./node_modules/react/jsx-runtime.js");function i(e){let{thumbnail:t,title:s,subtext:i,titleClassName:r,subtextClassName:l,checkbox:c}=e;return(0,a.jsxs)("td",{className:n.cell,children:[c,(0,a.jsxs)("div",{className:n.container,children:[t,(0,a.jsxs)("div",{className:n.details,children:[(0,a.jsx)("div",{className:n.titleContainer,children:(0,a.jsx)("div",{className:(0,o.Z)(n.title,r),children:s})}),(0,a.jsx)("div",{className:(0,o.Z)(n.subtext,l),children:i})]})]})]})}},"./app/components/Views/AssetsV2/table/cells/OptionsCell.tsx":(e,t,s)=>{"use strict";s.d(t,{f_:()=>l,rK:()=>c,Rz:()=>d});var o=s("./node_modules/clsx/dist/clsx.mjs"),n=s("./node_modules/lucide-react/dist/esm/icons/more-horizontal.js"),a=s("./node_modules/react-aria-components/dist/import.mjs");const i={cell:"OptionsCell__cell__PbIX7",inner:"OptionsCell__inner__kEW5D",quickActions:"OptionsCell__quickActions__djY5_",trigger:"OptionsCell__trigger__mBei3",popover:"OptionsCell__popover__ejawb",enter:"OptionsCell__enter__nFW30",exit:"OptionsCell__exit__EZALL",item:"OptionsCell__item__GZb8k",separator:"OptionsCell__separator__b8f0i"};var r=s("./node_modules/react/jsx-runtime.js");function l(e){let{children:t,quickActions:s,...o}=e;return(0,r.jsx)("td",{className:i.cell,onClick:function(e){e.stopPropagation()},children:(0,r.jsxs)("div",{className:i.inner,children:[(0,r.jsx)("div",{className:i.quickActions,children:s}),(0,r.jsxs)(a.bF,{children:[(0,r.jsx)(a.zx,{className:i.trigger,"aria-label":"Options",children:(0,r.jsx)(n.Z,{size:20})}),(0,r.jsx)(a.J2,{className:i.popover,children:(0,r.jsx)(a.v2,{...o,children:t})})]})]})})}function c(e){let{children:t,className:s,...n}=e;return(0,r.jsx)(a.sN,{className:(0,o.Z)(i.item,s),...n,children:t})}function d(){return(0,r.jsx)(a.Z0,{orientation:"horizontal",className:i.separator})}},"./app/components/Views/AssetsV2/table/cells/TypeCell.tsx":(e,t,s)=>{"use strict";s.d(t,{D:()=>a});s("./node_modules/react/index.js");const o={cell:"TypeCell__cell__koyUh",type:"TypeCell__type__DmIm2"};var n=s("./node_modules/react/jsx-runtime.js");function a(e){let{isUserUploaded:t}=e;return(0,n.jsx)("td",{className:o.cell,children:(0,n.jsx)("span",{className:o.type,children:t?"Upload":"Export"})})}},"./app/components/Views/AssetsV2/table/index.tsx":(e,t,s)=>{"use strict";s.d(t,{X:()=>f});var o=s("./node_modules/react/index.js"),n=s("./node_modules/clsx/dist/clsx.mjs"),a=s("./node_modules/lucide-react/dist/esm/icons/chevron-up.js"),i=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),r=s("./node_modules/react-router/esm/react-router.js"),l=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),c=s("./app/components/Views/AssetsV2/lib/tracking.ts");const d={row:"TableHead__row__KpE3N",col:"TableHead__col__FBbXP",nameCol:"TableHead__nameCol__fHIZ_",sortable:"TableHead__sortable__KQLCw"};var p=s("./node_modules/react/jsx-runtime.js");function u(e){let{hasFavoriteAccess:t,canEdit:s}=e;return(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:d.row,children:[(0,p.jsx)("th",{className:(0,n.Z)(d.col,d.nameCol),children:(0,p.jsx)(m,{sortBy:"name",style:{justifyContent:"flex-start"},children:(0,p.jsx)("span",{children:"NAME"})})}),(0,p.jsx)("th",{className:d.col,children:"TYPE"}),(0,p.jsx)("th",{className:d.col,children:(0,p.jsx)(m,{sortBy:"mediaType",children:(0,p.jsx)("span",{children:"MEDIA"})})}),(0,p.jsx)("th",{className:d.col,children:"DURATION"}),(0,p.jsx)("th",{className:d.col,children:"CREATOR"}),(0,p.jsx)("th",{className:d.col,children:(0,p.jsx)(m,{sortBy:"createdAt",children:(0,p.jsx)("span",{children:"CREATED"})})}),t&&s?(0,p.jsx)("th",{className:d.col,children:(0,p.jsx)(m,{sortBy:"favorite",children:(0,p.jsx)("span",{children:"FAVORITE"})})}):null,(0,p.jsx)("th",{})]})})}function m(e){let{sortBy:t,children:s,style:o}=e;const n=(0,r.k6)(),a=(0,l.b)(),i=(0,l.y)();return(0,p.jsxs)("button",{className:d.sortable,onClick:function(){if(a.sortBy!==t){const e="favorite"===t?"desc":"asc";(0,c.F7)({trigger:"column",sortBy:t,sortOrder:a.order}),n.push({search:i({sortBy:t,order:e})})}else"asc"===a.order?n.push({search:i({sortBy:t,order:"desc"})}):n.push({search:i({sortBy:t,order:"asc"})})},style:o,children:[s,a.sortBy===t&&(0,p.jsx)(h,{order:a.order})]})}function h(e){let{order:t}=e;return"asc"===t?(0,p.jsx)(a.Z,{size:16}):(0,p.jsx)(i.Z,{size:16})}const g={container:"index__container__6EYHi",table:"index__table__Vm8jv",tableRow:"index__tableRow__lrboI"};function f(e){let{scrollRef:t,page:s,hasFavoriteAccess:n,canEdit:a,renderItem:i}=e;const r=(0,o.useRef)(null),[l,c]=(0,o.useState)(0),[d,m]=(0,o.useState)(0),[h,f]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e=t.current,s=r.current;if(!e||!s)return;const o=()=>{f(s.offsetTop)},n=()=>{m(e.scrollTop)},a=new ResizeObserver((e=>{c(e[0].contentRect.height)}));return a.observe(e),e.addEventListener("scroll",n),window.addEventListener("resize",o),o(),()=>{a.disconnect(),e.removeEventListener("scroll",n),window.removeEventListener("resize",o)}}),[t]);const y=Math.max(d-h,0),x=function(e,t,s){const o=e-s,n=Math.floor(o/t);return Math.max(n,0)}(y,54,l),v=function(e,t,s,o){const n=e+s,a=Math.floor((n+s)/t);return Math.min(a,o-1)}(y,54,l,s.length),b=[];for(let e=x;e<=v;e++)b.push(i(s[e]));return(0,p.jsx)("div",{className:g.container,children:(0,p.jsxs)("table",{ref:r,className:g.table,children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"35%"}),(0,p.jsx)("col",{width:"10%"}),(0,p.jsx)("col",{width:"10%"}),(0,p.jsx)("col",{width:"10%"}),(0,p.jsx)("col",{width:"10%"}),(0,p.jsx)("col",{width:"10%"}),n&&a?(0,p.jsx)("col",{width:"10%"}):null,(0,p.jsx)("col",{width:"5%"})]}),(0,p.jsx)(u,{hasFavoriteAccess:n,canEdit:a}),(0,p.jsxs)("tbody",{children:[(0,p.jsx)("tr",{children:(0,p.jsx)("td",{style:{height:54*x}})}),b,(0,p.jsx)("tr",{children:(0,p.jsx)("td",{style:{height:54*(s.length-v-1)}})})]})]})})}},"./app/components/Views/AssetsV2/table/shared/SelectionCheckbox.tsx":(e,t,s)=>{"use strict";s.d(t,{G:()=>i});var o=s("./node_modules/lucide-react/dist/esm/icons/check.js");const n={checkbox:"SelectionCheckbox__checkbox__Y7Wy4"};var a=s("./node_modules/react/jsx-runtime.js");function i(e){let{selected:t,onChange:s}=e;return(0,a.jsx)("button",{className:n.checkbox,"data-selected":t,onClick:function(e){e.stopPropagation(),s(e)},onDoubleClick:function(e){e.stopPropagation()},children:t?(0,a.jsx)(o.Z,{color:"#fff",size:12}):null})}},"./app/components/Views/Dashboard/Components/Cards/hooks.ts":(e,t,s)=>{"use strict";s.d(t,{a:()=>c,n:()=>l});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/api/hooks/useTeams.ts"),a=s("./app/utils/openInCurrentOrNewWindow.ts"),i=s("./app/components/Views/Dashboard/hooks/useSubPageQuery.ts"),r=s("./app/components/Views/Dashboard/Components/Cards/tracking.ts");const l=e=>{let{tool:t,asTeamId:s,canCreateProjects:o,needRequestRoleUpgrade:n,setShowUpgradeDialog:l,setRequestRoleDialog:d}=e;const{currentTeam:p,availableForPlan:u,requiresUpgrade:m,requireRequestRole:h}=c({tool:t,asTeamId:s,needRequestRoleUpgrade:n,canCreateProjects:o}),g=p?"MAGIC_TOOL"===t.type?`/video-tools/teams/${p.username}/ai-tools/${t.id}`:`/video-tools/teams/${p.username}/ai-training/${t.id}`:"",f=(0,i.c)();return e=>{(0,r.Cv)({tool:t,subPage:f}),m?l(!0):h?d(!0):u?"MAGIC_TOOL"===t.type&&t.onClick?(e.persist(),t.onClick(s,g,e)):(0,a.w)(g,e):l(!0)}},c=e=>{let{tool:t,asTeamId:s,needRequestRoleUpgrade:a,canCreateProjects:i}=e;const r=(0,n.I7)({suspense:!0}),l=(0,o.yG)(s,{suspense:!0}),c="MAGIC_TOOL"!==t.type||!l||!(0,o.Vz)(l)||!t.requiresPaidPlan;return{currentTeam:r,currentPlan:l,availableForPlan:c,requiresUpgrade:"MAGIC_TOOL"===t.type&&t.createsProject&&!i||!c,requireRequestRole:"MAGIC_TOOL"===t.type&&t.createsProject&&a}}},"./app/components/Views/Dashboard/Components/Cards/tracking.ts":(e,t,s)=>{"use strict";s.d(t,{Cv:()=>n,kK:()=>a,tN:()=>l,vZ:()=>i,yF:()=>r});var o=s("./app/utils/trackEvent.ts");function n(e){let{tool:t,subPage:s}=e;(0,o.L)({event:"Click",name:"Open magic tool",section:"Dashboard",otherProperties:{toolId:t.id,subPage:s}})}function a(e,t){const s=e?"Unfavorite magic tool":"Favorite magic tool";(0,o.L)({event:"Click",name:s,section:"Dashboard",otherProperties:{toolId:t}})}function i(e){let{opened:t,title:s,tutorialUrl:n,subPage:a}=e;const i=t?"Opened video tutorial":"Closed video tutorial";(0,o.L)({event:"Click",name:i,section:"Dashboard",otherProperties:{title:s,pageId:a,tutorialUrl:n}})}function r(e){(0,o.L)({event:"Click",name:"Quick Action Card",section:"Dashboard",otherProperties:{title:e.title}})}function l(e){(0,o.L)({event:"Click",name:"Quick Action Card Dismiss",section:"Dashboard",otherProperties:{title:e.title}})}},"./app/components/Views/Dashboard/Components/Text.tsx":(e,t,s)=>{"use strict";s.d(t,{DA:()=>i,MS:()=>l,XJ:()=>a,YK:()=>c,aC:()=>r,nL:()=>n});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const n=o.ZP.h1.withConfig({displayName:"Text__Heading1",componentId:"sc-1q3r9bk-0"})(["font-style:normal;font-weight:700;font-size:32px;line-height:40px;color:#ffffff;"]),a=o.ZP.h2.withConfig({displayName:"Text__Heading2",componentId:"sc-1q3r9bk-1"})(["font-style:normal;font-weight:600;font-size:24px;line-height:32px;color:#ffffff;"]),i=o.ZP.h2.withConfig({displayName:"Text__SubHeading2",componentId:"sc-1q3r9bk-2"})(["font-style:normal;font-weight:400;font-size:16px;line-height:24px;color:",";"],(e=>e.theme.colors.textSecondary)),r=o.ZP.h3.withConfig({displayName:"Text__Heading3",componentId:"sc-1q3r9bk-3"})(["font-style:normal;font-weight:600;font-size:16px;line-height:24px;color:#ffffff;"]),l=o.ZP.h3.withConfig({displayName:"Text__SubHeading3",componentId:"sc-1q3r9bk-4"})(["font-style:normal;font-weight:400;font-size:14px;line-height:18px;color:",";"],(e=>e.theme.colors.textSecondary)),c=(0,o.ZP)(l).withConfig({displayName:"Text__ContrastSubHeading3",componentId:"sc-1q3r9bk-5"})(["color:",";"],(e=>e.theme.colors.white))},"./app/components/Views/Dashboard/Pages/PageNames.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>n,q:()=>o});let o=function(e){return e.Video="video",e.Image="image",e.ThreeD="3d",e.Generative="video-generate",e.VideoEdit="video-edit",e.AudioSubtitles="audio-subtitles",e.AiTraining="ai-training",e.ImageGenerate="image-generate",e.ImageEdit="image-edit",e.Home="home",e.All="all",e}({});const n={[o.Video]:"Video",[o.Image]:"Image Tools",[o.ThreeD]:"3D Generations",[o.Generative]:"Generate Videos",[o.VideoEdit]:"Edit Videos",[o.AudioSubtitles]:"Generate Audio",[o.AiTraining]:"AI Training",[o.Home]:"Home",[o.ImageEdit]:"Edit Images",[o.ImageGenerate]:"Generate Images",[o.All]:"Start creating with AI Tools"}},"./app/components/Views/Dashboard/hooks/useSubPageQuery.ts":(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./app/components/Views/MagicTools/hooks/useMagicToolQuery.ts"),i=s("./app/components/Views/Dashboard/Pages/PageNames.ts");function r(){const{search:e}=(0,n.TH)();return(0,o.useMemo)((()=>{const t=new URLSearchParams(e).get("tab");if(!t)return i.q.Home;return s=t,a.Qw.includes(s)?t:i.q.Home;var s}),[e])}},"./app/components/Views/DebugPanel/DebugPanelWrapper.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s("./node_modules/react/index.js");var o=s("./app/components/Prefabs/DisableKeyboardEvents.tsx"),n=s("./node_modules/react/jsx-runtime.js");const a=e=>{let{children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{permittedKeys:["`"]}),t]})}},"./app/components/Views/Library/LibraryContext.tsx":(e,t,s)=>{"use strict";s.d(t,{o:()=>i,t:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react/jsx-runtime.js");const a=(0,o.createContext)({}),i=e=>{let{children:t,libraryType:s,asTeamId:i,teamspaceId:r}=e;const l=(0,o.useMemo)((()=>({type:s,asTeamId:i,teamspaceId:r})),[s,i,r]);return(0,n.jsx)(a.Provider,{value:l,children:t})},r=()=>{const e=(0,o.useContext)(a);if(!e)throw new Error("useLibraryContext must be used within a LibraryContextProvider");return e}},"./app/components/Views/MagicTools/Components/Common/Base.tsx":(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/styled-system/dist/index.esm.js");const a=o.ZP.div.withConfig({displayName:"Base__Box",componentId:"sc-thne2y-0"})(["box-sizing:border-box;min-width:0;display:flex;"," "," "," gap:",";",""],n.Dh,n.GQ,n.E0,(e=>{let{gap:t}=e;return t||"0px"}),n.bK)},"./app/components/Views/MagicTools/Components/Common/Button.tsx":(e,t,s)=>{"use strict";s.d(t,{KM:()=>v,O6:()=>x,ZP:()=>k,kq:()=>b});var o=s("./app/actions/flash.ts"),n=s("./app/components/Prefabs/Icon/Icon.tsx"),a=s("./app/components/Prefabs/ThreedotsLoader.tsx"),i=s("./app/devoe/themeDark.ts"),r=s("./app/utils/hooks/useIsMountedRef.ts"),l=s("./app/utils/trackEvent.ts"),c=s("./node_modules/@sentry/core/esm/exports.js"),d=s("./node_modules/react/index.js"),p=s("./node_modules/react-redux/es/index.js"),u=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),m=s("./node_modules/styled-system/dist/index.esm.js"),h=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts"),g=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),f=s("./node_modules/react/jsx-runtime.js");const y=u.ZP.button.withConfig({displayName:"Button",componentId:"sc-c1bth8-0"})([""," background:",";border-radius:4px;padding:4px 16px;min-height:32px;border:0;display:grid;font-size:14px;color:#a0aec0;place-items:center;cursor:pointer;transition:all 0.2s ease-in-out;&:hover{color:#fff;}&:disabled{cursor:not-allowed;color:#a0aec0;}&[data-loading='true'],&[data-loading='true']:disabled{background:",";}"," "," "," ",""],g.Ts,(e=>e.theme.colors.grayscale.gray600),(e=>e.theme.colors.grayscale.gray800),m.Dh,m.E0,m.bK,m.cp),x=e=>{let{disabled:t,children:s,...n}=e;const[a,i]=(0,d.useState)(!1),l=(0,r.Z)(),u=(0,p.I0)();let m;if(n.onClick){const e=n.onClick;m=async t=>{t.preventDefault(),t.stopPropagation(),i(!0);try{const t=e();t instanceof Promise&&await t}catch(e){c.Tb(e,{extra:{message:"Error during onClick on ButtonWithLoader"}}),u((0,o.showFlash)({message:e.message,type:"WARNING"}))}finally{l.current&&i(!1)}}}return(0,f.jsx)(y,{...n,disabled:t||a,onClick:m,children:a?"Loading...":s})},v=d.forwardRef(((e,t)=>{let{eventProperties:s,preventDefaultTracking:o,icon:n,children:a,loading:r,...c}=e;const d=(0,h.y7)(),p=a&&"string"==typeof a?a:"unknown";return(0,f.jsx)(w,{...c,ref:t,"data-loading":r,onClick:e=>{r||(o||(0,l.L)({event:"Click",name:"Primary Button",section:"AI Magic Tools",otherProperties:{toolId:d,...s,buttonText:p,buttonIcon:n}}),c.onClick?.(e))},children:(0,f.jsxs)(_,{loading:r,children:[n&&(0,f.jsx)(C,{icon:n,size:16,color:c.disabled?i.Z.colors.uiHoverable:i.Z.colors.white,onClick:c.disabled?void 0:()=>{},$_css:c.disabled?"none":"auto"}),a]})})})),b=d.forwardRef(((e,t)=>{let{eventProperties:s,preventDefaultTracking:o,icon:a,children:r,loading:c,...d}=e;const p=(0,h.y7)(),u=r&&"string"==typeof r?r:"unknown";return(0,f.jsx)(w,{...d,ref:t,$secondary:!0,onClick:e=>{c||(o||(0,l.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:p,...s,buttonText:u}}),d.onClick?.(e))},children:(0,f.jsxs)(_,{loading:c,children:[a&&(0,f.jsx)(n.Z,{icon:a,size:16,color:d.disabled?i.Z.colors.uiHoverable:i.Z.colors.white,onClick:d.disabled?void 0:()=>{}}),r]})})})),w=(0,u.ZP)(y).withConfig({displayName:"Button__StyledButton",componentId:"sc-c1bth8-1"})(["display:flex;flex-direction:row;gap:8px;justify-content:center;background:",";color:#fff;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:disabled{background:",";}&[data-loading='true'],&[data-loading='true']:disabled{background:",";}"],(e=>e.$secondary?e.theme.colors.uiLevel1:e.theme.colors.primary),(e=>e.theme.colors.primary),(e=>e.theme.colors.grayscale.gray600),(e=>{let{theme:t,$secondary:s}=e;return s?t.colors.grayscale.gray800:t.colors.primaryDark})),_=e=>{let{loading:t,children:s}=e;return(0,f.jsxs)(I,{children:[(0,f.jsx)(T,{$loading:t,children:s}),t&&(0,f.jsx)(j,{children:(0,f.jsx)(a.Z,{animationType:"linear-opacity",dotColor:i.Z.colors.white,dotSize:4})})]})},I=u.ZP.span.withConfig({displayName:"Button__ButtonChildrenOrLoaderContainer",componentId:"sc-c1bth8-2"})(["position:relative;"]),T=u.ZP.span.withConfig({displayName:"Button__ChildrenContainer",componentId:"sc-c1bth8-3"})(["display:flex;align-items:center;justify-content:center;gap:4px;",";"],(e=>{let{$loading:t}=e;return t&&(0,u.iv)(["opacity:0;"])})),j=u.ZP.span.withConfig({displayName:"Button__LoaderContainer",componentId:"sc-c1bth8-4"})(["display:flex;position:absolute;top:0;width:100%;height:100%;align-items:center;justify-content:center;"]),k=y;var C=(0,u.ZP)(n.Z).withConfig({displayName:"Button___StyledIcon",componentId:"sc-c1bth8-5"})((e=>({pointerEvents:e.$_css})))},"./app/components/Views/MagicTools/Components/Common/Canvas/index.tsx":(e,t,s)=>{"use strict";s.d(t,{Xz:()=>a,hA:()=>i,lU:()=>l,o8:()=>r,rW:()=>c});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls.tsx");const a=o.ZP.canvas.withConfig({displayName:"Canvas",componentId:"sc-312m50-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;opacity:",";pointer-events:",";"],(e=>e.$visible?1:0),(e=>e.$visible?"auto":"none")),i=o.ZP.button.withConfig({displayName:"Canvas__ToolbarButton",componentId:"sc-312m50-1"})(["cursor:pointer;box-sizing:border-box;height:40px;width:40px;border-radius:8px;border:1px solid #6e5e8459;background-color:#121111;font-size:24px;color:#a5b4c7;display:flex;justify-content:center;align-items:center;padding:8px;&:disabled{opacity:0.6;cursor:not-allowed;}&:hover:not(:disabled),&:focus-visible:not(:disabled),&[data-active='true']:not(:disabled){color:#ffffff;}&[data-active='true']{border:1px solid ",";background:",";}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.primary)),r=o.ZP.div.withConfig({displayName:"Canvas__Toolbar",componentId:"sc-312m50-2"})(["position:absolute;left:40px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:54px;"]),l=o.ZP.form.withConfig({displayName:"Canvas__TextContainer",componentId:"sc-312m50-3"})(["position:absolute;left:50%;bottom:32px;transform:translateX(-50%);width:60vw;background:#201e1e;display:flex;align-items:center;gap:16px;border-radius:6px;overflow:hidden;"]),c=(o.ZP.div.withConfig({displayName:"Canvas__CreditInfoContainer",componentId:"sc-312m50-4"})(["position:absolute;left:20vw;top:calc(100% - 26px);"]),(0,o.ZP)(n.iR).withConfig({displayName:"Canvas__StrokeWeightSlider",componentId:"sc-312m50-5"})(["--slider-height:12px;margin-left:8px;width:64px;"]))},"./app/components/Views/MagicTools/Components/Common/Credits/hooks.ts":(e,t,s)=>{"use strict";s.d(t,{w:()=>d,A:()=>p});var o=s("./app/api/hooks/useProfile.ts"),n=s("./app/api/hooks/useTeams.ts"),a=s("./app/utils/hooks/useFeature_DEPRECATED.ts"),i=s("./app/utils/hooks/useSelector.ts"),r=s("./app/components/Views/MagicTools/hooks/useCreditCalculations.ts"),l=s("./app/utils/features.ts"),c=s("./app/utils/hooks/useFeatures.ts");const d=()=>{const e=(0,n.Qt)({suspense:!0}),t=(0,a.f7)({feature:"numPlanCredits",asTeamId:e?.id,swrOpts:{revalidateOnMount:!0},suspense:!0}),s=(e=>{let{realCreditsUsed:t,teamId:s}=e;const o=(0,c.h)(s);if(!(0,l.lo)(o.data?.permitted))return t;const n=t;return window.localStorage.getItem("lastCreditsUsed")!==`${n}`&&(window.localStorage.setItem("lastCreditsUsed",`${n}`),window.localStorage.setItem("fakeCreditsUsed",`${n+Math.round(2*Math.random()*20-20)}`)),parseInt(window.localStorage.getItem("fakeCreditsUsed")||"")||n})({teamId:e.id,realCreditsUsed:t?.used||0}),{data:r}=(0,o.NF)({asTeamId:e?.id},{refreshInterval:1e3}),d=(0,i.Z)((e=>e.creditCountHookDebugControls.enabled)),p=(0,i.Z)((e=>e.creditCountHookDebugControls.remaining)),u=(0,i.Z)((e=>e.creditCountHookDebugControls.purchased));return d?{...t,remaining:p,purchased:u}:t?{...t,remaining:Math.max(t.permitted-s,0),purchased:Math.floor(r?.gpuCredits||0)}:{permitted:1/0,used:0,remaining:1/0,purchased:0}},p=(e,t)=>{const{min:s,costCalculationFeatureName:o}={min:1,costCalculationFeatureName:"image_generations",...e||{}},a=(0,n.I7)(),{numGenerations:i}=(0,r.sG)({teamId:a?.id,costCalculationFeatureName:o},t);return!!i&&i>=s}},"./app/components/Views/MagicTools/Components/Common/Divider.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.hr.withConfig({displayName:"Divider",componentId:"sc-1nee7dn-0"})(["height:1px;width:100%;background-color:",";border:none;margin:0;"],(e=>e.theme.colors.grayscale.gray600))},"./app/components/Views/MagicTools/Components/Common/Dropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>y,om:()=>f,xz:()=>m});var o=s("./node_modules/@radix-ui/react-select/dist/index.module.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/devoe/assets/icons/@component-icons/caret-down.svg"),r=s("./app/devoe/assets/icons/@component-icons/caret-up.svg"),l=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),c=s("./node_modules/react/jsx-runtime.js");const d=(0,a.iv)(["display:flex;justify-content:space-around;align-items:center;height:24px;svg{width:16px;height:12px;}svg path{fill:#a9b8ff;}"]),p=(0,a.ZP)(o.u_).withConfig({displayName:"Dropdown__ScrollUpButton",componentId:"sc-1emljek-0"})(["",""],d),u=(0,a.ZP)(o.$G).withConfig({displayName:"Dropdown__ScrollDownButton",componentId:"sc-1emljek-1"})(["",""],d),m=(0,a.ZP)(o.xz).withConfig({displayName:"Dropdown__Trigger",componentId:"sc-1emljek-2"})([""," outline:0;background:#1d1e23;border:1px solid #1d1e23;border-radius:2px;text-align:left;color:#a5b4c7;font-size:14px;line-height:16px;padding:0 8px;height:32px;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;svg{width:16px;height:12px;}svg path{fill:#a9b8ff;}&:focus-visible{outline:2px solid ",";outline-offset:-2px;}"],l.Ts,(e=>e.theme.colors.primary)),h=(0,a.ZP)(o.VY).withConfig({displayName:"Dropdown__Content",componentId:"sc-1emljek-3"})(["background:",";border-radius:2px;overflow:hidden;"],(e=>e.theme.colors.white));var g=(0,a.ZP)(h).withConfig({displayName:"Dropdown___StyledContent",componentId:"sc-1emljek-4"})(["",""],(e=>e.$_css));const f=(0,a.ZP)(o.ck).withConfig({displayName:"Dropdown__ItemContainer",componentId:"sc-1emljek-5"})([""," text-align:left;color:white;font-size:14px;line-height:16px;padding:4px 8px;height:32px;box-sizing:border-box;display:flex;align-items:center;&:focus{background:rgba(165,180,199,0.25);}&:hover{background:rgba(165,180,199,0.25);}color:",";&[data-selected='true']{background:",";color:",";&:focus{background:",";}}&[data-disabled]{color:",";}"],l.Ts,(e=>e.theme.colors.textWhiteUI),(e=>e.theme.colors.primary),(e=>e.theme.colors.white),(e=>e.theme.colors.primary),(e=>e.theme.colors.textInactive)),y=e=>{let{items:t,value:s,onChange:a,disabled:l=!1,contentCSS:d="",triggerProps:h}=e;const[y,x]=(0,n.useState)(!1);return(0,c.jsxs)(o.fC,{value:s,onValueChange:a,open:y,onOpenChange:x,children:[(0,c.jsxs)(m,{...h,disabled:l,children:[(0,c.jsx)(o.B4,{}),!l&&(0,c.jsx)(o.JO,{asChild:!0,children:(0,c.jsx)(i.default,{})})]}),(0,c.jsxs)(g,{onInteractOutside:()=>{x(!1)},$_css:d,children:[(0,c.jsx)(p,{children:(0,c.jsx)(r.default,{})}),(0,c.jsx)(o.l_,{children:t.map(((e,t)=>"DIVIDER"===e?(0,c.jsx)(o.Z0,{},t):(0,c.jsx)(f,{value:e.value,"data-selected":e.value===s,disabled:e.disabled,children:(0,c.jsx)(o.eT,{children:(0,c.jsx)("div",{children:e.title},`${e.value}_${t}_div`)},`${e.value}_${t}_text`)},`${e.value}_${t}_container`)))}),(0,c.jsx)(u,{children:(0,c.jsx)(i.default,{})})]})]})}},"./app/components/Views/MagicTools/Components/Common/IconButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/styled-system/dist/index.esm.js");const a=o.ZP.button.withConfig({displayName:"IconButton",componentId:"sc-3had3q-0"})(["background:none;width:","px;height:","px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;background:#282b2f;border-radius:4px;padding:4px 8px;font-size:12px;box-sizing:border-box;color:",";transition:all 0.5s ease-in-out;"," &:not(:disabled){&:hover{color:#fff;}}&:disabled{background:",";color:",";cursor:default;}",""],(e=>e.width??32),(e=>e.height??32),(e=>e.theme.colors.uiHoverable),(e=>(e.modifyPath??!0)&&(0,o.iv)(["&:not(:disabled){& > svg > path{transition:all 0.5s ease-in-out;}& > svg > path{fill:",";}&:hover{> svg > path{fill:#fff;}color:#fff;}}"],(e=>e.theme.colors.uiHoverable))),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiLevel2),n.Dh)},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls.tsx":(e,t,s)=>{"use strict";s.d(t,{yE:()=>T,Y2:()=>E,iR:()=>C,ZP:()=>S,fX:()=>j});var o=s("./app/api/hooks/useTeams.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/utils/getWidthAndHeightFromResolutionAndRatio.ts"),r=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),l=s("./app/components/Prefabs/SliderRow.tsx"),c=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),d=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/ModelCheckpointDropdown.tsx"),p=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/MultipleOutputsToggle.tsx"),u=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/NegativePromptInput.tsx"),m=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/PromptWeightSlider.tsx"),h=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/RatioDropdown.tsx"),g=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/ResolutionDropdown.tsx"),f=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/SdHdResolutionDropdown.tsx"),y=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/SeedInput.tsx"),x=s("./app/components/Views/MagicTools/Components/Common/Slider.tsx"),v=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/constants.ts"),b=s("./node_modules/react/jsx-runtime.js");const w=e=>{let{value:t,onChange:s,disabled:o}=e;return(0,b.jsx)(x.f,{info:"Controls how much to transform the structure of the original image.",label:"Strength",min:100*v.x6,max:100*v.Z,value:[100*t],onValueChange:e=>s(e[0]/100),disabled:o,step:1,postfix:"%"})};var _=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/StyleDropdown.tsx"),I=s("./app/components/Views/MagicTools/Components/Common/Text.tsx");const T=512,j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,i.Q)({resolution:parseInt(e.resolution??v.TQ),ratio:e.ratio??v.G0}),s={numOutputs:v.fF,outputWidth:t.width,outputHeight:t.height,ratio:v.G0,precision:v.qO,resolution:v.TQ,sdHdResolution:T,detail:v.K4,style:"none",keyword:"",strength:v.Qn,fixSeed:!1,seed:Math.floor(Math.random()*v.Di),modelCheckpoint:{id:"",name:"",usecase:""},negativePrompt:"",...e};return(0,n.useReducer)(((e,t)=>{switch(t.type){case"UPDATE_NUM_OUTPUTS":return{...e,numOutputs:t.value};case"UPDATE_OUTPUT_WIDTH":return{...e,outputWidth:t.value};case"UPDATE_OUTPUT_HEIGHT":return{...e,outputHeight:t.value};case"UPDATE_RATIO":return k({ratio:t.value,resolution:e.resolution},e);case"UPDATE_RESOLUTION":return k({ratio:e.ratio,resolution:t.value},e);case"UPDATE_SD_HD_RESOLUTION":return{...e,sdHdResolution:t.value};case"UPDATE_STYLE":return{...e,style:t.value};case"UPDATE_KEYWORD":return{...e,keyword:t.value};case"UPDATE_DETAIL":return{...e,detail:t.value};case"UPDATE_PRECISION":return{...e,precision:t.value};case"UPDATE_STRENGTH":return{...e,strength:t.value};case"UPDATE_SEED":return{...e,seed:t.value};case"UPDATE_FIX_SEED":return{...e,fixSeed:t.value};case"UPDATE_NEGATIVE_PROMPT":return{...e,negativePrompt:t.value};case"UPDATE_MODEL_CHECKPOINT":return{...e,modelCheckpoint:t.value};case"RESET":return s;default:return e}}),s)};function k(e,t){let{ratio:s,resolution:o}=e;const n=(0,i.Q)({resolution:parseInt(o),ratio:s});return{...t,ratio:s,resolution:o,outputWidth:n.width,outputHeight:n.height}}const C=(0,a.ZP)(l.Z).withConfig({displayName:"LatentDiffusionControls__Slider",componentId:"sc-l28z8f-0"})(["--slider-height:32px;"]),E=(0,a.ZP)(r.Z).withConfig({displayName:"LatentDiffusionControls__NumberInput",componentId:"sc-l28z8f-1"})(["height:32px;input{font-size:14px !important;}"]),S=e=>{let{state:t,dispatch:s,multipleOutputs:n,disabled:a,enableOptionalControls:i={strength:!1,size:!1,precision:!0,sdhdResolution:{width:0,height:0}},setShowUpgradeDialog:r=(()=>null),enableModelCheckpoint:l=!1,allowBatch:x=!1,customStyleOptions:v,showCustomModelTip:I}=e;const T=(0,o.I7)({suspense:!0});return(0,b.jsxs)(A,{flexDirection:"column",gap:"16px",children:[(0,b.jsx)(c.x,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:(0,b.jsx)(M,{children:"Settings"})}),(0,b.jsxs)(c.x,{flexDirection:"column",gap:"12px",children:[l&&(0,b.jsx)(d.X,{team:T,disabled:a,value:t.modelCheckpoint?.id,onChange:e=>s({type:"UPDATE_MODEL_CHECKPOINT",value:e}),showCustomModelTip:I}),i.size&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.n,{value:t.ratio,onChange:e=>s({type:"UPDATE_RATIO",value:e}),disabled:a}),(0,b.jsx)(g.i,{outputHeight:t.outputHeight,outputWidth:t.outputWidth,value:t.resolution,onChange:e=>s({type:"UPDATE_RESOLUTION",value:e}),disabled:a})]}),i.sdhdResolution&&(0,b.jsx)(f.n,{disabled:a,value:t.sdHdResolution,width:i.sdhdResolution.width,height:i.sdhdResolution.height,onChange:e=>{s({type:"UPDATE_SD_HD_RESOLUTION",value:e})},setShowUpgradeDialog:r}),n&&(0,b.jsx)(p._,{allowBatch:x,onChange:e=>s({type:"UPDATE_NUM_OUTPUTS",value:e}),value:t.numOutputs}),i.seed&&(0,b.jsx)(y.I,{seed:t.seed,onChangeSeed:e=>s({type:"UPDATE_SEED",value:e}),fixedSeed:t.fixSeed,onChangeFixedSeed:e=>s({type:"UPDATE_FIX_SEED",value:e}),disabled:a}),i.style&&(0,b.jsx)(_.w,{value:t.style,onChange:e=>s({type:"UPDATE_STYLE",value:e}),disabled:a,customStyleOptions:v}),i.precision&&(0,b.jsx)(m.J,{value:t.precision,onChange:e=>s({type:"UPDATE_PRECISION",value:e}),disabled:a}),i.strength&&(0,b.jsx)(w,{value:t.strength,onChange:e=>s({type:"UPDATE_STRENGTH",value:e}),disabled:a}),i.negativePrompt&&(0,b.jsx)(u.V,{value:t.negativePrompt,onChange:e=>s({type:"UPDATE_NEGATIVE_PROMPT",value:e})})]})]})};var A=(0,a.ZP)(c.x).withConfig({displayName:"LatentDiffusionControls___StyledBox",componentId:"sc-l28z8f-2"})(["max-height:380px;"]),M=(0,a.ZP)(I.xv).withConfig({displayName:"LatentDiffusionControls___StyledText",componentId:"sc-l28z8f-3"})(["font-size:",";line-height:",";font-weight:500;"],(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md))},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/ModelCheckpointDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{X:()=>S});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/api/hooks/useModelCheckpoints.ts"),a=s("./app/constants/media.ts"),i=s("./app/devoe/assets/icons/@component-icons/recipes/add.svg"),r=s("./app/utils/hooks/useMediaQuery.ts"),l=s("./app/utils/openInCurrentOrNewWindow.ts"),c=s("./node_modules/@radix-ui/react-popover/dist/index.module.js"),d=s("./node_modules/react/index.js"),p=s("./node_modules/react-router/esm/react-router.js"),u=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts"),m=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),h=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),g=s("./app/components/Views/MagicTools/Components/Common/Dropdown.tsx"),f=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),y=s("./app/components/Prefabs/Block.tsx"),x=s("./app/components/Prefabs/Text.tsx"),v=s("./node_modules/lucide-react/dist/esm/icons/asterisk.js"),b=s("./node_modules/lucide-react/dist/esm/icons/x.js"),w=s("./node_modules/react/jsx-runtime.js");const _=(0,o.ZP)(y.JX).withConfig({displayName:"CustomModelTip__Container",componentId:"sc-d4b6gx-0"})(["background:",";border-radius:2px;margin-top:6px;padding:12px;font-size:11px;line-height:16px;"],(e=>e.theme.colors.uiLevel1)),I=(0,o.ZP)(y.X2).withConfig({displayName:"CustomModelTip__Header",componentId:"sc-d4b6gx-1"})(["align-items:center;position:relative;font-weight:500;color:white;"]),T=(0,o.ZP)(x.Z).withConfig({displayName:"CustomModelTip__BodyText",componentId:"sc-d4b6gx-2"})(["color:",";font-weight:400;"],(e=>e.theme.colors.textInactive)),j=()=>{const[e,t]=(0,d.useState)(!0);return e?(0,w.jsxs)(_,{children:[(0,w.jsxs)(I,{children:[(0,w.jsx)(k,{color:"#d6b6ff"}),(0,w.jsx)(x.Z,{children:"Tips on using your custom style"}),(0,w.jsx)(C,{onClick:()=>t(!1),color:"#A5B4C7"})]}),(0,w.jsxs)(T,{children:['For styles, to get the best result: avoid adding the keyword to the prompt and just describe the content of the scene you want, such as "A park" instead of "A park in the style of ',"{","keyword","}",'".']})]}):null};var k=(0,o.ZP)(v.Z).withConfig({displayName:"CustomModelTip___StyledAsterisk",componentId:"sc-d4b6gx-3"})(["width:16px;height:16px;background-color:rgba(255,255,255,0.05);border-radius:2px;"]),C=(0,o.ZP)(b.Z).withConfig({displayName:"CustomModelTip___StyledX",componentId:"sc-d4b6gx-4"})(["position:absolute;right:0;width:12px;height:12px;cursor:pointer;"]);const E="add-new-model",S=e=>(0,w.jsx)(d.Suspense,{fallback:null,children:(0,w.jsx)(M,{...e})}),A=e=>e.metadata?.trainingOptions?.name??e.name,M=e=>{let{onChange:t,value:s,disabled:o,team:a,subtype:i="dreambooth",defaultTitle:r="Default",showTrainNewButton:c=!0,showTrainNewDropdownItem:u=!1,dropdownContentCSS:h,showCustomModelTip:f}=e;const{data:y}=(0,n.oZ)({asTeamId:a.id,subtype:i},{suspense:!0}),x=y,v=(0,p.k6)(),b=(0,p.TH)();d.useEffect((()=>{const e=new URLSearchParams(b.search),s=e.get("checkpointId");if(!s)return;e.delete("checkpointId");const o=x.find((e=>e.id===s));if(!o)return void v.replace({search:e.toString()});const n=o.metadata?.trainingOptions?.use_case_id;n?(v.replace({search:e.toString()}),t({id:s,name:A(o),usecase:n})):v.replace({search:e.toString()})}),[x,v,b.search,t]);const _=e=>{if(e===E)return void(0,l.o)(`/video-tools/teams/${a.username}/custom-ai-tools`);if(""===e)return void t({id:"",name:"",usecase:""});const s=x.find((t=>t.id===e));if(!s)return;let o=s.metadata?.trainingOptions?.use_case_id;if(!o)if("gen1-dreambooth"===s.mediaSubtype)o="gen1-generator";else{if("dreambooth_t2i_highres"!==s.mediaSubtype)return;o="gen1-generator"}t({id:s.id,name:A(s),usecase:o})},I=x.find((e=>e.id===s)),T=I?.metadata?.lora_type;let k="";I&&(k=s);let C=[{title:r,value:""},...x.map((e=>({title:e.name,value:e.id})))];return u&&(C=[...C,{title:"Train new model",value:E}]),(0,w.jsx)(m.x,{flexDirection:"column",children:x.length>0?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(N,{children:[(0,w.jsx)(g.ZP,{value:k,items:C,onChange:_,disabled:o,triggerProps:{"aria-label":"Magic Model"},contentCSS:h}),c&&(0,w.jsx)(P,{sideOffset:280,children:(0,w.jsx)(D,{onClick:e=>{e.preventDefault(),_(E)},children:(0,w.jsx)(O,{})})})]}),f&&"style"===T&&(0,w.jsx)(j,{})]}):c&&(0,w.jsx)(P,{sideOffset:20,children:(0,w.jsxs)(L,{onClick:e=>{e.preventDefault(),_(E)},children:["Train your own model",(0,w.jsx)(R,{})]})})})},P=e=>{let{children:t,sideOffset:s=0}=e;const[o,n]=(0,d.useState)(!1),a=(0,u.sC)();return(0,r.dD)()?t:(0,w.jsxs)(c.fC,{open:o,children:[(0,w.jsx)(c.xz,{asChild:!0,children:(0,w.jsx)(m.x,{onMouseOver:()=>n(!0),onMouseLeave:()=>n(!1),children:t})}),(0,w.jsx)(c.h_,{children:(0,w.jsxs)(c.VY,{side:"left",align:"end",alignOffset:-24,sideOffset:s,onOpenAutoFocus:e=>e.preventDefault(),children:[(0,w.jsx)(Z,{}),(0,w.jsxs)(U,{children:[(0,w.jsx)(z,{}),(0,w.jsxs)(V,{children:[(0,w.jsxs)(B,{children:["Enhance ",a,(0,w.jsx)("br",{}),"with your own model"]}),(0,w.jsx)(G,{children:"Train your own custom AI model in just a few minutes and turn anything into everything."})]})]})]})})]})};var N=(0,o.ZP)(m.x).withConfig({displayName:"ModelCheckpointDropdown___StyledBox",componentId:"sc-1nwxfkr-0"})(["display:grid;grid-template-columns:auto min-content;gap:8px;"]),D=(0,o.ZP)(h.ZP).withConfig({displayName:"ModelCheckpointDropdown___StyledButton",componentId:"sc-1nwxfkr-1"})(["color:",";box-sizing:border-box;padding:8px;display:flex;background:",";:hover{svg{fill:",";}}"],(e=>e.theme.colors.white),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.white)),O=(0,o.ZP)(i.Z).withConfig({displayName:"ModelCheckpointDropdown___StyledAdd",componentId:"sc-1nwxfkr-2"})(["width:16px;height:16px;fill:",";"],(e=>e.theme.colors.uiHoverable)),L=(0,o.ZP)(h.ZP).withConfig({displayName:"ModelCheckpointDropdown___StyledButton2",componentId:"sc-1nwxfkr-3"})(["display:flex;flex-direction:row;justify-content:center;gap:16px;color:",";background:",";width:100%;:hover{svg{fill:",";}}"],(e=>e.theme.colors.white),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.white)),R=(0,o.ZP)(i.Z).withConfig({displayName:"ModelCheckpointDropdown___StyledAdd2",componentId:"sc-1nwxfkr-4"})(["width:16px;height:16px;fill:",";"],(e=>e.theme.colors.white)),Z=(0,o.ZP)(c.Eh).withConfig({displayName:"ModelCheckpointDropdown___StyledPopoverArrow",componentId:"sc-1nwxfkr-5"})(["fill:white;"]),U=(0,o.ZP)(m.x).withConfig({displayName:"ModelCheckpointDropdown___StyledBox2",componentId:"sc-1nwxfkr-6"})(["background:white;width:300px;flex-direction:column;border-radius:4px;"]),z=(0,o.ZP)(m.x).withConfig({displayName:"ModelCheckpointDropdown___StyledBox3",componentId:"sc-1nwxfkr-7"})(["background-image:url(","app/magic-tools/updated/portraitGenerator.png);background-size:cover;background-position:center;height:200px;border-radius:4px 4px 0 0;"],a.yI),V=(0,o.ZP)(m.x).withConfig({displayName:"ModelCheckpointDropdown___StyledBox4",componentId:"sc-1nwxfkr-8"})(["padding:20px;padding-bottom:36px;gap:8px;flex-direction:column;"]),B=(0,o.ZP)(f.d8).withConfig({displayName:"ModelCheckpointDropdown___StyledBold",componentId:"sc-1nwxfkr-9"})(["color:",";font-size:16px;line-height:24px;text-align:center;"],(e=>e.theme.colors.uiLevel2)),G=(0,o.ZP)(f.xv).withConfig({displayName:"ModelCheckpointDropdown___StyledText",componentId:"sc-1nwxfkr-10"})(["color:",";font-size:",";line-height:",";text-align:center;"],(e=>e.theme.colors.textInactive),(e=>e.theme.fonts.size.sm),(e=>e.theme.fonts.size.md))},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/MultipleOutputsToggle.tsx":(e,t,s)=>{"use strict";s.d(t,{_:()=>u});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/api/hooks/useTeams.ts"),a=s("./app/devoe/themeDark.ts"),i=(s("./node_modules/react/index.js"),s("./app/components/Views/MagicTools/hooks/useCreditCalculations.ts")),r=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),l=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),c=s("./app/components/Views/MagicTools/Components/Common/ToggleButton.tsx"),d=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/constants.ts"),p=s("./node_modules/react/jsx-runtime.js");const u=e=>{let{value:t,onChange:s,allowBatch:o}=e;const u=(0,n.I7)(),{numGenerations:g}=(0,i.R3)({teamId:u?.id}),f=g||0;return(0,p.jsxs)(r.x,{flexDirection:"column",gap:"4px",children:[(0,p.jsx)(l.__,{children:"Number of Outputs"}),(0,p.jsxs)(r.x,{width:1,alignItems:"center",flexDirection:"column",gap:"4px",children:[(0,p.jsxs)(m,{$_css:a.Z.fonts.size.sm,children:[[...Array(d.Ye).keys()].map((e=>{const o=e+1;return(0,p.jsx)(c.C,{type:"button",onClick:()=>s(o),disabled:o>f,"data-active":t===o,children:o},o)})),o&&(0,p.jsx)(c.C,{type:"button",onClick:()=>s(d.wP),"data-active":t>=d.wP,children:"Batch"})]}),t>d.Ye&&(0,p.jsx)(h,{$_css2:a.Z.fonts.size.xs,$_css3:a.Z.colors.textSecondary,children:"A one-time payment will be required"})]})]})};var m=(0,o.ZP)(r.x).withConfig({displayName:"MultipleOutputsToggle___StyledBox",componentId:"sc-krok72-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(40px,1fr));width:100%;grid-gap:4px;button{font-size:",";padding:0;&:disabled{opacity:0.5;}}"],(e=>e.$_css)),h=(0,o.ZP)(l.xv).withConfig({displayName:"MultipleOutputsToggle___StyledText",componentId:"sc-krok72-1"})(["font-size:",";color:",";"],(e=>e.$_css2),(e=>e.$_css3))},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/NegativePromptInput.tsx":(e,t,s)=>{"use strict";s.d(t,{V:()=>r});s("./node_modules/react/index.js");var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),a=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=e=>{let{value:t,onChange:s}=e;return(0,i.jsxs)(n.x,{flexDirection:"column",gap:"4px",children:[(0,i.jsx)(a.__,{children:"Negative prompt"}),(0,i.jsx)(l,{placeholder:"Describe a scene or object to avoid",value:t,onChange:e=>{s(e.target.value)}})]})},l=o.ZP.textarea.withConfig({displayName:"NegativePromptInput__TextArea",componentId:"sc-3vcr2t-0"})(["box-sizing:border-box;background-color:",";padding:10px;border:1px solid rgba(110,94,132,0.35);color:",";resize:none;height:100px;border-radius:4px;width:100%;flex-grow:1;font-size:14px;&::placeholder{color:",";}&:focus{border-color:",";}@media (min-width:1024px){margin-bottom:8px;flex-grow:0;flex-shrink:0;}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.primaryLight),(e=>e.theme.colors.textInactive),(e=>e.theme.colors.primaryLight))},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/PromptWeightSlider.tsx":(e,t,s)=>{"use strict";s.d(t,{J:()=>i});s("./node_modules/react/index.js");var o=s("./app/components/Views/MagicTools/Components/Common/Slider.tsx"),n=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/constants.ts"),a=s("./node_modules/react/jsx-runtime.js");const i=e=>{let{value:t,onChange:s,disabled:i}=e;return(0,a.jsx)(o.f,{info:"(also referred to as classifier-free guidance) determines how much to take the prompt into account in the generation. Higher values may result in more precise results, while lower values may generate more creative outputs.",label:"Prompt Weight",value:[t],onValueChange:e=>s(e[0]),disabled:i,step:.1,min:n.xF,max:n.ps})}},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/RatioDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{n:()=>l});s("./node_modules/react/index.js");var o=s("./app/components/Views/MagicTools/MagicTool/TextToImageMagicTool/DropdownOptions.ts"),n=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),a=s("./app/components/Views/MagicTools/Components/Common/Dropdown.tsx"),i=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),r=s("./node_modules/react/jsx-runtime.js");const l=e=>{let{value:t,onChange:s,disabled:l}=e;return(0,r.jsxs)(n.x,{flexDirection:"column",gap:"4px",children:[(0,r.jsx)(i.__,{children:"Ratio"}),(0,r.jsx)(a.ZP,{value:t,items:o.K6,onChange:s,disabled:l,triggerProps:{"aria-label":"Ratio"}})]})}},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/ResolutionDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{i:()=>d});var o=s("./app/components/UpgradeDialog/UpgradeDialogContext.tsx"),n=(s("./node_modules/react/index.js"),s("./app/components/Views/MagicTools/MagicTool/TextToImageMagicTool/DropdownOptions.ts")),a=s("./app/components/Views/MagicTools/hooks/useCanExport2k.ts"),i=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),r=s("./app/components/Views/MagicTools/Components/Common/Dropdown.tsx"),l=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),c=s("./node_modules/react/jsx-runtime.js");const d=e=>{let{onChange:t,outputHeight:s,outputWidth:d,value:p,disabled:u}=e;const m=(0,a.k)()?n.oZ:n.Jg,h=(0,o.rz)();return(0,c.jsxs)(i.x,{flexDirection:"column",gap:"4px",children:[(0,c.jsxs)(i.x,{justifyContent:"space-between",children:[(0,c.jsx)(l.__,{children:"Resolution"}),(0,c.jsxs)(l.__,{children:[d," x ",s]})]}),(0,c.jsx)(r.ZP,{value:p,items:m,onChange:e=>{e.includes("upgrade_needed")?h({uiContext:"ld resolution dropdown"}):t(e)},disabled:u,triggerProps:{"aria-label":"Resolution"}})]})}},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/SdHdResolutionDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h,n:()=>m});var o=s("./node_modules/react/index.js"),n=s("./app/components/Views/MagicTools/hooks/useCanExport2k.ts"),a=s("./app/components/Views/MagicTools/utils.ts"),i=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),r=s("./app/components/Views/MagicTools/Components/Common/Dropdown.tsx"),l=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls.tsx"),c=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),d=s("./node_modules/react/jsx-runtime.js");const p=[{title:"SD",value:"512"},{title:"HD",value:"2048"}],u=[{title:"SD",value:"512"},{title:"HD - ✨ Upgrade",value:"upgrade_needed"}],m=e=>{let{value:t,width:s,height:a,disabled:l,setShowUpgradeDialog:m,onChange:g}=e;const f=(0,n.k)();let y=u;f&&(y=p);const x=(0,o.useMemo)((()=>s&&a?h({sdHdResolution:t,originalSize:{width:s,height:a}}):null),[a,t,s]);return(0,d.jsxs)(i.x,{flexDirection:"column",gap:"4px",children:[(0,d.jsxs)(i.x,{flexDirection:"row",justifyContent:"space-between",children:[(0,d.jsx)(c.__,{children:"Resolution"}),(0,d.jsx)(c.__,{children:x?`${x.width} x ${x.height}`:`${t} x ${t}`})]}),(0,d.jsx)(r.ZP,{value:t.toString(),items:y,triggerProps:{"aria-label":"Resolution"},onChange:e=>{"upgrade_needed"===e?m(!0):g(parseInt(e))},disabled:l})]})},h=e=>{let{sdHdResolution:t,originalSize:s}=e;if(t===l.yE){const e={maxWidth:t,maxHeight:t,originalWidth:s.width,originalHeight:s.height};return(0,a.QY)(e)}return{width:s.width,height:s.height}}},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/SeedInput.tsx":(e,t,s)=>{"use strict";s.d(t,{I:()=>I});var o,n,a,i=s("./app/actions/flash.ts"),r=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),l=s("./app/components/Prefabs/ShortcutTooltip.tsx"),c=s("./app/devoe/assets/icons/@component-icons/recipes/clipboard.svg"),d=s("./app/devoe/assets/icons/@component-icons/recipes/lock-active.svg"),p=s("./node_modules/react/index.js");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},u.apply(this,arguments)}const m=(e,t)=>p.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16",ref:t},e),o||(o=p.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.2,d:"M1.333 4.667h2a3.335 3.335 0 0 1 0 6.666h-2"})),n||(n=p.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.2,d:"M14 11.333h-4a3.335 3.335 0 0 1 0-6.666h4"})),a||(a=p.createElement("path",{stroke:"currentColor",strokeWidth:1.2,d:"m14 4.667-1.334-.834V5.5zM14 11.333l-1.334-.833v1.667z"}))),h=(0,p.forwardRef)(m);var g=s("./app/utils/copyToClipboard.ts"),f=s("./node_modules/react-redux/es/index.js"),y=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),v=s("./app/components/Views/MagicTools/Components/Common/IconButton.tsx"),b=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),w=s("./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/constants.ts"),_=s("./node_modules/react/jsx-runtime.js");const I=e=>{let{fixedSeed:t,onChangeFixedSeed:s,seed:o,onChangeSeed:n,disabled:a}=e;const r=(0,f.I0)(),p=e=>{e.preventDefault(),s(!t)};return(0,_.jsxs)(x.x,{flexDirection:"column",gap:"4px",children:[(0,_.jsxs)(x.x,{gap:"8px",justifyContent:"space-between",children:[(0,_.jsx)(b.__,{children:"Seed"}),(0,_.jsxs)(x.x,{justifyContent:"flex-end",children:[(0,_.jsx)(b.__,{children:t?"Fixed":"Randomized"}),t?(0,_.jsx)(v.Z,{marginLeft:2,height:24,width:24,padding:1,onClick:p,disabled:a,children:(0,_.jsx)(d.Z,{height:12,width:12})}):(0,_.jsx)(v.Z,{modifyPath:!1,marginLeft:2,height:24,width:24,padding:1,onClick:p,disabled:a,children:(0,_.jsx)(h,{height:16,width:16})}),(0,_.jsx)(l.ZP,{message:"Copy seed to clipboard",children:(0,_.jsx)(v.Z,{marginLeft:1,height:24,width:24,padding:1,onClick:e=>{e.preventDefault(),(0,g.v)(o.toString()),r((0,i.showFlash)({message:"Seed copied to clipboard",type:"SUCCESS"}))},children:(0,_.jsx)(c.Z,{height:16,width:16})})})]})]}),(0,_.jsx)(T,{value:o,onChange:e=>n(e),min:w.KZ,max:w.Di,step:1,grow:!0,readOnly:!t,disabled:a,ariaLabel:"seed"})]})},T=(0,y.ZP)(r.Z).withConfig({displayName:"SeedInput__NumberInput",componentId:"sc-1o7c1ix-0"})(["height:32px;input{font-size:14px !important;}&[data-readonly='true']{background:"," !important;input{background:"," !important;}}&[data-disabled]{background:none !important;input{color:"," !important;background:none !important;}}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiLevel2))},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/StyleDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{w:()=>c});s("./node_modules/react/index.js");var o=s("./app/components/Views/MagicTools/MagicTool/TextToImageMagicTool/DropdownOptions.ts"),n=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),a=s("./app/components/Views/MagicTools/Components/Common/Dropdown.tsx"),i=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),r=s("./node_modules/react/jsx-runtime.js");const l=[{title:"None",value:""},...o.ip.map((e=>({title:e,value:e})))],c=e=>{let{value:t,onChange:s,disabled:o,customStyleOptions:c}=e;return(0,r.jsxs)(n.x,{flexDirection:"column",gap:"4px",children:[(0,r.jsx)(i.__,{children:"Style"}),(0,r.jsx)(a.ZP,{value:t,items:c??l,onChange:s,disabled:o,triggerProps:{"aria-label":"Style"}})]})}},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Di:()=>u,G0:()=>n,K4:()=>x,KZ:()=>p,Nj:()=>b,Qn:()=>d,TQ:()=>a,Ux:()=>f,Ye:()=>h,Z:()=>c,fF:()=>m,n0:()=>y,ps:()=>r,qO:()=>v,wP:()=>g,x6:()=>l,xF:()=>i});var o=s("./app/utils/isDev.ts");const n="16:9",a="512",[i,r]=[1,30],[l,c]=[0,1],d=.5,p=0,u=2**32-1,m=4,h=4,g=(0,o.r)()?5:100,f=1e3,y=100,x=50,v=7.5,b=10},"./app/components/Views/MagicTools/Components/Common/LatentDiffusionControls/highResTextToImageStyles.ts":(e,t,s)=>{"use strict";s.d(t,{Gv:()=>r,Q$:()=>a,X9:()=>n});var o=s("./app/utils/sort.ts");const n=[{title:"Cinematic",value:"cinematic"},{title:"Studio Headshot",value:"actor_casting"},{title:"Digital Art",value:"digital_art"},{title:"Impressionist",value:"impressionist_painting"},{title:"Marker Drawing",value:"marker_drawing"},{title:"Graphic Novel",value:"graphic_novel"},{title:"Claymation",value:"claymation"},{title:"Storyboard",value:"storyboard"},{title:"Sci-fi Art",value:"sci-fi_art"},{title:"Retro",value:"retro_photography"},{title:"Isometric 3D",value:"isometric_3d"},{title:"Architectural",value:"architectural"},{title:"Forestpunk",value:"forestpunk"},{title:"35mm",value:"35mm"},{title:"Low Poly 3D",value:"low_poly_3d"},{title:"Pixel Art",value:"pixel_art"},{title:"80s Vaporwave",value:"80s_vaporwave"},{title:"3D Render",value:"3d_render"},{title:"Stickers",value:"stickers"},{title:"Cartoon",value:"cartoon"},{title:"Duotone",value:"duotone_artistic_photo"},{title:"Macro",value:"macro_photography"},{title:"Abandoned",value:"abandoned"},{title:"Concept Art",value:"concept_art"},{title:"Advertising",value:"advertising"},{title:"Anime",value:"anime"},{title:"3D Cartoon",value:"3d_cartoon"},{title:"Cine Lens",value:"cine_lens"},{title:"Frost",value:"frost"},{title:"Thriller",value:"thriller"},{title:"Graphite",value:"graphite"},{title:"Abstract Sculpture",value:"abstract_sculpture"},{title:"Moody Film",value:"moody_film"}],a=[{title:"None",value:"none"},...(e=>{const t=e.sort(((e,t)=>(0,o.C)(e.title,t.title,"ascending"))),s=e.findIndex((e=>Number.isNaN(Number.parseInt(e.title))));return s<=0?t:[...t.slice(s),...t.slice(0,s)]})(n)],i=n.reduce(((e,t)=>({...e,[t.value]:t.title})),{}),r=e=>i[e]??e},"./app/components/Views/MagicTools/Components/Common/MediaSelectorV2/utils.ts":(e,t,s)=>{"use strict";s.d(t,{H:()=>i,j:()=>a});const o={audio:[".adp",".amr",".au",".snd",".mid",".midi",".kar",".rmi",".mxmf",".mp3",".m4a",".mp4a",".mpga",".mp2",".mp2a",".m2a",".m3a",".oga",".ogg",".spx",".opus",".s3m",".sil",".uva",".uvva",".eol",".dra",".dts",".dtshd",".lvp",".pya",".ecelp4800",".ecelp7470",".ecelp9600",".rip",".wav",".weba",".aac",".aif",".aiff",".aifc",".caf",".flac",".mka",".m3u",".wax",".wma",".ram",".ra",".rmp",".xm"],image:[".wmf",".emf",".exr",".apng",".avci",".avcs",".avif",".bmp",".cgm",".drle",".fits",".g3",".gif",".heic",".heics",".heif",".heifs",".hej2",".hsj2",".ief",".jls",".jp2",".jpg2",".jpeg",".jpg",".jpe",".jph",".jhc",".jpm",".jpx",".jpf",".jxr",".jxra",".jxrs",".jxs",".jxsc",".jxsi",".jxss",".ktx",".ktx2",".png",".btif",".pti",".sgi",".svg",".svgz",".t38",".tif",".tiff",".tfx",".psd",".azv",".uvi",".uvvi",".uvg",".uvvg",".djvu",".djv",".dwg",".dxf",".fbs",".fpx",".fst",".mmr",".rlc",".ico",".dds",".mdi",".wdp",".npx",".b16",".tap",".vtf",".wbmp",".xif",".pcx",".webp",".3ds",".ras",".cmx",".fh",".fhc",".fh4",".fh5",".fh7",".jng",".sid",".pic",".pct",".pnm",".pbm",".pgm",".ppm",".rgb",".tga",".xbm",".xpm",".xwd"],video:[".3gpp",".3gp",".3g2",".h261",".h263",".h264",".m4s",".jpgv",".jpgm",".mj2",".mjp2",".ts",".mp4",".mp4v",".mpg4",".mpeg",".mpg",".mpe",".m1v",".m2v",".ogv",".qt",".mov",".uvh",".uvvh",".uvm",".uvvm",".uvp",".uvvp",".uvs",".uvvs",".uvv",".uvvv",".dvb",".fvt",".mxu",".m4u",".pyv",".uvu",".uvvu",".viv",".webm",".f4v",".fli",".flv",".m4v",".mkv",".mk3d",".mks",".mng",".asf",".asx",".vob",".wm",".wmv",".wmx",".wvx",".avi",".movie",".smv"]},n={audio:[".wav",".flac",".mp3",".aiff",".mp4",".m4a",".ogg",".mpga"],image:[".jpg",".jpeg",".png",".webp",".heic"],video:[".mp4",".mov",".webm",".qt"]},a=e=>{const t={};for(const s of e)if("image"===s){const e=n.image.map((e=>e.replace(".","")));for(const s of e)t[`image/${s}`]=[`.${s}`]}else t[`${s}/*`]=n[s];return t},i=e=>{let{inputTypes:t,forVideoEditor:s=!1}=e;const a={};for(const e of t){const t=s?o:n;for(const s of t[e]){a[s.split(".").join("")]=!0}}return a}},"./app/components/Views/MagicTools/Components/Common/SaveToFolder/useSavedAssetGroupForCurrentTool.tsx":(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var o=s("./app/api/hooks/useAssetGroup.ts"),n=s("./app/api/user-properties.ts"),a=s("./node_modules/react/index.js");const i=e=>(t,s,o)=>{const n=(0,a.useRef)(),i=e(t,s,o);(0,a.useEffect)((()=>{void 0!==i.data&&(n.current=i.data)}),[i.data]);const r=(0,a.useCallback)((()=>{n.current=void 0}),[]),l=void 0===i.data?n.current:i.data,c=void 0===i.data&&void 0!==n.current;return Object.assign({},i,{data:l,isLagging:c,resetLaggy:r})};var r=s("./app/utils/hooks/useUserProperties.ts"),l=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts");const c=function(e){let{savePrevious:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[s,c]=(0,r.Z)(n.Fe.rememberedSaveToAssetGroupIds,{},{suspense:!0},{asTeamId:e}),d=(0,l.y7)(),p=s[d],{data:u,isValidating:m}=(0,o.v)({asTeamId:e,assetGroupId:p,swrOptions:{use:t?[i]:[]}}),h=(0,a.useCallback)((e=>{c({...s,[d]:e})}),[d,s,c]),g=(0,a.useCallback)((()=>{const e={...s};delete e[d],c(e)}),[d,s,c]);return(0,a.useEffect)((()=>{p&&null===u&&!m&&g()}),[g,m,u,p]),u?{savedAssetGroup:u,savedAssetGroupId:u.id,setSavedAssetGroupId:h}:{setSavedAssetGroupId:h}}},"./app/components/Views/MagicTools/Components/Common/Sharing/ShareGenerationResult.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>T,d:()=>w});var o=s("./app/api/assets.ts"),n=s("./app/api/hooks/useTeams.ts"),a=s("./app/api/shared-assets.ts"),i=s("./app/components/Prefabs/Block.tsx"),r=s("./app/components/Prefabs/Button.tsx"),l=s("./app/components/Prefabs/Loader/Loader.tsx"),c=s("./app/components/Prefabs/RadixDialog.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./app/components/Prefabs/TextLink.tsx"),u=s("./app/utils/hooks/useFlipbackState.ts"),m=s("./app/utils/openInCurrentOrNewWindow.ts"),h=s("./app/utils/copyToClipboard.ts"),g=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),f=s("./node_modules/react/index.js"),y=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),v=s("./app/components/Views/MagicTools/Components/Common/Sharing/tracking.ts"),b=s("./node_modules/react/jsx-runtime.js");let w=function(e){return e[e.Initial=0]="Initial",e[e.Exporting=1]="Exporting",e[e.Ready=2]="Ready",e[e.Error=3]="Error",e}({});const _=(0,y.ZP)(r.Z).withConfig({displayName:"ShareGenerationResult__DialogButton",componentId:"sc-eyamqw-0"})(["min-height:48px;width:100%;"," > div > span{font-size:",";line-height:20px;font-weight:500;font-style:normal;}"],(e=>!e.canCopy&&e.primary&&"cursor: not-allowed;"),(e=>e.theme.fonts.size.md)),I=(0,y.ZP)(c.cZ).withConfig({displayName:"ShareGenerationResult__Content",componentId:"sc-eyamqw-1"})(["display:flex;box-sizing:border-box;flex-direction:column;align-items:center;gap:28px;padding:24px 40px;max-width:calc(100% - 48px);background:",";"],(e=>{let{theme:t}=e;return t.colors.uiLevel1})),T=e=>{let{taskArtifactId:t,generationId:s,taskId:i,assetReadinessState:r=w.Ready,onClose:p,shareLocation:y,onPublishCallback:T=(()=>{}),...S}=e;const[A,M]=(0,u.Z)(!0,4e3),[P,N]=(0,f.useState)(!1),D=(0,n.Qt)(),[O,L]=(0,f.useState)("MAKE_PUBLIC"),[R,Z]=(0,f.useState)(null);let U;U=r===w.Exporting?"Exporting...":r===w.Error?"Could not export asset, please try again.":"Publish";const z=D.id;return(0,f.useEffect)((()=>{t&&r===w.Ready&&!R&&Z(`${window.location.origin}/assets/${t}`)}),[r,R,t]),(0,b.jsx)(g.fC,{...S,children:(0,b.jsx)(g.h_,{children:(0,b.jsx)(c.t9,{children:(0,b.jsxs)(I,{children:[(0,b.jsxs)(x.x,{flexDirection:"column",alignItems:"center",children:[(0,b.jsx)(j,{bold:!0,xxl:!0,center:!0,children:"Publish and Share"}),(0,b.jsx)(d.Z,{md:!0,color:"textSecondary",center:!0,children:"Publishing will also make the text and media prompts available to anyone with the link"}),t&&"asset-page"!==y&&(0,b.jsx)(k,{onClick:()=>{(0,m.o)(`/video-tools/teams/${D?.username}/assets/${t}`)},children:"Manage Settings"})]}),(0,b.jsx)(f.Suspense,{fallback:(0,b.jsx)(l.Z,{height:140}),children:(0,b.jsxs)(C,{children:[P&&null!==t&&(0,b.jsx)(E,{"aria-label":"Copyable link",children:R}),"MAKE_PUBLIC"===O&&(0,b.jsx)(_,{primary:A,disabled:r!==w.Ready,canCopy:A,message:U,onClick:async()=>{if(!t)return;if((await(0,o.Nh)(t)).private&&await(0,o.ci)(t,!1),i){const{sharedAsset:e}=await(0,a.v)({asTeamId:z,type:"task",taskId:i});e.id&&Z(`${window.location.origin}/creation/${e.id}`)}else Z(`${window.location.origin}/assets/${t}`);(0,v.P)({shareLocation:y,link:R,generationId:s}),T(),N(!0),L("COPY")}}),"COPY"===O&&(0,b.jsx)(_,{canCopy:A,primary:!0,message:A?"Copy Link":"Copied!",onClick:()=>{A&&((0,h.v)(R),M(!1),(0,v.y)({shareLocation:y,link:R,generationId:s}))}}),(0,b.jsx)(_,{secondary:!0,message:"Close",onClick:p})]})})]})})})})};var j=(0,y.ZP)(d.Z).withConfig({displayName:"ShareGenerationResult___StyledText",componentId:"sc-eyamqw-2"})(["margin:8px 0;"]),k=(0,y.ZP)(p.Z).withConfig({displayName:"ShareGenerationResult___StyledTextLink",componentId:"sc-eyamqw-3"})(["color:",";"],(e=>e.theme.colors.primaryLight)),C=(0,y.ZP)(i.JX).withConfig({displayName:"ShareGenerationResult___StyledCol",componentId:"sc-eyamqw-4"})(["width:100%;"]),E=(0,y.ZP)(d.Z).withConfig({displayName:"ShareGenerationResult___StyledText2",componentId:"sc-eyamqw-5"})(["text-overflow:ellipsis;font-size:",";line-height:20px;font-weight:500;font-style:normal;overflow-x:hidden;border:solid;border-radius:8px;padding:4px;color:",";border-color:",";opacity:0.5;white-space:nowrap;padding:14px 13px;min-height:48px;"],(e=>e.theme.fonts.size.md),(e=>e.theme.colors.white),(e=>e.theme.colors.uiLevel2))},"./app/components/Views/MagicTools/Components/Common/Sharing/tracking.ts":(e,t,s)=>{"use strict";s.d(t,{P:()=>a,y:()=>n});var o=s("./app/utils/trackEvent.ts");function n(e){let{link:t,shareLocation:s,generationId:n}=e;(0,o.L)({event:"Click",name:"Share generation",section:"Magic Tool",otherProperties:{shareLocation:s,assetLink:t,generationId:n}})}function a(e){let{link:t,shareLocation:s,generationId:n}=e;(0,o.L)({event:"Click",name:"Publish generation",section:"Magic Tool",otherProperties:{shareLocation:s,assetLink:t,generationId:n}})}},"./app/components/Views/MagicTools/Components/Common/Slider.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>b,i:()=>h});var o=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),n=s("./app/components/Prefabs/Icon/Icon.tsx"),a=s("./app/utils/environment.ts"),i=s("./app/utils/number.ts"),r=s("./node_modules/@radix-ui/react-slider/dist/index.module.js"),l=s("./node_modules/react/index.js"),c=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),p=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),u=s("./app/components/Views/MagicTools/Components/Common/Tooltip.tsx"),m=s("./node_modules/react/jsx-runtime.js");const h=e=>{let{thumbProps:t,...s}=e;const[o,n]=(0,l.useState)(!1),a=(0,l.useRef)(null);return g(a,{min:s.min,max:s.max,value:s.value?.[0]??0}),(0,m.jsxs)(v,{...s,children:[(0,m.jsx)(x,{children:(0,m.jsx)(f,{"data-focused":o,ref:a})}),(0,m.jsx)(y,{...t,onFocus:()=>n(!0),onBlur:()=>n(!1),"data-focused":o})]})},g=(e,t)=>{let{min:s=0,max:o=100,value:n}=t;(0,l.useLayoutEffect)((()=>{const t=e?.current;if(!t||s>=0&&o>=0)return;const a=Math.max(n,Math.min(0,o)),r=Math.min(n,Math.min(0,o)),l=(0,i.KK)(a,s,o,0,1),c=(0,i.KK)(r,s,o,0,1);t.style.setProperty("right",100*(1-l)+"%","important"),t.style.setProperty("left",100*c+"%","important")}),[s,o,n,e])},f=(0,c.ZP)(r.e6).withConfig({displayName:"Slider__Range",componentId:"sc-aojmxy-0"})(["position:absolute;top:0;left:0;height:var(--slider-height);background-color:var(--range-color-idle);"]),y=(0,c.ZP)(r.bU).withConfig({displayName:"Slider__Thumb",componentId:"sc-aojmxy-1"})(["display:block;width:6px;height:var(--thumb-height);border-radius:var(--slider-radius);background-color:var(--thumb-color);box-shadow:var(--thumb-box-shadow);&:disabled{opacity:0.4;}"]),x=(0,c.ZP)(r.fQ).withConfig({displayName:"Slider__Track",componentId:"sc-aojmxy-2"})(["height:var(--slider-height);border-radius:var(--slider-radius);width:100%;background:",";position:relative;overflow:hidden;"],(e=>e.theme.colors.uiLevel1)),v=(0,c.ZP)(r.fC).withConfig({displayName:"Slider__Root",componentId:"sc-aojmxy-3"})(["position:relative;display:flex;align-items:center;user-select:none;touch-action:none;width:100%;cursor:not-allowed;--slider-height:32px;--slider-radius:4px;--thumb-color:",";--range-color-idle:",";--thumb-height:32px;--thumb-box-shadow:none;--hover-range-background:var( --mask-theme-color,"," );&:not([data-disabled]){cursor:ew-resize;&:focus-within,&:hover{","{background-color:var(--hover-range-background);}","{background-color:",";}}}&[data-disabled]{","{background-color:",";}","{background-color:",";}}"],(e=>e.theme.colors.uiLevel3),(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.primary),f,y,(e=>e.theme.colors.whiteLevel1),f,(e=>e.theme.colors.uiLevel1),y,(e=>e.theme.colors.uiLevel2)),b=e=>{let{label:t,info:s,min:i,max:r,value:l,onValueChange:c,step:g,disabled:f,postfix:y="",renderLabelInTooltip:x=!0}=e;const v=(0,a.tq)();return(0,m.jsxs)(d.x,{flexDirection:"column",gap:"4px",children:[(0,m.jsxs)(d.x,{justifyContent:"space-between",alignItems:"center",children:[(0,m.jsxs)(d.x,{gap:"8px",children:[(0,m.jsx)(p.__,{as:"label",children:t}),!v&&(0,m.jsx)(u.Z,{content:(0,m.jsxs)(d.x,{flexDirection:"column",children:[(0,m.jsx)(p.xv,{children:x&&(0,m.jsx)(w,{children:t})}),(0,m.jsx)(p.xv,{fontSize:12,children:s})]}),children:(0,m.jsx)(n.Z,{style:{cursor:"default"},icon:"pricing/information"})})]}),(0,m.jsx)(_,{children:(0,m.jsx)(o.Z,{min:i,max:r,value:l?.[0]??0,step:g,dragSensitivity:r&&i?(r-i)/10:1,onChange:e=>{c&&c([e])},postfix:y,disabled:f,grow:!0})})]}),(0,m.jsx)(h,{min:i,max:r,value:l,onValueChange:c,disabled:f,step:g,thumbProps:{"aria-label":t}})]})};var w=(0,c.ZP)("span").withConfig({displayName:"Slider___StyledSpan",componentId:"sc-aojmxy-4"})(["font-weight:bold;"]),_=(0,c.ZP)(d.x).withConfig({displayName:"Slider___StyledBox",componentId:"sc-aojmxy-5"})(["width:48px;"])},"./app/components/Views/MagicTools/Components/Common/Spinner.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/ThreedotsLoader.tsx"),a=(s("./node_modules/react/index.js"),s("./node_modules/react/jsx-runtime.js"));const i=e=>{let{width:t,height:s,color:o}=e;const n=`${t}px`||"25%",i=`${s}px`||"25%";return(0,a.jsx)(r,{"data-testid":"spinner",dotColor:o,$_css:n,$_css2:i})};var r=(0,o.ZP)(n.Z).withConfig({displayName:"Spinner___StyledThreedotsLoader",componentId:"sc-10ogpxu-0"})(["width:",";height:",";max-width:200px;max-height:200px;display:flex;align-items:center;"],(e=>e.$_css),(e=>e.$_css2))},"./app/components/Views/MagicTools/Components/Common/Teamspaces/SaveToFolderContext.tsx":(e,t,s)=>{"use strict";s.d(t,{$z:()=>i,aT:()=>l,mv:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react/jsx-runtime.js");const a=(0,o.createContext)(null),i=e=>{const[t,s]=(0,o.useState)(!1);return(0,n.jsx)(a.Provider,{value:{open:t,onOpenChange:s},children:e.children})},r=()=>{const e=(0,o.useContext)(a);if(!e)throw new Error("useSaveToFolderDialogState must be called from a child of SaveToFolder Provider");return e},l=()=>{const{onOpenChange:e}=r();return(0,o.useCallback)((()=>{e(!0)}),[e])}},"./app/components/Views/MagicTools/Components/Common/Teamspaces/SaveToFolderDialog.tsx":(e,t,s)=>{"use strict";s.d(t,{l:()=>$});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceEvents.ts"),a=s("./app/components/Prefabs/Loading/Loading.tsx"),i=s("./app/components/Prefabs/RadixDialog.tsx"),r=s("./app/components/Prefabs/Text.tsx"),l=s("./app/components/UI/RoundedPrimaryButton.tsx"),c=s("./app/api/hooks/useAssetsAndAssetsGroups.ts"),d=s("./app/api/hooks/useTeamspaces.ts"),p=s("./app/components/UI/Base.tsx"),u=s("./app/devoe/themeDark.ts"),m=s("./node_modules/lucide-react/dist/esm/icons/lock.js"),h=s("./node_modules/lucide-react/dist/esm/icons/users-round.js"),g=s("./node_modules/react/index.js"),f=s("./app/components/Views/MagicTools/Components/Common/Divider.tsx"),y=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceIcon.tsx"),x=s("./node_modules/lucide-react/dist/esm/icons/folder.js"),v=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),b=s("./app/utils/truncateString.ts"),w=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),_=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),I=s("./node_modules/react/jsx-runtime.js");const T=e=>{let{assetGroup:t,depth:s,onSelect:o,isSelected:n,isExpanded:a,iconComponent:i,secondaryIconComponent:r}=e;return(0,I.jsx)(j,{depth:s,onSelect:o,isSelected:n,isExpanded:a,iconComponent:i,secondaryIconComponent:r,children:(0,I.jsx)(_.xv,{fontSize:14,fontWeight:0===s?"bold":"normal",children:(0,b.a)(t.name,40-2*s)})})},j=e=>{let{depth:t,onSelect:s,isSelected:o,isExpanded:n,iconComponent:a,secondaryIconComponent:i,children:r}=e;return(0,I.jsx)(k,{onClick:s,$_css:o?u.Z.colors.uiLevel1:"transparent",children:(0,I.jsxs)(v.x,{gap:"8px",alignItems:"center",marginLeft:16*t+"px",children:[n?(0,I.jsx)(C,{width:14,height:14,stroke:u.Z.colors.textSecondary}):(0,I.jsx)(E,{width:14,height:14,stroke:u.Z.colors.textSecondary}),a&&(0,I.jsx)("span",{children:a}),r,i&&(0,I.jsx)("span",{children:i})]})})};var k=(0,o.ZP)(v.x).withConfig({displayName:"ExpandableAssetGroup___StyledBox",componentId:"sc-3x2jnx-0"})(["background-color:",";height:32px;margin-right:8px;border-radius:16px;flex-grow:0;flex-shrink:0;flex-basis:1;justify-items:center;"],(e=>e.$_css)),C=(0,o.ZP)(w.AS7).withConfig({displayName:"ExpandableAssetGroup___StyledTriangleDownIcon",componentId:"sc-3x2jnx-1"})(["flex-shrink:0;"]),E=(0,o.ZP)(w.VZf).withConfig({displayName:"ExpandableAssetGroup___StyledTriangleRightIcon",componentId:"sc-3x2jnx-2"})(["flex-shrink:0;"]),S=s("./app/components/Views/Assets/AddFolderDialog.tsx"),A=s("./node_modules/react-aria-components/dist/import.mjs"),M=s("./node_modules/lucide-react/dist/esm/icons/folder-plus.js");const P=o.ZP.button.withConfig({displayName:"AddFolderButton__SaveToFolderAddFolderButton",componentId:"sc-3m5z42-0"})(["cursor:pointer;border-radius:6px;box-sizing:border-box;padding:8px;background-color:transparent;border:0 solid;font-size:",";color:",";display:flex;flex-grow:1;align-items:center;gap:4px;"],(e=>e.theme.fonts.size.md),(e=>e.theme.colors.primaryLight));var N=(0,o.ZP)(P).withConfig({displayName:"AddFolderButton___StyledSaveToFolderAddFolderButton",componentId:"sc-3m5z42-1"})(["flex-grow:0;margin-left:14px;align-self:flex-start;width:calc(100% - 24px);"]);const D=e=>{let{onClick:t}=e;return(0,I.jsx)(N,{onClick:t,children:(0,I.jsxs)(v.x,{gap:"8px",children:[(0,I.jsx)(M.Z,{size:18,color:u.Z.colors.uiLevel3}),(0,I.jsx)(O,{$_css:u.Z.colors.uiLevel3,children:"Add folder"})]})})};var O=(0,o.ZP)(v.x).withConfig({displayName:"AddFolderButton___StyledBox",componentId:"sc-3m5z42-2"})(["color:",";"],(e=>e.$_css));const L=e=>{let{parentAssetGroup:t,onSuccess:s,depth:o=0,privateInTeam:n}=e;const a=void 0===n?t?.privateInTeam:n,i=(0,S.L)({createInAssetGroupId:t?.id,privateInTeam:a,onSuccess:s}),[r,l]=g.useState(""),[c,d]=g.useState(!1);return c?(0,I.jsx)(j,{depth:o,iconComponent:(0,I.jsx)(x.Z,{size:18,stroke:u.Z.colors.textSecondary}),children:(0,I.jsx)(A.nv,{value:r,onChange:l,onKeyDown:e=>{"Enter"===e.key&&r.length>0&&(d(!1),i({assetGroupName:r}))},autoFocus:!0,onFocusChange:e=>{!e&&r.length>0&&(d(!1),i({assetGroupName:r}))},children:(0,I.jsx)(R,{})})}):(0,I.jsx)(v.x,{gap:"8px",alignItems:"center",marginLeft:16*o+"px",children:(0,I.jsx)(D,{onClick:()=>{l(""),d(!0)}})})},R=(0,o.ZP)(A.II).withConfig({displayName:"InlineCreateFolder__StyledInput",componentId:"sc-qpihu5-0"})(["box-sizing:border-box;background-color:transparent;border-radius:6px;height:24px;outline:1px solid ",";border:0px;font-size:",";padding:12px 8px;color:white;&:disabled{opacity:0.6;}&:focus-visible{outline:1px solid ",";}"],(e=>e.theme.colors.textInactive),(e=>e.theme.fonts.size.xs),(e=>e.theme.colors.primaryLight)),Z=e=>{let{assetsAndAssetGroups:t,parentAssetGroup:s,teamspaces:o,depth:n=1,isChildOfTeamspace:a=!1,selectedAssetGroup:i,setSelectedAssetGroup:r,expandedAssetGroups:l,setExpandedAssetGroups:c}=e;const d=t.filter((e=>{if("AssetGroup"!==e.type)return null;return e.value.parentAssetGroupId===s.id}));s.userGroupId&&(a=!0);const p=o.find((e=>e.id===s.userGroupId));return(0,I.jsxs)(v.x,{gap:"8px",flexDirection:"column",children:[(0,I.jsx)(T,{assetGroup:s,depth:n,onSelect:()=>{i?.id===s.id?r(null):r(s),l[s.id]?c({...l,[s.id]:!1}):c({...l,[s.id]:!0})},isSelected:i?.id===s.id,isExpanded:l[s.id],iconComponent:p?(0,I.jsx)(y._J,{teamspace:p}):(0,I.jsx)(x.Z,{size:18,stroke:u.Z.colors.textSecondary})}),l[s.id]&&d.map((e=>(0,I.jsx)(Z,{assetsAndAssetGroups:t,parentAssetGroup:e.value,teamspaces:o,depth:n+1,isChildOfTeamspace:a,selectedAssetGroup:i,setSelectedAssetGroup:r,expandedAssetGroups:l,setExpandedAssetGroups:c},e.value.id))),l[s.id]&&(0,I.jsx)(L,{parentAssetGroup:s,onSuccess:r,depth:n+1})]})},U=e=>{let{selectedAssetGroup:t,setSelectedAssetGroup:s,teamId:o}=e;const[n,a]=g.useState({}),i=g.useCallback((e=>{s(e)}),[s]),{data:r}=(0,d.gb)(o,{suspense:!0}),{data:l}=(0,c.s)({asTeamId:o,privateInTeam:!1},{suspense:!0}),{data:y}=(0,c.s)({asTeamId:o,privateInTeam:!0},{suspense:!0}),[x,v]=g.useState(!1),[b,w]=g.useState(!1);return l||y?(0,I.jsxs)(z,{flexDirection:"column",gap:"12px",children:[(0,I.jsxs)(p.x,{flexDirection:"column",gap:"8px",height:"100%",overflowY:"auto",children:[(0,I.jsx)(T,{assetGroup:{name:"Private Assets"},depth:0,onSelect:()=>{v(!x)},isExpanded:x,secondaryIconComponent:(0,I.jsx)(m.Z,{size:16,stroke:u.Z.colors.grayscale.gray300})}),x&&y?.map((e=>{if("AssetGroup"!==e.type)return null;const o=e.value;return o.parentAssetGroupId?null:(0,I.jsx)(Z,{assetsAndAssetGroups:y,parentAssetGroup:o,teamspaces:r||[],selectedAssetGroup:t,setSelectedAssetGroup:s,expandedAssetGroups:n,setExpandedAssetGroups:a},o.id)})),x&&(0,I.jsx)(L,{parentAssetGroup:null,onSuccess:i,depth:1,privateInTeam:!0}),(0,I.jsx)(T,{assetGroup:{name:"Shared Assets"},depth:0,onSelect:()=>{w(!b)},isExpanded:b,secondaryIconComponent:(0,I.jsx)(h.Z,{size:16,stroke:u.Z.colors.grayscale.gray300})}),b&&l?.map((e=>{if("AssetGroup"!==e.type)return null;const o=e.value;return o.parentAssetGroupId?null:(0,I.jsx)(Z,{assetsAndAssetGroups:l,parentAssetGroup:o,teamspaces:r||[],selectedAssetGroup:t,setSelectedAssetGroup:s,expandedAssetGroups:n,setExpandedAssetGroups:a},o.id)})),b&&(0,I.jsx)(L,{parentAssetGroup:null,onSuccess:i,depth:1,privateInTeam:!1})]}),(0,I.jsx)(f.Z,{})]}):null};var z=(0,o.ZP)(p.x).withConfig({displayName:"SaveToFolderList___StyledBox",componentId:"sc-1y5qr7i-0"})(["width:calc(100% + 12px);padding-right:12px;margin-right:-12px;height:370px;"]),V=s("./app/components/Views/Teamspace/teamspaceEventUtils.ts"),B=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),G=s("./app/components/Views/MagicTools/Components/Common/SaveToFolder/useSavedAssetGroupForCurrentTool.tsx"),F=s("./app/components/Views/MagicTools/Components/Common/Teamspaces/SaveToFolderContext.tsx");const $=e=>{let{teamId:t,children:s}=e;const[o,l]=(0,g.useState)(null),{setSavedAssetGroupId:c}=(0,G.C)(t),{open:d,onOpenChange:p}=(0,F.mv)();return(0,I.jsxs)(B.fC,{onOpenChange:p,open:d,children:[(0,I.jsx)(W,{onClick:()=>{(0,V.T8)()},children:s}),(0,I.jsxs)(B.h_,{children:[(0,I.jsx)(i.oh,{}),(0,I.jsx)(H,{children:(0,I.jsxs)(v.x,{flexDirection:"column",gap:"16px",children:[(0,I.jsxs)(v.x,{flexDirection:"column",children:[(0,I.jsx)(Y,{children:"Choose save location"}),(0,I.jsx)(r.Z,{color:"textSecondary",md:!0,children:"Applies to creations generated after this point."})]}),(0,I.jsx)(g.Suspense,{fallback:(0,I.jsx)(v.x,{height:350,justifyContent:"center",children:(0,I.jsx)(a.Z,{background:"transparent"})}),children:(0,I.jsx)(U,{teamId:t,selectedAssetGroup:o,setSelectedAssetGroup:l})}),(0,I.jsxs)(v.x,{gap:"8px",width:"100%",children:[(0,I.jsx)(B.x8,{asChild:!0,children:(0,I.jsx)(X,{type:"button",eventProperties:{eventId:n._p.CloseSaveToTeamspace},children:"Cancel"})}),(0,I.jsx)(B.x8,{asChild:!0,children:(0,I.jsx)(q,{type:"button",onClick:()=>{o&&c(o.id)},eventProperties:{eventId:n._p.ConfirmSaveToTeamspace,selectedAssetGroupId:o?.id,selectedAssetGroupName:o?.name},disabled:!o,children:"Select"})})]})]})})]})]})};var W=(0,o.ZP)(B.xz).withConfig({displayName:"SaveToFolderDialog___StyledDialogTrigger",componentId:"sc-1a789db-0"})(["background:transparent;border:0;margin:0;padding:0;"]),H=(0,o.ZP)(i.ft).withConfig({displayName:"SaveToFolderDialog___StyledDarkDialogContent",componentId:"sc-1a789db-1"})(["width:400px;height:550px;padding:24px;"]),Y=(0,o.ZP)(i.LD).withConfig({displayName:"SaveToFolderDialog___StyledDarkDialogTitle",componentId:"sc-1a789db-2"})(["margin-bottom:8px;font-size:24px;font-style:normal;font-weight:600;line-height:32px;text-align:left;"]),X=(0,o.ZP)(l.x).withConfig({displayName:"SaveToFolderDialog___StyledRoundedSecondaryButton",componentId:"sc-1a789db-3"})(["flex:1;"]),q=(0,o.ZP)(l.K).withConfig({displayName:"SaveToFolderDialog___StyledRoundedPrimaryButton",componentId:"sc-1a789db-4"})(["flex:1;"])},"./app/components/Views/MagicTools/Components/Common/Teamspaces/SaveToFolderSelector.tsx":(e,t,s)=>{"use strict";s.d(t,{g:()=>b});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/api/hooks/useAssetsAndAssetsGroups.ts"),a=s("./app/api/hooks/useTeams.ts"),i=s("./app/components/Prefabs/Text.tsx"),r=s("./app/devoe/themeBase.ts"),l=s("./app/devoe/themeDark.ts"),c=s("./app/utils/hooks/useMediaQuery.ts"),d=s("./app/utils/truncateString.ts"),p=s("./node_modules/lucide-react/dist/esm/icons/folder.js"),u=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),m=s("./node_modules/react/index.js"),h=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),g=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts"),f=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),y=s("./app/components/Views/MagicTools/Components/Common/SaveToFolder/useSavedAssetGroupForCurrentTool.tsx"),x=s("./node_modules/react/jsx-runtime.js");const v={[h.W.GEN_1]:"Gen 1",[h.W.GEN_2]:"Gen 2",[h.W.TEXT_TO_SPEECH]:"Text to Speech"},b=()=>{const e=(0,a.Qt)();return(0,x.jsx)(m.Suspense,{fallback:(0,x.jsxs)(_,{alignItems:"center",gap:"8px",children:[(0,x.jsx)(I,{}),(0,x.jsx)(T,{height:16,width:16,color:l.Z.colors.textSecondary,strokeWidth:1.8})]}),children:(0,x.jsx)(w,{asTeamId:e.id})})},w=e=>{let{asTeamId:t}=e;const{savedAssetGroup:s}=(0,y.C)(t,{savePrevious:!0}),o=(0,g.y7)();(0,n.s)({asTeamId:t,privateInTeam:!0}),(0,n.s)({asTeamId:t,privateInTeam:!1});const a=(0,c.ac)(`(max-width: ${r.u.breakpoints.sm})`)?12:36,i=s?.name?s.name:v[o]||"Assets";return(0,x.jsxs)(j,{alignItems:"center",gap:"8px",children:[(0,x.jsx)(k,{}),(0,x.jsx)(C,{md:!0,color:"white",children:(0,d.a)(i,a)}),(0,x.jsx)(E,{height:16,width:16,color:l.Z.colors.textSecondary,strokeWidth:1.8})]})};var _=(0,o.ZP)(f.x).withConfig({displayName:"SaveToFolderSelector___StyledBox",componentId:"sc-1el6bfk-0"})(["cursor:pointer;"]),I=(0,o.ZP)(p.Z).withConfig({displayName:"SaveToFolderSelector___StyledFolderIcon",componentId:"sc-1el6bfk-1"})(["fill:white;"]),T=(0,o.ZP)(u.Z).withConfig({displayName:"SaveToFolderSelector___StyledChevronDownIcon",componentId:"sc-1el6bfk-2"})({marginLeft:"4px"}),j=(0,o.ZP)(f.x).withConfig({displayName:"SaveToFolderSelector___StyledBox2",componentId:"sc-1el6bfk-3"})(["cursor:pointer;"]),k=(0,o.ZP)(p.Z).withConfig({displayName:"SaveToFolderSelector___StyledFolderIcon2",componentId:"sc-1el6bfk-4"})(["fill:white;"]),C=(0,o.ZP)(i.Z).withConfig({displayName:"SaveToFolderSelector___StyledText",componentId:"sc-1el6bfk-5"})(["font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),E=(0,o.ZP)(u.Z).withConfig({displayName:"SaveToFolderSelector___StyledChevronDownIcon2",componentId:"sc-1el6bfk-6"})({marginLeft:"4px"})},"./app/components/Views/MagicTools/Components/Common/Text.tsx":(e,t,s)=>{"use strict";s.d(t,{Dx:()=>i,Ts:()=>a,__:()=>l,d8:()=>d,lT:()=>c,xv:()=>r});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./node_modules/styled-system/dist/index.esm.js");const a=(0,o.iv)(["font-style:normal;color:",";"],(e=>e.theme.colors.white)),i=o.ZP.h1.withConfig({displayName:"Text__Title",componentId:"sc-cweq7v-0"})([""," "," font-size:",";line-height:",";font-weight:500;",""],n.Dh,a,(e=>e.theme.fonts.size.xxl),(e=>e.theme.fonts.lineHeight.xxl),n.cp),r=o.ZP.p.withConfig({displayName:"Text",componentId:"sc-cweq7v-1"})([""," ",";font-size:",";line-height:",";font-weight:400;",""],n.Dh,a,(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),n.cp),l=o.ZP.p.withConfig({displayName:"Text__Label",componentId:"sc-cweq7v-2"})([""," ",";font-size:",";line-height:",";font-weight:200;color:",";",""],n.Dh,a,(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.theme.colors.textSecondary),n.cp),c=o.ZP.button.withConfig({displayName:"Text__TextAction",componentId:"sc-cweq7v-3"})(["",";font-size:",";line-height:",";font-weight:200;color:",";border:0;background:transparent;outline:0;transition:color 0.2s ease-in-out;border-radius:5px;padding:4px 8px;&:hover{background:#282b2f;color:",";}&:disabled{background:transparent;color:",";cursor:not-allowed;}",""],a,(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.theme.colors.textSecondary),(e=>e.theme.colors.white),(e=>e.theme.colors.textSecondary),n.Dh),d=(0,o.ZP)(r).withConfig({displayName:"Text__Bold",componentId:"sc-cweq7v-4"})(["font-weight:600;"])},"./app/components/Views/MagicTools/Components/Common/Toast.tsx":(e,t,s)=>{"use strict";s.d(t,{Ir:()=>y,JW:()=>b,VW:()=>v});var o=s("./node_modules/@radix-ui/react-toast/dist/index.module.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./node_modules/uuid/dist/esm-browser/v4.js"),l=s("./app/devoe/themeDark.ts"),c=s("./app/components/Prefabs/Icon/Icon.tsx"),d=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),p=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),u=s("./app/components/Views/MagicTools/Components/Common/Text.tsx"),m=s("./node_modules/react/jsx-runtime.js");const h=[],g=5e3,f=(0,n.createContext)({multiToastState:h,dispatchMultiToastState:()=>null}),y=e=>({id:r.Z(),title:"",open:!1,...e}),x=(e,t)=>{switch(t.type){case"ADD_TOAST":const s=t.data;if(e.length>0){return[s,...e.slice(0,1)]}return[s];case"SET_TOAST":return e.find((e=>e.id===t.data.id))?e.map((e=>e.id===t.data.id?t.data:e)):(console.error(`Toast id ${t.data.id} not found. Did you forget to ADD_TOAST before calling SET_TOAST`),e);case"UPDATE_TOAST":return e.find((e=>e.id===t.data.id))?e.map((e=>e.id===t.data.id?{...e,...t.data}:e)):(console.error(`Toast id ${t.data.id} not found. Did you forget to ADD_TOAST before calling SET_TOAST`),e);case"REMOVE_TOAST":return e.filter((e=>e.id!==t.data.id));default:return e}},v=e=>{let{children:t}=e;const[s,a]=(0,n.useReducer)(x,h),i=s.some((e=>e.open));return(0,m.jsx)(o.zt,{swipeDirection:"right",duration:g,children:(0,m.jsxs)(f.Provider,{value:{multiToastState:s,dispatchMultiToastState:a},children:[t,s.map((e=>(0,m.jsx)(w,{toastState:e,onOpenChange:t=>{a({type:"SET_TOAST",data:{...e,open:t}})}},e.id))),i&&(0,m.jsx)(k,{})]})})},b=()=>{const e=(0,n.useContext)(f),{multiToastState:t,dispatchMultiToastState:s}=e;if(!e)throw new Error("useToast must be called from a child of ToastContext");return[t,s]},w=e=>{let{toastState:t,onOpenChange:s}=e;return(0,m.jsxs)(C,{open:t.open,onOpenChange:s,duration:t.keepOpen?5e6:g,"data-testid":"toast",children:[(0,m.jsxs)(D,{children:[(0,m.jsx)(S,{$_css:t.progressRatio&&"max-width: 75%",children:(0,m.jsx)(O,{$_css2:l.Z.fonts.size.md,$_css3:l.Z.fonts.lineHeight.md,$_css4:t.error?l.Z.colors.red:l.Z.colors.textPrimary,children:t.title})}),t.progressRatio&&t.progressRatio<1&&(0,m.jsxs)(L,{$_css5:l.Z.fonts.size.md,$_css6:l.Z.fonts.lineHeight.md,$_css7:l.Z.colors.primaryLight,children:[(100*t.progressRatio).toFixed(0),"%"]}),(0,m.jsx)(N,{"aria-label":"Close",$_css8:l.Z.fonts.lineHeight.md,$_css9:l.Z.fonts.lineHeight.md,children:(0,m.jsx)(_,{justifyContent:"end",children:(0,m.jsx)(c.Z,{icon:"close",color:l.Z.colors.textSecondary,size:11})})})]}),(t.description||t.workspaceNotification||t.actionContent)&&(0,m.jsxs)(R,{children:[(0,m.jsx)(A,{asChild:!0,children:(0,m.jsxs)(d.x,{flexDirection:"column",children:[t.description&&(0,m.jsxs)(Z,{$_css10:l.Z.fonts.size.xs,children:[t.description," "]}),t.workspaceNotification&&(0,m.jsxs)(d.x,{children:[(0,m.jsx)(U,{$_css11:l.Z.fonts.size.xs,children:"Saved to"}),(0,m.jsx)("pre",{children:(0,m.jsx)(z,{$_css12:l.Z.fonts.size.xs,$_css13:l.Z.colors.primaryLight,children:` ${t.workspaceNotification}`})})]})]})}),t.actionContent&&(0,m.jsx)(M,{asChild:!0,altText:"Goto schedule to undo",children:(0,m.jsx)(V,{paddingX:"8px",onClick:t.onActionClick,$_css14:l.Z.fonts.size.xs,$_css15:l.Z.colors.textPrimary,children:t.to?(0,m.jsx)(a.rU,{to:t.to,children:t.actionContent}):t.actionContent})})]})]})};const _=(0,i.ZP)(d.x).withConfig({displayName:"Toast__Clickable",componentId:"sc-1t7h020-0"})(["&:hover *{cursor:pointer;}"]),I=(0,i.F4)(["from{transform:translateX(calc(100% + ","px));}to{transform:translateX(0);}"],48),T=(0,i.F4)(["0%{opacity:1;}100%{opacity:0;}"]),j=(0,i.F4)(["from{transform:translateX(var(--radix-toast-swipe-end-x));}to{transform:translateX(calc(100% + ","px));}"],48),k=(0,i.ZP)(o.l_).withConfig({displayName:"Toast__ToastViewport",componentId:"sc-1t7h020-1"})(["position:fixed;bottom:0;right:0;display:flex;flex-direction:column;gap:10px;z-index:2147483647;box-sizing:border-box;padding:16px;width:100%;max-width:100vw;pointer-events:all;@media (min-width:1024px){box-sizing:content-box;width:340px;margin:","px ","px;padding:0;}"],24,48),C=(0,i.ZP)(o.fC).withConfig({displayName:"Toast__StyledToast",componentId:"sc-1t7h020-2"})(["background-color:#1f1f21;border-radius:6px;box-shadow:hsl(206 22% 7% / 35%) 0px 10px 38px -10px,hsl(206 22% 7% / 20%) 0px 10px 20px -15px;padding:15px;display:flex;flex-direction:column;column-gap:15px;align-items:center;@media (prefers-reduced-motion:no-preference){&[data-state='open']{animation:"," 150ms cubic-bezier(0.16,1,0.3,1);}&[data-state='closed']{animation:"," 100ms ease-in;}&[data-swipe='move']{transform:translateX(var(--radix-toast-swipe-move-x));}&[data-swipe='cancel']{transform:translateX(0);transition:transform 200ms ease-out;}&[data-swipe='end']{animation:"," 100ms ease-out;}}"],I,T,j),E=(0,i.ZP)(o.Dx).withConfig({displayName:"Toast__ToastTitle",componentId:"sc-1t7h020-3"})(["grid-area:title;font-weight:500;color:",";font-size:15px;"],(e=>e.theme.colors.textPrimary));var S=(0,i.ZP)(E).withConfig({displayName:"Toast___StyledToastTitle",componentId:"sc-1t7h020-4"})(["",";"],(e=>e.$_css));const A=(0,i.ZP)(o.dk).withConfig({displayName:"Toast__ToastDescription",componentId:"sc-1t7h020-5"})(["grid-area:description;margin:0px;color:",";font-size:13px;line-height:1.3;"],(e=>e.theme.colors.textSecondary)),M=(0,i.ZP)(o.aU).withConfig({displayName:"Toast__ToastAction",componentId:"sc-1t7h020-6"})(["grid-area:action;color:black;"]),P=(0,i.ZP)(o.x8).withConfig({displayName:"Toast__ToastClose",componentId:"sc-1t7h020-7"})(["background:transparent;border:none;grid-area:close;"]);var N=(0,i.ZP)(P).withConfig({displayName:"Toast___StyledToastClose",componentId:"sc-1t7h020-8"})(["width:",";height:",";align-self:start;"],(e=>e.$_css8),(e=>e.$_css9)),D=(0,i.ZP)(d.x).withConfig({displayName:"Toast___StyledBox",componentId:"sc-1t7h020-9"})(["width:100%;justify-content:space-between;align-items:center;gap:4px;"]),O=(0,i.ZP)(u.Dx).withConfig({displayName:"Toast___StyledTitle",componentId:"sc-1t7h020-10"})(["font-size:",";line-height:",";color:",";"],(e=>e.$_css2),(e=>e.$_css3),(e=>e.$_css4)),L=(0,i.ZP)(d.x).withConfig({displayName:"Toast___StyledBox2",componentId:"sc-1t7h020-11"})(["grid-area:progress;width:min-content;font-size:",";line-height:",";color:",";flex-grow:1;justify-content:right;align-self:start;"],(e=>e.$_css5),(e=>e.$_css6),(e=>e.$_css7)),R=(0,i.ZP)(d.x).withConfig({displayName:"Toast___StyledBox3",componentId:"sc-1t7h020-12"})(["width:100%;justify-content:space-between;align-items:center;gap:4px;margin-top:8px;"]),Z=(0,i.ZP)(u.xv).withConfig({displayName:"Toast___StyledText",componentId:"sc-1t7h020-13"})(["font-size:",";"],(e=>e.$_css10)),U=(0,i.ZP)(u.xv).withConfig({displayName:"Toast___StyledText2",componentId:"sc-1t7h020-14"})(["font-size:",";"],(e=>e.$_css11)),z=(0,i.ZP)(u.xv).withConfig({displayName:"Toast___StyledText3",componentId:"sc-1t7h020-15"})(["font-size:",";color:",";"],(e=>e.$_css12),(e=>e.$_css13)),V=(0,i.ZP)(p.KM).withConfig({displayName:"Toast___StyledPrimaryButton",componentId:"sc-1t7h020-16"})(["font-size:",";min-height:auto;color:",";"],(e=>e.$_css14),(e=>e.$_css15))},"./app/components/Views/MagicTools/Components/Common/ToggleButton.tsx":(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Views/MagicTools/Components/Common/Button.tsx");const a=(0,o.ZP)(n.ZP).withConfig({displayName:"ToggleButton",componentId:"sc-x5bxin-0"})(["border-radius:2px;transition:color 0.2s ease-in-out,background-color 0.2s ease-in-out;&[data-active='true']{background-color:",";color:",";}&:focus-visible{outline:2px solid ",";}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.white),(e=>e.theme.colors.primary))},"./app/components/Views/MagicTools/Components/Common/Tooltip.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s("./node_modules/@radix-ui/react-tooltip/dist/index.mjs"),n=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=s("./app/components/Prefabs/ShortcutTooltip.tsx"),i=s("./node_modules/react/jsx-runtime.js");const r=(0,n.ZP)(a.VY).withConfig({displayName:"Tooltip__Content",componentId:"sc-1tn7406-0"})(["max-width:228px;"]),l=e=>{let{children:t,content:s,...n}=e;return(0,i.jsxs)(o.fC,{...n,children:[(0,i.jsx)(o.xz,{asChild:!0,children:t}),(0,i.jsx)(o.h_,{children:(0,i.jsxs)(r,{children:[s,(0,i.jsx)(a.Eh,{})]})})]})}},"./app/components/Views/MagicTools/Components/Common/TopBar.tsx":(e,t,s)=>{"use strict";s.d(t,{ns:()=>_,WR:()=>I,ZP:()=>C});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/utils/hooks/useSelector.ts"),r=s("./app/components/Prefabs/Avatar/Avatar.tsx"),l=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),c=s("./app/devoe/assets/icons/@component-icons/recipes/back-arrow.svg"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./app/components/Prefabs/TextAction.tsx"),u=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts"),m=s("./app/components/Prefabs/Button.tsx"),h=s("./app/components/Prefabs/ShortcutTooltip.tsx"),g=s("./node_modules/react/jsx-runtime.js");const f=()=>(0,g.jsx)(h.ZP,{message:"This tool doesn't use credits.",maxWidth:"258px",side:"top",align:"start",children:(0,g.jsx)(l.x,{children:(0,g.jsx)(y,{message:"✨ ",disabled:!0,onClick:()=>{}})})});var y=(0,a.ZP)(m.Z).withConfig({displayName:"NoCreditsButton___StyledButton",componentId:"sc-cxidp1-0"})(["min-width:30px;max-width:30px;padding:0;border:none;filter:saturate(0);cursor:default;"]),x=s("./app/components/Views/MagicTools/Components/Common/IconButton.tsx"),v=s("./app/components/Views/MagicTools/Components/Common/Teamspaces/SaveToFolderDialog.tsx"),b=s("./app/api/hooks/useTeams.ts"),w=s("./app/components/Views/MagicTools/Components/Common/Teamspaces/SaveToFolderSelector.tsx");const _=45,I=2,T=(0,a.ZP)(l.x).withConfig({displayName:"TopBar__Container",componentId:"sc-n8myk3-0"})(["box-sizing:border-box;position:absolute;top:0;border-bottom:1px solid #1d1e23;width:calc(100% + 16px);height:","px;align-items:center;display:flex;z-index:",";background:#000;justify-content:space-between;"],_,I),j=a.ZP.div.withConfig({displayName:"TopBar__CenterColumn",componentId:"sc-n8myk3-1"})(["position:absolute;left:50%;transform:translate(-50%,0);display:flex;"]),k=a.ZP.div.withConfig({displayName:"TopBar__SideColumn",componentId:"sc-n8myk3-2"})(["display:flex;flex:1;margin:0 8px;"]),C=e=>{let{children:t,name:s,backLink:a,noCredits:l,className:m,includeTeamspacePicker:h=!1}=e;const y=(0,n.k6)(),_=(0,i.Z)((e=>e.user)),I=(0,u.sC)(),C="/dashboard",S=(0,b.Qt)();return(0,g.jsxs)(T,{mx:-16,as:"nav",role:"navigation",className:m,children:[(0,g.jsxs)(k,{style:{padding:"0 24px"},children:[(0,g.jsx)(x.Z,{role:"back",onClick:()=>y.push(a||C),children:(0,g.jsx)(c.default,{})}),h&&(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(v.l,{teamId:S.id,children:(0,g.jsx)(w.g,{})})})]}),(0,g.jsxs)(j,{style:{alignItems:"center",justifyContent:"center"},children:[(0,g.jsx)(r.Z,{image:_.picture,user:_.username,size:"x-small",type:"rounded",style:{borderRadius:"16px",marginRight:"8px"}}),(0,g.jsx)(p.ZP,{bold:!0,lg:!0,white:!0,onClick:()=>y.push(C),children:"AI Magic Tools"}),(0,g.jsx)(E,{bold:!0,lg:!0,children:"/"}),(0,g.jsx)(d.Z,{lg:!0,secondary:!0,children:s||I})]}),(0,g.jsxs)(k,{style:{alignItems:"center",justifyContent:"right",gap:"8px"},children:[l&&(0,g.jsx)(f,{}),t]})]})};var E=(0,a.ZP)(d.Z).withConfig({displayName:"TopBar___StyledText",componentId:"sc-n8myk3-3"})({padding:"0 6px 0 8px"})},"./app/components/Views/MagicTools/Components/Outputs/ReactHlsPlayer.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>I,mZ:()=>y,qh:()=>u,tH:()=>m});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/framesync/dist/es/index.mjs"),a=s("./node_modules/hls.js/dist/hls.js"),i=s.n(a),r=s("./node_modules/media-chrome/dist/react/index.js"),l=s("./node_modules/react/index.js"),c=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=s("./app/streams/BufferMonitor.ts"),p=s("./node_modules/react/jsx-runtime.js");const u=35,m=30,h=l.memo((e=>{let{hlsConfig:t,playerRef:s=l.createRef(),src:a,autoPlay:r,hideTimeRange:c,controls:u,alwaysDisplayTimeRange:m,playbackMonitor:h,showSpinner:y=!0,...I}=e;const T=(0,l.useRef)(null),j=(0,l.useRef)(null),[k,C]=(0,l.useState)(!0),[E,S]=(0,l.useState)(!1),A=s.current?.paused;return(0,l.useEffect)((()=>{let e;return i().isSupported()&&function l(){e&&e.destroy();const c=new(i())({enableWorker:!1,...t});if(null!==s.current){const e=Date.now();c.attachMedia(s.current),h&&h(c,e),j.current=new d.Z(s.current,[]),T.current=n.ZP.update((()=>{if(s.current?.ended||s.current?.currentTime===s.current?.duration)return void C(!1);const e=!!j.current?.checkForBuffering();C(e)}),!0)}c.on(i().Events.MEDIA_ATTACHED,(()=>{c.loadSource(a),c.on(i().Events.MANIFEST_PARSED,(()=>{r&&s?.current?.play().catch((()=>console.log("Unable to autoplay prior to user interaction with the dom.")))}))})),c.on(i().Events.ERROR,(function(e,t){if(t.fatal)switch((0,o.Tb)(t),t.type){case i().ErrorTypes.NETWORK_ERROR:c.startLoad();break;case i().ErrorTypes.MEDIA_ERROR:c.recoverMediaError();break;default:l()}})),e=c}(),()=>{null!==e&&e?.destroy(),T.current&&(n.qY.update(T.current),T.current=null)}}),[r,t,s,a,h]),(0,l.useEffect)((()=>{E||!A?k&&s.current?.currentTime&&s.current?.currentTime>0?(S(!0),s.current?.pause()):!k&&E&&A&&(S(!1),s.current?.play()):s.current?.pause()}),[k,E,s,A]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(g,{id:"hls-video-controller",style:{height:"100%",width:"100%"},children:[(0,p.jsx)("video",{ref:s,...I,slot:"media",controls:!1}),u&&(0,p.jsxs)(_,{children:[(0,p.jsx)(x,{}),(0,p.jsx)(b,{}),(0,p.jsx)(w,{})]}),!c&&(0,p.jsx)(v,{persist:!!m})]}),k&&y&&(0,p.jsx)(f,{})]})})),g=(0,c.ZP)(r.LZ).withConfig({displayName:"ReactHlsPlayer__StyledMediaController",componentId:"sc-1q3pyp4-0"})(["height:100%;width:100%;isolation:isolate;"]),f=(0,c.ZP)((e=>(0,p.jsx)("svg",{width:50,height:50,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",...e,children:(0,p.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,p.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,p.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),(0,p.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:(0,p.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}))).withConfig({displayName:"ReactHlsPlayer__StyledLoader",componentId:"sc-1q3pyp4-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),y=(0,c.iv)(["background:linear-gradient( 0deg,rgba(0,0,0,0.9) 0%,rgba(0,0,0,0.3) 100% );"]),x=(0,c.ZP)(r.UU).withConfig({displayName:"ReactHlsPlayer__StyledMediaPlayButton",componentId:"sc-1q3pyp4-2"})(["background:none;position:absolute;"]),v=(0,c.ZP)(r.IJ).withConfig({displayName:"ReactHlsPlayer__StyledMediaTimeRange",componentId:"sc-1q3pyp4-3"})(["width:100%;height:","px;"," ",";"],m,y,(e=>e.persist&&"opacity: 100%")),b=(0,c.ZP)(r._p).withConfig({displayName:"ReactHlsPlayer__StyledMediaVolumeRange",componentId:"sc-1q3pyp4-4"})(["background:none;position:absolute;left:50px;"]),w=(0,c.ZP)(r.iJ).withConfig({displayName:"ReactHlsPlayer__StyledMediaFullscreenButton",componentId:"sc-1q3pyp4-5"})(["background:none;right:0;position:absolute;"]),_=(0,c.ZP)(r.G8).withConfig({displayName:"ReactHlsPlayer__StyledMediaControlBar",componentId:"sc-1q3pyp4-6"})(["height:","px;background:linear-gradient( 0deg,rgba(0,0,0,0.3) 0%,rgba(0,0,0,0) 100% );"],u),I=h},"./app/components/Views/MagicTools/Components/Outputs/VideoNative.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,m:()=>c});var o=s("./app/utils/merge-refs.ts"),n=s("./node_modules/react/index.js"),a=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),r=s("./node_modules/react/jsx-runtime.js");const l=(0,n.forwardRef)(((e,t)=>{let{fitVideo:s=!0,onLoadedMetadata:n=(()=>{}),videoRef:a,disablePictureInPicture:i,playbackMonitorFn:l,...c}=e;return(0,r.jsx)("video",{ref:(0,o.l)(a,t),onLoadedMetadata:e=>{if(n(e),a.current&&l){const e=Date.now();l(e)}const t=a.current?.parentElement;if(!a.current||!s||!t)return;const o=t.clientWidth/t.clientHeight;a.current.videoWidth/a.current.videoHeight>o?(a.current.style.width="100%",a.current.style.height="auto"):(a.current.style.width="auto",a.current.style.height="100%")},controlsList:"nodownload",preload:"auto",disablePictureInPicture:i,...c,style:{...c.style??{},maxWidth:"100%"}})})),c=(0,a.ZP)(i.x).withConfig({displayName:"VideoNative__VideoNativeFullWidthContainer",componentId:"sc-kgdfgc-0"})([""," justify-content:center;max-width:100%;width:100%;aspect-ratio:",";"],(e=>e.videoHeight>=e.videoWidth?(0,a.iv)(["height:100%;max-height:600px;"]):(0,a.iv)(["height:auto;"])),(e=>e.videoWidth/e.videoHeight))},"./app/components/Views/MagicTools/Components/Outputs/VideoOutput.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>D});var o=s("./app/components/Prefabs/ShortcutTooltip.tsx"),n=s("./app/components/Views/Assets/shared.tsx"),a=s("./app/devoe/assets/icons/@component-icons/recipes/download.svg"),i=s("./app/utils/constants.ts"),r=s("./app/utils/http.ts"),l=s("./app/utils/urls.ts"),c=s("./node_modules/@sentry/core/esm/exports.js"),d=s("./node_modules/hls.js/dist/hls.js"),p=s.n(d),u=s("./node_modules/lodash/lodash.js"),m=s("./node_modules/mux-embed/dist/mux.js"),h=s.n(m),g=s("./node_modules/react/index.js"),f=s("./node_modules/react-redux/es/index.js"),y=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=s("./app/streams/utils.ts"),v=s("./app/utils/auth.ts"),b=s("./app/components/Prefabs/Text.tsx"),w=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),_=s("./app/components/Views/MagicTools/Components/Common/Canvas/index.tsx");class I extends p().DefaultConfig.loader{constructor(e){super(e);const t=this.load.bind(this);this.load=(e,s,o)=>{if("level"==e.type){const e=o.onSuccess;o.onSuccess=function(t,s,o){t.data=function(e,t){const s=t.split("\n"),o=[];let n=!1;for(const t of s){let s=!1;if(t.match(/EXT-X-TARGETDURATION:(\d+)/)){s=!0;const e=parseFloat(t.split(":")[1]),n=t.replace(e,Math.max(1,e).toFixed(3));o.push(n)}if(n){if(!t.startsWith("http")){let n=new URL(e).origin;t.includes("audioonly")&&(n="https://runway-datasets.s3.amazonaws.com/transcoded-datasets/hls/");const a=n+t;o.push(a),s=!0}n=!1}s||o.push(t),t.includes("#EXTINF:")&&(n=!0)}return o.join("\n")}(t.url,t.data),e(t,s,o,void 0)}}t(e,s,o)}}}const T=I;var j=s("./app/components/Views/MagicTools/Components/Outputs/ReactHlsPlayer.tsx"),k=s("./app/components/Views/MagicTools/Components/Outputs/VideoNative.tsx"),C=s("./node_modules/swr/dist/index.mjs"),E=s("./node_modules/react/jsx-runtime.js"),S=s("./node_modules/process/browser.js");const A=g.memo((e=>{let{playlistUrl:t,playerName:s,fitVideo:o=!1,vertical:n=!1,prefetchSegmentCount:a=10,playerRef:d,hideTimeRange:m=!1,controls:f=!0,alwaysDisplayTimeRange:y=!1,staticPlaylist:w=!1,onLoadedData:_,onLoadStart:I,onLoadedMetaData:j,onTimeUpdate:A,onProgress:P,onPause:D,onPlay:U,onError:z,playerConfig:V={},showSpinner:B=!0,...G}=e;const F=(0,g.useMemo)((()=>Math.random()<0),[]),{data:$}=(0,C.ZP)(w?null:["videoPlaylistManifest",t],(async()=>{let e=await(0,x.tG)(t);if(e.playlists){if(e.playlists.length>1)throw new Error(`HLS playlist contained ${e.playlists.length} nested playlists.\n              This component does not support more than 1 nested HLS playlists.`);if(e=await(0,x.tG)(e.playlists[0].uri),e.playlists&&e.playlists.length>0)throw new Error("HLS playlist contained doubly nested playlists. This component only supports a single\n              layer of playlist nesting.")}return e})),[W,H]=(0,g.useState)(0),[Y,X]=(0,g.useState)([]),[q,J]=(0,g.useState)(!1),[K,Q]=(0,g.useState)(!1),[ee,te]=(0,g.useState)(!1),se=(0,g.useMemo)((()=>q?3:K||ee?2:window.MediaSource?0:1),[K,ee,q]);(0,g.useEffect)((()=>{0!==se&&console.warn(`Playback Issues Encountered. Proceeding to fallback step: ${se}`)}),[se]);const oe=(0,g.useMemo)((()=>Object.assign({onDownloadClick:null,downloadButtonTooltip:"Download",onExportClick:null,exportButtonTooltip:"Save to Assets",fallbackAssetUrl:null,trackCustomProperties:{},videoMetadata:{}},V)),[V]);(0,g.useEffect)((()=>{if(w)return;if(!$?.segments?.[0])return;let e=(0,x.Lg)($.segments[0].uri);const t=$.segments.map((e=>({url:(0,x.cy)(e.uri),requested:!1})));0===e&&t.length>1&&$?.segments?.[1]&&(e=(0,x.Lg)($.segments[1].uri));const s=d.current;if(!s)return;const o=()=>{if(!s)return;const o=s.currentTime,n=Math.floor(o/e);for(let e=0;e<a;e++){const s=(n+e)%t.length;if(!t[s].requested){t[s].requested=!0;try{(0,r.XD)((()=>(0,v.Df)(t[s].url).then((e=>{e?.ok||(console.error("Could not prefetch segment."),H((e=>e+1)),X((e=>[...e,s])))}))))}catch(e){H((e=>e+1)),X((e=>[...e,s]))}}}A?.(o)};return o(),s.addEventListener("timeupdate",o),()=>{s.removeEventListener("timeupdate",o)}}),[$,a,d,A,w]),(0,g.useEffect)((()=>{if(W>=5){const e=new Error("Failed to prefetch stream: Max segment error count reached.");console.error(e);const s={error:e,extra:{url:t,segmentIndices:(0,u.uniq)(Y)}};(0,c.Tb)(s),z?.(s)}}),[z,t,W,Y]),(0,g.useEffect)((()=>{d.current&&o&&(d.current.setAttribute("width",n?"auto":"100%"),d.current.setAttribute("height",n?"100%":"auto"),d.current.setAttribute("style","max-height: 80vh;"))}),[d,o,n]);const ne=(0,g.useCallback)(((e,o)=>{F&&h().monitor(d.current,{debug:!1,Hls:p(),hlsjs:e,data:{env_key:i.sg,player_name:`Recipe: ${s}`,playlistUrl:t,srcEndpoint:s,player_init_time:o,...V.videoMetadata,...V.trackCustomProperties}})}),[V.trackCustomProperties,V.videoMetadata,s,d,t,F]),ae=(0,g.useCallback)((()=>{console.error(d.current?.error,t),(0,c.Tb)(d.current?.error),z?.({error:new Error("ReactHlsPlayer error"),extra:{url:t}}),Q(!0)}),[z,d,t,Q]),ie=(0,g.useCallback)((()=>{console.error(d.current?.error,d.current?.src),(0,c.Tb)(d.current?.error),z?.({error:new Error("Native Video error"),extra:{url:t}}),J(!0)}),[z,d,t,J]),re=(0,g.useCallback)((()=>{console.error(d.current?.error,t),(0,c.Tb)(d.current?.error),z?.({error:new Error("[ios] Native HLS Video error"),extra:{url:t}}),te(!0)}),[z,d,t,te]);(0,g.useEffect)((()=>{V.fallbackAssetUrl||console.warn("VideoOutput: No fallbackAssetUrl provided for VideoOutput. This video will not play on environments without HLS support.")}),[V.fallbackAssetUrl]);const le=(0,g.useMemo)((()=>(e=>({maxLoadingDelay:30,maxFragLookUpTolerance:0,nudgeMaxRetry:6,startFragPrefetch:!0,startLevel:-1,debug:S.env.HLS_LOGS,xhrSetup:function(e,t){const s=(0,v.bW)(),o=s&&!(0,l.Gu)(t)?(0,l.GD)(t,s):t;e.open("GET",o,!0)},pLoader:e?void 0:T}))(w)),[w]);return t?(0,E.jsxs)(N,{flexDirection:"column",className:"video-output-container",$_css:o&&n&&`\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            width: ${e=>e.width??"100%"}\n            `,children:[0===se&&(0,E.jsx)(R,{src:t,playerRef:d,onError:ae,onLoadStart:I,onLoadedData:()=>_?.(d),onLoadedMetadata:()=>j?.(d),onTimeUpdate:e=>{A?.(e.timeStamp)},onProgress:P,onPause:D,onPlay:U,hideTimeRange:m,controls:f,alwaysDisplayTimeRange:y,hlsConfig:le,playbackMonitor:ne,showSpinner:B,...G}),1===se&&(0,E.jsx)(k.Z,{videoRef:d,onPlay:U,onPause:D,onError:re,disablePictureInPicture:!0,playsInline:!0,src:t,onLoadStart:I,onLoadedData:()=>_?.(d),onTimeUpdate:e=>{A?.(e.timeStamp)},onProgress:P,controls:f,fitVideo:o,...G}),se>1&&(0,E.jsx)(k.Z,{videoRef:d,onPlay:U,onPause:D,onError:ie,disablePictureInPicture:!0,playsInline:!0,src:V.fallbackAssetUrl??t,onLoadStart:I,onLoadedData:()=>_?.(d),onTimeUpdate:e=>{A?.(e.timeStamp)},onProgress:P,controls:f,fitVideo:o,...G}),(0,E.jsxs)(M,{className:"cta-container",children:[null!==oe.onExportClick&&(0,E.jsx)(L,{tooltipText:oe.exportButtonTooltip,onClick:oe.onExportClick}),null!==oe.onDownloadClick&&(0,E.jsx)(O,{tooltipText:oe.downloadButtonTooltip,onClick:oe.onDownloadClick})]}),q&&(0,E.jsx)(Z,{children:(0,E.jsx)(b.Z,{children:"This video format cannot be played on this device."})})]}):null}),f.wU),M=y.ZP.div.withConfig({displayName:"VideoOutput__CTAContainer",componentId:"sc-1jncuj0-0"})(["display:none;position:absolute;top:4px;right:4px;flex-direction:row;gap:4px;"]),P=(0,y.ZP)(w.x).withConfig({displayName:"VideoOutput__Container",componentId:"sc-1jncuj0-1"})(["height:100%;width:100%;video{height:100%;}&:hover{","{display:flex;}}"],M);var N=(0,y.ZP)(P).withConfig({displayName:"VideoOutput___StyledContainer",componentId:"sc-1jncuj0-2"})(["",""],(e=>e.$_css));const D=A,O=(0,y.ZP)((e=>{let{tooltipText:t,onClick:s=(()=>{})}=e;return(0,E.jsx)(o.ZP,{message:t,side:"top",delayDuration:200,children:(0,E.jsx)(_.hA,{onClick:s,className:"video-download-button",children:(0,E.jsx)(a.default,{})})})})).withConfig({displayName:"VideoOutput__StyledDownloadButton",componentId:"sc-1jncuj0-3"})([""]),L=(0,y.ZP)((e=>{let{tooltipText:t,onClick:s=(()=>{})}=e;return(0,E.jsx)(o.ZP,{message:t,side:"top",delayDuration:200,children:(0,E.jsx)(_.hA,{onClick:s,className:"video-export-button",children:(0,E.jsx)(n.RO,{})})})})).withConfig({displayName:"VideoOutput__StyledExportButton",componentId:"sc-1jncuj0-4"})([""]);var R=(0,y.ZP)(j.ZP).withConfig({displayName:"VideoOutput___StyledReactHlsPlayer",componentId:"sc-1jncuj0-5"})(["background:",";",""],(e=>e.theme.colors.uiBackground),(e=>!e.isVertical&&"border-top-left-radius: 8px;\n              border-top-right-radius: 8px;")),Z=(0,y.ZP)(w.x).withConfig({displayName:"VideoOutput___StyledBox",componentId:"sc-1jncuj0-6"})(["position:absolute;bottom:-16px;justify-content:center;width:100%;"])},"./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/Preview/StyleStrengthSlider.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c,e:()=>l});var o=s("./app/utils/number.ts"),n=s("./node_modules/@xstate/react/es/useSelector.js"),a=(s("./node_modules/react/index.js"),s("./app/components/Views/MagicTools/Components/Common/Slider.tsx")),i=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/Preview/advanced-settings.tsx"),r=s("./node_modules/react/jsx-runtime.js");const l=e=>{const t=(0,o.KK)(e,0,1,0,4);return{cfg_scale:(0,o.KK)(e,0,1,6.5,10.5),depth_blur_level:Math.min(Math.max(Math.round(t),i.ap),i.t$)}},c=e=>{let{service:t,disabled:s=!1}=e;const o=(0,n.v)(t,(e=>e.context.styleStrength));return(0,r.jsx)(a.f,{label:"Style strength",disabled:s,min:0,max:100,step:1,info:"Controls how much to transform the original image based on the style reference.",value:[100*o],onValueChange:e=>t.send({type:"UPDATE_STYLE_STRENGTH",value:e[0]/100}),renderLabelInTooltip:!1,postfix:"%"})}},"./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/Preview/advanced-settings.tsx":(e,t,s)=>{"use strict";s.d(t,{OX:()=>u,Tp:()=>i,ZP:()=>m,ap:()=>o,hB:()=>l,im:()=>c,pt:()=>a,t$:()=>n});const o=0,n=7,a=1.1,i=15,r="lora_scale",l=.5,c=2,d=[{type:"number",label:"Style: Structural consistency",key:"depth_blur_level",min:o,max:n,step:1,info:"Higher values make the output more structurally different from the input video. Recommended: 0 to 5."},{type:"number",label:"Style: Weight",key:"cfg_scale",min:a,max:i,step:.1,info:"Higher values lead to more emphasis on matching the style rather than the input video. Recommended: 7.5 to 12.5."},{type:"custom",key:"seed"},{type:"number",label:"Frame consistency",key:"cfg_temporal_scale",min:.5,max:2,step:.05,info:"Values below 1 give decreased consistency across time; values above 1 increase how closely frames relate to prior frames. Recommended: 1.0 to 1.25."},{type:"number",label:"LoRA weight",key:r,min:0,max:1,step:.05,info:"Higher values will make the output more similar to the style of your custom checkpoint."},{type:"boolean",label:"Upscale",key:"upscale",info:"Automatically enhance image resolution (may slightly increase generation time).",paidFeature:!0},{type:"boolean",label:"Remove watermark",key:"remove_watermark",info:"Remove the Gen-1 watermark.",paidFeature:!0},{type:"boolean",label:"Affect foreground only",key:"mask_mode_foreground",info:"Will only affect the foreground subject and leave the background untouched."},{type:"boolean",label:"Affect background only",key:"mask_mode_background",info:"Will only affect the background and leave the foreground subject untouched."},{type:"boolean",label:"Compare wipe",key:"compare",info:"Will wipe from your original input video to the generated result to compare the input vs output."}],p=[r],u=d.filter((e=>!p.includes(e.key))),m=d},"./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/Preview/utils.ts":(e,t,s)=>{"use strict";s.d(t,{$N:()=>c,M3:()=>d,ad:()=>u,td:()=>l,uu:()=>m});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/uuid/dist/esm-browser/v4.js"),a=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/StyleReferencePanel/preset-items.ts"),i=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/constants.ts"),r=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/Preview/StyleStrengthSlider.tsx");const l=e=>{let{seconds:t,maxDurationSeconds:s=i.fj}=e;return 0===t?0:Math.max(Math.min(Math.floor(t),s),1)},c=e=>{const{options:t,presetId:s,styleReferenceType:o}=e,{image_prompt:n,text_prompt:i}=t;switch(o){case"Image":if(!n)return;return{image_prompt:n};case"Prompt":if(!(i||"").trim())return;return{text_prompt:i};case"Presets":const e=a.sQ.find((e=>e.id===s));if(!e)return;return e.value;default:return}},d=e=>{const{inputVideo:t,options:s,id:o,styleStrength:n,presetId:i}=e,r=a.sQ.find((e=>e.id===i))?.name;return{...s,assetUrl:t.url,assetWidth:t.metadata?.width,assetHeight:t.metadata?.height,assetDurationSeconds:t.metadata?.durationSeconds,styleStrength:n,presetName:r,presetId:i,id:o}},p=e=>{const{options:t,styleStrength:s,showAdvancedSettings:n,checkpoint:a}=e,{text_prompt:i,image_prompt:l,lora_scale:d,...p}=t;return{...p,...c(e)||{text_prompt:""},...n?{}:(0,r.e)(s),...a?.id&&!(0,o.isNil)(d)?{lora_scale:d}:{}}},u=e=>{const{inputVideo:t,styleReferenceType:s,showAdvancedSettings:o,styleStrength:a,checkpoint:i}=e;if(!t?.metadata)return;const r={inputVideo:t,id:(0,n.Z)(),options:p(e),checkpoint:i};return o||(r.styleStrength=a),"Presets"===s&&(r.presetId=e.presetId),r},m=e=>Boolean("Presets"===e.styleReferenceType&&e.presetId)},"./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/StyleReferencePanel/preset-items.ts":(e,t,s)=>{"use strict";s.d(t,{Ly:()=>a,_p:()=>r,hh:()=>i,sQ:()=>n});var o=s("./app/constants/media.ts");const n=[{name:"Android",id:"Android",image:`${o.yI}app/magic-tools/gen1/presets/android_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/android_prompt.webp`}},{name:"Balloon Face",id:"Balloon Face",image:`${o.yI}app/magic-tools/gen1/presets/balloon_face_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/balloon_face_prompt.webp`}},{name:"Claymation",id:"Claymation",image:`${o.yI}app/magic-tools/gen1/presets/claymation_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/claymation_prompt.webp`}},{name:"Cloudscape",id:"Cloudscape",image:`${o.yI}app/magic-tools/gen1/presets/cloudspace_display.webp`,value:{text_prompt:"a landscape made of cotton candy, cinematic lighting, plastic render",seed:3454465966,depth_blur_level:2}},{name:"Green",id:"Green",image:`${o.yI}app/magic-tools/gen1/presets/green_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/green_prompt.webp`}},{name:"Iso",id:"Iso",image:`${o.yI}app/magic-tools/gen1/presets/iso_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/iso_prompt.webp`}},{name:"Metal",id:"Metal",image:`${o.yI}app/magic-tools/gen1/presets/metal_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/metal_prompt.jpeg`}},{name:"Space",id:"Space",image:`${o.yI}app/magic-tools/gen1/presets/space_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/space_prompt.jpeg`}},{name:"Storyboard",id:"Storyboard",image:`${o.yI}app/magic-tools/gen1/presets/storyboard_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/storyboard_prompt.png`}},{name:"Abstract",id:"Abstract",image:`${o.yI}app/magic-tools/gen1/presets/abstract_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/abstract_prompt.webp`}},{name:"Clouds",id:"Cloudy",image:`${o.yI}app/magic-tools/gen1/presets/cloudy_display.webp`,value:{text_prompt:"a landscape made of cotton candy, cinematic lighting, plastic render",seed:3454465966,depth_blur_level:2}},{name:"Digital Illustration",id:"Digital Illustration",image:`${o.yI}app/magic-tools/gen1/presets/digital_illustration_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/digital_illustration_prompt.webp`}},{name:"Gradient",id:"Gradient",image:`${o.yI}app/magic-tools/gen1/presets/gradient_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/gradient_prompt.webp`}},{name:"Ink",id:"Pen and ink",image:`${o.yI}app/magic-tools/gen1/presets/ink_display.webp`,value:{text_prompt:"Blue pen and ink illustration, simple lines",seed:3208780927,depth_blur_level:2}},{name:"Neon",id:"Neon",image:`${o.yI}app/magic-tools/gen1/presets/neon_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/neon_prompt.webp`}},{name:"Origami",id:"Paper origami",image:`${o.yI}app/magic-tools/gen1/presets/origami_display.webp`,value:{text_prompt:"paper animation style, made of paper, origami",seed:751303755,depth_blur_level:3,cfg_scale:20}},{name:"Sky",id:"Sky",image:`${o.yI}app/magic-tools/gen1/presets/sky_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/sky_prompt.webp`}},{name:"Vibrant",id:"Vibrant",image:`${o.yI}app/magic-tools/gen1/presets/vibrant_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/vibrant_prompt.webp`}},{name:"Pet Cartoon",id:"Pet Cartoon",image:`${o.yI}app/magic-tools/gen1/presets/cartoon_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/cartoon_prompt.webp`}},{name:"Pet Digital",id:"Pet Digital",image:`${o.yI}app/magic-tools/gen1/presets/digital_painting_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/digital_painting_prompt.webp`}},{name:"Pet Illustration",id:"Pet Illustration",image:`${o.yI}app/magic-tools/gen1/presets/art_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/art_prompt.webp`}},{name:"Futuristic",id:"Futuristic",image:`${o.yI}app/magic-tools/gen1/presets/futuristic_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/futuristic_prompt.webp`}},{name:"Illustration",id:"Illustration",image:`${o.yI}app/magic-tools/gen1/presets/illustration_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/illustration_prompt.webp`}},{name:"Sci-fi",id:"Sci-fi",image:`${o.yI}app/magic-tools/gen1/presets/sci-fi_display.webp`,value:{image_prompt:`${o.yI}app/magic-tools/gen1/presets/sci-fi_prompt.webp`}}],a=e=>n.find((t=>t.value.image_prompt===e)),i=(e,t)=>n.find((s=>s.value.text_prompt===e&&s.value.seed===t)),r=e=>n.find((t=>t.id===e))},"./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Di:()=>d,EJ:()=>f,KZ:()=>c,MW:()=>y,Ux:()=>m,_D:()=>l,fj:()=>i,pu:()=>g,r3:()=>a,wq:()=>h});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/utils.ts");const a=15,i=4,r={Presets:"recipes/gen1/presets",Image:"recipes/gen1/image",Prompt:"recipes/gen1/prompt"},l=()=>["Image","Presets","Prompt"].map((e=>({value:e,icon:r[e]}))),c=0,d=2**32-1,p={image_prompt:"",text_prompt:"",seed:1,depth_blur_level:2,cfg_temporal_scale:1,cfg_scale:8.5,watermark:!0,mask_mode_foreground:!1,mask_mode_background:!1,compare:!1,upscale:!1,lora_scale:1},u={watermark:!1},m=e=>{let{currentPlan:t}=e;return{...p,...(0,o.Q6)(t)?{}:u,seed:(0,n.mZ)()}},h="https://help.runwayml.com/hc/en-us/articles/15161225169171",g="out of frame, lowres, text, error, cropped, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, out of frame, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck, username, watermark, signature",f=5e3,y="gen1preview"},"./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/utils.ts":(e,t,s)=>{"use strict";s.d(t,{NR:()=>p,OS:()=>d,mZ:()=>c});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/api/tasks.ts"),a=s("./app/utils/auth.ts"),i=s("./app/utils/filenames.ts"),r=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/Preview/utils.ts"),l=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/constants.ts");const c=()=>Math.floor(Math.random()*l.Di),d=async e=>{let{options:t,asTeamId:s,assetGroupId:o}=e;return await(0,n.qJ)({taskType:"gen1",internal:!1,options:{...t,assetGroupId:o},asTeamId:s,throwOnError:!0})},p=e=>{let{payload:t,videoDurationSeconds:s,plan:n,includeDefaultNegativePrompt:c=!1}=e;const d=(e=>{let{filename:t,textPrompt:s}=e,o=`Gen-1 ${(0,i.Sb)(t).substring(0,20)}`;return s&&(o+=` - ${s}`),o.replace(/\./g,"").substring(0,60)})({filename:t.inputVideo.metadata?.name||"",textPrompt:t.options.text_prompt}),{lora_scale:p,...u}=t.options,m={name:d,gen1Options:{...u,video:t.inputVideo.url},seconds:(0,r.td)({seconds:s,maxDurationSeconds:l.fj}),audioStreamDescription:{model_name:"raw_audio",command_name:"raw_audio",inputs:{audio:t.inputVideo.url}}};t.checkpoint?.id&&(m.gen1Options.lora_asset_id=t.checkpoint.id,m.gen1Options.lora_scale=t.options.lora_scale,m.gen1Options.api_jwt_token=(0,a.bW)()),(0,o.Q6)(n)||(m.gen1Options={...m.gen1Options,spatial_upfusion:!0,temporal_upfusion:!0,n_frames:88},m.seconds=(0,r.td)({seconds:s,maxDurationSeconds:l.r3}));let h=l.fj;return(0,o.Q6)(n)||(h=l.r3),m.audioEnd=Math.min(s,h),c&&(m.gen1Options.negative_prompt=l.pu),m}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Gen2SecondaryButton/Gen2SecondaryButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/Components/Common/Button.tsx");const n=(0,s("./node_modules/styled-components/dist/styled-components.browser.esm.js").ZP)(o.kq).withConfig({displayName:"Gen2SecondaryButton",componentId:"sc-huiliv-0"})(["background:",";border-radius:6px;"],(e=>{let{theme:t}=e;return t.colors.grayscale.gray600}))},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/OutputSucceeded/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{A4:()=>x,Fp:()=>v,IF:()=>c,MM:()=>w,Tu:()=>C,WJ:()=>_,XO:()=>b,Xj:()=>I,Yt:()=>h,bU:()=>T,dc:()=>j,iA:()=>k,lo:()=>g,nM:()=>u,pN:()=>m,qf:()=>f,rQ:()=>p,yO:()=>y,zE:()=>d});var o=s("./node_modules/@xstate/react/es/useSelector.js"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/react/index.js"),i=(s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts"),s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/extend/getAncestorOutputIdsForInitVideoUrl.ts")),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2OutputServiceQuery.ts"),l=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2Service.tsx");const c=e=>{const t=e.task,s=t?.artifacts?.[0];return s?.url||""},d=e=>(0,r.Z)(e,(e=>{const t=e?.getSnapshot();return t?.context?c(t.context):""})),p=e=>(0,r.Z)(e,(e=>{const t=e?.getSnapshot(),s=t?.context.task;return s?.name||""})),u=e=>(0,r.Z)(e,(e=>{const t=e?.getSnapshot(),s=t?.context.task;return s?.id||""})),m=e=>(0,r.Z)(e,(e=>{const t=e?.getSnapshot();return t?.context.generationId||""})),h=e=>(0,r.Z)(e,(e=>{const t=e?.getSnapshot(),s=t?.context.task,o=s?.artifacts?.[0];return o?.id||""})),g=e=>(0,r.Z)(e,(t=>{if(!e)return"";const s=t?.getSnapshot(),o=s?.context.task,n=o?.artifacts?.[0];return n?.previewUrls[0]||""})),f=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.textPrompt)),y=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.imagePrompt?.url??"")),x=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.init_video??"")),v=e=>(0,r.Z)(e,(e=>Boolean(e?.getSnapshot()?.context.promptRevealed))),b=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.upscale)),w=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.interpolate)),_=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.seed)),I=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.style)),T=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.motionScore)),j=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.cameraOptions)),k=e=>(0,r.Z)(e,(e=>e?.getSnapshot()?.context.options.motionBrushOptions)),C=e=>{const t=g(e),s=(e=>{const t=(0,l.b)(),s=(0,o.v)(t,(e=>e.context.outputs)),r=x(e),c=(0,a.useMemo)((()=>{if(!s?.byId)return null;const e=(0,i.Z)({outputs:(0,n.compact)(Object.values(s.byId).map((e=>e.getSnapshot()?.context))),initVideoUrl:r});return e.length>0?e[0]:null}),[s,r]);return g(c||"")})(e);return(0,r.Z)(e,(e=>{const o=e?.getSnapshot()?.context;if(!o)return"";if(t)return t;const{init_image:n,imagePrompt:a,init_video:i}=o.options;return i?s||"":n||a?.url||""}))}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/getMotionVector.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2CameraOptionsToTaskMotionVector.ts"),n=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2MotionBrushOptionsToTaskMotionVector.ts");const a=e=>{let{cameraOptions:t,motionBrushOptions:s}=e;if(t&&s){const e=(0,o.Z)({cameraOptions:t}),a=(0,n.ZP)({motionBrushOptions:s});return{bg_x:e.x,bg_y:e.y,bg_z:e.z,bg_r:e.r,bg_x_pan:e.bg_x_pan,bg_y_pan:e.bg_y_pan,...a}}return t?(0,o.Z)({cameraOptions:t}):s?(0,n.ZP)({motionBrushOptions:s}):{x:0,y:0,z:0,r:0}}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2CameraOptionsToTaskMotionVector.ts":(e,t,s)=>{"use strict";s.d(t,{Y:()=>l,Z:()=>c});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/constants.ts");const n={horizontalDistance:"x",verticalDistance:"y",zoomDistance:"z",rollDistance:"r",yawDistance:"bg_x_pan",pitchDistance:"bg_y_pan"},a={horizontalDistance:-1,verticalDistance:1,zoomDistance:1,rollDistance:1,yawDistance:1,pitchDistance:1},i={x:"horizontalDistance",y:"verticalDistance",z:"zoomDistance",r:"rollDistance",bg_x_pan:"yawDistance",bg_y_pan:"pitchDistance"},r={x:-1,y:1,z:1,r:1,bg_x_pan:1,bg_y_pan:1},l=e=>{let{motionVector:t}=e;const s={horizontalDistance:0,verticalDistance:0,zoomDistance:0,rollDistance:0,yawDistance:0,pitchDistance:0};return Object.entries(t).forEach((e=>{let[t,o]=e;const n=o*(r[t]??1)||0,a=i[t];a&&(s[a]=n)})),s},c=e=>{let{cameraOptions:t}=e;const s={x:0,y:0,z:0,r:0,bg_x_pan:0,bg_y_pan:0};return o.Qs.forEach((e=>{const o=t[e],i=n[e];if(!i)return;const r=a[e]??1;s[i]=o*r||0})),s}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2MotionBrushOptionsToTaskMotionVector.ts":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>h,_5:()=>c,fD:()=>d,j_:()=>m});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/CollapsedMotionBrushButton/CollapsedMotionBrushButton.tsx"),n=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/constants.ts");const a={horizontalDistance:"x",verticalDistance:"y",proximityDistance:"z",ambientNoise:"ambient_noise"},i={horizontalDistance:"dx",verticalDistance:"dy",proximityDistance:"dz",ambientNoise:"ambient_noise"},r={horizontalDistance:1,verticalDistance:-1,proximityDistance:1,ambientNoise:1},l=e=>{const t={dx:0,dy:0,dz:0,ambient_noise:0};return o.Q.forEach((s=>{const o=e[s],n=i[s];if(!n)return;const a=r[s]??1;t[n]=o*a||0})),t},c=e=>{if(e.path?.length){const t=e.path.map((e=>[e[0],1-e[1]]));return{mask:e.mask,path:t,dx:0,dy:0,dz:0,ambient_noise:0,frozen:e.frozen}}return{mask:e.mask,frozen:e.frozen,...l(e.values)}},d=e=>{let{layers:t}=e;return n.EA.map(((e,s)=>{const o=t[s];if(!o)return e;const n=m({motionVector:{x:o.dx??0,y:o.dy??0,z:o.dz??0,r:0,ambient_noise:o.ambient_noise}});return{mask:o.mask??"",values:n,path:o.path}}))},p={x:"horizontalDistance",y:"verticalDistance",z:"proximityDistance",ambient_noise:"ambientNoise"},u={x:1,y:-1,z:1,ambient_noise:1},m=e=>{let{motionVector:t}=e;const s={horizontalDistance:0,verticalDistance:0,proximityDistance:0,ambientNoise:0};return Object.entries(t).forEach((e=>{let[t,o]=e;const n=o*(u[t]??1)||0,a=p[t];a&&(s[a]=n)})),s},h=e=>{let{motionBrushOptions:t}=e;const s={x:0,y:0,z:0,r:0,ambient_noise:0};return o.Q.forEach((e=>{const o=t.values[e],n=a[e];if(!n)return;const i=r[e]??1;s[n]=o*i||0})),s}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapMagicToolMotionScoreToTaskMotionScore.ts":(e,t,s)=>{"use strict";s.d(t,{E:()=>i,Z:()=>a});var o=s("./app/utils/number.ts"),n=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionScoreButton/constants.ts");const a=e=>{const t=(0,o.KK)(e,n.P1,n.YG,0,50,!0);return Math.round(t)},i=e=>{const t=(0,o.KK)(e,0,50,n.P1,n.YG,!0);return Math.round(t)}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Hb:()=>a,KZ:()=>n,OI:()=>i,Qs:()=>l,eT:()=>o,ey:()=>r});const o=-10,n=10,a=.1,i={horizontalDistance:"Horizontal",verticalDistance:"Vertical",zoomDistance:"Zoom",rollDistance:"Roll",yawDistance:"Pan",pitchDistance:"Tilt"},r={horizontalDistance:0,verticalDistance:0,zoomDistance:0,rollDistance:0,yawDistance:0,pitchDistance:0},l=["horizontalDistance","verticalDistance","rollDistance","zoomDistance","yawDistance","pitchDistance"]},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/icons.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Icon/Icon.tsx"),a=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),i=(s("./node_modules/react/index.js"),s("./node_modules/react/jsx-runtime.js"));const r={horizontalDistance:{negative:{icon:a.Y4O,taskNameAbbreviation:"H"},positive:{icon:a.LZ3,taskNameAbbreviation:"H"}},verticalDistance:{negative:{icon:a.veu,taskNameAbbreviation:"V"},positive:{icon:a.Hf3,taskNameAbbreviation:"V"}},zoomDistance:{negative:{icon:()=>(0,i.jsx)(l,{icon:"recipes/gen2/motion-controls/zoom-out"}),taskNameAbbreviation:"Z"},positive:{icon:()=>(0,i.jsx)(c,{icon:"recipes/gen2/motion-controls/zoom-in"}),taskNameAbbreviation:"Z"}},rollDistance:{negative:{icon:()=>(0,i.jsx)(d,{icon:"recipes/gen2/motion-controls/roll-counter-clockwise"}),taskNameAbbreviation:"R"},positive:{icon:()=>(0,i.jsx)(p,{icon:"recipes/gen2/motion-controls/roll-clockwise"}),taskNameAbbreviation:"R"}},yawDistance:{negative:{icon:()=>(0,i.jsx)(u,{icon:"recipes/gen2/motion-controls/pan-negative"}),taskNameAbbreviation:"YW"},positive:{icon:()=>(0,i.jsx)(m,{icon:"recipes/gen2/motion-controls/pan-positive"}),taskNameAbbreviation:"YW"}},pitchDistance:{negative:{icon:()=>(0,i.jsx)(h,{icon:"recipes/gen2/motion-controls/tilt-negative"}),taskNameAbbreviation:"P"},positive:{icon:()=>(0,i.jsx)(g,{icon:"recipes/gen2/motion-controls/tilt-positive"}),taskNameAbbreviation:"P"}}};var l=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon",componentId:"sc-19hnxr3-0"})(["cursor:inherit;"]),c=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon2",componentId:"sc-19hnxr3-1"})(["cursor:inherit;"]),d=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon3",componentId:"sc-19hnxr3-2"})(["cursor:inherit;"]),p=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon4",componentId:"sc-19hnxr3-3"})(["cursor:inherit;"]),u=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon5",componentId:"sc-19hnxr3-4"})(["cursor:inherit;"]),m=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon6",componentId:"sc-19hnxr3-5"})(["cursor:inherit;"]),h=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon7",componentId:"sc-19hnxr3-6"})(["cursor:inherit;"]),g=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon8",componentId:"sc-19hnxr3-7"})(["cursor:inherit;"])},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/CollapsedMotionBrushButton/CollapsedMotionBrushButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>h,Z:()=>f});var o=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),n=(s("./node_modules/react/index.js"),s("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Gen2SecondaryButton/Gen2SecondaryButton.tsx"),i=s("./node_modules/@xstate/react/es/useSelector.js"),r=s("./node_modules/lodash/lodash.js"),l=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/getMotionBrushToggleValueFromDistance.ts"),c=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2Service.tsx"),d=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/MotionBrushDialog/MovementControls/Inputs/DistanceInput/icons.tsx");var p=s("./node_modules/react/jsx-runtime.js");const u=(0,n.ZP)(a.Z).withConfig({displayName:"CollapsedMotionBrushButton__StyledButton",componentId:"sc-1fcy47z-0"})(["height:40px;padding:0 12px;gap:6px;font-weight:500;color:",";background:",";&:hover{color:",";background:",";}transition:none;"],(e=>{let{theme:t}=e;return t.colors.primaryLight}),(e=>{let{theme:t}=e;return t.colors.grayscale.gray600}),(e=>{let{theme:t}=e;return t.colors.primaryLight}),(e=>{let{theme:t}=e;return t.colors.grayscale.gray600}));var m=(0,n.ZP)(u).withConfig({displayName:"CollapsedMotionBrushButton___StyledStyledButton",componentId:"sc-1fcy47z-1"})(["padding-right:6px;"]);const h=["horizontalDistance","verticalDistance","proximityDistance","ambientNoise"],g=(0,n.ZP)(o.x).withConfig({displayName:"CollapsedMotionBrushButton__IconContainer",componentId:"sc-1fcy47z-2"})(["width:28px;height:28px;border-radius:4px;align-items:center;justify-content:center;background:rgba(255,255,255,0.05);svg{max-width:15px;max-height:15px;}"]),f=e=>{let{className:t}=e;const s=(()=>{const e=(0,c.b)();return(0,i.v)(e,(e=>{let{context:t}=e;const s=t.promptInput.values.settings.motionBrushOptions,o=[];return s.layers.forEach((e=>{e.mask&&(h.forEach((t=>{const s=e.values[t],n=(0,l.Z)(s);if(!n)return null;const a=d.Z[t]?.[n]?.icon;a&&o.push(a)})),e.path&&o.push(d.c))})),(0,r.uniq)((0,r.compact)(o))}))})();return s.length?(0,p.jsx)(m,{icon:"recipes/gen2/motion-controls/motion-brush-options",className:t,children:(0,p.jsx)(o.x,{gap:"4px",children:s.map(((e,t)=>(0,p.jsx)(g,{children:(0,p.jsx)(e,{})},t)))})}):(0,p.jsx)(u,{icon:"recipes/gen2/motion-controls/motion-brush-options",className:t,children:"Motion Brush"})}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/MotionBrushDialog/MovementControls/Inputs/DistanceInput/icons.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c,c:()=>l});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),n=s("./app/components/Prefabs/Icon/Icon.tsx"),a=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),i=s("./node_modules/lucide-react/dist/esm/icons/mouse-pointer-click.js"),r=(s("./node_modules/react/index.js"),s("./node_modules/react/jsx-runtime.js"));const l=i.Z,c={horizontalDistance:{negative:{icon:a.Y4O,taskNameAbbreviation:"H"},positive:{icon:a.LZ3,taskNameAbbreviation:"H"}},verticalDistance:{negative:{icon:a.veu,taskNameAbbreviation:"V"},positive:{icon:a.Hf3,taskNameAbbreviation:"V"}},proximityDistance:{negative:{icon:()=>(0,r.jsx)(d,{icon:"recipes/gen2/motion-brush/proximity-out"}),taskNameAbbreviation:"P"},positive:{icon:()=>(0,r.jsx)(p,{icon:"recipes/gen2/motion-brush/proximity-in"}),taskNameAbbreviation:"P"}},ambientNoise:{negative:{icon:()=>(0,r.jsx)(u,{icon:"recipes/gen2/motion-brush/ambient-negative"}),taskNameAbbreviation:"A"},positive:{icon:()=>(0,r.jsx)(m,{icon:"recipes/gen2/motion-brush/ambient-positive"}),taskNameAbbreviation:"A"}}};var d=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon",componentId:"sc-1b6unos-0"})(["cursor:inherit;"]),p=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon2",componentId:"sc-1b6unos-1"})(["cursor:inherit;"]),u=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon3",componentId:"sc-1b6unos-2"})(["cursor:inherit;"]),m=(0,o.ZP)(n.Z).withConfig({displayName:"icons___StyledIcon4",componentId:"sc-1b6unos-3"})(["cursor:inherit;"])},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/constants.ts":(e,t,s)=>{"use strict";s.d(t,{E9:()=>i,EA:()=>c,Yj:()=>a,kr:()=>d});var o=s("./app/components/Prefabs/ImageMasker/Mask/constants.ts"),n=s("./node_modules/lodash/lodash.js");const a={horizontalDistance:{min:-10,max:10,step:.1,default:0,subLabel:"(x-axis)"},verticalDistance:{min:-10,max:10,step:.1,default:0,subLabel:"(y-axis)"},proximityDistance:{min:-10,max:10,step:.1,default:0,subLabel:"(z-axis)"},ambientNoise:{min:0,max:10,step:.1,default:0,subLabel:"(noise)"}},i={horizontalDistance:"Horizontal",verticalDistance:"Vertical",proximityDistance:"Proximity",ambientNoise:"Ambient",motionPath:"Motion Path"},r={horizontalDistance:a.horizontalDistance.default,verticalDistance:a.verticalDistance.default,proximityDistance:a.proximityDistance.default,ambientNoise:a.ambientNoise.default},l={mask:"",values:(0,n.cloneDeep)(r),frozen:!1},c=Array(o.t8).fill("").map((()=>(0,n.cloneDeep)(l))),d={values:r,mask:"",layers:c}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionScoreButton/constants.ts":(e,t,s)=>{"use strict";s.d(t,{P1:()=>o,YG:()=>n,fh:()=>a,yh:()=>i});const o=1,n=10,a=1,i=5},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Views/Initial/Gen2UrlParser/Gen2SettingsUrlParamParser/Gen2SettingsUrlParamParser.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>l,Z:()=>c});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts"),i=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2Service.tsx"),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Views/Initial/Gen2UrlParser/Gen2SettingsUrlParamParser/constants.ts");const l=()=>{const e=(0,n.TH)(),t=new URLSearchParams(e.search),s={};return Object.values(r.U).forEach((e=>{const o=t.get(e);if(o&&e===r.U.PROMPT_MODE)a.GW.includes(o)&&(s.promptMode=o)})),s},c=()=>{const e=(0,n.k6)(),t=l(),s=(0,i.b)(),a=(0,o.useCallback)((()=>{t.promptMode&&s.send({type:"PROMPT_INPUT/SET_MODE",value:t.promptMode});const o=new URLSearchParams(location.search);Object.values(r.U).forEach((e=>{o.delete(e)})),e.replace({search:o.toString()})}),[t,s,e]),c=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{c.current||(c.current=!0,a())}),[a]),null}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Views/Initial/Gen2UrlParser/Gen2SettingsUrlParamParser/constants.ts":(e,t,s)=>{"use strict";s.d(t,{U:()=>o});const o={PROMPT_MODE:"promptMode"}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts":(e,t,s)=>{"use strict";s.d(t,{$j:()=>g,Bt:()=>y,DN:()=>w,GW:()=>f,Is:()=>a,KJ:()=>i,LC:()=>h,M2:()=>v,PD:()=>d,UP:()=>_,V9:()=>p,Xx:()=>c,bd:()=>l,g:()=>r,gZ:()=>o,iG:()=>m,jJ:()=>x,k2:()=>n,k_:()=>u,ko:()=>b,ty:()=>I});const o=4,n=3,a=320,i=2500,r="https://help.runwayml.com/hc/en-us/articles/17327990161811-Gen-2",l="https://help.runwayml.com/hc/en-us/articles/17329337959699-Gen-2-Prompt-Tips",c="https://academy.runwayml.com/gen2/gen2-motion-brush-interface",d="",p="https://academy.runwayml.com/gen2/gen2-director-mode",u="gen2preview",m=2**32-1,h="Due to increased demand and wait times, free generations are temporarily unavailable. Please try again later.",g="Due to increased demand and wait times, free previews are temporarily unavailable. Please try again later.",f=["text","image","imageAndDescription","video"],y=["16:9","9:16","1:1","4:3","3:4","21:9"],x="16:9",v={"16:9":{width:1366,height:768},"9:16":{width:768,height:1366},"1:1":{width:1024,height:1024},"4:3":{width:1280,height:960},"3:4":{width:960,height:1280},"21:9":{width:1344,height:576}},b=v[x].width,w=v[x].height,_=7.5,I=1},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/aspectRatio.ts":(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts");const n=e=>{if(!e.aspectRatio)return{width:void 0,height:void 0};const t=!!e.imagePrompt,s=!!e.init_video;return t||s?{width:void 0,height:void 0}:o.M2[e.aspectRatio]}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/camera-motion/cameraOptionsAreDirectionless.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=e=>{const{horizontalDistance:t,verticalDistance:s,pitchDistance:o,rollDistance:n,yawDistance:a,zoomDistance:i}=e;return![t,s,o,n,a,i].some((e=>Math.abs(e)>0))}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/camera-motion/getCameraOptionToggleValueFromDistance.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=e=>0===e?null:e>0?"positive":"negative"},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/canExtendTaskInGen2.ts":(e,t,s)=>{"use strict";s.d(t,{CN:()=>r,P2:()=>a,r7:()=>n,z8:()=>i});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts");const n=e=>e<=o.gZ*(o.k2+1),a=e=>!!e&&(0!==e.artifacts.length&&(!!e.artifacts[0].metadata.duration&&n(e.artifacts[0].metadata.duration))),i=e=>!!e&&("gen2"===e.taskType&&"SUCCEEDED"===e.status),r=e=>{const t=i(e),s=a(e);return t&&s}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/dom.ts":(e,t,s)=>{"use strict";s.d(t,{DA:()=>i,Hj:()=>n,Py:()=>r,iY:()=>l,ix:()=>a,ml:()=>c});var o=s("./app/components/Views/MagicTools/utils/dom.ts");const n="data-gen2-item-id",a="gen2-next-layout-feed-container",i=()=>document.getElementById(a)??(0,o.fC)(),r=e=>{const t=(e=>document.querySelector(`[${n}="${e}"]`))(e),s=i();if(!t||!s)return;const a=t.offsetTop,r=(0,o.QE)()+16;s.scrollTo({top:a-r,behavior:"smooth"})},l=e=>{const t=i();if(!t||!e)return;const s=e.getBoundingClientRect().y,n=(0,o.QE)()+16;t.scrollTo({top:s-n,behavior:"smooth"})},c=()=>{const e=document.querySelector(`[${n}`);return e?.getBoundingClientRect().height}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/extend/getAncestorOutputIdsForInitVideoUrl.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/OutputSucceeded/selectors.ts");const n=e=>{let{outputs:t,videoUrl:s}=e;return t.find((e=>(0,o.IF)(e)===s))},a=e=>{let{initVideoUrl:t,outputs:s}=e;if(!t)return[];let o=n({videoUrl:t,outputs:s});const a=[];for(;o&&(a.push(o),o.options.init_video);)o=n({videoUrl:o.options.init_video,outputs:s});return a.map((e=>e.id))}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/getMotionBrushToggleValueFromDistance.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=e=>0===e?null:e>0?"positive":"negative"},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/hasMotionBrushInputSelector.ts":(e,t,s)=>{"use strict";function o(e){return Boolean(e.promptInput.values.imagePrompt)||Boolean(e.promptInput.extendingTask)}s.d(t,{Z:()=>o})},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushLayerIsDirectionless.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushValuesAreDirectionless.ts");const n=e=>!e||(0,o.Z)(e.values)&&!e.path&&!e.frozen},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushOptionsCanBeSubmitted.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushLayerIsDirectionless.ts"),n=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushValuesAreDirectionless.ts");const a=e=>{const{mask:t,values:s,layers:a}=e;if(a?.length>0){if(a.every((e=>!e.mask)))return!1;if(a.every((e=>(0,o.Z)(e))))return!1}else{if(!t)return!1;if((0,n.Z)(s))return!1}return!0}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushValuesAreDirectionless.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=e=>{const{horizontalDistance:t,proximityDistance:s,verticalDistance:o,ambientNoise:n}=e;return 0===Math.abs(t)&&0===Math.abs(s)&&0===Math.abs(o)&&0===Math.abs(n)}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/promptModeSupportsMotionBrush.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const o=["image","imageAndDescription"],n=e=>o.includes(e)},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/preview-items.ts":(e,t,s)=>{"use strict";s.d(t,{Ti:()=>p,Ty:()=>h,bc:()=>c,fK:()=>l,vF:()=>m});var o=s("./app/streams/utils.ts"),n=s("./app/utils/urls.ts"),a=s("./node_modules/uuid/dist/esm-browser/v4.js"),i=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts"),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/aspectRatio.ts");const l=4,c=e=>{let{options:t,asTeamId:s,token:o}=e;return{id:(0,a.Z)(),url:u({options:t,asTeamId:s,token:o}),options:t}},d="https://runway-datasets.s3.amazonaws.com/previews/22be25c1-70f5-4edb-b8c6-2f21cf7ee443.jpeg",p=e=>{let{options:t}=e;return{id:(0,a.Z)(),url:d,uploadedUrl:d,options:t}},u=e=>{let{options:t,asTeamId:s,token:a}=e;const{width:l,height:c}=(0,r.o)(t);let d=t.style;""===t.style&&(d=void 0);const p={input_text_prompt:t.textPrompt,input_image_prompt:t.imagePrompt?.url,input_image_model_lora_asset_id:t.loraAssetId,input_seed:t.seed,input_mode:"gen2",input_style:d,input_width:l,input_height:c,input_api_jwt_token:a,input_image_model_cfg_scale:t.loraAssetId?i.UP:void 0,input_image_model_lora_scale:t.loraAssetId?i.ty:void 0},u=(0,o.cU)({path:"/gen1/commands/preview_to_url/result.txt",urlParams:{...p,as_team_id:s},hardware:"gpu",priority:"high"});return a&&!(0,n.Gu)(u)?(0,n.GD)(u,a,!0):u},m=e=>!e.uploadedUrl&&!e.error,h=e=>{const{uploadedUrl:t}=e;if(t)return{url:t,name:"Gen-2 Preview",inputTextPrompt:e.options.textPrompt,inputSeed:e.options.seed}}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/prompt-input.ts":(e,t,s)=>{"use strict";s.d(t,{GD:()=>d,R7:()=>h,Se:()=>p,fc:()=>m,il:()=>g,wR:()=>f,xW:()=>u});var o=s("./app/components/Views/Asset/Content/TaskInfo/Gen2TaskInfo/parseGen2TaskInfo.ts"),n=s("./app/utils/video-editor/image.ts"),a=s("./node_modules/lodash/lodash.js"),i=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/camera-motion/cameraOptionsAreDirectionless.ts"),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushLayerIsDirectionless.ts"),l=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushOptionsCanBeSubmitted.ts"),c=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/promptModeSupportsMotionBrush.ts");const d=e=>{let{promptInput:t,shouldShowGen2NextLayout:s=!1}=e;const{values:o,mode:n}=t;let i,r,l,c,d,p=null;if(s)p=o.imagePrompt,i=o.textPrompt,r=o.videoPrompt,l=o.settings.style,c=o.settings.aspectRatio,d=o.loraAsset,i&&d?.name&&-1===i.toLowerCase().indexOf(d.name.toLowerCase())&&(i=`${d.name} ${i}`);else{switch(n){case"image":p=o.imagePrompt;break;case"imageAndDescription":p=o.imagePrompt,i=o.textPrompt;break;case"video":r=o.videoPrompt;break;case"text":d=o.loraAsset;default:i=o.textPrompt,l=o.settings.style,c=o.settings.aspectRatio}"text"===n&&d&&d.name&&-1===i?.toLowerCase().indexOf(d.name.toLowerCase())&&(i=`${d.name} ${i}`)}const{interpolate:u,seed:m,upscale:h,removeWatermark:g,motionScore:f,cameraOptions:y,motionBrushOptions:x,outpaintAspectRatio:v}=o.settings;return(0,a.cloneDeep)({interpolate:u,seed:m,upscale:h,watermark:!g,textPrompt:i,imagePrompt:p,...d&&{loraAssetId:d.id},motionScore:f,cameraOptions:y,motionBrushOptions:x,style:l,aspectRatio:c,...r&&{videoPrompt:r},outpaintAspectRatio:v})},p=e=>{let{promptInput:t,shouldShowGen2NextLayout:s=!1}=e;const{motionScore:o,cameraOptions:n,motionBrushOptions:p,...u}=d({promptInput:t,shouldShowGen2NextLayout:s}),m=(0,a.cloneDeep)({...u,init_image:u.imagePrompt?.url}),h=(0,c.Z)(t.mode),g=(0,l.Z)(p),f=!(0,i.Z)(n);return h&&g&&(m.motionBrushOptions={...p,layers:p.layers.filter((e=>!(0,r.Z)(e)))}),f&&(m.cameraOptions=n),m.motionBrushOptions||m.cameraOptions||(m.motionScore=o),m},u=e=>{let{promptInput:t,shouldShowGen2NextLayout:s=!1}=e;const n=p({promptInput:t,shouldShowGen2NextLayout:s}),{extendingTask:a}=t;if(!a)return n;const i=a.artifacts[0],r=i?.url,l=i?.metadata?.duration;return{init_video:r,initVideoDuration:l,seed:n.seed,extendedFromTaskName:a.name,extendedFromTaskId:a.id,motionScore:n.motionScore,cameraOptions:n.cameraOptions,...h({promptInput:t,shouldShowGen2NextLayout:s}),watermark:(0,o.Z)(a).watermark??h({promptInput:t,shouldShowGen2NextLayout:s}).watermark,outpaintAspectRatio:n.outpaintAspectRatio,motionBrushOptions:n.motionBrushOptions}},m=e=>{let{promptInput:t,shouldShowGen2NextLayout:s=!1}=e;const{motionScore:o,cameraOptions:n,motionBrushOptions:r,...p}=d({promptInput:t,shouldShowGen2NextLayout:s}),u=(0,a.cloneDeep)({...p}),m=(0,c.Z)(t.mode),h=(0,l.Z)(r),g=!(0,i.Z)(n);return m&&h&&(u.motionBrushOptions=r),g&&(u.cameraOptions=n),u.motionBrushOptions||u.cameraOptions||(u.motionScore=o),u},h=e=>{let{promptInput:t,shouldShowGen2NextLayout:s=!1}=e;const{interpolate:o,upscale:n,watermark:a}=d({promptInput:t,shouldShowGen2NextLayout:s});return{interpolate:o,upscale:n,watermark:a}},g=e=>e.trim(),f=async e=>{let t=e.previewUrls[0];"mediaType"in e&&"image"===e.mediaType&&(t=e.url);let s=e.metadata?.size;if(!s)try{s=await(0,n.A)(t)}catch{}return Promise.resolve({url:t,size:s,name:e.name})}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/tracking/Gen2MixpanelEventId.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=function(e){return e.PreviewFromPromptInput="preview from prompt input",e.GenerateFromPromptInput="generate from prompt input",e.GenerateFromPreviewItem="generate from preview item",e.GenerateFromExtendAction="generate from extend action",e.GenerateFromExtendAssetAction="generate from extend asset action",e.SkipPreviewsAndGenerate="skip loading previews and generate",e.TryThisInspirationExample="try this inspiration example",e.OpenSettings="open settings",e.OpenMotionScoreSettings="open motion score settings",e.OpenPromptInputAssetBrowser="open prompt input asset browser",e.ResetPromptInputImagePrompt="reset prompt input image prompt",e.RevealOutputPrompt="reveal output prompt",e.HideOutputPrompt="hide output prompt",e.UseOutputPrompt="use output prompt",e.SetOutputAsExtendPromptInput="set output as extend prompt input",e.CopySeedFromOutputPrompt="copy seed from output prompt",e.ClickOnHelpCenterArticleLinkFromInspirationGrid="click on help center article link from inspiration grid",e.ClickOnHelpCenterArticleLinkFromPromptInput="click on help center article link from prompt input",e.StartOnboarding="start onboarding",e.AdvanceOnboarding="advance onboarding",e.CompleteOnboarding="complete onboarding credits screen",e.SkipOnboarding="skip onboarding",e.SelectPromptInputMode="select prompt input mode",e.RetryFailedOutput="retry failed output",e.ScrollToBottom="scroll to bottom",e.ScrollToOutputFromNavigator="scroll to output from navigator",e.ModerationFeedbackModalOpened="content moderation feedback modal opened",e.ModerationFeedbackSubmitted="submit content moderation feedback",e.UsePreviewAsImagePrompt="use preview as image prompt",e.MotionBrushOpenDialog="open motion brush dialog",e.MotionBrushCloseDialog="close motion brush dialog",e.MotionBrushOpenAssetBrowserFromMotionBrushButton="open asset browser from motion brush flow",e.MotionBrushDialogUndoClick="motion brush undo click",e.MotionBrushDialogRedoClick="motion brush redo click",e.MotionBrushDialogBrushClick="motion brush brush click",e.MotionBrushDialogEraserClick="motion brush eraser click",e.MotionBrushInfoClick="motion brush info click",e.MotionBrushSave="motion brush save",e.MotionBrushReset="motion brush reset",e.MotionBrushToggleAutoDetect="motion brush auto-detect toggle",e.CameraMotionPopoverSave="save camera motion popover",e.CameraMotionPopoverReset="reset camera motion popover",e.StyleOpenDialog="open style dialog",e.StyleCloseDialog="close style dialog",e.StyleSelectStyleDialog="select style dialog",e.AspectRatioOpenDialog="open aspect ratio dialog",e.AspectRatioCloseDialog="close aspect ratio dialog",e.AspectRatioSelectAspectRatioDialog="select aspect ratio dialog",e.ResizeLeftAndRightPanels="resize left and right panels",e.ResizeInputsPanels="resize inputs panels",e.RemoveOutputFromFeed="remove output from feed on main video",e.RemoveOutputFromNavigator="remove output from feed on sidebar",e.RemovePreviewFromFeed="remove preview from feed on main video",e.RemovePreviewFromNavigator="remove preview from feed on sidebar",e}(o||{});const n=o},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/tracking/tracking.ts":(e,t,s)=>{"use strict";s.d(t,{Dz:()=>h,G1:()=>g,Gl:()=>A,HF:()=>Z,Jp:()=>U,K$:()=>L,KB:()=>I,KY:()=>f,Kn:()=>D,Kz:()=>p,LF:()=>O,Li:()=>C,MX:()=>k,O9:()=>E,Pp:()=>_,RG:()=>w,TM:()=>d,Zh:()=>x,aP:()=>N,dX:()=>S,g4:()=>m,kr:()=>T,lh:()=>P,r:()=>v,s:()=>j,tH:()=>u,uW:()=>y,vX:()=>M,vp:()=>R,wD:()=>b,zp:()=>c});var o=s("./app/components/Views/Asset/Content/TaskInfo/Gen2TaskInfo/parseGen2TaskInfo.ts"),n=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),a=s("./app/utils/trackEvent.ts"),i=s("./node_modules/lodash/lodash.js"),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/prompt-input.ts"),l=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/tracking/Gen2MixpanelEventId.ts");const c=e=>{let{service:t}=e;const s=t.getSnapshot().context.promptInput.mode;(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.OpenPromptInputAssetBrowser,promptInputMode:s}})},d=e=>{let{service:t}=e;const s=t.getSnapshot().context.promptInput.mode;(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.ResetPromptInputImagePrompt,promptInputMode:s}})},p=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushOpenDialog}})},u=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushOpenAssetBrowserFromMotionBrushButton}})},m=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushCloseDialog}})},h=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushDialogUndoClick}})},g=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushDialogRedoClick}})},f=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushDialogBrushClick}})},y=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushDialogEraserClick}})},x=e=>{let{numLayersWithDrawnMasks:t,numLayersWithSegmentMasks:s}=e;(0,a.L)({event:"Click",name:"Primary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushSave,numLayersWithDrawnMasks:t,numLayersWithSegmentMasks:s}})},v=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushReset}})},b=e=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushInfoClick,promptMode:e.getSnapshot().context.promptInput.mode}})},w=e=>{(0,a.L)({event:"Click",name:"Auto-Detect Toggle",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.MotionBrushToggleAutoDetect,enabled:e}})},_=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{gen2EventId:l.Z.CameraMotionPopoverReset}})},I=()=>{(0,a.L)({event:"Click",name:"Primary Button",section:"AI Magic Tools",otherProperties:{gen2EventId:l.Z.CameraMotionPopoverSave}})},T=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{gen2EventId:l.Z.UsePreviewAsImagePrompt}})},j=e=>{(0,a.L)({event:"Click",name:"Primary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.SetOutputAsExtendPromptInput,generationMode:e}})},k=()=>{(0,a.L)({event:"Click",name:"Navigator Item",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.ScrollToOutputFromNavigator}})},C=e=>{let{service:t,generationMode:s,shouldShowGen2NextLayout:n=!1}=e;const c=t.getSnapshot().context,{promptInput:d}=c,{extendingTask:p}=d;if(!p)return void(0,a.L)({event:"Click",name:"Primary Button",section:"AI Magic Tools",otherProperties:{generationMode:s,gen2EventId:l.Z.GenerateFromExtendAction}});const u=(0,r.xW)({promptInput:d,shouldShowGen2NextLayout:n}),m=(0,o.Z)(p),h=p.artifacts[0],g=h?.metadata?.duration,f=[];["interpolate","motionScore","cameraOptions","motionBrushOptions","upscale"].forEach((e=>{const t=m[e]??null,s=u[e]??null;if(!(0,i.isEqual)(t,s)){const o={changed:e,from:t,to:s};f.push(o)}})),(0,a.L)({event:"Click",name:"Primary Button",section:"AI Magic Tools",otherProperties:{gen2EventId:l.Z.GenerateFromExtendAction,preExtendedVideoDurationSeconds:g,generationMode:s,settingsChanged:f}})},E=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.StyleOpenDialog}})},S=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.StyleCloseDialog}})},A=e=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.StyleSelectStyleDialog,style:e}})},M=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.AspectRatioOpenDialog}})},P=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.AspectRatioCloseDialog}})},N=e=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.AspectRatioSelectAspectRatioDialog,style:e}})},D=e=>{let{leftPercentage:t,rightPercentage:s}=e;(0,a.L)({event:"Click",name:"Resize Panels",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.ResizeLeftAndRightPanels,leftPercentage:t,rightPercentage:s}})},O=e=>{let{assetInputPercentage:t,textInputPercentage:s}=e;(0,a.L)({event:"Click",name:"Resize Panels",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.ResizeInputsPanels,assetInputPercentage:t,textInputPercentage:s}})},L=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.RemoveOutputFromFeed}})},R=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.RemoveOutputFromNavigator}})},Z=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.RemovePreviewFromFeed}})},U=()=>{(0,a.L)({event:"Click",name:"Secondary Button",section:"AI Magic Tools",otherProperties:{toolId:n.W.GEN_2,gen2EventId:l.Z.RemovePreviewFromNavigator}})}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2OutputDimensions.tsx":(e,t,s)=>{"use strict";s.d(t,{U:()=>o,Z:()=>a});const o={width:1536,height:896},n={width:1792,height:1024},a=()=>n},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2OutputServiceQuery.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./node_modules/@xstate/react/es/useSelector.js"),n=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2Service.tsx");const a=function(e,t){const s=(0,n.b)();return(0,o.v)(s,(s=>{let{context:o}=s;const n=o.outputs.byId[e];return t(n)}))}},"./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2Service.tsx":(e,t,s)=>{"use strict";s.d(t,{K:()=>Me,b:()=>Ne});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/components/Views/Library/LibraryContext.tsx"),a=s("./app/utils/hooks/useFeatures.ts"),i=s("./app/utils/hooks/useHasQAEngineerInterviewAccess.ts"),r=s("./app/utils/hooks/useShouldShowGen2OnePrompt.ts"),l=s("./app/utils/hooks/useUserProperties.ts"),c=s("./node_modules/@xstate/react/es/useInterpret.js"),d=s("./node_modules/react/index.js"),p=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/Components/MagicToolCostModeAlert/hooks/useMagicToolCostModeAlertService.ts"),u=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/Components/MagicToolCostModeButton/utils/useIsThrottledInExploreMode.ts"),m=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/hooks/useMagicToolCostMode.ts"),h=s("./app/components/Views/MagicTools/utils/TaskRateLimitAlert/machine/hooks/useTaskRateLimitAlertService.ts"),g=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Views/Initial/Gen2UrlParser/Gen2SettingsUrlParamParser/Gen2SettingsUrlParamParser.tsx"),f=s("./node_modules/@sentry/core/esm/exports.js"),y=s("./node_modules/lodash/lodash.js"),x=s("./node_modules/xstate/es/Machine.js"),v=s("./node_modules/xstate/es/index.js"),b=s("./app/actions/flash.ts"),w=s("./app/api/content-moderation.ts"),_=s("./app/api/mixpanel.ts"),I=s("./app/components/Views/Asset/Content/TaskInfo/Gen2TaskInfo/parseGen2TaskInfo.ts"),T=s("./app/constants/errors.ts"),j=s("./app/integrations/braze/Braze.ts"),k=s("./app/integrations/braze/BrazeEvents.ts"),C=s("./app/store.ts"),E=s("./app/utils/auth.ts"),S=s("./app/utils/hooks/useSetSavedGen2Settings.ts"),A=s("./app/utils/mixpanel.ts"),M=s("./node_modules/xstate/lib/actions.js"),P=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),N=s("./app/components/Views/MagicTools/metrics/GenerationsTracker.tsx"),D=s("./app/components/Views/MagicTools/utils/dom.ts"),O=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/constants.ts"),L=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/constants.ts"),R=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionScoreButton/constants.ts"),Z=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts"),U=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/dom.ts"),z=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/extend/getAncestorOutputIdsForInitVideoUrl.ts");const V=()=>Math.floor(Math.random()*Z.iG);var B=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/hasMotionBrushInputSelector.ts"),G=s("./node_modules/uuid/dist/esm-browser/v4.js"),F=s("./node_modules/xstate/es/interpreter.js"),$=s("./app/api/tasks.ts"),W=s("./app/utils/http.ts"),H=s("./app/utils/tasks.tsx"),Y=s("./node_modules/p-retry/index.js"),X=s.n(Y);const q=e=>"status"in e;function J(e,t){if(!("data"in e))throw new Error("Unexpected event");const s=Object.keys(e.data),o=Object.keys(t);for(const n of o){if(!s.includes(n))throw new Error("Unexpected event");if(!t[n](e.data[n]))throw new Error("Unexpected event")}return e}const K=e=>{let{id:t,options:s,asTeamId:o,task:n}=e;return(0,x.C)({id:"gen2Output",preserveActionOrder:!0,predictableActionArguments:!0,initial:"POLLING",context:{id:t,options:s,asTeamId:o,createdAt:new Date,task:n,generationId:null,promptRevealed:!1,showShareVideoDialog:!1,hasCameraOptionsAndMotionBrushInteropAccess:!1},entry:["trackGeneration"],states:{POLLING:{initial:"FETCHING",states:{FETCHING:{invoke:{src:"fetchTask",onDone:[{cond:"isResolved",target:"#gen2Output.RESOLVED",actions:"setTask"},{target:"WAITING",actions:"setTask"}],onError:{target:"WAITING"}}},WAITING:{after:{5e3:"FETCHING"}}}},RESOLVED:{invoke:{src:"trackGeneration"},on:{UPDATE_PROMPT_REVEALED:{actions:(0,v.assign)({promptRevealed:(e,t)=>{if("UPDATE_PROMPT_REVEALED"!==t.type)throw new Error("Invalid event type");return t.value}})},SHOW_SHARE_DIALOG:{actions:(0,v.assign)({showShareVideoDialog:()=>!0})},HIDE_SHARE_DIALOG:{actions:(0,v.assign)({showShareVideoDialog:()=>!1})},REPORT:{target:"REPORTED"}}},REPORTED:{}}},{actions:{setTask:(0,v.assign)(((e,t)=>{const s=J(t,{task:q}),{task:o}=s.data;return{task:o}})),trackGeneration:(0,v.assign)({generationId:e=>{const{options:t,id:s,task:o}=e,n={id:s,taskId:o.id,...t};if(n.motionBrushOptions?.mask){const e=o.options?.gen2Options?.motion_vector_mask;n.motionBrushOptions.mask=e??n.motionBrushOptions.mask}return(0,N.ZP)().trackAndCreateGenerationId({toolId:P.W.GEN_2,prompt:t.imagePrompt?.url||t.textPrompt||"",settings:n,outputUrls:[]})}})},guards:{isResolved:(e,t)=>{const s=J(t,{task:q}),{task:o}=s.data;return(0,H.dw)(o.status)}},services:{fetchTask:async e=>{const{task:t,asTeamId:s}=e;if(!q(t))throw new Error("Unexpected event");return{task:await X()((()=>(0,$._X)(t.id,{asTeamId:s})),{retries:3})}},trackGeneration:async e=>{let{generationId:t,task:s}=e;if(!q(s)||!t)return;const o=W.e5.fromTask(s);if(o?.shouldFlagContentFiltered())switch(o.getContentModeratedIOType()){case"INPUT":return(0,N.ZP)().contentFiltered(t,"input");case"OUTPUT":return(0,N.ZP)().contentFiltered(t,"output")}const n=s.artifacts[0]?.url;return n?(0,N.ZP)().updateOutputUrls(t,[n]):void 0}}})},Q=e=>{const t=(0,G.Z)();return(0,F.Cs)(K({id:t,...e}),{name:t,sync:!0})};var ee=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/preview-items.ts");var te=s("./app/utils/uploads.ts"),se=s("./app/api-client.ts"),oe=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/aspectRatio.ts"),ne=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/camera-motion/cameraOptionsAreDirectionless.ts"),ae=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushOptionsCanBeSubmitted.ts"),ie=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/getMotionVector.ts"),re=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapGen2MotionBrushOptionsToTaskMotionVector.ts"),le=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Components/Output/shared/mapMagicToolMotionScoreToTaskMotionScore.ts");const ce=async e=>{const{width:t,height:s}=(0,oe.o)(e),o={mode:"gen2",seed:e.seed,interpolate:e.interpolate,upscale:e.upscale,watermark:e.watermark,width:t,height:s},{motionScore:n,cameraOptions:a,motionBrushOptions:i}=e;if((0,y.isNil)(n)){let e,t;i&&(0,ae.Z)(i)&&(e=i),a&&!(0,ne.Z)(a)&&(t=a),(e||t)&&(e&&(o.motion_vector_mask=e.mask),o.motion_vector=(0,ie.Z)({motionBrushOptions:e,cameraOptions:t}),i?.layers?.length&&(o.layers={layers:i.layers.filter((e=>e.mask)).map((e=>(0,re._5)(e)))}),o.use_motion_score=!1,o.use_motion_vectors=!0)}else o.motion_score=(0,le.Z)(n),o.use_motion_score=!0,o.use_motion_vectors=!1;const{textPrompt:r,imagePrompt:l}=e;if(r&&(o.text_prompt=r,!l&&!e.init_image&&!e.init_video&&e.loraAssetId)){let t;o.image_model_lora_asset_id=e.loraAssetId,o.image_model_lora_scale=Z.ty,o.image_model_cfg_scale=Z.UP;try{t=await(0,se.s6)()??void 0}catch(e){console.error("Error getting short token")}o.api_jwt_token=t}if(l&&(o.image_prompt=l.url,o.init_image_seed=l.inputSeed,o.init_image_text_prompt=l.inputTextPrompt,r||(o.init_image=l.url)),e.videoPrompt){if(o.video=e.videoPrompt,o.init_image=void 0,o.spatial_upfusion=!1,o.temporal_upfusion=!1,o.subsampling=2,o.outpaint=!0,!e.outpaintAspectRatio)throw new Error("outpaintAspectRatio is required");const[t,s]=e.outpaintAspectRatio.split(":").map(Number);o.outpaint_aspect_ratio=t/s}return e.init_image&&(o.init_image=e.init_image),e.init_video&&(o.init_video=e.init_video,o.init_image=void 0,o.text_prompt=void 0),e.style&&(o.style=e.style),e.extendedFromTaskId&&(o.extended_from_task_id=e.extendedFromTaskId),(0,y.cloneDeep)(o)};var de=s("./app/utils/filenames.ts"),pe=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/CameraMotionButton/icons.tsx"),ue=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/CollapsedMotionBrushButton/CollapsedMotionBrushButton.tsx"),me=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/Settings/MotionBrushButton/MotionBrushDialog/MovementControls/Inputs/DistanceInput/icons.tsx"),he=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/camera-motion/getCameraOptionToggleValueFromDistance.ts"),ge=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/getMotionBrushToggleValueFromDistance.ts");var fe=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/motion-brush/motionBrushLayerIsDirectionless.ts"),ye=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2OutputDimensions.tsx");const xe=async e=>{let{outputOptions:t,asTeamId:s,ancestorOutputIds:o,usePlaceholderTask:n,useExploreMode:a,assetGroupId:i}=e;try{const e=(e=>{let{outputOptions:t,ancestorOutputIds:s}=e,o=[];if(s.length){const e=(s.length+1)*Z.gZ;o.push(`${e}s`)}if((0,y.isNil)(t.seed)||o.push(`${t.seed}`),t.textPrompt&&o.push(t.textPrompt.substring(0,20)),t.imagePrompt?.name&&o.push(t.imagePrompt.name.substring(0,20)),t.style&&o.push(`${t.style.substring(0,20)}`),(0,y.isNil)(t.motionScore)||o.push(`M ${t.motionScore}`),!(0,y.isNil)(t.cameraOptions)){const e=t.cameraOptions,s=[];O.Qs.forEach((t=>{const o=e[t],n=(0,he.Z)(o);if(!n)return;const a=pe.Z[t][n].taskNameAbbreviation;a&&s.push(`${a} ${o}`)})),o=[...o,...s.map((e=>`cam_${e}`))]}if(!(0,y.isNil)(t.motionBrushOptions)){const e=t.motionBrushOptions,s=[];ue.Q.forEach((t=>{const o=e.values[t],n=(0,ge.Z)(o);if(!n)return;const a=me.Z[t][n].taskNameAbbreviation;a&&s.push(`${a} ${o}`)})),o=[...o,...s.map((e=>`brush_${e}`))]}const n=`Gen-2 ${o.join(", ")}`;return(0,de.BZ)({filename:n})})({outputOptions:t,ancestorOutputIds:o}),r=(0,y.cloneDeep)(t);if(r.motionBrushOptions){const t=r.motionBrushOptions.mask;if(!t)throw new Error("Attempted to generate with motionBrushOptions and empty mask");if(!t.startsWith("http")){const s=await(0,te.ax)({body:t,filename:`${e}-brush-mask.png`,type:"TASK_OPTIONS"});s?.url&&(r.motionBrushOptions.mask=s.url)}r.motionBrushOptions.layers=r.motionBrushOptions.layers?.filter((e=>e.mask&&!(0,fe.Z)(e)));if(r.motionBrushOptions.layers.length>0)try{await Promise.all(r.motionBrushOptions.layers.map((async(t,s)=>{if(t.mask&&!t.mask.startsWith("http")){const o=await(0,te.ax)({body:t.mask,filename:`${e}-brush-mask-${s}.png`,type:"TASK_OPTIONS"});o?.url&&(t.mask=o.url)}return t})))}catch{}}const l=await ce(r);let c;return c=n?await(async e=>{let{asTeamId:t,taskName:s}=e;return await(0,$.qJ)({taskType:"video_editor_remote_export",internal:!1,options:{name:s,compositionURL:"https://runway-demo-assets.s3.amazonaws.com/task_options/985ea035-3d41-499d-9608-2f2776328efd.json",context:"SCENE_EDITOR",exportOptions:{width:ye.U.width,height:ye.U.height,startMs:0,endMs:5e3,formatOptions:{format:"mp4"}},useConcurrentExport:!0},asTeamId:t,throwOnError:!0})})({taskName:e,options:l,asTeamId:s}):await(async e=>{let{options:t,asTeamId:s,exploreMode:o,taskName:n,assetGroupId:a}=e;const i={name:n,seconds:4,gen2Options:t,exploreMode:o};return a?i.assetGroupId=a:i.assetGroupName="Gen-2",(0,$.qJ)({taskType:"gen2",internal:!1,options:i,asTeamId:s,throwOnError:!0})})({taskName:e,options:l,asTeamId:s,exploreMode:a,assetGroupId:i}),Promise.resolve(c)}catch(e){return Promise.reject(e)}};var ve=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/tracking/tracking.ts");const be=(e,t)=>{const s={};return e?.hasOwnProperty("upscale")&&(s.upscale=!(!t||!e.upscale)),e?.hasOwnProperty("removeWatermark")&&(s.removeWatermark=!(!t||!e.removeWatermark)),e?.hasOwnProperty("interpolate")&&(s.interpolate=!!e.interpolate),s},we=e=>{let{currentPlan:t,initPromptMode:s="text",savedSettings:n}=e;const a=!(0,o.Q6)(t),i={values:{settings:{seed:V(),fixedSeed:!1,interpolate:!0,upscale:!1,removeWatermark:a,motionScore:R.yh,style:"",cameraOptions:{...O.ey},motionBrushOptions:{...L.kr},aspectRatio:Z.jJ,outpaintAspectRatio:Z.jJ,...be(n,a)},textPrompt:"",imagePrompt:null},mode:s,previewButtonDisallowed:!1,extendingTask:null};return(0,y.cloneDeep)({usePlaceholderTask:!1,useExploreMode:!1,asTeamId:-1,promptInput:i,transientPromptInput:i,ephemeralPromptInput:{},previewItems:{byId:{}},previews:{byId:{}},outputs:{byId:{}},history:[],freePlanUnavailabilityMessageVisible:!1,moderationFeedbackModal:{visible:!1,outputId:""},moderationFeedbackSubmitted:{byId:{}}})},_e=e=>{let{currentPlan:t,initPromptMode:s="text",savedSettings:o,hasQAEngineerInterviewAccess:n=!1}=e;return(0,x.C)({schema:{context:{},events:{},services:{}},tsTypes:{},preserveActionOrder:!0,predictableActionArguments:!0,context:{...we({currentPlan:t,initPromptMode:s,savedSettings:o})},id:"gen2",type:"parallel",states:{VIEW:{initial:"INITIAL",states:{INITIAL:{initial:"IDLE",states:{IDLE:{on:{CREATE_PREVIEW:{target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE",cond:"promptInputPreviewButtonIsNotDisallowed",actions:["storeCurrentEphemeralPromptInput","createPreview","refreshSeedIfNotFixed",(0,v.raise)({type:"PROMPT_INPUT/UPDATE_PREVIEW_BUTTON_DISALLOWED",value:!0}),(0,v.raise)({type:"PROMPT_INPUT/UPDATE_PREVIEW_BUTTON_DISALLOWED",value:!1},{delay:Z.KJ})]},CREATE_OUTPUTS:{target:"#gen2.VIEW.INITIAL.CREATING_OUTPUTS",actions:["storeCurrentEphemeralPromptInput","hideTaskRateLimitAlert","hideFreePlanUnavailabilityMessage","dispatchMagicToolCostModeAlertAttemptGenerate"]}}},CREATING_OUTPUTS:{invoke:{src:"submitOutputTasks",onDone:[{cond:"tasksResponseHasNewOutputs",actions:["refreshSeedIfNotFixed","deselectPreviewItems","dispatchMagicToolCostModeAlertAttemptGenerate","createOutputMachinesFromSubmitOutputTasksResponse",(0,M.RN)([{cond:"tasksResponseHasTaskRateLimitError",actions:["showTaskRateLimitAlert"]},{cond:"tasksResponseHasFreeTierError",actions:["showFreePlanUnavailabilityMessage","trackFreeTasksUnavailableEvent"]},{cond:"tasksResponseHasError",actions:["showGenericErrorAlert","captureGen2TaskErrorInSentry"]}])],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE"},{cond:"tasksResponseHasTaskRateLimitError",actions:["showTaskRateLimitAlert"],target:"#gen2.VIEW.INITIAL.IDLE"},{cond:"tasksResponseHasFreeTierError",actions:["showFreePlanUnavailabilityMessage","trackFreeTasksUnavailableEvent"],target:"#gen2.VIEW.INITIAL.IDLE"},{cond:"tasksResponseHasError",actions:["showGenericErrorAlert","captureGen2TaskErrorInSentry"],target:"#gen2.VIEW.INITIAL.IDLE"}],onError:{}}}},entry:[()=>{(0,D.at)()}]},PROMPT_GROUP_HISTORY:{initial:"IDLE",states:{IDLE:{on:{CREATE_PREVIEW:{target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE",cond:"promptInputPreviewButtonIsNotDisallowed",actions:["createPreview","refreshSeedIfNotFixed",(0,v.raise)({type:"PROMPT_INPUT/UPDATE_PREVIEW_BUTTON_DISALLOWED",value:!0}),(0,v.raise)({type:"PROMPT_INPUT/UPDATE_PREVIEW_BUTTON_DISALLOWED",value:!1},{delay:Z.KJ})]},CREATE_OUTPUTS:{target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.CREATING_OUTPUTS",actions:["hideTaskRateLimitAlert","hideFreePlanUnavailabilityMessage","dispatchMagicToolCostModeAlertAttemptGenerate"]}}},CREATING_OUTPUTS:{invoke:{src:"submitOutputTasks",onDone:[{cond:"tasksResponseHasNewOutputs",actions:["refreshSeedIfNotFixed","deselectPreviewItems","dispatchMagicToolCostModeAlertAttemptGenerate","createOutputMachinesFromSubmitOutputTasksResponse",(0,M.RN)([{cond:"tasksResponseHasTaskRateLimitError",actions:["showTaskRateLimitAlert"]},{cond:"tasksResponseHasFreeTierError",actions:["showFreePlanUnavailabilityMessage","trackFreeTasksUnavailableEvent"]},{cond:"tasksResponseHasError",actions:["showGenericErrorAlert","captureGen2TaskErrorInSentry"]}])],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE"},{cond:"tasksResponseHasTaskRateLimitError",actions:["showTaskRateLimitAlert"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE"},{cond:"tasksResponseHasFreeTierError",actions:["showFreePlanUnavailabilityMessage","trackFreeTasksUnavailableEvent"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE"},{cond:"tasksResponseHasError",actions:["showGenericErrorAlert","captureGen2TaskErrorInSentry"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE"}],onError:{}}},REMOVED_OUTPUT:{invoke:{src:()=>Promise.resolve(),onDone:[{cond:"hasNoHistoryItems",target:"#gen2.VIEW.INITIAL"},{target:"IDLE"}]}},SUBMITTING_MODERATION_FEEDBACK:{invoke:{src:"sendModerationFeedback",onDone:[{target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.IDLE",actions:[(0,v.assign)(((e,t)=>{const{outputId:s}=t.data;return{moderationFeedbackSubmitted:{byId:{...e.moderationFeedbackSubmitted.byId,[s]:!0}}}}))]}]}}}}}},PROMPT_INPUT:{initial:"IDLE",states:{IDLE:{on:{"PROMPT_INPUT/SHOW_ASSET_SELECTOR":{target:"ASSET_SELECTION"}}},ASSET_SELECTION:{on:{"PROMPT_INPUT/HIDE_ASSET_SELECTOR":{target:"IDLE"},"PROMPT_INPUT/UPDATE_IMAGE_PROMPT_FROM_ASSET_SELECTOR":{actions:["updateImagePrompt","resetMotionBrushOptions"],target:"IDLE"}}},MOTION_BRUSH:{on:{"PROMPT_INPUT/EXIT_MOTION_BRUSH_FLOW":{target:"IDLE"}},states:{ASSET_SELECTION:{on:{"PROMPT_INPUT/HIDE_ASSET_SELECTOR":{target:"#gen2.PROMPT_INPUT.IDLE"},"PROMPT_INPUT/UPDATE_IMAGE_PROMPT_FROM_ASSET_SELECTOR":{actions:["updateImagePrompt","resetMotionBrushOptions"],target:"#gen2.PROMPT_INPUT.MOTION_BRUSH.DIALOG"}}},DIALOG:{on:{"PROMPT_INPUT/EXIT_MOTION_BRUSH_FLOW":{target:"#gen2.PROMPT_INPUT.IDLE"}},entry:["trackMotionBrushOpenDialogEvent"]}}}},on:{"PROMPT_INPUT/SET_MODE":[{cond:"isSwitchingInputType",actions:["setPromptInputMode"],target:"#gen2.PROMPT_INPUT.IDLE"},{actions:["setPromptInputMode","resetPromptInputExtendingTask"]}],"PROMPT_INPUT/ENTER_MOTION_BRUSH_FLOW":[{cond:"hasMotionBrushInput",target:"#gen2.PROMPT_INPUT.MOTION_BRUSH.DIALOG"},{target:"#gen2.PROMPT_INPUT.MOTION_BRUSH.ASSET_SELECTION",actions:["trackMotionBrushOpenAssetBrowserFromMotionBrushButtonEvent"]}],"PROMPT_INPUT/EXIT_MOTION_BRUSH_FLOW":{target:"#gen2.PROMPT_INPUT.IDLE"},"PROMPT_INPUT/UPDATE_TEXT_PROMPT":{actions:[(0,v.assign)(((e,t)=>{const{value:s}=t;return{promptInput:{...e.promptInput,values:{...e.promptInput.values,textPrompt:s}}}}))]},"PROMPT_INPUT/UPDATE_IMAGE_PROMPT":{actions:["updateImagePrompt","resetMotionBrushOptions"]},"PROMPT_INPUT/UPDATE_IMAGE_PROMPT_FROM_ASSET_SELECTOR":{actions:["updateImagePrompt","resetMotionBrushOptions"]},"PROMPT_INPUT/UPDATE_VIDEO_PROMPT":{actions:["updateVideoPrompt","resetMotionBrushOptions"],target:"#gen2.PROMPT_INPUT.IDLE"},"PROMPT_INPUT/UPDATE_LORA_ASSET":{actions:[(0,v.assign)(((e,t)=>{const{value:s}=t;return{promptInput:{...e.promptInput,values:{...e.promptInput.values,loraAsset:s}}}}))]},"PROMPT_INPUT/UPDATE_SETTINGS":{actions:[(0,v.assign)(((e,t)=>{const{payload:s}=t;return{promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,...s}}}}}))]},"PROMPT_INPUT/UPDATE_PREVIEW_BUTTON_DISALLOWED":{actions:["updatePromptInputPreviewButtonDisallowed"]},"PROMPT_INPUT/UPDATE_CAMERA_OPTIONS":[{actions:["updatePromptInputCameraOptions"]}],"PROMPT_INPUT/RESET_CAMERA_OPTIONS":{actions:["resetPromptInputCameraOptions"]},"PROMPT_INPUT/MOTION_BRUSH/UPDATE_VALUES":[{actions:["updatePromptInputMotionBrushValues"]}],"PROMPT_INPUT/MOTION_BRUSH/UPDATE_MASK":[{actions:["updatePromptMotionBrushMask"]}],"PROMPT_INPUT/MOTION_BRUSH/UPDATE_LAYERS":[{actions:["updatePromptMotionBrushLayers"]}],"PROMPT_INPUT/MOTION_BRUSH/RESET":{actions:["resetMotionBrushOptions"]},"PROMPT_INPUT/SET_EXTENDING_TASK":{actions:[(0,M.RN)([{cond:"promptInputIsNotExtendingTask",actions:["saveTransientPromptInput"]}]),"updatePromptWithExtendingTaskOptions","resetMotionBrushOptions","updatePromptInputExtendingTask"]},"PROMPT_INPUT/UPDATE_EPHEMERAL_INPUT":{actions:["updateEphemeralPromptInput"]},"PROMPT_INPUT/STORE_CURRENT_EPHEMERAL_INPUT":{actions:["storeCurrentEphemeralPromptInput"]},"PROMPT_INPUT/RESET_EPHEMERAL_INPUT":{actions:["resetEphemeralPromptInput"]},"PROMPT_INPUT/CLEAR_EXTENDING_TASK":{actions:["clearPromptInputExtendingTask","restoreFromTransientPromptInput"]}}}},on:{SET_USE_PLACEHOLDER_TASK:{actions:(0,v.assign)(((e,t)=>({usePlaceholderTask:t.value})))},SET_USE_EXPLORE_MODE:{actions:(0,v.assign)(((e,t)=>({useExploreMode:t.value})))},CLEAR_FEED:{target:"#gen2.VIEW.INITIAL",actions:[(0,v.assign)({previews:{byId:{}},previewItems:{byId:{}},outputs:{byId:{}},history:[]})]},RESET:{actions:[(0,v.assign)((e=>{let{asTeamId:o,useExploreMode:n,usePlaceholderTask:a,freePlanUnavailabilityMessageVisible:i,promptInput:r}=e;const l={...we({currentPlan:t,initPromptMode:s}),asTeamId:o,useExploreMode:n,usePlaceholderTask:a,freePlanUnavailabilityMessageVisible:i},c=(0,S.A)(r.values.settings);return l.promptInput.values.settings={...l.promptInput.values.settings,...c},l}))],target:"#gen2.VIEW.INITIAL"},UPDATE_PREVIEW_ITEM:{actions:[(0,v.assign)(((e,t)=>{const{id:s,payload:o}=t,n=e.previewItems.byId[s];return n?{previewItems:{byId:{...e.previewItems.byId,[s]:{...n,...o}}}}:{}}))]},REMOVE_OUTPUT:{actions:["removeOutput"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.REMOVED_OUTPUT"},REMOVE_PREVIEW:{actions:["removePreview"]},SCROLL_TO_LAST_ITEM:{actions:[e=>{const{history:t}=e,s=t[t.length-1];s&&(0,U.Py)(s.id)}]},"OUTPUT/RATE_LIMIT_ERROR":{actions:["showTaskRateLimitAlert","removeOutput"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.REMOVED_OUTPUT"},"OUTPUT/FREE_PLAN_LIMIT_ERROR":{actions:["showFreePlanUnavailabilityMessage","removeOutput"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.REMOVED_OUTPUT"},"FREE_PLAN_UNAVAILABILITY_MESSAGE/HIDE":{actions:["hideFreePlanUnavailabilityMessage"]},SHOW_MODERATION_FEEDBACK_MODAL:{actions:["showModerationFeedbackModal"]},HIDE_MODERATION_FEEDBACK_MODAL:{actions:["hideModerationFeedbackModal"]},SEND_MODERATION_FEEDBACK:{actions:["sendModerationFeedback"],target:"#gen2.VIEW.PROMPT_GROUP_HISTORY.SUBMITTING_MODERATION_FEEDBACK"}}},{actions:{deselectPreviewItems:(0,v.assign)(((e,t)=>{const{previewItems:s}=e,{fromPreviewIds:o}=t.data;return o?{previewItems:{...s,byId:(0,y.mapValues)(s.byId,(e=>o.includes(e.id)?{...e,selected:!1}:e))}}:{}})),createOutputMachinesFromSubmitOutputTasksResponse:(0,v.assign)(((e,t)=>{const s=t.data.responses,{asTeamId:o}=e,n=(0,y.compact)(s.map((e=>{const{task:t,outputOptions:s}=e;if(t&&s)return Q({options:s,task:t,asTeamId:o})}))),a=n.reduce(((e,t)=>({...e,[t.getSnapshot()?.context.id]:t})),{});return{outputs:{...e.outputs,byId:{...e.outputs.byId,...a}},history:[...e.history,...n.map((e=>({type:"output",id:e.getSnapshot()?.context.id})))]}})),createPreview:(0,v.assign)(((e,t)=>{const{asTeamId:s,usePlaceholderTask:o}=e,{options:n}=t,a=new Array(ee.fK).fill("").map(((e,t)=>o?(0,ee.Ti)({options:n}):(0,ee.bc)({options:{...n,seed:n.seed+t},asTeamId:s,token:(0,E.Gv)()??void 0}))),i={id:(0,G.Z)(),createdAt:new Date,items:[]};return i.items=a.map((e=>({id:e.id,type:"previewItem"}))),{previewItems:{byId:{...e.previewItems.byId,...a.reduce(((e,t)=>({...e,[t.id]:t})),{})}},previews:{byId:{...e.previews.byId,[i.id]:i}},history:[...e.history,{type:"preview",id:i.id}]}})),removeOutput:(0,v.assign)(((e,t)=>{const{outputId:s}=t;return e.outputs.byId[s]?.stop?.(),{outputs:{...e.outputs,byId:(0,y.omit)(e.outputs.byId,s)},history:e.history.filter((e=>"output"!==e.type||e.id!==s))}})),removePreview:(0,v.assign)(((e,t)=>{const{previewId:s}=t;return{history:e.history.filter((e=>e.id!==s))}})),refreshSeedIfNotFixed:(0,v.assign)((e=>{const{promptInput:t}=e;let s=t.values.settings.fixedSeed;return n&&(s=!1),s?{}:{promptInput:{...t,values:{...t.values,settings:{...t.values.settings,seed:V()}}}}})),updateImagePrompt:(0,v.assign)(((e,t)=>{const{value:s}=t;return{promptInput:{...e.promptInput,values:{...e.promptInput.values,imagePrompt:s}}}})),updateVideoPrompt:(0,v.assign)(((e,t)=>{const{value:s}=t;return{promptInput:{...e.promptInput,values:{...e.promptInput.values,videoPrompt:s??void 0}}}})),updatePromptInputPreviewButtonDisallowed:(0,v.assign)(((e,t)=>{const{promptInput:s}=e;return{promptInput:{...s,previewButtonDisallowed:t.value}}})),updatePromptInputCameraOptions:(0,v.assign)(((e,t)=>({promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,cameraOptions:{...e.promptInput.values.settings.cameraOptions,...t.payload}}}}}))),resetPromptInputCameraOptions:(0,v.assign)((e=>({promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,cameraOptions:{...(0,y.cloneDeep)(O.ey)}}}}}))),updatePromptInputMotionBrushValues:(0,v.assign)(((e,t)=>({promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,motionBrushOptions:{...e.promptInput.values.settings.motionBrushOptions,values:{...e.promptInput.values.settings.motionBrushOptions.values,...t.payload}}}}}}))),updatePromptMotionBrushMask:(0,v.assign)(((e,t)=>({promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,motionBrushOptions:{...e.promptInput.values.settings.motionBrushOptions,mask:t.value}}}}}))),updatePromptMotionBrushLayers:(0,v.assign)(((e,t)=>({promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,motionBrushOptions:{...e.promptInput.values.settings.motionBrushOptions,layers:t.value}}}}}))),resetMotionBrushOptions:(0,v.assign)((e=>({promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,motionBrushOptions:{...(0,y.cloneDeep)(L.kr)}}}}}))),updatePromptWithExtendingTaskOptions:(0,v.assign)(((e,t)=>{const s=t.value;if(!s)return{promptInput:{...e.promptInput}};const{motionScore:o,cameraOptions:n}=(0,I.Z)(s);let a=(0,y.cloneDeep)(O.ey),i=R.yh;return(0,y.isNil)(n)?(0,y.isNil)(o)||(i=o):a=n,{promptInput:{...e.promptInput,values:{...e.promptInput.values,settings:{...e.promptInput.values.settings,motionScore:i,cameraOptions:a}}}}})),updatePromptInputExtendingTask:(0,v.assign)(((e,t)=>({promptInput:{...e.promptInput,extendingTask:(0,y.cloneDeep)(t.value)}}))),clearPromptInputExtendingTask:(0,v.assign)((e=>({promptInput:{...e.promptInput,extendingTask:null}}))),saveTransientPromptInput:(0,v.assign)((e=>({transientPromptInput:(0,y.cloneDeep)(e.promptInput)}))),restoreFromTransientPromptInput:(0,v.assign)((e=>({promptInput:(0,y.cloneDeep)(e.transientPromptInput)}))),updateEphemeralPromptInput:(0,v.assign)(((e,t)=>({ephemeralPromptInput:{...e.ephemeralPromptInput,...t.value}}))),storeCurrentEphemeralPromptInput:(0,v.assign)((e=>({promptInput:(0,y.merge)(e.promptInput,e.ephemeralPromptInput)}))),resetEphemeralPromptInput:(0,v.assign)((()=>({ephemeralPromptInput:{}}))),resetPromptInputExtendingTask:(0,v.assign)((e=>({promptInput:{...e.promptInput,extendingTask:null}}))),setPromptInputMode:(0,v.assign)(((e,t)=>({promptInput:{...e.promptInput,mode:t.value}}))),trackFreeTasksUnavailableEvent:()=>{(0,_.bc)({eventName:"Free Tasks Unavailable",properties:{...(0,A.l)(),toolId:P.W.GEN_2}})},showFreePlanUnavailabilityMessage:(0,v.assign)((()=>({freePlanUnavailabilityMessageVisible:!0}))),hideFreePlanUnavailabilityMessage:(0,v.assign)((()=>({freePlanUnavailabilityMessageVisible:!1}))),showGenericErrorAlert:(e,t)=>{const{responses:s}=t.data,o=s.filter((e=>{let{error:t}=e;return Boolean(t)}));1===o.length?C.Z.dispatch((0,b.showFlash)({message:"Failed to generate, please try again.",type:"WARNING"})):C.Z.dispatch((0,b.showFlash)({message:`Failed to generate ${o.length} generations, please try again.`,type:"WARNING"}))},captureGen2TaskErrorInSentry:(e,t)=>{const{responses:s}=t.data,o=s.filter((e=>{let{error:t}=e;return Boolean(t)}));f.Tb(new Error("Gen-2 submit task error"),{extra:{errorMessages:o.map((e=>{let{error:t}=e;return t?.message}))}})},showModerationFeedbackModal:(0,v.assign)(((e,t)=>({moderationFeedbackModal:{visible:!0,outputId:t.outputId}}))),hideModerationFeedbackModal:(0,v.assign)((()=>({moderationFeedbackModal:{visible:!1,outputId:""}}))),trackMotionBrushOpenDialogEvent:()=>(0,ve.Kz)(),trackMotionBrushOpenAssetBrowserFromMotionBrushButtonEvent:()=>(0,ve.tH)()},guards:{hasNoHistoryItems:e=>0===e.history.length,promptInputPreviewButtonIsNotDisallowed:e=>!e.promptInput.previewButtonDisallowed,tasksResponseHasNewOutputs:(e,t)=>t.data.responses.some((e=>{let{task:t,outputOptions:s}=e;return t&&s})),tasksResponseHasTaskRateLimitError:(e,t)=>t.data.responses.some((e=>{let{error:t}=e;return t instanceof T.Aw})),tasksResponseHasFreeTierError:(e,t)=>t.data.responses.some((e=>{let{error:t}=e;return t instanceof T.yF})),tasksResponseHasError:(e,t)=>t.data.responses.some((e=>{let{error:t}=e;return Boolean(t)})),isSwitchingInputType:(e,t)=>{let s=e.promptInput.mode,o=t.value;return"imageAndDescription"===s&&(s="image"),"imageAndDescription"===o&&(o="image"),s!==o},hasMotionBrushInput:B.Z,promptInputIsNotExtendingTask:e=>!e.promptInput.extendingTask},services:{submitOutputTasks:async(e,t)=>{const{outputs:s,asTeamId:o,usePlaceholderTask:n,useExploreMode:a}=e;return{responses:(await Promise.allSettled(t.outputOptionsArray.map((async e=>{(0,j.b)().logCustomEvent(k.D.AiGenerateGen2);const i=await(async e=>xe({outputOptions:e,asTeamId:o,ancestorOutputIds:e.init_video?(0,z.Z)({outputs:(0,y.compact)(Object.values(s.byId).map((e=>e.getSnapshot()?.context))),initVideoUrl:e.init_video}):[],useExploreMode:a,usePlaceholderTask:n,assetGroupId:t.assetGroupId}))(e);return{task:i,outputOptions:e}})))).map((e=>"fulfilled"===e.status?{task:e.value.task,outputOptions:e.value.outputOptions}:{error:e.reason})),fromPreviewIds:t.fromPreviewIds}},sendModerationFeedback:async(e,t)=>{const{generationId:s,outputId:o}=t,n=(0,N.ZP)().apiGenerationIds[s],a=await(0,w.rj)(n);if(a.error)throw{error:a.error};return{response:a,outputId:o}}}})};var Ie=s("./app/utils/hooks/useDebugControls.ts"),Te=s("./app/utils/hooks/useDebugUserSeenAnnouncements.ts"),je=s("./app/utils/hooks/useOptedOutOfRatingsForMagicTool.ts"),ke=s("./node_modules/@xstate/react/es/useSelector.js"),Ce=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts");const Ee=()=>{const e=Ne(),t=(0,ke.v)(e,(e=>{let{context:t}=e;return t.usePlaceholderTask}));(0,Ie.Z)("Gen-2",{usePlaceholderTask:{value:t,onChange:t=>{e.send({type:"SET_USE_PLACEHOLDER_TASK",value:t})}}},[e,t]);const s=(0,Ce.y7)();return(0,je.yi)(s),(0,Te.Z)("npsGen2"),null};var Se=s("./node_modules/react/jsx-runtime.js");const Ae=(0,d.createContext)(null),Me=e=>{let{children:t}=e;const{asTeamId:s}=(0,n.t)(),r=(0,o.yG)(s,{suspense:!0}),g=Pe(),[f]=(0,l.Z)("gen2Settings",{}),y=(0,i.Z)(),[x]=(0,d.useState)(_e({currentPlan:r,savedSettings:f,initPromptMode:g,hasQAEngineerInterviewAccess:y})),v=(0,p.Z)(),b=(0,h.Z)(),w=(0,c.k)(x,{context:{asTeamId:s},actions:{dispatchMagicToolCostModeAlertAttemptGenerate:()=>{v.send("ATTEMPT_GENERATE")},showTaskRateLimitAlert:()=>b.send("SHOW"),hideTaskRateLimitAlert:()=>b.send("HIDE")}}),_=(0,a.h)(s).data.permitted.devToolAccess;(0,u.Z)({costCalculationFeatureName:"gen2"});const I=(0,m.Z)(),T=(0,o.ql)({asTeamId:s});return(0,d.useEffect)((()=>{T&&w.send({type:"SET_USE_EXPLORE_MODE",value:"explore"===I})}),[T,I,w]),(0,Se.jsxs)(Ae.Provider,{value:w,children:[_&&(0,Se.jsx)(Ee,{}),t]})},Pe=()=>{const{promptMode:e}=(0,g.M)(),t=(0,d.useRef)(e),s=(0,r.Z)()?"imageAndDescription":"image";return t.current??s},Ne=()=>{const e=(0,d.useContext)(Ae);if(!e)throw new Error("useGen2Service must be used within a Gen2ServiceProvider");return e}},"./app/components/Views/MagicTools/MagicTool/GenZ/constants.ts":(e,t,s)=>{"use strict";s.d(t,{J:()=>o,l:()=>n});const o={singleClickToSelectAsset:!0,supportedViewTypes:["grid","table"],showScaleSlider:!0,showCompletedRecentExports:!1,showCompletedRecentUploads:!1,showPendingRecentExports:!1,showPendingRecentUploads:!0,minRecentAssetsCount:1,maxRecentAssetsCount:2,headerPadding:[0,12,8,12],parentLinksPadding:[8,12],searchInputStyle:"magic-tool",defaultViewType:"grid",demoAssetGroups:{DEMO_ASSETS_MAGIC_TOOL:!0}},n=4},"./app/components/Views/MagicTools/MagicTool/GenZ/utils/splitSeedForDisplay.ts":(e,t,s)=>{"use strict";s.d(t,{T:()=>o});const o=e=>{let{seed:t,truncatedSeedDigitCount:s}=e;if(void 0===t)return["",""];const o=`${t}`,n=o.substring(o.length-s,o.length);return[o.substring(0,o.length-n.length),n]}},"./app/components/Views/MagicTools/MagicTool/NerfMagicTool/constants.ts":(e,t,s)=>{"use strict";s.d(t,{BU:()=>c,EL:()=>x,Fk:()=>b,IU:()=>d,KX:()=>f,Kx:()=>h,L_:()=>a,Or:()=>k,RG:()=>v,Tj:()=>m,Tm:()=>I,Tt:()=>n,UO:()=>j,Xi:()=>i,dr:()=>w,hD:()=>r,iX:()=>l,k4:()=>p,kr:()=>y,nA:()=>_,nf:()=>T,ot:()=>u,sG:()=>g});var o=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts");const n=2e4,a=3e4,i=300,r=!1,l=960,c=6,d=5,p=60,u=2048,m=!!o.Z.find((e=>e.id===o.W.NERF))?.beta,h=6,g=1024,f=4096,y=1,x=10,v=!1,b=32,w=15,_=120,I={title:"Full HD",value:"Full HD",hint:"1920 x 1080",dimension:{width:1920,height:1080}},T=[{title:"Full HD",value:"Full HD",hint:"1920 x 1080",dimension:{width:1920,height:1080},upgradeNeeded:!1},{title:"IG Story",value:"IG Story",hint:"1080 x 1920",dimension:{width:1080,height:1920},upgradeNeeded:!1},{title:"IG Post",value:"IG Post",hint:"1080 x 1080",dimension:{width:1080,height:1080},upgradeNeeded:!1},{title:"2K Wide",value:"2K Wide",hint:"2048 x 1556",dimension:{width:2048,height:1556},upgradeNeeded:!0},{title:"4K Wide",value:"4K Wide",hint:"3840 x 2160",dimension:{width:3840,height:2160},upgradeNeeded:!0},{title:"4K Square",value:"4K Square",hint:"4096 x 4096",dimension:{width:4096,height:4096},upgradeNeeded:!0}],j=["Export videos longer than 5 seconds","2K / 4K quality video export"],k={horizontal:0,vertical:1}},"./app/components/Views/MagicTools/MagicTool/NerfMagicTool/metadata.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={id:"nerf",pricing:{cost:1e3,cta:"Train 3D Capture",backgroundImage:"https://runway-static-assets.s3.amazonaws.com/app/magic-tools/nerf/nerf_chair.jpg"}}},"./app/components/Views/MagicTools/MagicTool/TextToImageMagicTool/DropdownOptions.ts":(e,t,s)=>{"use strict";s.d(t,{Jg:()=>i,K6:()=>n,ip:()=>c,oZ:()=>r});var o=s("./app/utils/sort.ts");const n=[{title:"Widescreen (16:9)",value:"16:9"},{title:"Square (1:1)",value:"1:1"},{title:"Mobile vertical (9:16)",value:"9:16"},{title:"Landscape (3:2)",value:"3:2"},{title:"Portrait (4:5)",value:"4:5"}],a=[{title:"720p",value:"768"}],i=[...a,{title:"2K - ✨ Upgrade",value:"upgrade_needed_2k"}],r=[...a,{title:"2K",value:"1472"}],l=e=>{const t=e.sort(((e,t)=>(0,o.C)(e,t,"ascending"))),s=e.findIndex((e=>Number.isNaN(Number.parseInt(e))));return s<=0?t:[...t.slice(s),...t.slice(0,s)]},c=l(["Abstract","Anime","Art Deco","Cartoon","Comic art","Concept Art","Cyberpunk","Digital","Dystopian","Fantasy","Folk","Futuristic","Gothic","Minimalism","Noir","Pixel Art","Pop Art","Retro","Sci-fi","Steampunk"]);l(["Acrylic","Airbrush","Canvas","Chalk","Charcoal","Child's drawing","Collage","Crayon","Drawing","Fresco","Glass","Graffiti","Illustration","Ink","Matte painting","Mixed Media","Mosaic","Oil painting","Origami","Pastel","Photography","Poster art","Sculpture","Sketch","Spray paint","Watercolor","Woodblock print","8bit"]),l(["Andy Warhol","Claude Monet","Gustav Klimt","H.R. Giger","Hiroshi Yoshida","Jean Giraud Moebius","Julia Pott","Kandinsky","M.C. Escher","Max Ernst","Pablo Picasso","Pixar","Rembrandt","Salvador Dali","Simon Stålenhag","Studio Ghibli","Thomas Kinkade","Tim Burton","Van Gogh","Yayoi Kusama","Zdzisław Beksiński"]),l(["Aggressive","Angry","Beautiful","Boring","Bright","Calm","Cheerful","Chilling","Cinematic","Clean","Close-up","Cold","Colorful","Cosmic","Dark","Dramatic","Elegant","Epic","Futuristic","Geometric","Liminal","Mate","Minimal","Neutral","Ominous","Peaceful","Psychedelic","Vivid","Warm"]),l(["Ambient occlusion","Bokeh","Chromatic Aberration","Cinematic","Clean background","Close-up","Dark background","Film","Golden ratio","HDR","Photorealistic","Portrait","Render","Symmetric","Tilt-shift","Volumetric","35mm","8K"])},"./app/components/Views/MagicTools/MagicTool/TextToSpeech/components/gradients.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=[s.p+"137315c23a89111f25b3124b17b29e4e.jpeg",s.p+"17dea22b91b517ab9d459d6f354cf39c.jpeg",s.p+"79b1c9775d9103f442ead64797ff5cc7.png",s.p+"200fe9fb6ef6a930f16fe0654ac0f905.png",s.p+"e08ded0cad3c14964699b91af367b328.png",s.p+"fe73d4c3cb09b412b31ffc03511f0130.png",s.p+"61e84c2e5f925534513b9bebe334d191.png",s.p+"20708beb5f3241db90b42c0db8dc5e2b.png"]},"./app/components/Views/MagicTools/MagicTool/TextToSpeech/constants.ts":(e,t,s)=>{"use strict";s.d(t,{H9:()=>l,Jm:()=>p,P5:()=>c,Ub:()=>h,be:()=>r,cK:()=>i,iZ:()=>m,mo:()=>d,oE:()=>u,w1:()=>g});var o=s("./app/constants/media.ts"),n=s("./app/devoe/themeDark.ts"),a=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts");const i=1e3,r=50,l="sm",c=n.Z.breakpoints[l],d="EXAVITQu4vr4xnSDxMaL",p=a.Z.find((e=>e.id===a.W.TEXT_TO_SPEECH))?.helpCenterUrl,u="\nI want Runway to create an artificial version of my voice that I can use to create speech that sounds like me. I am training my voice by reading this aloud:\n\nThe invention of the camera stands as a monumental advancement in human history, changing fundamentally how we capture and interpret our surroundings. Its story begins in the early 19th century, rooted in the principles of the camera obscura, an ancient technique that projected images onto surfaces. The breakthrough came when inventors found a way to fix these fleeting images onto a physical medium, creating the first permanent photographs.\n\nThis new technology evolved rapidly. Early processes, which involved long exposure times and complex procedures, gradually gave way to more efficient and practical methods. The introduction of durable, light-sensitive materials allowed for clearer, more detailed images and significantly reduced exposure times.\n\nBy the end of the 19th century, photographic technology had advanced to the point where cameras became portable and accessible to the general public. This democratization of photography had a profound impact. It allowed individuals to document their personal experiences, preserve family histories, and capture everyday moments, a privilege previously reserved for painters and artists.\n\nAs we venture deeper into the 21st century, another groundbreaking technology is emerging with the power to reshape our world: generative AI. This innovative field of artificial intelligence is not just about understanding data or making predictions; it's about creating something new. \n\nThe implications of generative AI are vast and far-reaching. In the creative industry, it's opening up new horizons for artists, offering tools that spark creativity and create new forms of collaboration. With these tools, people around the world can express their ideas and visions in ways previously inaccessible to them, breaking down barriers in art, design, and innovation. This technology is not just a tool for creation; it's a catalyst for empowerment and expression.\n\nJust as the invention of photography revolutionized the way we capture and perceive the world, generative AI is reshaping the landscape of creation and imagination. Both technologies represent significant leaps in how we express and communicate our experiences, expanding the horizons of human creativity and challenging our understanding of what is possible. While photography allows us to see the world as it is, generative AI empowers us to envision worlds that have never been, each innovation marking a pivotal step in our ongoing journey of exploration and expression.\n\n",m=`${o.yI}app/text-to-speech/voice-clone-hero.mp4`,h={"21m00Tcm4TlvDq8ikWAM":"Maggie",D38z5RcWu1voky8WS1ja:"Jack",EXAVITQu4vr4xnSDxMaL:"Katie",GBv7mTt0atIp3Br8iCZE:"Noah",IKne3meq5aSn9XLyUdCD:"James",LcfcDJNUP1GQjkzn1xUU:"Rina",MF3mGyEYCl7XYWbV9V6O:"Ella",ThT5KcBeYPX3keUQqHPh:"Mariah",TxGEqnHWrfWFTfGW9XjX:"Frank",XB0fDUnXU5powFXDhCwa:"Claudia",XrExE9yKIg1WjnnlVkGX:"Niki",Yko7PKHZNXotIFUBG7I9:"Dominic",ZQe5CZNOzWyzPSCn5a3c:"Vincent",flq6f7yk4E4fJM5XTYuZ:"Kendrick",oWAxZDx7w5VEj9dCyTzz:"Myrna",onwK4e9ZLuTAKqWW03F9:"Tom",pMsXgVXv3BLzUgSXRplE:"Wanda",pNInz6obpgDQGcFmaJgB:"Benjamin",piTKgcLEGmPE4e6mEKli:"Kiana",zrHiDhphv9ZnVXBqCLjz:"Rachel"},g=Object.keys(h)},"./app/components/Views/MagicTools/MagicTool/TextToSpeech/hooks/useGradientForVoiceId.ts":(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var o=s("./node_modules/react/index.js"),n=s("./app/components/Views/MagicTools/MagicTool/TextToSpeech/components/gradients.ts"),a=s("./app/devoe/assets/img/talking-heads-gradients/clone.png");const i=new Map;let r=0;const l=()=>(0,o.useCallback)((e=>e?(i.has(e)||(i.set(e,r),r=(r+1)%n.Z.length),n.Z[i.get(e)]):a.Z),[])},"./app/components/Views/MagicTools/MagicTool/TextToSpeech/utils.ts":(e,t,s)=>{"use strict";s.d(t,{CJ:()=>a,D6:()=>o,RB:()=>i,V3:()=>r,hM:()=>n});const o=e=>e.isPending,n=e=>"id"in e,a=e=>!o(e)&&!n(e),i=e=>!o(e),r=e=>!o(e)&&e.voiceId},"./app/components/Views/MagicTools/MagicTool/UpscaleImageMagicTool/DropdownOptions.ts":(e,t,s)=>{"use strict";s.d(t,{Jg:()=>a,oZ:()=>n,pj:()=>i});const o=[{title:"720p",value:"1280"},{title:"1080p",value:"1920"}],n=[...o,{title:"2K",value:"2560"},{title:"4K",value:"3840"}],a=[...o,{title:"2K - ✨ Upgrade",value:"upgrade_needed_2k"},{title:"4K - ✨ Upgrade",value:"upgrade_needed_4k"}],i=3840},"./app/components/Views/MagicTools/MagicTool/UpscaleImageMagicTool/utils.ts":(e,t,s)=>{"use strict";s.d(t,{DG:()=>r,K3:()=>i,wD:()=>a});var o=s("./app/streams/utils.ts"),n=s("./app/components/Views/MagicTools/MagicTool/UpscaleImageMagicTool/DropdownOptions.ts");const a=e=>{let{inputUrl:t,targetHeight:s,targetWidth:n}=e;return t?(0,o.cU)({path:"/image_upscaling/commands/upscale/result.jpg",urlParams:{input_image:t,input_height:s,input_width:n},hardware:"gpu",priority:"high"}):""},i=e=>{let{inputHeight:t,inputWidth:s,targetResolution:o}=e;const n=t>s,a=s/t;return{targetHeight:Math.floor(n?o/a:o).toString(),targetWidth:Math.floor(n?o:o*a).toString()}},r=e=>{if(!e.url)return!0;const t=e.metadata??{};if(!t.size)return!0;const{width:s,height:o}=t.size;return Math.max(s,o)<n.pj}},"./app/components/Views/MagicTools/MagicToolsMetadata.ts":(e,t,s)=>{"use strict";s.d(t,{W:()=>d,Z:()=>u});var o=s("./app/constants/media.ts"),n=s("./app/utils/openInCurrentOrNewWindow.ts"),a=s("./app/utils/video-editor/composition.ts"),i=s("./app/components/Views/Dashboard/Pages/PageNames.ts"),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts"),l=s("./app/components/Views/MagicTools/MagicTool/UpscaleImageMagicTool/utils.ts"),c=s("./app/components/Views/MagicTools/utils.ts");const d={ADD_GREEN_BACKGROUND:"add-green-background",BLUR_BACKGROUND:"blur-background",BLUR_FACES:"blur-faces",BOKEH:"bokeh",CLEAN_AUDIO:"clean-audio",COLORIZE:"colorize",ERASE_AND_REPLACE:"erase-and-replace",EXPORT_ALPHA_MATTE:"export-alpha-matte",EXTRACT_DEPTH:"extract-depth",FRAME_INTERPOLATION:"frame-interpolation",GEN_1:"gen-1",GEN_2:"gen-2",IMAGE_TO_IMAGE:"image-to-image",IMAGE_VARIATIONS:"image-variation",INFINITE_IMAGE:"infinite-image",INPAINTING:"inpainting",MOTION_TRACKING:"motion-tracking",NERF:"3d-captures",REMOVE_BACKGROUND:"remove-background",REMOVE_SILENCE:"remove-silence",REPLACE_BACKDROP:"replace-backdrop",REPLACE_BACKGROUND:"replace-background",SLOW_MOTION:"slow-motion",SUBTITLES:"subtitles",SUBTITLE_VIDEO:"subtitle-video",TEXT_TO_IMAGE:"text-to-image",TEXT_TO_LUT:"text-to-lut",TEXT_TO_TEXTURE:"text-to-texture",UPSCALE_IMAGE:"upscale-image",SCENE_DETECTION:"scene-detection",WORD_PROCESSOR:"word-processor",EXPAND_IMAGE:"expand-image",AI_TRAINING:"ai-training",GREEN_SCREEN:"green-screen",UPSCALE_VIDEO:"upscale-video",TEXT_TO_SPEECH:"text-to-speech"},p=(Object.values(d),[{type:"MAGIC_TOOL",id:d.GEN_1,generationsToolIdOverride:"gen1",name:"Video to Video",shortName:"Gen-1",description:"Change the style of a video with text or images.",categories:["video","video-generate",i.q.Home],version:4,image:`${o.yI}app/magic-tools/updated-2023-05-30/Gen-1.webp`,mp4:`${o.yI}app/magic-tools/Remove+Background.mp4`,webm:`${o.yI}app/magic-tools/Remove+Background.webm`,mnemonic:"Gen1",helpCenterUrl:"https://help.runwayml.com/hc/en-us/articles/17328641206803-Gen-1"},{type:"MAGIC_TOOL",id:d.GEN_2,generationsToolIdOverride:"gen2",name:"Text/Image to Video",shortName:"Gen-2",helpCenterUrl:r.g,description:"Generate videos with text or image prompts.",categories:["video","video-generate",i.q.Home],version:4,inputTypes:["image"],image:`${o.yI}app/magic-tools/updated-2023-05-30/Gen-2.webp`,mp4:`${o.yI}app/magic-tools/gen2/cover.mp4`,webm:`${o.yI}app/magic-tools/Remove+Background.webm`,mnemonic:"Gen2",playOnHover:!0},{type:"MAGIC_TOOL",id:d.GREEN_SCREEN,name:"Remove Background",description:"Remove, blur or replace video background",categories:["video",i.q.VideoEdit,i.q.Home],version:1,image:`${o.yI}app/magic-tools/updated-2023-05-30/Remove+background.webp`,mp4:`${o.yI}app/magic-tools/Remove+Background.mp4`,webm:`${o.yI}app/magic-tools/Remove+Background.webm`,onClick:(e,t,s)=>(0,a.h1)({shortcutUrl:"green-screen",asTeamId:e,event:s}),createsProject:!0,mnemonic:"RB"},{type:"MAGIC_TOOL",id:d.TEXT_TO_IMAGE,name:"Text to Image",description:"Generate original images with nothing but words.",categories:["image","image-generate",i.q.Home],inputTypes:["text"],mediaType:"image",version:1,image:`${o.yI}app/magic-tools/updated-2023-11-21/Text+to+image.webp`,mp4:`${o.yI}app/magic-tools/Text+to+Image+Generation.mp4`,webm:`${o.yI}app/magic-tools/Text+to+Image+Generation.webm`,mnemonic:"TI"},{type:"MAGIC_TOOL",id:d.IMAGE_TO_IMAGE,name:"Image to Image",description:"Transform any image with a text prompt.",categories:["image","image-generate",i.q.Home],inputTypes:["image"],mediaType:"image",version:1,image:`${o.yI}app/magic-tools/updated-2023-11-21/Image+to+image.webp`,mp4:`${o.yI}app/magic-tools/Image+to+Image+Generation.mp4`,webm:`${o.yI}app/magic-tools/Image+to+Image+Generation.webm`,mnemonic:"II"},{type:"MAGIC_TOOL",id:d.TEXT_TO_SPEECH,name:"Text To Speech",description:"Generate audio from text.",categories:["audio-subtitles","video",i.q.Home],version:3,image:`${o.yI}app/magic-tools/updated-2023-12-8/Text+to+Speech.webp`,mp4:`${o.yI}app/magic-tools/Transcript.mp4`,webm:`${o.yI}app/magic-tools/Transcript.webm`,mnemonic:"TS",helpCenterUrl:"https://help.runwayml.com/hc/en-us/articles/23859696734611"},{type:"MAGIC_TOOL",id:d.AI_TRAINING,name:"Train your own Generator",description:"Create custom Portraits, Animals, Styles and more.",categories:["image",i.q.Home,"image-generate"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/AI+Training.webp`,mp4:`${o.yI}app/magic-tools/Portrait+Generator.mp4`,webm:`${o.yI}app/magic-tools/Portrait+Generator.webm`,onClick:(e,t,s)=>{const o=window.location.pathname,a=`${o.substring(0,o.lastIndexOf("/"))}/custom-ai-tools`;(0,n.w)(a,s)},mnemonic:"AI"},{type:"MAGIC_TOOL",id:d.INFINITE_IMAGE,name:"Infinite Image",description:"Expand an image with Text to Image generation.",categories:["image","image-generate",i.q.Home],inputTypes:["image"],mediaType:"image",version:1,image:`${o.yI}app/magic-tools/updated-2023-05-30/Infinite+Image.webp`,mp4:`${o.yI}app/magic-tools/Infinite+Image.mp4`,webm:`${o.yI}app/magic-tools/Infinite+Image.webm`,mnemonic:"IN"},{type:"MAGIC_TOOL",id:d.EXPAND_IMAGE,name:"Expand Image",description:"Expand the edges of any image.",categories:["image","image-edit"],inputTypes:["image"],mediaType:"image",version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Expand+Image.webp`,mp4:`${o.yI}app/magic-tools/updated/expandImageVertical.png`,webm:`${o.yI}app/magic-tools/updated/expandImageVertical.png`,mnemonic:"EI"},{type:"MAGIC_TOOL",id:d.FRAME_INTERPOLATION,name:"Frame Interpolation",description:"Turn a sequence of images into an animated video.",categories:["video","video-generate","image","image-edit"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Frame+interpolation-1.webp`,mp4:`${o.yI}app/magic-tools/FrameInterpolation.mp4`,webm:`${o.yI}app/magic-tools/FrameInterpolation.webm`,mnemonic:"FI"},{type:"MAGIC_TOOL",id:d.ERASE_AND_REPLACE,name:"Erase and Replace",categories:["image","image-edit"],inputTypes:["image"],mediaType:"image",version:2,description:"Reimagine and remix any part of any image.",image:`${o.yI}app/magic-tools/updated-2023-05-30/Erase+and+Replace.webp`,mp4:`${o.yI}app/magic-tools/Erase+and+Replace.mp4`,webm:`${o.yI}app/magic-tools/Erase+and+Replace.webm`,mnemonic:"ER"},{type:"MAGIC_TOOL",id:d.REPLACE_BACKDROP,name:"Backdrop Remix",description:"Give any photo infinite backgrounds.",categories:["image","image-edit"],inputTypes:["image"],mediaType:"image",version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Backdrop+Remix.webp`,mp4:`${o.yI}app/magic-tools/chair.mp4`,webm:`${o.yI}app/magic-tools/chair.webm`,mnemonic:"BR"},{type:"MAGIC_TOOL",id:d.UPSCALE_VIDEO,name:"Upscale Video",description:"Increase the resolution of a video",categories:["video","video-edit"],inputTypes:["video"],version:3,image:`${o.yI}app/magic-tools/upscale-video.webp`,mp4:`${o.yI}app/magic-tools/Upscale.mp4`,webm:`${o.yI}app/magic-tools/Upscale.webm`,mnemonic:"UV"},{type:"MAGIC_TOOL",id:d.IMAGE_VARIATIONS,name:"Image Variation",categories:["image","image-generate","image-edit"],inputTypes:["image"],mediaType:"image",version:2,description:"Generate new variations of an image.",image:`${o.yI}app/magic-tools/updated-2023-11-21/Image+Variation.webp`,mp4:`${o.yI}app/magic-tools/Image+Variations.mp4`,webm:`${o.yI}app/magic-tools/Image+Variations.webm`,mnemonic:"IV"},{type:"MAGIC_TOOL",id:d.NERF,name:"3D Capture",description:"Capture 3D models of things around you and create new dynamic scenes with AI.",categories:["3d","more"],version:2,image:`${o.yI}app/magic-tools/threed-captures-jupiter.webp`,mp4:`${o.yI}app/magic-tools/Motion+tracking.mp4`,webm:`${o.yI}app/magic-tools/Motion+tracking.webm`,onClick:(e,t,s)=>{const o=window.location.pathname,a=`${o.substring(0,o.lastIndexOf("/"))}/3d-captures`;(0,n.w)(a,s)},mnemonic:"3C",beta:!0},{type:"MAGIC_TOOL",id:d.TEXT_TO_TEXTURE,name:"3D Texture",description:"Generate 3D textures with text prompts.",categories:["3d"],mediaType:"image",version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Text+to+3D+texture.webp`,mp4:`${o.yI}app/magic-tools/Text+to+Texture.mp4`,webm:`${o.yI}app/magic-tools/Text+to+Texture.webm`,mnemonic:"3T"},{type:"MAGIC_TOOL",id:d.INPAINTING,name:"Inpainting",description:"Remove people and things from videos.",categories:["video","video-edit"],version:1,image:`${o.yI}app/magic-tools/updated-2023-05-30/Inpainting+1.webp`,mp4:`${o.yI}app/magic-tools/Inpainting.mp4`,webm:`${o.yI}app/magic-tools/Inpainting.webm`,onClick:(e,t,s)=>(0,a.h1)({shortcutUrl:"inpaint",asTeamId:e,recipeId:"inpaint",event:s}),createsProject:!0,mnemonic:"IP"},{type:"MAGIC_TOOL",id:d.TEXT_TO_LUT,name:"Color Grade (LUT)",description:"Color grade videos with text prompts.",categories:["video","video-edit"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Text+to+Color+Grade+%28LUT%29.webp`,mp4:`${o.yI}app/magic-tools/Text+to+LUT.mp4`,webm:`${o.yI}app/magic-tools/Text+to+LUT.webm`,mnemonic:"CG"},{type:"MAGIC_TOOL",id:d.SLOW_MOTION,name:"Super-Slow Motion",description:"Turn any video into smooth slow motion.",categories:["video","video-edit"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Super-Slow+Motion.webp`,mp4:`${o.yI}app/magic-tools/Super-Slow+Motion.mp4`,webm:`${o.yI}app/magic-tools/Super-Slow+Motion.webm`,mnemonic:"SS"},{type:"MAGIC_TOOL",id:d.BLUR_FACES,name:"Blur Faces",description:"Detect and hide faces in videos.",categories:["video","video-edit"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Blur+Faces.webp`,mp4:`${o.yI}app/magic-tools/Blur+Faces.mp4`,webm:`${o.yI}app/magic-tools/Blur+Faces.webm`,mnemonic:"BF"},{type:"MAGIC_TOOL",id:d.BOKEH,name:"Depth of Field",description:"Adjust the depth of field of any video.",categories:["video","video-edit"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Bokeh.webp`,mp4:`${o.yI}app/magic-tools/Bokeh.mp4`,webm:`${o.yI}app/magic-tools/Bokeh.webm`,mnemonic:"DF"},{type:"MAGIC_TOOL",id:d.SCENE_DETECTION,name:"Scene Detection",description:"Automatically split your footage into clips.",categories:["video","video-edit"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Scene+Detection.webp`,mp4:`${o.yI}app/magic-tools/Split+Scenes.mp4`,webm:`${o.yI}app/magic-tools/Split+Scenes.webm`,mnemonic:"SD"},{type:"MAGIC_TOOL",id:d.EXTRACT_DEPTH,name:"Extract Depth",description:"Automatically generate a video depth map.",categories:["video","video-edit"],version:2,image:`${o.yI}app/magic-tools/Extract+Depth+B+Large.jpeg`,mp4:`${o.yI}app/magic-tools/Extract+Depth.mp4`,webm:`${o.yI}app/magic-tools/Extract+Depth.webm`,mnemonic:"ED"},{type:"MAGIC_TOOL",id:d.CLEAN_AUDIO,name:"Clean Audio",description:"Instantly remove unwanted background noise.",categories:["audio-subtitles","video"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Clean+Audio.webp`,mp4:`${o.yI}app/magic-tools/Clean+Audio.mp4`,webm:`${o.yI}app/magic-tools/Clean+Audio.webm`,mnemonic:"CA"},{type:"MAGIC_TOOL",id:d.REMOVE_SILENCE,name:"Remove Silence",description:"Cut silence from audio or video.",categories:["audio-subtitles","video"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Remove+Silence.webp`,mp4:`${o.yI}app/magic-tools/Remove+Silence.mp4`,webm:`${o.yI}app/magic-tools/Remove+Silence.webm`,mnemonic:"RS"},{type:"MAGIC_TOOL",id:d.SUBTITLES,name:"Transcript",description:"Transcribe any video to text.",categories:["video","audio-subtitles"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Generate+Transcript.webp`,mp4:`${o.yI}app/magic-tools/Transcript.mp4`,webm:`${o.yI}app/magic-tools/Transcript.webm`,mnemonic:"TS"},{type:"MAGIC_TOOL",id:d.SUBTITLE_VIDEO,name:"Subtitles",description:"Generate subtitles for any video.",categories:["video","audio-subtitles"],version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Generate+Subtitles.webp`,mp4:`${o.yI}app/magic-tools/Subtitles.mp4`,webm:`${o.yI}app/magic-tools/Subtitles.webm`,mnemonic:"ST",createsProject:!0,onClick:(e,t)=>(0,c.Rn)(t)},{type:"MAGIC_TOOL",id:d.COLORIZE,name:"Add color",description:"Colorize black and white images.",categories:["image","image-edit"],inputTypes:[],mediaType:"image",version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Colorize2.webp`,mp4:`${o.yI}app/magic-tools/Colorize.mp4`,webm:`${o.yI}app/magic-tools/Colorize.webm`,mnemonic:"AC"},{type:"MAGIC_TOOL",id:d.UPSCALE_IMAGE,name:"Upscale Image",description:"Increase the resolution of an image.",categories:["image","image-edit"],inputTypes:["image"],mediaType:"image",version:2,image:`${o.yI}app/magic-tools/updated-2023-05-30/Upscale+Image.webp`,mp4:`${o.yI}app/magic-tools/Upscale.mp4`,webm:`${o.yI}app/magic-tools/Upscale.webm`,mnemonic:"UI",filterSrcFunction:l.DG},{type:"MAGIC_TOOL",id:d.MOTION_TRACKING,name:"Motion Tracking",description:"Track moving objects in your video.",categories:["video","video-edit"],version:1,image:`${o.yI}app/magic-tools/updated-2023-05-30/Motion+Tracking.webp`,mp4:`${o.yI}app/magic-tools/Motion+tracking.mp4`,webm:`${o.yI}app/magic-tools/Motion+tracking.webm`,mnemonic:"MT",onClick:(e,t,s)=>(0,a.h1)({shortcutUrl:"motion-tracking",asTeamId:e,recipeId:"motion-tracking",event:s}),createsProject:!0},{type:"MAGIC_TOOL",id:d.WORD_PROCESSOR,name:"Word Processor",description:"TBD",categories:["text"],version:3,image:`${o.yI}app/magic-tools/Moiton+Tracking.webp`,mp4:`${o.yI}app/magic-tools/Motion+tracking.mp4`,webm:`${o.yI}app/magic-tools/Motion+tracking.webm`,mnemonic:"WP"}]),u=(d.GEN_1,d.GEN_2,p)},"./app/components/Views/MagicTools/ToolsLinker/ToolsLinkerConstants.ts":(e,t,s)=>{"use strict";s.d(t,{g:()=>o});const o="linkerId"},"./app/components/Views/MagicTools/ToolsLinker/ToolsLinkerContext.tsx":(e,t,s)=>{"use strict";s.d(t,{u:()=>D,n:()=>O});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/utils/constants.ts"),a=s("./app/utils/links.ts"),i=s("./node_modules/@xstate/react/es/useInterpret.js"),r=s("./node_modules/react/index.js"),l=s("./node_modules/react-router/esm/react-router.js"),c=s("./app/components/Views/MagicTools/actions/assets.ts"),d=s("./app/components/Views/MagicTools/utils/createDownloadFileName.ts"),p=s("./app/components/Views/MagicTools/ToolsLinker/ToolsLinkerConstants.ts"),u=s("./app/components/Prefabs/RadixDialog.tsx"),m=s("./app/components/Prefabs/ThreedotsLoader.tsx"),h=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),g=s("./node_modules/@xstate/react/es/useSelector.js"),f=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),y=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),x=s("./app/components/Views/MagicTools/Components/Common/Button.tsx"),v=s("./app/components/Views/MagicTools/utils/getMagicToolNameFromId.ts"),b=s("./node_modules/react/jsx-runtime.js");const w=()=>{const e=O(),t=(0,g.v)(e,(e=>e.matches("preparing"))),s=(0,g.v)(e,(e=>e.matches("routing"))),o=(0,g.v)(e,(e=>e.matches("error")));return(0,b.jsx)(h.fC,{open:t||s||o,onOpenChange:()=>{e.send("CLOSE")},children:(0,b.jsxs)(h.h_,{children:[(0,b.jsx)(u.t9,{}),(0,b.jsxs)(j,{children:[t&&(0,b.jsx)(_,{service:e}),s&&(0,b.jsx)(I,{service:e}),o&&(0,b.jsx)(T,{service:e})]})]})})},_=e=>{let{service:t}=e;const s=(0,g.v)(t,(e=>{if(!e.context.mediaType)throw new Error("mediaType is undefined");return e.context.mediaType})),o=(0,g.v)(t,(e=>{if(!e.context.toToolId)throw new Error("toToolId is undefined");return e.context.toToolId})),n=(0,r.useMemo)((()=>(0,v.hp)(o)),[o]);return(0,b.jsxs)(y.x,{flexDirection:"column",gap:"16px",children:[(0,b.jsxs)(k,{children:["Preparing your ",s," for use in ",n]}),(0,b.jsx)(y.x,{justifyContent:"center",children:(0,b.jsx)(m.Z,{dotSize:4})}),(0,b.jsx)(C,{onClick:()=>{t.send("CANCEL")},children:"Cancel"})]})},I=e=>{let{service:t}=e;const s=(0,g.v)(t,(e=>{if(!e.context.mediaType)throw new Error("mediaType is undefined");return e.context.mediaType})),o=(0,g.v)(t,(e=>{if(!e.context.toToolId)throw new Error("toToolId is undefined");return e.context.toToolId})),n=(0,r.useMemo)((()=>(0,v.hp)(o)),[o]);return(0,b.jsxs)(y.x,{flexDirection:"column",gap:"24px",children:[(0,b.jsxs)(k,{children:["Your ",s," is ready to be used in ",n]}),(0,b.jsxs)(y.x,{flexDirection:"column",gap:"16px",children:[(0,b.jsx)(x.KM,{onClick:()=>{t.send("OPEN_IN_CURRENT_TAB")},children:"Open in current window"}),(0,b.jsx)(x.KM,{onClick:()=>{t.send("OPEN_IN_NEW_TAB")},children:"Open in new window"})]})]})},T=e=>{let{service:t}=e;const s=(0,g.v)(t,(e=>{if(!e.context.mediaType)throw new Error("mediaType is undefined");return e.context.mediaType})),o=(0,g.v)(t,(e=>{if(!e.context.toToolId)throw new Error("toToolId is undefined");return e.context.toToolId})),n=(0,r.useMemo)((()=>(0,v.hp)(o)),[o]);return(0,b.jsxs)(y.x,{flexDirection:"column",gap:"24px",children:[(0,b.jsxs)(k,{children:["There was an error while preparing your ",s," for use in"," ",n]}),(0,b.jsx)(y.x,{flexDirection:"column",gap:"16px",children:(0,b.jsx)(x.KM,{onClick:()=>{t.send("RETRY")},children:"Retry"})})]})},j=(0,f.ZP)(u.cZ).withConfig({displayName:"ToolsLinkerDialog__Content",componentId:"sc-hb047y-0"})(["width:auto;"]),k=(0,f.ZP)(h.Dx).withConfig({displayName:"ToolsLinkerDialog__Title",componentId:"sc-hb047y-1"})(["color:",";font-size:",";line-height:",";font-weight:700;text-align:center;"],(e=>e.theme.colors.textWhiteUI),(e=>e.theme.fonts.size.lg),(e=>e.theme.fonts.lineHeight.lg)),C=f.ZP.button.withConfig({displayName:"ToolsLinkerDialog__SecondaryButton",componentId:"sc-hb047y-2"})(["box-sizing:border-box;border:none;border-radius:6px;background-color:#f1f1f4;color:",";height:40px;display:flex;justify-content:center;align-items:center;width:100%;cursor:pointer;&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.colors.textInactive),(e=>e.theme.colors.primary));var E=s("./app/api/mixpanel.ts"),S=s("./app/utils/mixpanel.ts"),A=s("./node_modules/xstate/es/Machine.js"),M=s("./node_modules/xstate/es/index.js");const P=(0,A.C)({id:"toolsLinker",initial:"idle",predictableActionArguments:!0,preserveActionOrder:!0,context:{fromToolId:null,toToolId:null,mediaType:null,src:null,asset:null,team:null},on:{SET_TEAM:{actions:"setTeam"}},states:{idle:{on:{LINK:[{cond:"srcIsAsset",target:"routing",actions:["setLinkData","trackLink"]},{target:"preparing",actions:["setLinkData","trackLink"]}]}},preparing:{entry:"clearAsset",invoke:{src:"createAsset",onDone:{target:"routing",actions:"setAsset"},onError:{target:"error"}}},fetchingAsset:{invoke:{src:"fetchAsset",onDone:{target:"routing",actions:"setAsset"},onError:{target:"error"}}},routing:{on:{OPEN_IN_NEW_TAB:{target:"idle",actions:["openInNewTab","trackOpenInNewTab"]},OPEN_IN_CURRENT_TAB:{target:"idle",actions:["openInCurrentTab","trackOpenInCurrentTab"]},CLOSE:{target:"idle",actions:"clearLinkData"}}},error:{on:{RETRY:"preparing",CLOSE:"idle"}}}},{actions:{setLinkData:(0,M.assign)(((e,t)=>"LINK"!==t.type?e:"string"==typeof t.src?{fromToolId:t.fromToolId,toToolId:t.toToolId,mediaType:t.mediaType,src:t.src,asset:null}:{fromToolId:t.fromToolId,toToolId:t.toToolId,mediaType:t.mediaType,src:null,asset:t.src})),clearLinkData:(0,M.assign)((e=>({fromToolId:null,toToolId:null,mediaType:null,src:null}))),setAsset:(0,M.assign)(((e,t)=>"data"in t?{asset:t.data}:e)),clearAsset:(0,M.assign)((e=>({asset:null}))),setTeam:(0,M.assign)(((e,t)=>"SET_TEAM"!==t.type?e:{team:t.team})),trackLink:e=>{(0,E.bc)({eventName:"Link Tools",properties:{...(0,S.l)(),fromToolId:e.fromToolId,toToolId:e.toToolId}})},trackOpenInNewTab:e=>{(0,E.bc)({eventName:"Link Tools: Open in new tab",properties:{...(0,S.l)(),fromToolId:e.fromToolId,toToolId:e.toToolId}})},trackOpenInCurrentTab:e=>{(0,E.bc)({eventName:"Link Tools: Open in current tab",properties:{...(0,S.l)(),fromToolId:e.fromToolId,toToolId:e.toToolId}})}},guards:{srcIsAsset:(e,t)=>"LINK"===t.type&&"string"!=typeof t.src}}),N=(0,r.createContext)(null),D=e=>{let{children:t}=e;const s=(0,l.k6)(),r=(0,o.I7)(),u=(0,i.k)(P,{actions:{openInNewTab:e=>{if(!r)throw new Error("No team found");if(!e.asset)throw new Error("No asset set");if(!e.toToolId)throw new Error("No toToolId set");(0,a.n)(`${n.yR}/video-tools/teams/${r.username}/ai-tools/${e.toToolId}?${p.g}=${e.asset.id}`)},openInCurrentTab:e=>{if(!r)throw new Error("No team found");if(!e.asset)throw new Error("No asset set");if(!e.toToolId)throw new Error("No toToolId set");s.push(`/video-tools/teams/${r.username}/ai-tools/${e.toToolId}?${p.g}=${e.asset.id}`)}},services:{createAsset:async e=>{if(!r)throw new Error("No team found");if(!e.src)throw new Error("No src set");if(!e.fromToolId)throw new Error("No fromToolId set");return(0,c.g)(e.src,(0,d.l)({format:"jpg",toolId:e.fromToolId}))}}});return(0,b.jsxs)(N.Provider,{value:u,children:[t,(0,b.jsx)(w,{})]})},O=()=>{const e=(0,r.useContext)(N);if(!e)throw new Error("useToolsLinkerService must be used within a ToolsLinkerProvider");return e}},"./app/components/Views/MagicTools/UseCaseMetaData.tsx":(e,t,s)=>{"use strict";s.d(t,{Hr:()=>d,Rs:()=>p,Un:()=>g,ln:()=>u,nj:()=>c,qk:()=>x});var o=s("./app/constants/media.ts"),n=s("./app/utils/constants.ts"),a=(s("./node_modules/react/index.js"),s("./node_modules/react-router-dom/esm/react-router-dom.js")),i=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=s("./node_modules/react/jsx-runtime.js");const l=()=>(0,r.jsxs)(y,{$italic:!0,children:['By clicking "train custom generator" you agree that we and our third-party vendors may use various technologies, including technology that scans faces, to provide the Generator Service and you represent that you have all necessary rights to upload and use the photos to train the generator. This feature is subject to our'," ",(0,r.jsx)(g,{$dark:!0,href:n.lQ,target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"}),". For more about how we use, retain, and disclose personal information, please read our"," ",(0,r.jsx)(g,{$dark:!0,href:n.hO,target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy."})]}),c=["character-generator","object-generator","style-generator"],d=[{type:"USE_CASE",available:()=>!0,id:"portrait-generator",name:"Portrait Generator",label:"Portrait",optimalImages:15,maxImages:30,mnemonic:"PG",categories:["text","image"],newText:"New Portrait Generator",card:{title:"Train a Portrait Generator",description:"Create your own custom Portrait Generator for Text to Image.",image:`${o.yI}app/magic-tools/updated-2023-05-30/Train+a+Portrait+Generator.webp`,mp4:`${o.yI}app/magic-tools/Portrait+Generator.mp4`,webm:`${o.yI}app/magic-tools/Portrait+Generator.webm`},cover:{cta:"Train Portrait Generator",title:"Portrait Generator",description:"Train your own Portrait Generator for Text to Image and get ✨100 HD images for free.✨",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-8.webp`,`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-7.webp`],promptImageSets:[{prompt:"",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_2.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_1.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_3.webp`]},{prompt:"Illustration of Sharon, palm trees",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_4.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_1.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_3.webp`]},{prompt:"Portrait of Sharon with green plants",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_4.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_5.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_3.webp`]},{prompt:"Illustration of Sharon, 1920's, ambient lighting",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_4.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_5.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_6.webp`]},{prompt:"",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_7.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_8.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_9.webp`]},{prompt:"Portrait of Mike, low poly",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_10.png`,`${o.yI}app/magic-tools/train/splash/compressed_splash_8.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_9.webp`]},{prompt:"Portrait of Mike as an astronaut",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_10.png`,`${o.yI}app/magic-tools/train/splash/compressed_splash_11.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_9.webp`]},{prompt:"Painting of Mike, cyberpunk art, iridescent",images:[`${o.yI}app/magic-tools/train/splash/compressed_splash_10.png`,`${o.yI}app/magic-tools/train/splash/compressed_splash_11.webp`,`${o.yI}app/magic-tools/train/splash/compressed_splash_12.webp`]}]},images:{information:{title:"Guidelines",description:()=>(0,r.jsxs)("span",{children:["Add 15–30 images of a face with different backgrounds. You can’t redo this later, so choose with care."," ",(0,r.jsx)(g,{href:"https://youtu.be/f6ApBqlF1j4",target:"_blank",rel:"noopener noreferrer",children:"View tutorial"}),"."]}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"More photos are better"})]},requiredImages:15},train:{keyword:{title:"Keyword",info:"You can use this keyword for custom prompts. For example: \"A photorealistic image of 'keyword' in a field of flowers.\""},cta:"Create Portraits",trainingSteps:1500,taskType:"dreambooth"},pricing:{title:"Train your own Portrait Generator and get 100 free HD images.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["100 HD images ",(0,r.jsx)(y,{children:"in 1080x1080px."})]}),()=>(0,r.jsx)(y,{$bold:!0,children:"Multiple portrait styles."}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Portrait Generator ",(0,r.jsx)("br",{}),(0,r.jsx)(y,{children:"Use your custom model inside Text to Image to create unlimited new styles, scenes and compositions."})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],cost:1e3,cta:"Train Portrait Generator",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`,`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-11.webp`]},outputPrompts:e=>[`an epic comic book style full body portrait painting of  ${e} genie with black hair, elegant, character design, unreal 5, DAZ, hyperrealistic, octane render, cosplay, RPG portrait, dynamic lighting, intricate detail, summer vibrancy, cinematic`,`A portrait of ${e}, shiny, intricate, tone mapped, ambient lighting, highly detailed, digital painting, artstation, concept art, 4k, god rays, stunning beautiful, glowing eyes, sharp focus`,`beautiful portrait of ${e}, sunset, purple sun, pink lighting ultra realistic photorealistic highly detailed high quality, a stunningly, digital painting, artstation, concept art, smooth, sharp focus, illustration, 8k`,`Illustrative 3/4 portrait of ${e} in ruined atlantis sunrise, sci-fi and fantasy, intricate, beautiful, elegant, highly detailed digital painting, concept art style, smooth and sharp focus`,`An epic portrait of ${e}, very detailed face, insanely detailed and intricate, vivid and vibrant, highly detailed, cinematic lighting, concept art, artstation`,`Detailed portrait of ${e}, cyberpunk futuristic neon style, wearing a reflective puffy coat, decorated with traditional japanese ornaments, fine details, realistic render`,`Duotone illustration 3 / 4 portrait of ${e} from neuromancer. mirror glasses, claw blades in fingers, trinity matrix, tech noir volumetric lighting. dynamic composition. graffiti art, scifi, fantasy, hyper detailed. octane render. concept art. trending on artstation`,`Duotone surrreal psychedelic concept illustration 3 / 4 portrait of ${e} with fractals molecules in the background. cinematic scene. volumetric lighting. golden ratio accidental renaissance. graffiti art, scifi, fantasy, hyper detailed. octane render. concept art. trending on artstation`,`an ultra high definition professional studio quality photograph of ${e} transparent iridescent perspex pastel coloured face visor and matching raincoat on a white coat hook in an empty white room. dramatic lighting, ray tracing, refraction, shallow d. o. f, colour corrected, golden ratio, three point light. volumetric shadows. light rays.`,`Portrait of ${e}, clouds in the background, detailed painting, distance, middle centered, hd, hq, high resolution, high detail, 4k, 8k`,`portrait of ${e} with purple hair and neon lights, cyberpunk art, detailed oil painting, iridescent, 2049, 8k`,`portrait photography of ${e} in a white steampunk space engineer suit, in an desert alien planet, ultra detail, beautiful light, high detail, 8k, f / 2. 8, octane render`,`Portrait of ${e} with in 1920's, living room background, intricate, highly detailed, digital painting, anime, concept art, rich vivid colors, ambient lighting, sharp focus, illustration`,`${e} pirate, eye patch, hat, vibrant colors, highly detailed, rim light, art, cinematic lighting, very coherent, hyper realism, high detail, 8k`,`a beautiful painting of ${e}`,`a beautiful painting of ${e} as a firefighter`,`a beautiful painting of ${e} as a doctor`,`A pencil drawing of ${e}, digital art, high detail, 4K`,`Close up character concept art portrait of ${e} with mechanical bird wings, holding a staff, night time, light effect, clouds, stars, glowing lanterns, poster art, hyper detailed, digital painting style`,`portrait of ${e},  key art, sprinting, palm trees, explosion, highly detailed, digital painting, artstation, concept art, cinematic lighting, sharp focus, illustration`,`a ${e}, low quality, 3d render, low poly`,`portrait of ${e}, thick paint strokes, expressionist, victorian`,`A photorealistic of ${e} as a popstar, colorful, 4k`,`A beautiful portrait of ${e} with closed eyes, numerous tiny birds flying in the background, galaxy theme colors, ultra realistic digital art, dry pastel`,`a warm beautiful portrait painting of ${e} in the snow, wearing a beanie, face centered, snowy landscape background, 8k`],exampleTypes:["toys","dogs","portraits"],initExampleType:"portraits"},{type:"USE_CASE",available:()=>!0,id:"animal-generator",name:"Animal Generator",label:"Animal",optimalImages:15,maxImages:30,mnemonic:"AG",categories:["text","image"],newText:"New Animal Generator",card:{title:"Train an Animal Generator",description:"Create your own custom Animal Generator for Text to Image.",image:`${o.yI}app/magic-tools/updated-2023-05-30/Train an Animal Generator.webp`,mp4:`${o.yI}app/magic-tools/animal.mp4`,webm:`${o.yI}app/magic-tools/animal.webm`},cover:{cta:"Train Animal Generator",title:"Animal Generator",description:"Train your own Animal Generator for cats and dogs and get 100 HD images for free.",foregroundImages:[`${o.yI}app/magic-tools/train/animal-1.webp`,`${o.yI}app/magic-tools/train/animal-2.webp`,`${o.yI}app/magic-tools/train/animal-3.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/animal-10.webp`,`${o.yI}app/magic-tools/train/animal-6.webp`,`${o.yI}app/magic-tools/train/animal-5.webp`,`${o.yI}app/magic-tools/train/animal-4.webp`,`${o.yI}app/magic-tools/train/animal-9.webp`,`${o.yI}app/magic-tools/train/animal-8.webp`,`${o.yI}app/magic-tools/train/animal-7.webp`],promptImageSets:[]},images:{information:{title:"Guidelines",description:()=>(0,r.jsxs)("span",{children:["Add 15–30 images of your animal with different backgrounds. You can’t redo this later, so choose with care."," ",(0,r.jsx)(g,{href:"https://youtu.be/f6ApBqlF1j4",target:"_blank",rel:"noopener noreferrer",children:"View tutorial"}),"."]}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"Works best for cats and dogs"}),()=>(0,r.jsx)("span",{children:"More photos are better"})]},requiredImages:15},train:{keyword:{title:"Keyword",info:"You can use this keyword for custom prompts. For example: \"A photorealistic image of 'keyword' in a field of flowers.\" Or \"An image of a mug in the style of 'keyword'."},cta:"Create Generator",trainingSteps:1500,taskType:"dreambooth"},pricing:{title:"Train your own Animal Generator and get 100 free HD images.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["100 HD images ",(0,r.jsx)(y,{children:"in 1080x1080px."})]}),()=>(0,r.jsx)(y,{$bold:!0,children:"Multiple portrait styles."}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Animal Generator ",(0,r.jsx)("br",{}),(0,r.jsx)(y,{children:"Use your custom model inside Text to Image to create unlimited new styles, scenes and compositions."})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],cost:1e3,cta:"Train Animal Generator",foregroundImages:[`${o.yI}app/magic-tools/train/animal-11.webp`,`${o.yI}app/magic-tools/train/animal-1.webp`,`${o.yI}app/magic-tools/train/animal-2.webp`,`${o.yI}app/magic-tools/train/animal-3.webp`,`${o.yI}app/magic-tools/train/animal-10.webp`,`${o.yI}app/magic-tools/train/animal-8.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/animal-4.webp`,`${o.yI}app/magic-tools/train/animal-6.webp`,`${o.yI}app/magic-tools/train/animal-9.webp`]},outputPrompts:e=>[`a ${e} eating a baguette in france, art style of eugene delacroix, highly detailed, artistic`,`a cute cyberpunk ${e}, purple blue color scheme, high key lighting, volumetric light, digital art, highly detailed, fine detail, intricate, ornate, complex, octane render, unreal engine, photorealistic`,`${e} in the style of edward munch's the scream painting, artistic`,`a cyberpunk ${e} eating a donut, cyberpunk, fantasy, elegant, digital painting, artstation, concept art, matte, sharp focus, illustration`,`a ${e}, 3d render, low poly`,`Adorably cute ${e}, vibrant colors, winning-award masterpiece, aesthetic, cosmic cloud background`,`A ${e} painting with black fur dressed up as a dapper english gentleman wearing a frilly hat, renaissance oil painting`,`photo of a ${e}, trending on artstation surfing on a surfboard in a crashing wave of alien ocean in space, background is an alien galaxy, aliens in the background, alien colors, octane render, unreal engine, wide view, 8k, highly detailed`,`realistic heroic portrait of ${e}, first animal in orbit 1957, wearing her space helmet, in a circle frame, art by Alphonse Mucha`,`an ancient greek sculpture of a ${e} in white marble, close up photo, museum, ultra-realistic, studio photo, bokeh, detailed`,`pencil sketch of happy ${e}, cartoon`,`cute ${e} sticker design, natural lighting, path traced, high quality, digital painting, japanese illustration, simple sketch, by alphonse mucha, artgerm`,`beautiful painting from a Japanese anime film, ${e}, golden hour, 8k octane 3D render, redwood forest and mystical ocean, fur, japanese popsurrealism`,`an nendoroid of a ${e}, detailed product photo`,`a digital art of a ${e} sleeping in the room with flowers around in the afternoon, the sun shines in, storybook art, watercolor, detailed, cute, featured on artstation`,`Pink and Blue ${e}, very detailed, with folds, 8k`,`glowing wireframe ${e}, forest god, mountain landscape, night sky, digital art, digital painting, celestial, majestic, colorful`,`Adorably cute ${e}, vibrant colors, winning-award masterpiece, fantastically gaudy, aesthetic octane render, 8K HD Resolution`,`${e} wearing a top hat, wearing a monocle! over one eye, smiling, vaporwave, highly detailed, digital painting, artstation, concept art, smooth, sharp focus, illustration`,`${e}, oil painting, michelangelo, beautiful composition with fruits`,`a shogunate ${e}, ukiyo - e, artistic, highly detailed, historical`,`anthropomorphic ancient angelic ${e} with wings, oil painting, wind, epic fur, gold and diamond armor, trending on "artstation", cg art`,`silkscreen print of ${e}, on a billboard wall`,`${e} as a stone sphinx in egypt, sand dunes in the background, digital art, cinematic lighting, hyper realistic painting`,`a ${e} wearing a red Santa robe in the style of Rembrandt, snowy winter landscape`,`beautiful gallery show studio photograph of a giant realistic curvy ceramic sculpture of a ${e}!!!!!, colorful hyperrealism 8 k trending on artstation`,`${e} walking in the wheat field, nature landscape on the background, sharp deep, color pencil, illustration`,`Recursive image of a ${e}, shiny soft fur, anatomically correct, surrounded by swirling wisps of jelly, oil pastels and gold, anime, cartoon, modeled in poser, redshift render, uhd`],exampleTypes:["toys","dogs","portraits"],initExampleType:"dogs"},{type:"USE_CASE",available:()=>!0,id:"custom-generator",name:"Custom Generator",label:"Custom",optimalImages:15,maxImages:30,mnemonic:"CG",categories:["image","image-generate"],newText:"New Custom Generator",card:{title:"Train a Custom Generator",description:"Create your own generator to use with Text to Image.",image:`${o.yI}app/magic-tools/updated-2023-05-30/Train+a+Custom+Generator.webp`,mp4:`${o.yI}app/magic-tools/Custom+Model.mp4`,webm:`${o.yI}app/magic-tools/Custom+Model.webm`},cover:{cta:"Create Generator",title:"Custom Generator",description:"Train your own Custom Generator for Text to Image.",foregroundImages:[`${o.yI}app/magic-tools/train/custom-1.webp`,`${o.yI}app/magic-tools/train/custom-3.webp`,`${o.yI}app/magic-tools/train/custom-2.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/custom-4.webp`,`${o.yI}app/magic-tools/train/custom-10.webp`,`${o.yI}app/magic-tools/train/custom-8.webp`,`${o.yI}app/magic-tools/train/custom-9.webp`,`${o.yI}app/magic-tools/train/custom-5.webp`,`${o.yI}app/magic-tools/train/custom-6.webp`,`${o.yI}app/magic-tools/train/custom-7.webp`],promptImageSets:[]},images:{information:{title:"Guidelines",description:()=>(0,r.jsxs)("span",{children:["Upload 15-30 images of a specific object or style, and create new images based on those images."," ",(0,r.jsx)(g,{href:"https://youtu.be/f6ApBqlF1j4",target:"_blank",rel:"noopener noreferrer",children:"View tutorial"}),"."]}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"More photos are better."})]},requiredImages:15},train:{class:{title:"Category",info:"Input a category for the images you will be training. This category will help the model train faster and generate better results",default:""},keyword:{title:"Keyword",info:"You can use this keyword for custom prompts. For example: \"A photorealistic image of 'keyword' in a field of flowers.\" Or \"An image of a mug in the style of 'keyword'."},cta:"Create Generator",trainingSteps:1500,taskType:"dreambooth"},pricing:{title:"Train your own Custom Generator.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Text to Image Generator"," ",(0,r.jsx)(y,{children:"based on your own images"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Use custom keyword ",(0,r.jsx)(y,{children:"in Text to Image tool"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["One of a kind results ",(0,r.jsx)(y,{children:"that are truly unique"})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],cost:1e3,cta:"Train Custom Generator",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`,`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-11.webp`]},exampleTypes:["toys","dogs","portraits"],initExampleType:"toys"},{type:"USE_CASE",available:e=>e,id:"gen1-generator",name:"Custom Gen1 Generator",label:"Custom",optimalImages:5,maxImages:30,mnemonic:"G1",categories:["text","image"],newText:"New Custom Generator",card:{title:"Train a Custom Gen-1 Generator",description:"Create your own generator to use with Gen 1.",image:`${o.yI}app/magic-tools/updated/customModel.png`,mp4:`${o.yI}app/magic-tools/Custom+Model.mp4`,webm:`${o.yI}app/magic-tools/Custom+Model.webm`},cover:{cta:"Create Generator",title:"Custom Generator",description:"Train your own Custom Generator for Gen 1.",foregroundImages:[`${o.yI}app/magic-tools/train/custom-1.webp`,`${o.yI}app/magic-tools/train/custom-3.webp`,`${o.yI}app/magic-tools/train/custom-2.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/custom-4.webp`,`${o.yI}app/magic-tools/train/custom-10.webp`,`${o.yI}app/magic-tools/train/custom-8.webp`,`${o.yI}app/magic-tools/train/custom-9.webp`,`${o.yI}app/magic-tools/train/custom-5.webp`,`${o.yI}app/magic-tools/train/custom-6.webp`,`${o.yI}app/magic-tools/train/custom-7.webp`],promptImageSets:[]},images:{information:{title:"Guidelines",description:()=>(0,r.jsxs)("span",{children:["Upload at least 5 images of a specific object or style, and create new images based on those images."," ",(0,r.jsx)(g,{href:"https://youtu.be/f6ApBqlF1j4",target:"_blank",rel:"noopener noreferrer",children:"View tutorial"}),"."]}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"More photos are better."})]},requiredImages:5},train:{class:{title:"Category",info:"Input a category for the images you will be training. This category will help the model train faster and generate better results",default:""},keyword:{title:"Keyword",info:"You can use this keyword for custom prompts. For example: \"A photorealistic image of 'keyword' in a field of flowers.\" Or \"An image of a mug in the style of 'keyword'."},cta:"Create Generator",trainingSteps:1500,taskType:"dreambooth"},pricing:{title:"Train your own Custom Generator.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Text to Image Generator"," ",(0,r.jsx)(y,{children:"based on your own images"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Use custom keyword ",(0,r.jsx)(y,{children:"in Text to Image tool"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["One of a kind results ",(0,r.jsx)(y,{children:"that are truly unique"})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],cost:1e3,cta:"Train Custom Generator",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`,`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-11.webp`]},exampleTypes:["toys","dogs","portraits"],initExampleType:"toys"}],p=[{type:"USE_CASE",available:()=>!0,id:"character-generator",name:"Character Generator",label:"Character",optimalImages:15,maxImages:30,mnemonic:"CG",categories:["image","image-generate"],newText:"New Character Generator",card:{title:"Train a Character Generator",description:"Create your own character generator to use with Text to Image.",altDescription:"Best for illustrations and cartoon styles",image:`${o.yI}app/magic-tools/updated-2023-05-30/Train+a+Portrait+Generator.webp`,mp4:`${o.yI}app/magic-tools/Portrait+Generator.mp4`,webm:`${o.yI}app/magic-tools/Portrait+Generator.webm`},cover:{cta:"Create Generator",title:"Character Generator",description:"Train your own Character Generator for Text to Image.",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-8.webp`,`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-7.webp`],promptImageSets:[]},images:{information:{title:"Guidelines",description:()=>(0,r.jsx)("span",{children:"Upload 15-30 images of a specific character, and create new images based on those images."}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"More photos are better."})]},requiredImages:15},train:{keyword:{title:"Keyword",info:'You can use this keyword for custom prompts. For example: "A photorealistic image of \'keyword\' in a field of flowers." Or "An image of a mug in the style of \'keyword\'. For best results, avoid keywords that reference existing characters. For example, if you were training a model on Winnie the Pooh, name it "CuteBearWP" rather than "Winnie the Pooh"'},cta:"Create Generator",trainingSteps:42,taskType:"lora",loraType:"character"},pricing:{title:"Train your own Custom Character Generator.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Text to Image Generator"," ",(0,r.jsx)(y,{children:"based on your own images"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Use custom keyword ",(0,r.jsx)(y,{children:"in Text to Image tool"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["One of a kind results ",(0,r.jsx)(y,{children:"that are truly unique"})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],consentText:l,cost:1e3,cta:"Train Character Generator",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`,`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-11.webp`]},exampleTypes:["portraits"],initExampleType:"portraits"},{type:"USE_CASE",available:()=>!0,id:"style-generator",name:"Style Generator",label:"Style",optimalImages:15,maxImages:30,mnemonic:"SG",categories:["image","image-generate"],newText:"New Style Generator",card:{title:"Train a Style Generator",description:"Create your own style generator to use with Text to Image.",altDescription:"Best for patterns and textures",image:`${o.yI}app/magic-tools/updated-2023-05-30/Train+a+Custom+Generator.webp`,mp4:`${o.yI}app/magic-tools/Custom+Model.mp4`,webm:`${o.yI}app/magic-tools/Custom+Model.webm`},cover:{cta:"Create Generator",title:"Style Generator",description:"Train your own Style Generator for Text to Image.",foregroundImages:[`${o.yI}app/magic-tools/train/custom-1.webp`,`${o.yI}app/magic-tools/train/custom-3.webp`,`${o.yI}app/magic-tools/train/custom-2.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/custom-4.webp`,`${o.yI}app/magic-tools/train/custom-10.webp`,`${o.yI}app/magic-tools/train/custom-8.webp`,`${o.yI}app/magic-tools/train/custom-9.webp`,`${o.yI}app/magic-tools/train/custom-5.webp`,`${o.yI}app/magic-tools/train/custom-6.webp`,`${o.yI}app/magic-tools/train/custom-7.webp`],promptImageSets:[]},images:{information:{title:"Guidelines",description:()=>(0,r.jsx)("span",{children:"Upload 15-30 images of a specific style, and create new images based on those images."}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"More photos are better."})]},requiredImages:15},train:{keyword:{title:"Keyword",info:"You can use this keyword for custom prompts. For example: \"A photorealistic image of 'keyword' in a field of flowers.\" Or \"An image of a mug in the style of 'keyword'."},cta:"Create Generator",trainingSteps:42,taskType:"lora",loraType:"style"},pricing:{title:"Train your own Custom Style Generator.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Text to Image Generator"," ",(0,r.jsx)(y,{children:"based on your own images"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Use custom keyword ",(0,r.jsx)(y,{children:"in Text to Image tool"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["One of a kind results ",(0,r.jsx)(y,{children:"that are truly unique"})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],consentText:l,cost:1e3,cta:"Train Style Generator",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`,`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-11.webp`]},exampleTypes:["style"],initExampleType:"style"},{type:"USE_CASE",available:()=>!0,id:"object-generator",name:"Object Generator",label:"Object",optimalImages:15,maxImages:30,mnemonic:"OG",categories:["image","image-generate"],newText:"New Object Generator",card:{title:"Train an Object Generator",description:"Create your own object generator to use with Text to Image.",altDescription:"Best for products and food",image:`${o.yI}app/magic-tools/train/custom-1.webp`,mp4:`${o.yI}app/magic-tools/Custom+Model.mp4`,webm:`${o.yI}app/magic-tools/Custom+Model.webm`},cover:{cta:"Create Generator",title:"Object Generator",description:"Train your own Object Generator for Text to Image.",foregroundImages:[`${o.yI}app/magic-tools/train/custom-1.webp`,`${o.yI}app/magic-tools/train/custom-3.webp`,`${o.yI}app/magic-tools/train/custom-2.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/custom-4.webp`,`${o.yI}app/magic-tools/train/custom-10.webp`,`${o.yI}app/magic-tools/train/custom-8.webp`,`${o.yI}app/magic-tools/train/custom-9.webp`,`${o.yI}app/magic-tools/train/custom-5.webp`,`${o.yI}app/magic-tools/train/custom-6.webp`,`${o.yI}app/magic-tools/train/custom-7.webp`],promptImageSets:[]},images:{information:{title:"Guidelines",description:()=>(0,r.jsx)("span",{children:"Upload 15-30 images of a specific object, and create new images based on those images."}),bullets:[e=>{let{onShowExamples:t}=e;return(0,r.jsxs)("span",{children:["See"," ",(0,r.jsx)(m,{onClick:t,children:"example images"})]})},()=>(0,r.jsx)("span",{children:"More photos are better."}),e=>{let{teamUsername:t}=e;return(0,r.jsxs)("span",{children:["To train a generator on a human face, please use our"," ",(0,r.jsx)(f,{to:`/video-tools/teams/${t}/ai-training/character-generator`,target:"_blank",rel:"noopener noreferrer",children:"Character Generator"})]})}]},requiredImages:15},train:{keyword:{title:"Keyword",info:"You can use this keyword for custom prompts. For example: \"A photorealistic image of 'keyword' in a field of flowers.\" Or \"An image of a mug in the style of 'keyword'."},cta:"Create Generator",trainingSteps:42,taskType:"lora",loraType:"object"},pricing:{title:"Train your own Custom Object Generator.",bullets:[()=>(0,r.jsxs)(y,{$bold:!0,children:["Your own Text to Image Generator"," ",(0,r.jsx)(y,{children:"based on your own images"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["Use custom keyword ",(0,r.jsx)(y,{children:"in Text to Image tool"})]}),()=>(0,r.jsxs)(y,{$bold:!0,children:["One of a kind results ",(0,r.jsx)(y,{children:"that are truly unique"})]}),e=>{let{onShowExamples:t}=e;return(0,r.jsxs)(y,{children:["How does it look? See"," ",(0,r.jsx)(h,{onClick:t,children:"examples."})]})}],cost:1e3,cta:"Train Object Generator",foregroundImages:[`${o.yI}app/magic-tools/train/portrait-9.webp`,`${o.yI}app/magic-tools/train/portrait-3.webp`,`${o.yI}app/magic-tools/train/portrait-2.webp`,`${o.yI}app/magic-tools/train/portrait-1.webp`,`${o.yI}app/magic-tools/train/portrait-5.webp`,`${o.yI}app/magic-tools/train/portrait-10.webp`],backgroundImages:[`${o.yI}app/magic-tools/train/portrait-4.webp`,`${o.yI}app/magic-tools/train/portrait-6.webp`,`${o.yI}app/magic-tools/train/portrait-11.webp`]},exampleTypes:["toys"],initExampleType:"toys"}],u={"portrait-generator":"A beautiful portrait of","custom-generator":"","animal-generator":"A beautiful portrait of","gen1-generator":"","character-generator":"","object-generator":"","style-generator":""},m=i.ZP.button.withConfig({displayName:"UseCaseMetaData__InlinePrimaryLightButton",componentId:"sc-1ke6mlp-0"})(["color:",";background:transparent;border:none;cursor:pointer;font-size:inherit;line-height:inherit;padding:0;"],(e=>e.theme.colors.primaryLight)),h=(0,i.ZP)(m).withConfig({displayName:"UseCaseMetaData__InlinePrimaryButton",componentId:"sc-1ke6mlp-1"})(["color:",";"],(e=>e.theme.colors.primary)),g=i.ZP.a.withConfig({displayName:"UseCaseMetaData__InlineLink",componentId:"sc-1ke6mlp-2"})(["color:",";cursor:pointer;font-size:inherit;line-height:inherit;"],(e=>e.$dark?e.theme.colors.primary:e.theme.colors.primaryLight)),f=(0,i.ZP)(a.rU).withConfig({displayName:"UseCaseMetaData__StyledLink",componentId:"sc-1ke6mlp-3"})(["color:",";cursor:pointer;font-size:inherit;line-height:inherit;"],(e=>e.theme.colors.primaryLight)),y=i.ZP.span.withConfig({displayName:"UseCaseMetaData__InlineText",componentId:"sc-1ke6mlp-4"})(["color:inherit;font-size:inherit;line-height:inherit;font-weight:",";font-style:",";"],(e=>e.$bold?"bold":"normal"),(e=>e.$italic?"italic":"normal")),x=e=>d.find((t=>t.id===e))||p.find((t=>t.id===e))},"./app/components/Views/MagicTools/actions/assets.ts":(e,t,s)=>{"use strict";s.d(t,{_:()=>n,g:()=>a});var o=s("./app/api/hooks/assets/upload.ts");const n=async(e,t,s,o)=>{const n=e.map((async(e,n)=>a(e,t[n],s,o)));return Promise.all(n)},a=async(e,t,s,n)=>{const a=await fetch(e).then((e=>e.blob())),i=new File([a],t,{type:a.type});return await(0,o.cp)({file:i,config:{type:"image",name:"image"},uploadOpts:{asTeamId:s,privateInTeam:!0,isUserUpload:!1,parentId:n}})}},"./app/components/Views/MagicTools/cache/GenerationCache.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./node_modules/lru-cache/index.js"),n=s.n(o),a=s("./node_modules/object-hash/dist/object_hash.js"),i=s.n(a);const r=new class{_cache;constructor(){this._cache=new(n())}set(e){const t=i()(e);return this._cache.set(t,e),t}get(e){return this._cache.get(e)}}},"./app/components/Views/MagicTools/constants.ts":(e,t,s)=>{"use strict";s.d(t,{FI:()=>i,H7:()=>o,sh:()=>n,u4:()=>a});const o=30,n=45,a=20,i=45},"./app/components/Views/MagicTools/hooks/useCanExport2k.ts":(e,t,s)=>{"use strict";s.d(t,{k:()=>a});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/utils/hooks/useFeature_DEPRECATED.ts");const a=()=>{const e=(0,o.I7)({suspense:!0});return(0,n.f7)({feature:"hdVideoExport4k",asTeamId:e?.id})}},"./app/components/Views/MagicTools/hooks/useCreditCalculations.ts":(e,t,s)=>{"use strict";s.d(t,{Gk:()=>l,Nu:()=>c,R3:()=>r,sG:()=>i});var o=s("./app/api/hooks/useEstimateFeatureCostCredits.ts"),n=s("./node_modules/@sentry/core/esm/exports.js"),a=s("./app/components/Views/MagicTools/Components/Common/Credits/hooks.ts");const i=(e,t)=>{let{teamId:s,costCalculationFeatureName:i="image_generations"}=e;const{remaining:r,purchased:l}=(0,a.w)(),c=(0,o.u)({costCalculationFeatureName:i,count:1,asTeamId:s},t);if(!c.data)return{generationCost:null,totalCredits:null,numGenerations:null,unit:null};if(c.error)return(0,n.uT)(c.error),{generationCost:null,totalCredits:null,numGenerations:null,unit:null};const{cost:d,unit:p=""}=c.data;if(void 0===d)return(0,n.uT)("generationCost is undefined"),{generationCost:null,totalCredits:null,numGenerations:null,unit:null};const u=r+l;return{generationCost:d,totalCredits:u,numGenerations:Math.floor(u/d),unit:p}},r=e=>{let{teamId:t}=e;return i({teamId:t,costCalculationFeatureName:"image_generations"})},l=e=>{let{teamId:t}=e;return i({teamId:t,costCalculationFeatureName:"dreambooth"})},c=e=>{let{teamId:t}=e;return i({teamId:t,costCalculationFeatureName:"gen2"})}},"./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts":(e,t,s)=>{"use strict";s.d(t,{ik:()=>c,sC:()=>l,y7:()=>r});var o=s("./app/utils/routes_constants.ts"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts");const i=e=>(0,n.LX)(e,{path:o.U,exact:!1,strict:!1});function r(){const{pathname:e}=(0,n.TH)(),t=i(e);return t?.params?.recipeId||""}function l(){let{shortNameIfAvailable:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r();for(const s of a.Z)if(s.id===t)return e?s.shortName??s.name:s.name;return"AI Magic Tool"}function c(){const e=r();for(const t of a.Z)if(t.id===e)return t.helpCenterUrl}},"./app/components/Views/MagicTools/hooks/useMagicToolQuery.ts":(e,t,s)=>{"use strict";s.d(t,{Qw:()=>i,yp:()=>r});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-router/esm/react-router.js"),a=s("./app/components/Views/Dashboard/Pages/PageNames.ts");const i=[...["video","image","3d","video-edit","video-generate","audio-subtitles","text","image-edit","image-generate","more",...Object.values(a.q)],"all"],r=()=>{const{search:e}=(0,n.TH)(),t=(0,o.useMemo)((()=>{const t=new URLSearchParams(e);return{tabs:l(t.getAll("tab"),["all"]),viewAs:c(t.get("viewAs"),"Grid")}}),[e]),s=(0,o.useCallback)((e=>{const s=new URLSearchParams;if(s.set("viewAs",e.viewAs||t.viewAs),"all"===e.tab)s.set("tab","all");else if(e.tab&&t.tabs.includes(e.tab)){const o=t.tabs.filter((t=>t!==e.tab&&"all"!==t));0===o.length?s.set("tab","all"):o.forEach((e=>s.append("tab",e)))}else t.tabs.filter((e=>"all"!==e)).forEach((e=>s.append("tab",e))),e.tab&&s.append("tab",e.tab);return{search:s.toString()}}),[t.tabs,t.viewAs]);return[t,s]},l=(e,t)=>{const s=e.filter((e=>i.includes(e)));return 0===s.length?t:s},c=(e,t)=>{switch(e){case"Grid":case"Table":return e;default:return t}}},"./app/components/Views/MagicTools/metrics/GenerationsTracker.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>h,ai:()=>m,kL:()=>d});var o=s("./app/api/generations.ts"),n=s("./node_modules/@sentry/core/esm/exports.js"),a=s("./node_modules/p-queue/dist/index.js"),i=s("./node_modules/react/index.js"),r=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts"),l=s("./app/components/Views/MagicTools/cache/GenerationCache.ts");const c=new a.Z({concurrency:1}),d=e=>{const t=r.Z.find((t=>t.id===e));return t?.generationsToolIdOverride??e};class p{apiGenerationIds={};constructor(){this.apiGenerationIds={}}async track(e){const{prompt:t,outputUrls:s,toolId:a,settings:i}=l.Z.get(e);try{const n=await(0,o.TV)({toolId:d(a),prompt:t,settings:i,outputs:{outputUrls:s}});this.apiGenerationIds[e]=n.id}catch(e){n.uT(`GenerationsTracker: Failed to track prompt. ${e}`)}}trackAndCreateGenerationId(e){const t=l.Z.set(e);return c.add((()=>this.track(t))),t}async convert(e,t,s){this.updateAPIGeneration(e,{conversion:t,outputs:s})}async contentFiltered(e,t,s){this.updateAPIGeneration(e,{contentFiltered:t,outputs:s})}async updateOutputUrls(e,t){this.updateAPIGeneration(e,{outputs:{outputUrls:t}})}async rate(e,t){let{rating:s,ratingType:a}=t;try{const t=await c.add((()=>this.apiGenerationIds[e]));t?await c.add((()=>(0,o.Y)({id:t,rating:s,ratingType:a}))):n.uT("GenerationsTracker: Can't rate Generation that doesn't exist")}catch(e){n.uT(`GenerationsTracker: Failed to rate Generation. ${e}`)}}async sendFeedback(e,t){let{feedback:s}=t;try{const t=await c.add((()=>this.apiGenerationIds[e]));t?await c.add((()=>(0,o.GM)({id:t,feedback:s}))):n.uT("GenerationsTracker: Can't send feedback for a Generation that doesn't exist")}catch(e){n.uT(`GenerationsTracker: Failed to send feedback for Generation. ${e}`)}}async updateAPIGeneration(e,t){try{const s=await c.add((()=>this.apiGenerationIds[e]));s?await c.add((()=>(0,o.Cw)({id:s,update:t}))):n.uT("GenerationsTracker: Can't convert tracker that doesn't exist")}catch(e){n.uT(`GenerationsTracker: Failed to update tracked prompt properties. ${e}`)}}flush(){this.apiGenerationIds={},c.clear()}}let u=new p;const m=()=>((0,i.useEffect)((()=>(u=new p,()=>{u.flush()})),[]),null),h=()=>u},"./app/components/Views/MagicTools/utils.ts":(e,t,s)=>{"use strict";s.d(t,{Jr:()=>v,P7:()=>g,QY:()=>b,Rn:()=>w,XY:()=>_,bE:()=>h,fx:()=>m,kY:()=>d,ot:()=>c,qm:()=>p,sN:()=>I,ti:()=>u,uN:()=>y,uX:()=>x,wf:()=>f});var o=s("./app/api/video.ts"),n=s("./app/store/configureStore.ts"),a=s("./app/streams/streaming-sdk.ts"),i=s("./app/streams/utils.ts"),r=s("./app/utils/http.ts"),l=s("./app/components/Views/MagicTools/constants.ts");const c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,r.XD)((async()=>{const t=await fetch(e);if(!t.ok){const e=await t.json();throw r.oo.fromHttpResponse(t,e)}const s=await t.blob();return URL.createObjectURL(s)}),{retries:t})},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".jpg";return e.replace(/[^a-zA-Z0-9 ]/g,"").substring(0,20).trim()+t};function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".jpg";const o=[];for(let n=0;n<t;n++)o.push(d(e,s));return o}const u=(e,t)=>{if(!e)return t;const s=`${e}`.lastIndexOf(".");return`${s>0?`${e}`.slice(0,s):`${e}`}-${t}.jpg`},m=e=>(0,i.cU)({path:"/raw_audio/streams/raw_audio/playlist.m3u8",urlParams:{input_audio:e,output_format:"aac",segment_duration:30,output_transcoded_hls:"0"},hardware:"cpu",priority:"low"}),h=e=>m(e.url),g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:s,height:o}=await x(e),n=await(0,a.C_)({modelName:"raw_video",commandName:"raw_video",outputWidth:s,outputHeight:o,outputFormat:"mpegts",outputFrameRate:e.metadata?.frameRate||30,inputData:{video:e.url},...t}),i=h(e);return await y({hasAudio:await f(e.url),audioPlaylistUrl:i,videoPlaylistUrl:n})},f=async e=>{try{return!!await(0,o.$)(e)}catch{return!1}},y=async e=>{let{hasAudio:t,audioPlaylistUrl:s,videoPlaylistUrl:o}=e;if(!t)return o;const n=[];n.push("#EXTM3U","#EXT-X-VERSION:4","#EXT-X-INDEPENDENT-SEGMENTS",`#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID="audio",NAME="audio",AUTOSELECT=YES, DEFAULT=YES, URI="${s}"`,'#EXT-X-STREAM-INF:BANDWIDTH=2537699,CODECS="avc1.4d4020",RESOLUTION=1280x720,AUDIO="audio"',o);const a=new TextEncoder,i=new Blob([a.encode(n.join("\n"))]);return URL.createObjectURL(i)},x=async e=>{let t=1;const{width:s,height:o,vertical:n}=await v(e);return s&&o&&(t=s/o),{width:Math.round(720*t),height:720,vertical:n}},v=async e=>{if(e.metadata?.size?.width&&e.metadata.size?.height)return{width:e.metadata.size.width,height:e.metadata.size.height,vertical:e.metadata.size.height>e.metadata.size.width};const{width:t,height:s}=await(0,r.XD)((()=>(0,o.b)(e.url)),{retries:5});return{width:t,height:s,vertical:s>t}},b=e=>{let{originalWidth:t,originalHeight:s,maxWidth:o,maxHeight:n}=e;if(t>o||s>n){const e=t/s,a={width:Math.floor(o),height:Math.floor(o/e)},i={width:Math.floor(n*e),height:Math.floor(n)};if(a.height<=n&&a.width<=o)return a;if(i.height<=n&&i.width<=o)return i}return{width:Math.floor(t),height:Math.floor(s)}},w=e=>{n.m.push(e)},_=async e=>{let{inputMedia:t,userInputs:s={},videoModelName:o,videoCommandName:n,audioModelName:i,audioCommandName:r,audioSegmentDuration:c=null,framesPerSegment:d=l.sh,overwriteVideoDefaultInputs:p={}}=e;if(!t)return{};const{width:u,height:m,vertical:h}=await x(t),g=await(0,a.C_)({modelName:o,commandName:n,outputWidth:u,outputHeight:m,outputFormat:"mpegts",outputFrameRate:t.metadata?.frameRate||l.H7,framePerSegment:d,inputData:{video:t.url,...s},...p}),v=t.metadata?.frameRate||l.H7,b=await(0,a.C_)({modelName:i,commandName:r,outputWidth:u,outputHeight:m,outputFormat:"aac",outputFrameRate:v,outputTranscodedHls:!1,useGPUServer:!1,framePerSegment:d,inputData:{audio:t.url,...s}},{audioSegmentDuration:c});return{url:await y({hasAudio:await f(t.url),audioPlaylistUrl:b,videoPlaylistUrl:g}),width:u,height:m,vertical:h}},I=e=>e.replace("-","‑")},"./app/components/Views/MagicTools/utils/MagicToolCostModeService/Components/MagicToolCostModeAlert/MagicToolCostModeAlertServiceContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./node_modules/@xstate/react/es/createActorContext.js"),n=s("./node_modules/xstate/es/Machine.js");const a=()=>(0,n.C)({id:"magicToolCostModeAlert",schema:{context:{},events:{}},initial:"unthrottled",preserveActionOrder:!0,predictableActionArguments:!0,states:{unthrottled:{initial:"hidden",states:{visible:{on:{SET_THROTTLED:{target:"#magicToolCostModeAlert.throttled.visible"},DISMISS:{target:"hidden"},ATTEMPT_GENERATE:{target:"hidden"}}},hidden:{on:{SET_THROTTLED:{target:"#magicToolCostModeAlert.throttled.visible"}}}}},throttled:{initial:"hidden",states:{visible:{on:{SET_UNTHROTTLED:{target:"#magicToolCostModeAlert.unthrottled.visible"}}},hidden:{on:{SET_UNTHROTTLED:{target:"#magicToolCostModeAlert.unthrottled.visible"},ATTEMPT_GENERATE:{target:"visible"}}}}}}}),i=(0,o.j)(a())},"./app/components/Views/MagicTools/utils/MagicToolCostModeService/Components/MagicToolCostModeAlert/hooks/useMagicToolCostModeAlertService.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/Components/MagicToolCostModeAlert/MagicToolCostModeAlertServiceContext.tsx");const n=()=>o.Z.useActorRef()},"./app/components/Views/MagicTools/utils/MagicToolCostModeService/Components/MagicToolCostModeButton/utils/useIsThrottledInExploreMode.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/api/hooks/useEstimateFeatureCostCredits.ts"),a=s("./app/api/hooks/useTeams.ts"),i=s("./app/components/Views/MagicTools/MagicTool/Gen1MagicTool/constants.ts"),r=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/constants.ts"),l=s("./app/utils/hooks/useSelector.ts"),c=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/hooks/useMagicToolCostMode.ts");const d={gen1:i.r3,gen2:r.gZ},p=function(e){let{costCalculationFeatureName:t}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{suspense:!0};const i=(0,a.I7)(s),r=d[t];if(void 0===r)throw new Error(`useIsThrottledInExploreMode: costCalculationFeatureName is not implemented for ${t}`);const{data:p,error:u,...m}=(0,n.u)({asTeamId:i?.id,costCalculationFeatureName:t,count:r},{...s,refreshInterval:5e3}),h=(0,o.ql)(),g=(0,c.Z)(),f=(0,l.Z)((e=>e.isThrottledInExploreModeHookDebugControls.enabled)),y=(0,l.Z)((e=>e.isThrottledInExploreModeHookDebugControls.isThrottledInExploreMode));return h?"explore"!==g?{data:!1,error:u,...m}:f?{data:y,error:u,...m}:u||!p?{data:!1,error:u,...m}:{data:!p.canUseExploreMode,error:u,...m}:{data:!1,error:u,...m}}},"./app/components/Views/MagicTools/utils/MagicToolCostModeService/MagicToolCostModeServiceContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./node_modules/@xstate/react/es/createActorContext.js"),n=s("./node_modules/xstate/es/Machine.js"),a=s("./node_modules/xstate/es/index.js");const i=()=>(0,n.C)({id:"magicToolCostMode",schema:{context:{},events:{}},preserveActionOrder:!0,predictableActionArguments:!0,context:{popoverOpen:!1},initial:"explore",states:{explore:{on:{TOGGLE_COST_MODE:{target:"credits"}}},credits:{on:{TOGGLE_COST_MODE:{target:"explore"}}}},on:{OPEN_CREDITS_MODE_POPOVER:{actions:["openCreditsModePopover"]},CLOSE_CREDITS_MODE_POPOVER:{actions:["closeCreditsModePopover"]}}},{actions:{openCreditsModePopover:(0,a.assign)({popoverOpen:!0}),closeCreditsModePopover:(0,a.assign)({popoverOpen:!1})}}),r=(0,o.j)(i())},"./app/components/Views/MagicTools/utils/MagicToolCostModeService/hooks/useMagicToolCostMode.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./node_modules/@xstate/react/es/useSelector.js"),n=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/hooks/useMagicToolCostModeService.ts");const a=()=>{const e=(0,n.Z)();return(0,o.v)(e,(e=>e.matches("explore")?"explore":"credits"))}},"./app/components/Views/MagicTools/utils/MagicToolCostModeService/hooks/useMagicToolCostModeService.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/utils/MagicToolCostModeService/MagicToolCostModeServiceContext.tsx");const n=()=>o.Z.useActorRef()},"./app/components/Views/MagicTools/utils/TaskRateLimitAlert/machine/TaskRateLimitAlertServiceContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./node_modules/@xstate/react/es/createActorContext.js"),n=s("./node_modules/xstate/es/Machine.js"),a=s("./node_modules/xstate/es/index.js");const i=()=>(0,n.C)({id:"taskRateLimitAlert",schema:{context:{},events:{}},initial:"hidden",preserveActionOrder:!0,predictableActionArguments:!0,context:{customFreeTierMessage:!1},states:{hidden:{on:{SHOW:{target:"visible",actions:(0,a.assign)((()=>({customFreeTierMessage:!1})))},SHOW_FREE_TIER:{target:"visible",actions:(0,a.assign)((()=>({customFreeTierMessage:!0})))}}},visible:{on:{HIDE:{target:"hidden"}}}}}),r=(0,o.j)(i())},"./app/components/Views/MagicTools/utils/TaskRateLimitAlert/machine/hooks/useTaskRateLimitAlertService.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/components/Views/MagicTools/utils/TaskRateLimitAlert/machine/TaskRateLimitAlertServiceContext.tsx");const n=()=>o.Z.useActorRef()},"./app/components/Views/MagicTools/utils/createDownloadFileName.ts":(e,t,s)=>{"use strict";s.d(t,{l:()=>n});var o=s("./app/components/Views/MagicTools/utils/getMagicToolNameFromId.ts");const n=e=>{let{prompt:t,format:s,toolId:n}=e;const a=(0,o.hp)(n);let i=`Runway ${(new Date).toISOString()} ${a}`;return t&&(i+=` ${t}`),i+=`.${s}`,i}},"./app/components/Views/MagicTools/utils/dom.ts":(e,t,s)=>{"use strict";s.d(t,{QE:()=>l,at:()=>c,fC:()=>a,k8:()=>n,m6:()=>i,sx:()=>r});var o=s("./app/components/Views/MagicTools/Components/Common/TopBar.tsx");const n="magic-tool-main-container",a=()=>document.getElementById(n),i=44,r=1024,l=function(){if(!(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]))return o.ns;return window.innerWidth<r?o.ns+i:o.ns},c=function(){let{scrollBehavior:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scrollBehavior:"auto"};const t=a();if(!t)return;const s=l()+16;t.scrollTo({top:0-s,behavior:e})}},"./app/components/Views/MagicTools/utils/getMagicToolNameFromId.ts":(e,t,s)=>{"use strict";s.d(t,{Rn:()=>a,hp:()=>n});var o=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts");function n(e){const t=function(e){for(const t of o.Z)if(t.id===e)return t;return null}(e);return t?t.name:"Magic Tool"}function a(e){for(const t of o.Z)if(t.id===e)return t.shortName?t.shortName:t.name;return"Magic Tool"}},"./app/components/Views/Storyboard/hooks/useElementSize.ts":(e,t,s)=>{"use strict";s.d(t,{h:()=>n});var o=s("./node_modules/react/index.js");function n(e){const[t,s]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const t=e.current;if(!t)return;const o=new ResizeObserver((e=>{const t=e[0];if(!t)return;const{width:o,height:n}=t.contentRect;s((e=>e?.width===o&&e?.height===n?e:{width:o,height:n}))}));return o.observe(t),()=>{o.disconnect()}}),[e]),t}},"./app/components/Views/Storyboard/hooks/useMergeRefs.ts":(e,t,s)=>{"use strict";s.d(t,{q:()=>n});var o=s("./node_modules/react/index.js");function n(e){return(0,o.useCallback)((t=>{for(const s of e)"function"==typeof s?s(t):null!==s&&null!==t&&(s.current=t)}),[e])}},"./app/components/Views/Storyboard/lib/assert.ts":(e,t,s)=>{"use strict";function o(e,t){if(!e)throw new Error(t)}s.d(t,{h:()=>o})},"./app/components/Views/Storyboard/lib/asset.ts":(e,t,s)=>{"use strict";function o(e){return e.metadata?.dimensions?{width:e.metadata.dimensions[0],height:e.metadata.dimensions[1]}:e.metadata?.size?e.metadata.size:null}function n(e){const t=o(e);return null!==t?t.width/t.height:16/9}s.d(t,{h:()=>n,j:()=>o})},"./app/components/Views/Storyboard/lib/createId.ts":(e,t,s)=>{"use strict";function o(){return crypto.randomUUID()}s.d(t,{M:()=>o})},"./app/components/Views/TeamSettings/tracking.ts":(e,t,s)=>{"use strict";s.d(t,{Hp:()=>c,Io:()=>l,Rk:()=>i,ZP:()=>r,jQ:()=>a,tz:()=>d});var o=s("./app/utils/trackEvent.ts");let n=function(e){return e.DenyAccessRequest="deny access request",e.AcceptAccessRequest="accept access request",e.ViewRequestTeamAccessPage="view request team access page",e.RequestTeamAccess="request team access",e.CreateInviteLInk="create invite link from team settings",e.GetCredits="get credits from team settings",e.ManageBilling="manage billing from team settings",e}({});function a(e){let{accepted:t}=e;const s=t?n.AcceptAccessRequest:n.DenyAccessRequest;(0,o.L)({event:"Click",name:s,section:"Workspace Settings"})}function i(){(0,o.L)({event:"General",name:n.ViewRequestTeamAccessPage,section:"Workspace Settings"})}function r(){(0,o.L)({event:"Click",name:n.RequestTeamAccess,section:"Workspace Settings"})}function l(){(0,o.L)({event:"Click",name:n.CreateInviteLInk,section:"Workspace Settings"})}function c(){(0,o.L)({event:"Click",name:n.GetCredits,section:"Workspace Settings"})}function d(){(0,o.L)({event:"Click",name:n.ManageBilling,section:"Workspace Settings"})}},"./app/components/Views/Teamspace/TeamspaceInviteButton.tsx":(e,t,s)=>{"use strict";s.d(t,{e:()=>O});var o=s("./app/components/UI/Base.tsx"),n=s("./app/components/UI/RoundedPrimaryButton.tsx"),a=s("./node_modules/lucide-react/dist/esm/icons/users-round.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=s("./app/api/hooks/useTeams.ts"),c=s("./app/api/teamspaces.ts"),d=s("./app/utils/hooks/useFlipbackState.ts"),p=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),u=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),m=s("./node_modules/react-redux/es/index.js"),h=s("./app/actions/flash.ts"),g=s("./app/hooks/useTeamInviteEmails.ts"),f=s("./app/components/Prefabs/Loader/Loader.tsx"),y=s("./app/components/Prefabs/Text.tsx"),x=s("./app/components/Teams/InviteInput.tsx"),v=s("./app/components/Views/Dashboard/Components/Text.tsx"),b=s("./app/components/Views/MagicTools/Components/Common/Base.tsx"),w=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts"),_=s("./app/components/Views/Teamspace/teamspaceEventUtils.ts"),I=s("./node_modules/react/jsx-runtime.js");const T=e=>{let{onClose:t,teamId:s,teamspaceId:o,...n}=e;const[a,r]=(0,i.useState)(!1),[u,y]=(0,d.Z)(null,2e3),{emails:v,setEmails:T,verifyListAndAddEmails:N}=(0,g.r)([]),D=(0,m.I0)(),{mutate:O}=(0,l.lU)(s,{suspense:!0}),L=(0,i.useCallback)((async e=>{if(e.preventDefault(),!(v.length<1)){r(!0);try{await(0,c.vC)({teamspaceId:o,emails:v,autoInviteAsViewer:!0}),O(),D((0,h.showFlash)({message:"Members invited to Teamspace",type:"SUCCESS"})),(0,_.kL)(o,{numEmails:v.length}),t(v),T([])}catch(e){D((0,h.showFlash)({message:"Could not add members to Teamspace",type:"WARNING"})),(0,_.I7)(o,{numEmails:v.length,error:e})}r(!1)}}),[D,v,t,O,T,o]);return(0,I.jsx)(p.fC,{...n,children:(0,I.jsxs)(p.h_,{children:[(0,I.jsx)(k,{}),(0,I.jsxs)(C,{style:{zIndex:w.Z.MODAL_WRAPPER},children:[(0,I.jsxs)(b.x,{flexDirection:"row",justifyContent:"space-between",children:[(0,I.jsx)(E,{children:"Invite members to your teamspace"}),(0,I.jsx)(M,{height:24,onClick:()=>t([])})]}),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P,{weight:400,md:!0,children:"Invited members will be able to access all assets and folders within this teamspace."}),(0,I.jsxs)("form",{onSubmit:L,spellCheck:!1,children:[(0,I.jsx)(x.Z,{emails:v,addEmails:e=>{N({newEmailsList:e,notifyOnDiscrepancy:y})},removeEmail:e=>{T((t=>[...t.filter((t=>t!==e))]))},role:"viewer"}),(0,I.jsx)(A,{notification:u}),(0,I.jsx)(S,{"data-testid":"invite-members-submit",disabled:a,children:"Add members"})]}),a&&(0,I.jsx)(j,{children:(0,I.jsx)(f.Z,{height:24,width:24})})]})]})]})})},j=r.ZP.div.withConfig({displayName:"TeamspaceMembersBulkInviteForm__StyledLoader",componentId:"sc-6646eo-0"})(["position:absolute;inset:-16px;background-color:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;"]),k=(0,r.ZP)(p.aV).withConfig({displayName:"TeamspaceMembersBulkInviteForm__DialogOverlay",componentId:"sc-6646eo-1"})(["position:fixed;inset:0;background-color:",";opacity:0.8;z-index:5;animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],(e=>{let{theme:t}=e;return t.colors.uiOverlay})),C=(0,r.ZP)(p.VY).withConfig({displayName:"TeamspaceMembersBulkInviteForm__DialogContent",componentId:"sc-6646eo-2"})(["max-width:500px;width:90vw;padding:16px;border-radius:4px;background-color:#fff;box-sizing:border-box;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}"]),E=(0,r.ZP)(v.aC).withConfig({displayName:"TeamspaceMembersBulkInviteForm__DialogTitle",componentId:"sc-6646eo-3"})(["color:",";margin-bottom:8px;"],(e=>e.theme.colors.textWhiteUI)),S=r.ZP.button.withConfig({displayName:"TeamspaceMembersBulkInviteForm__StyledSubmitButton",componentId:"sc-6646eo-4"})(["cursor:pointer;background-color:",";font-size:",";border:none;height:48px;width:100%;border-radius:8px;color:#fff;&:focus-visible:not(:disabled){outline:2px solid ",";outline-offset:2px;}&:hover:not(:disabled){background-color:",";}&:disabled{cursor:not-allowed;opacity:0.7;}"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.primary),(e=>e.theme.colors.primaryDark)),A=e=>{let{notification:t,darkMode:s}=e;const o=(0,i.useMemo)((()=>"existing"===t?"One or more email(s) added are already a member of this workspace":""),[t]);return t&&o?(0,I.jsx)(N,{children:(0,I.jsx)(D,{sm:!0,whiteUI:!0,$_css:s?e=>e.theme.colors.danger:e=>e.theme.colors.dangerDark,children:o})}):null};var M=(0,r.ZP)(u.Pxu).withConfig({displayName:"TeamspaceMembersBulkInviteForm___StyledCross2Icon",componentId:"sc-6646eo-5"})(["color:",";cursor:pointer;"],(e=>e.theme.colors.textSecondary)),P=(0,r.ZP)(y.Z).withConfig({displayName:"TeamspaceMembersBulkInviteForm___StyledText",componentId:"sc-6646eo-6"})(["display:block;margin-bottom:8px;color:",";margin-bottom:16px;"],(e=>{let{theme:t}=e;return t.colors.textInactive})),N=(0,r.ZP)("div").withConfig({displayName:"TeamspaceMembersBulkInviteForm___StyledDiv",componentId:"sc-6646eo-7"})(["margin:4px 0;width:100%;"]),D=(0,r.ZP)(y.Z).withConfig({displayName:"TeamspaceMembersBulkInviteForm___StyledText2",componentId:"sc-6646eo-8"})(["line-height:",";display:block;text-align:center;color:",";"],(e=>e.theme.fonts.lineHeight.md),(e=>e.$_css));const O=e=>{let{teamId:t,teamspaceId:s,showIcon:n=!0,buttonText:r="Invite",onDone:l,...c}=e;const[d,p]=i.useState(!1);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(L,{loading:!1,onClick:()=>{p(!0),(0,_.dr)(s)},...c,children:(0,I.jsxs)(o.x,{alignItems:"center",justifyContent:"left",flexGrow:1,gap:"4px",children:[n&&(0,I.jsx)(a.Z,{size:"16px"}),(0,I.jsx)(o.x,{flexGrow:1,children:r})]})}),d&&(0,I.jsx)(i.Suspense,{fallback:null,children:(0,I.jsx)(T,{teamId:t,teamspaceId:s,open:d,onOpenChange:e=>{e||(0,_.m8)(s),p(e)},onClose:e=>{e.length||(0,_.m8)(s),p(!1),l?.(e)}})})]})},L=(0,r.ZP)(n.x).withConfig({displayName:"TeamspaceInviteButton__InviteButton",componentId:"sc-1ewxabq-0"})(["height:32px;min-width:80px;color:",";padding:0px;"],(e=>e.theme.colors.white))},"./app/components/Views/Teamspace/TeamspaceSettingsButton.tsx":(e,t,s)=>{"use strict";s.d(t,{X:()=>$});var o=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceEvents.ts"),n=s("./app/components/UI/RoundedPrimaryButton.tsx"),a=s("./app/devoe/themeDark.ts"),i=s("./app/utils/trackEvent.ts"),r=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),l=s("./node_modules/react/index.js"),c=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js"),p=s("./app/actions/flash.ts"),u=s("./app/actions/popup.ts"),m=s("./app/api/hooks/useTeamspaces.ts"),h=s("./app/api/teamspaces.ts"),g=s("./app/components/ErrorBoundary.tsx"),f=s("./app/components/Prefabs/Avatar/Avatar.tsx"),y=s("./app/components/Prefabs/Block.tsx"),x=s("./app/components/Prefabs/Divider.tsx"),v=s("./app/components/Prefabs/FullPageLoaderContainer.tsx"),b=s("./app/components/Prefabs/Loader/Loader.tsx"),w=s("./app/components/Prefabs/Text.tsx"),_=s("./app/components/UI/Base.tsx"),I=s("./app/components/Views/Dashboard/Components/Text.tsx"),T=s("./app/components/Views/VideoTools/VideoEditor/z-indexes.ts"),j=s("./node_modules/lodash/lodash.js"),k=s("./node_modules/react-redux/es/index.js"),C=s("./node_modules/react-router/esm/react-router.js"),E=s("./app/components/Views/Teamspace/TeamspaceInviteButton.tsx"),S=s("./app/components/Views/Teamspace/teamspaceEventUtils.ts"),A=s("./node_modules/lucide-react/dist/esm/icons/check.js"),M=s("./app/constants/teams.ts"),P=s("./node_modules/react/jsx-runtime.js");const N=e=>{let{teamspaceId:t,teamspaceName:s,teamspaces:o,mutate:n}=e;const a=(0,k.I0)(),[i,r]=(0,l.useState)(s??""),[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),g=!!i&&i!==s&&c,f=async()=>{if(""!==i?.trim())try{await(0,h.uf)({teamspaceId:t,newTeamspaceName:i});const e=o?.map((e=>e.id===t?{...e,name:i}:e))||[];await n(e,!1),m(!0)}catch(e){a((0,p.showFlash)({message:e.message||"Failed to update teamspace name",type:"WARNING"})),m(!1)}else a((0,p.showFlash)({message:"Please enter a teamspace name",type:"WARNING"}))};return(0,P.jsx)(y.JX,{gutter:24,style:{marginBottom:"16px"},children:(0,P.jsxs)(y.JX,{gutter:8,children:[(0,P.jsx)(w.Z,{color:"textSecondary",lg:!0,style:{flexGrow:1},children:"Name"}),(0,P.jsxs)(_.x,{flexDirection:"row",gap:"8px",alignItems:"center",children:[(0,P.jsx)(D,{value:i,onChange:e=>{r(e.target.value.slice(0,50)),m(!1)},tabIndex:-1,maxLength:M.l9,onFocus:()=>d(!0),onBlur:()=>d(!1),onKeyDown:e=>{"Enter"===e.key&&f()}}),(0,P.jsx)(U,{onClick:f,disabled:!g,children:(0,P.jsxs)(_.x,{gap:"2px",children:[u&&!g&&(0,P.jsx)(A.Z,{size:16}),"update"]})})]})]})})},D=c.ZP.input.withConfig({displayName:"UpdateTeamspaceName__StyledInput",componentId:"sc-1udrhxz-0"})(["background-color:",";font-size:16px;color:#f2f2f5;height:48px;border-radius:8px;border:1px solid ",";padding:0px 10px;box-sizing:border-box;transition:border 0.2s ease-in-out;flex-grow:1;&:focus:not(:disabled){border-color:",";}&:disabled{opacity:0.6;cursor:not-allowed;}"],(e=>e.theme.colors.black),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.primaryLight)),O=e=>{let{teamspaceId:t,teamId:s,onOpenChange:o}=e;const{data:n,mutate:i}=(0,m.gb)(s,{suspense:!0}),r=n?.find((e=>e.id===t)),{data:l,mutate:c}=(0,m.BO)(t,{suspense:!0}),d=(0,k.I0)(),g=(0,C.k6)();if(!r)return null;const v=r.name?`${r.name} Settings`:"Teamspace Settings",b=async()=>{try{g.replace("/");const e=n?.filter((e=>t!==e.id));i(e,!1),await(0,h.OC)({teamspaceId:t}),d((0,p.showFlash)({message:"Teamspace deleted",type:"SUCCESS"})),(0,S.LI)(t),o(!1)}catch(e){d((0,p.showFlash)({message:"Failed to delete teamspace",type:"WARNING"}))}};return(0,P.jsxs)(y.JX,{children:[(0,P.jsx)(I.nL,{children:v}),(0,P.jsx)(N,{teamspaceId:t,teamspaceName:r.name,teamspaces:n,mutate:i}),(0,P.jsx)(x.Z,{line:!0,lineColor:a.Z.colors.uiLevel1}),!(0,j.isEmpty)(l)&&(0,P.jsxs)(y.JX,{gutter:24,style:{marginRight:"-16px"},children:[(0,P.jsx)(w.Z,{color:"textSecondary",lg:!0,style:{flexGrow:1},children:"Members"}),(0,P.jsx)(V,{flexDirection:"column",gap:"24px",children:l?.map(((e,o)=>{const n=e.user;return n?(0,P.jsxs)(y.X2,{alignCenter:!0,gutter:16,children:[n.hasRunwayAccount?(0,P.jsx)(f.Z,{image:n.teamPicture||"",user:n.teamName||"",size:"medium",type:"circle",dataTip:n.email||""}):(0,P.jsx)(B,{$_css:a.Z.colors.uiLevel1}),(0,P.jsxs)(_.x,{flexGrow:1,flexDirection:"column",gap:"0px",children:[n.hasRunwayAccount&&(0,P.jsxs)(w.Z,{lg:!0,color:"textSecondary",children:[n.firstName," ",n.lastName]}),(0,P.jsx)(w.Z,{lg:!0,children:n.email})]}),(0,P.jsx)(L,{onClick:()=>(async e=>{try{const o=l?.filter((t=>t.user?.email!==e));await c(o,!1),await(0,h.Xn)({teamspaceId:t,emails:[e],asTeamId:s}),(0,S.Zn)(t),d((0,p.showFlash)({message:"Teamspace member removed",type:"SUCCESS"}))}catch(e){d((0,p.showFlash)({message:"Failed to remove teamspace member",type:"WARNING"}))}})(n.email),"data-testid":`remove-${n.email}`,children:(0,P.jsx)(w.Z,{lg:!0,color:"primaryLight",children:"remove"})})]},o):null}))})]}),(0,P.jsxs)(y.X2,{style:{marginTop:"24px"},children:[(0,P.jsx)(G,{loading:!1,onClick:async()=>{o(!1),d((0,u.showPopup)({title:`Delete ${r.name}`,legacy:!1,message:`Are you sure you want to delete ${r.name}? You will lose all assets and permissions stored in this teamspace. `,acceptBtnType:"WARNING",acceptBtn:"Delete",cancelBtn:"Cancel",onAccept:b,onCancel:()=>{o(!0)}}))},children:"Delete Teamspace"}),(0,P.jsx)(F,{teamId:s,teamspaceId:t,showIcon:!1,buttonText:"Invite more members",onDone:()=>{c()},$_css2:a.Z.colors.primary})]})]})},L=c.ZP.span.withConfig({displayName:"TeamspaceSettings__DeleteButton",componentId:"sc-18m29pt-0"})(["color:",";cursor:pointer;"],(e=>{let{theme:t}=e;return t.colors.primaryLight})),R=(0,c.ZP)(d.aV).withConfig({displayName:"TeamspaceSettings__DialogOverlay",componentId:"sc-18m29pt-1"})(["position:fixed;inset:0;background-color:",";opacity:0.8;z-index:5;animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],(e=>{let{theme:t}=e;return t.colors.uiOverlay})),Z=(0,c.ZP)(d.VY).withConfig({displayName:"TeamspaceSettings__DialogContent",componentId:"sc-18m29pt-2"})(["max-width:500px;width:90vw;padding:32px;border-radius:4px;background-color:black;box-sizing:border-box;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}"]),U=c.ZP.span.withConfig({displayName:"TeamspaceSettings__TextButton",componentId:"sc-18m29pt-3"})(["color:",";cursor:",";"],(e=>{let{theme:t,disabled:s}=e;return s?t.colors.uiLevel1:t.colors.primaryLight}),(e=>{let{disabled:t}=e;return t?"not-allowed":"pointer"})),z=e=>(0,P.jsx)(g.S,{FallbackComponent:()=>null,children:(0,P.jsx)(l.Suspense,{fallback:(0,P.jsx)(v.b,{children:(0,P.jsx)(b.Z,{})}),children:(0,P.jsx)(d.fC,{open:e.open,onOpenChange:e.onOpenChange,children:(0,P.jsxs)(d.h_,{children:[(0,P.jsx)(R,{"aria-label":"Teamspace settings overlay"}),(0,P.jsx)(Z,{style:{zIndex:T.Z.MODAL_WRAPPER,borderRadius:"16px"},children:(0,P.jsx)(O,{...e})})]})})})});var V=(0,c.ZP)(_.x).withConfig({displayName:"TeamspaceSettings___StyledBox",componentId:"sc-18m29pt-4"})(["max-height:430px;overflow-y:auto;padding-right:16px;"]),B=(0,c.ZP)("div").withConfig({displayName:"TeamspaceSettings___StyledDiv",componentId:"sc-18m29pt-5"})(["width:45px;height:45px;background-color:",";border-radius:50%;"],(e=>e.$_css)),G=(0,c.ZP)(n.x).withConfig({displayName:"TeamspaceSettings___StyledRoundedSecondaryButton",componentId:"sc-18m29pt-6"})(["height:48px;max-width:unset;flex-grow:1;"]),F=(0,c.ZP)(E.e).withConfig({displayName:"TeamspaceSettings___StyledTeamspaceInviteButton",componentId:"sc-18m29pt-7"})(["height:48px;background-color:",";max-width:unset;flex-grow:1;"],(e=>e.$_css2));const $=e=>{let{teamspaceId:t,teamId:s}=e;const[n,a]=l.useState(!1);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(H,{loading:!1,onClick:()=>{a(!0),(0,i.L)({event:"Click",name:o.Ji.TeamspaceSettings,section:"Teamspaces",otherProperties:{teamspaceId:t}})},"aria-label":"Teamspace settings",children:(0,P.jsx)(Y,{height:"20px",width:"20px"})}),(0,P.jsx)(z,{open:n,onOpenChange:a,teamId:s,teamspaceId:t})]})},W=`\n  cursor: pointer;\n  color: ${a.Z.colors.white};\n  &:hover {\n    color: ${a.Z.colors.white};\n  }\n  flex-shrink: 0;\n`,H=(0,c.ZP)(n.x).withConfig({displayName:"TeamspaceSettingsButton__SettingsButton",componentId:"sc-1795zp2-0"})(["height:32px;min-width:32px;padding:0px;"]);var Y=(0,c.ZP)(r.UG6).withConfig({displayName:"TeamspaceSettingsButton___StyledGearIcon",componentId:"sc-1795zp2-1"})(["",""],W)},"./app/components/Views/Teamspace/index.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>ne});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/api/hooks/useTeamspaces.ts");var a=s("./app/components/CreateTeam/index.tsx"),i=s("./app/components/Prefabs/PageMeta/PageMeta.tsx"),r=s("./app/utils/features.ts"),l=s("./app/utils/hooks/useFeatures.ts"),c=s("./node_modules/react/index.js"),d=s("./node_modules/react-router/esm/react-router.js"),p=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts"),u=s("./app/components/Views/AssetsV2/DndContainer.tsx"),m=s("./app/components/Views/AssetsV2/Dropzone.tsx"),h=s("./app/components/Views/AssetsV2/NoAssetsMessage.tsx"),g=s("./app/components/Views/AssetsV2/ViewControls.tsx"),f=s("./app/components/Views/AssetsV2/action-bar/index.tsx"),y=s("./app/components/Views/AssetsV2/dialogs/index.tsx"),x=s("./app/components/Views/AssetsV2/grid/index.tsx"),v=s("./app/components/Views/AssetsV2/grid/AssetCell.tsx"),b=s("./app/components/Views/AssetsV2/grid/AssetGroupCell.tsx"),w=s("./app/components/Views/AssetsV2/grid/TeamspaceCell.tsx"),_=s("./app/components/Views/AssetsV2/grid/UploadCell.tsx"),I=s("./app/components/Views/AssetsV2/hooks/useAssetsQuery.ts"),T=s("./app/components/Views/AssetsV2/hooks/useCanEdit.ts"),j=s("./app/components/Views/AssetsV2/hooks/usePendingUploads.ts"),k=s("./app/components/Views/AssetsV2/hooks/useSelection.ts"),C=s("./app/components/Views/AssetsV2/index.css"),E=s("./app/components/Views/AssetsV2/lib/divideAssets.ts"),S=s("./app/components/Views/AssetsV2/lib/filterFavorited.ts"),A=s("./app/components/Views/AssetsV2/lib/sortAssets.ts"),M=s("./app/components/Views/AssetsV2/lightbox/index.tsx"),P=s("./app/components/Views/AssetsV2/table/index.tsx"),N=s("./app/components/Views/AssetsV2/table/AssetGroupRow.tsx"),D=s("./app/components/Views/AssetsV2/table/AssetRow.tsx"),O=s("./app/components/Views/AssetsV2/table/TeamspaceRow.tsx"),L=s("./app/components/Views/AssetsV2/table/UploadRow.tsx"),R=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),Z=s("./node_modules/@dnd-kit/core/dist/core.esm.js"),U=s("./node_modules/lucide-react/dist/esm/icons/chevron-right.js"),z=s("./node_modules/react-router-dom/esm/react-router-dom.js"),V=s("./app/components/Views/AssetsV2/header/NewFolderDialog.tsx"),B=s("./app/components/Views/AssetsV2/header/UploadButton.tsx"),G=s("./app/components/Views/Teamspace/TeamspaceInviteButton.tsx"),F=s("./app/components/Views/Teamspace/TeamspaceSettingsButton.tsx");const $={container:"index__container__SIjtm",topRow:"index__topRow__hSnps",title:"index__title__NcbYO",parents:"index__parents__P_lr7",parent:"index__parent__t_uis",parentDivider:"index__parentDivider__bPGb8",numberOfItems:"index__numberOfItems__E3SDj",bottomRow:"index__bottomRow__v1fus"};var W=s("./node_modules/react/jsx-runtime.js");function H(e){let{asTeamId:t,parentId:s,privateInTeam:n,parents:a,teamspace:i,entriesByParentId:c,canEdit:d,mode:p}=e;const u=(0,l.h)(t),m=(0,o.Z5)(t,{suspense:!0}),h=(0,r.wy)(u.data.permitted),g="owner"===m||"admin"===m||"editor"===m&&h;return(0,W.jsxs)("div",{className:$.container,children:[(0,W.jsxs)("div",{className:$.topRow,children:[0===a.length?(0,W.jsxs)("span",{className:$.title,children:[i.name," -"," ","all"===p?"All Assets":"Favorite Assets"]}):(0,W.jsx)(Y,{teamspace:i,parents:a,entriesByParentId:c}),g&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(F.X,{teamId:t,teamspaceId:i.id}),(0,W.jsx)(G.e,{teamId:t,teamspaceId:i.id,buttonText:"Invite"})]})]}),d?(0,W.jsxs)("div",{className:$.bottomRow,children:[(0,W.jsx)(V.I,{privateInTeam:n,teamspaceId:i.id,children:e=>{let{close:o}=e;return(0,W.jsx)(V.B,{privateInTeam:n,teamspaceId:i.id,parentId:s,asTeamId:t,onClose:o,favorite:"favorites"===p})}}),(0,W.jsx)(B.p,{asTeamId:t,privateInTeam:n,teamspaceId:i.id,parentId:s,favorite:"favorites"===p})]}):null]})}function Y(e){let{parents:t,teamspace:s,entriesByParentId:o}=e;return(0,W.jsxs)("div",{className:$.parents,children:[(0,W.jsx)(X,{id:s.assetGroupId,name:s.name}),t.map(((e,s)=>{if(t.length-1===s){const t=o[e.id]||[];return(0,W.jsxs)(c.Fragment,{children:[(0,W.jsx)("span",{"data-current":"true",className:$.parent,children:e.name}),t.length>0?(0,W.jsxs)("span",{className:$.numberOfItems,children:[t.length," items"]}):null]},e.id)}return(0,W.jsx)(X,{id:e.id,name:e.name},e.id)}))]})}function X(e){let{id:t,name:s}=e;const o=(0,I.y)(),n=(0,Z.Zj)({id:t??"root"});return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(z.rU,{ref:n.setNodeRef,className:$.parent,"data-over":n.isOver,to:{search:o({parentId:t})},children:s}),(0,W.jsx)(U.Z,{size:20,className:$.parentDivider})]})}const q=(0,c.memo)(D.M),J=(0,c.memo)(N.f),K=(0,c.memo)(O.A),Q=(0,c.memo)(v.E),ee=(0,c.memo)(b.z),te=(0,c.memo)(w.h),se=(0,c.memo)(_.k),oe=(0,c.memo)(f.o);function ne(e){let{match:t,onlyFavorites:s=!1}=e;const f=(0,c.useRef)(null),v=(0,o.I7)({suspense:!0}),b=(0,I.b)(),w=(0,I.y)(),_=(0,d.k6)(),N=function(e,t){const s=(0,n.gb)(t,{suspense:!0});if(void 0===s.data)throw new Error("Failed to load teamspaces");for(const t of s.data)if(t.id===e)return t;return null}(t.params.teamspaceId,v.id);if(!N)throw new Error("Teamspace not found");const D=(0,l.h)(v.id),O=(0,T.o)(v.id),Z=(0,r._K)(D.data.permitted),{data:U}=(0,p.wQ)(v.id,!1),z=(0,c.useMemo)((()=>{let e=U;return s&&(e=(0,S.X)(U)),(0,E.z)(e)}),[s,U]),V=(0,j.W)(v.id,!1,b.parentId||N.assetGroupId,t.params.teamspaceId),B=b.parentId||N.assetGroupId,G=z.entriesByParentId[B];null!==b.parentId&&void 0===G&&_.replace({search:w({parentId:null})});const F=(0,c.useMemo)((()=>Array.isArray(G)?(0,A.R)(G,V,{order:b.order,sortBy:b.sortBy,assetType:b.assetType,mediaType:b.mediaType}):[]),[G,b.order,b.sortBy,b.assetType,b.mediaType,V]),{selectedIds:$,dispatch:Y}=(0,k.c)(F),X=(0,c.useMemo)((()=>{const e=[];let t=b.parentId;for(;t!==N.assetGroupId;){const s=z.assetGroups.find((e=>e.id===t));if(!s)break;e.unshift(s),t=s.parentAssetGroupId}return e}),[b.parentId,N.assetGroupId,z.assetGroups]);return(0,c.useEffect)((()=>{Y({type:"clear"}),f.current?.scrollTo(0,0)}),[b.parentId,Y]),(0,W.jsxs)(R.VW,{children:[(0,W.jsx)(y.T,{asTeamId:v.id,privateInTeam:!1,entriesByParentId:z.entriesByParentId,children:(0,W.jsx)(M.e,{asTeamId:v.id,privateInTeam:!1,page:F,exports:z.exports,canEdit:O,hasTeamspaces:!0,teamspaceId:N.id,children:(0,W.jsx)(u.Q,{asTeamId:v.id,page:F,assetGroups:z.assetGroups,parentId:b.parentId||N.assetGroupId,privateInTeam:!1,selectedIds:$,canEdit:O,selectionDispatch:Y,children:(0,W.jsxs)("div",{ref:f,className:C.Z.container,children:[$.length>1?(0,W.jsx)(oe,{selectedIds:$,page:F,asTeamId:v.id,privateInTeam:!1,selectionDispatch:Y,teamspaceId:t.params.teamspaceId,hasTeamspaces:!0,canEdit:O}):null,(0,W.jsx)(H,{asTeamId:v.id,privateInTeam:!1,parentId:b.parentId||N.assetGroupId,parents:X,entriesByParentId:z.entriesByParentId,teamspace:N,canEdit:O,mode:s?"favorites":"all"}),(0,W.jsxs)(m.f,{asTeamId:v.id,privateInTeam:!1,parentId:b.parentId||N.assetGroupId,favorite:s,children:[(0,W.jsx)(g.w,{}),0===F.length?(0,W.jsx)(h.T,{}):null,"table"===b.viewAs&&F.length>0?(0,W.jsx)(P.X,{scrollRef:f,page:F,hasFavoriteAccess:Z,canEdit:O,renderItem:e=>{switch(e.type){case"Upload":return(0,W.jsx)(L.e,{upload:e.value,hasFavoriteAccess:Z,canEdit:O},e.value.id);case"Asset":return(0,W.jsx)(q,{asTeamId:v.id,asset:e.value,selected:$.includes(e.value.id),selectionDispatch:Y,teamspaceId:t.params.teamspaceId,canEdit:O,hasTeamspaces:!0,privateInTeam:!1,hasFavoriteAccess:Z},e.value.id);case"AssetGroup":return e.value.userGroupId?(0,W.jsx)(K,{assetGroup:e.value,asTeamId:v.id,hasFavoriteAccess:Z,canEdit:O},e.value.id):(0,W.jsx)(J,{asTeamId:v.id,privateInTeam:!1,selected:$.includes(e.value.id),assetGroup:e.value,entriesByParentId:z.entriesByParentId,teamspaceId:t.params.teamspaceId,selectionDispatch:Y,canEdit:O,hasTeamspaces:!0,hasFavoriteAccess:Z},e.value.id)}}}):null,"grid"===b.viewAs&&F.length>0?(0,W.jsx)(x.E,{scrollRef:f,page:F,renderItem:e=>{switch(e.type){case"Upload":return(0,W.jsx)(se,{upload:e.value},e.value.id);case"Asset":return(0,W.jsx)(Q,{asset:e.value,asTeamId:v.id,selected:$.includes(e.value.id),selectionDispatch:Y,teamspaceId:t.params.teamspaceId,canEdit:O,hasTeamspaces:!0,privateInTeam:!1},e.value.id);case"AssetGroup":return e.value.userGroupId?(0,W.jsx)(te,{assetGroup:e.value,asTeamId:v.id},e.value.id):(0,W.jsx)(ee,{assetGroup:e.value,items:z.entriesByParentId[e.value.id],asTeamId:v.id,privateInTeam:!1,selected:$.includes(e.value.id),selectionDispatch:Y,teamspaceId:t.params.teamspaceId,canEdit:O,hasTeamspaces:!0},e.value.id)}}}):null]})]})})})}),(0,W.jsx)(a.p,{}),(0,W.jsx)(i.Z,{title:N.name})]})}},"./app/components/Views/Teamspace/teamspaceEventUtils.ts":(e,t,s)=>{"use strict";s.d(t,{I7:()=>l,LI:()=>d,NT:()=>u,Qn:()=>p,RS:()=>m,Sh:()=>g,T8:()=>h,Zn:()=>c,dr:()=>a,kL:()=>r,m8:()=>i});var o=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceEvents.ts"),n=s("./app/utils/trackEvent.ts");const a=e=>{(0,n.L)({event:"General",name:o.Ji.InviteTeamspaceMembersStart,section:"Teamspaces",otherProperties:{teamspaceId:e}})},i=e=>{(0,n.L)({event:"General",name:o.Ji.InviteTeamspaceMembersDialogClosed,section:"Teamspaces",otherProperties:{teamspaceId:e}})},r=(e,t)=>{let{numEmails:s}=t;(0,n.L)({event:"General",name:o.Ji.InviteTeamspaceMembersSuccess,section:"Teamspaces",otherProperties:{teamspaceId:e,numEmails:s}})},l=(e,t)=>{let{error:s,numEmails:a}=t;(0,n.L)({event:"General",name:o.Ji.InviteTeamspaceMembersError,section:"Teamspaces",otherProperties:{teamspaceId:e,error:s,numEmails:a}})},c=e=>{(0,n.L)({event:"General",name:o.Ji.RemoveTeamspaceMember,section:"Teamspaces",otherProperties:{teamspaceId:e}})},d=e=>{(0,n.L)({event:"General",name:o.Ji.DeleteTeamspace,section:"Teamspaces",otherProperties:{teamspaceId:e}})},p=e=>{(0,n.L)({event:"General",name:o.Ji.AddAssetToTeamspace,section:"Teamspaces",otherProperties:{teamspaceId:e}})},u=e=>{(0,n.L)({event:"General",name:o.Ji.AddAssetGroupToTeamspace,section:"Teamspaces",otherProperties:{teamspaceId:e}})},m=e=>{(0,n.L)({event:"General",name:o.Ji.RemoveAssetFromTeamspace,section:"Teamspaces",otherProperties:{teamspaceId:e}})},h=()=>{(0,n.L)({event:"Click",name:o._p.OpenSaveToTeamspace,section:"AI Magic Tools",otherProperties:{}})},g=(e,t)=>{(0,n.L)({event:"Click",name:o._p.SelectTeamspace,section:"AI Magic Tools",otherProperties:{saveToTeamspaceId:e?.id,saveToTeamspaceName:e?.name,saveToPrivateAssets:null===e,uiContext:t}})}},"./app/components/Views/VideoTools/Composition/composition.ts":(e,t,s)=>{"use strict";s.d(t,{c:()=>o});const o=e=>({composition:{metadata:e.metadata,layers:e.data.layers,tracks:e.data.tracks,settings:e.data.settings,pinnedAssetItemIds:e.data.pinnedAssetItemIds}})},"./app/components/Views/VideoTools/VideoEditor/Assets/default-assets.ts":(e,t,s)=>{"use strict";s.d(t,{$L:()=>o,Ju:()=>n,L3:()=>a,UL:()=>r,f5:()=>i});const o=[{id:"e4347936-ef0b-4d6a-befb-db7674f3ae0f",createdAt:new Date("2022-09-12T18:46:23.656Z"),updatedAt:new Date("2022-09-12T18:46:23.656Z"),name:"Gen1_Challenge4.mp4",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/11e83cee-6d4c-4e7b-aab6-56019a1534c5.mp4",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/3e1884ed-7ff7-41f8-844c-fe762f071ef5.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/631e6d18-b966-4401-bfa5-8b0e32763d4a.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/a4f97bfc-79f0-47a1-85e0-8e136cb287bc.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/fb5d063a-54a5-4ae0-8d85-63eb30fbab07.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/9cd958eb-5d98-4470-940e-00040875f421.jpeg"],mediaType:"video",fileCount:1,fileSize:19936736,fileExtStandardized:"mp4",isUserUpload:!0,favorite:!1,metadata:{duration:4.8,frameRate:25,size:{width:1920,height:1080},hasAlphaChannel:!1,hasAudio:!1},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!0,parentAssetGroupId:"e775be4c-56b2-4347-8fd7-7a4c335f6dd1"},{id:"5369c058-deb5-4541-aec5-de23a9387132",createdAt:new Date("2022-09-12T18:46:23.656Z"),updatedAt:new Date("2022-09-12T18:46:23.656Z"),name:"Gen1_Challenge3.mp4",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/dceaca62-d632-425d-851b-7b464c411b85.mp4",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/3a128643-6a1f-4a16-9bfc-e1e1342b9a75.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/9fd6aa68-2a45-4ee7-ac09-c6557dd6f67e.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/627ae9a3-3a94-4f1b-931b-d6a520844b1e.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/03e27a6e-23c5-44f2-b340-60d3476f1f83.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/93d84f7d-d9dc-4c67-9bd2-6c71c1456796.jpeg"],mediaType:"video",fileCount:1,fileSize:3982706,fileExtStandardized:"mp4",isUserUpload:!0,favorite:!1,metadata:{duration:6,frameRate:25,size:{width:1920,height:1080},hasAlphaChannel:!1,hasAudio:!1},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!0,parentAssetGroupId:"e775be4c-56b2-4347-8fd7-7a4c335f6dd1"},{id:"4634eda6-2786-49da-8ecc-65f14b369a3d",createdAt:new Date("2022-09-12T18:46:23.656Z"),updatedAt:new Date("2022-09-12T18:46:23.656Z"),name:"Gen1_Challenge2.mp4",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/9176e34b-7504-4cf3-97d9-08d269bca10b.mp4",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/f692f011-7bd7-41a4-97f1-67957030f327.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/174d1854-fd06-4895-9893-0806907db065.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/6037c188-3831-4722-995a-9d97fee260a5.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/64b461c8-e71a-429d-8139-da8ace8c3ca5.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/a014ff92-772b-40c7-9d8c-348b48f6b8c4.jpeg"],mediaType:"video",fileCount:1,fileSize:1534568,fileExtStandardized:"mp4",isUserUpload:!0,favorite:!1,metadata:{duration:3,frameRate:25,size:{width:1920,height:1080},hasAlphaChannel:!1,hasAudio:!1},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!0,parentAssetGroupId:"e775be4c-56b2-4347-8fd7-7a4c335f6dd1"}],n=[],a=[],i=[{id:"541dcf63-361c-4e0d-8254-fc38987ad384",createdAt:"2022-06-01 23:11:58.886771",name:"Effect_Asset_1.mov",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/d20c2a64-729b-4694-a688-e370e5602174.mov",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/43482f4c-db10-4d33-97de-d626fa0326b1.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/53517923-0e09-44ae-86a1-31a05caaf189.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/761c242e-5d0f-478f-af71-2fa8e5b7f552.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/790c2294-be10-41ac-a2f9-8eacebce9df3.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/059e1d1d-7ba1-4048-b019-2d8b234afc92.jpeg"],mediaType:"video",fileCount:1,fileSize:265522423,isUserUpload:!0,metadata:{duration:11.554,frameRate:23.976023976023978,size:{width:1920,height:1080},hasAlphaChannel:!1,hasAudio:!1,fileList:"https://runway-demo-assets.s3.amazonaws.com/metadata/541dcf63-361c-4e0d-8254-fc38987ad384/fileList.json"},username:"runway",userId:173,userPicture:"https://runway-demo-assets.s3.amazonaws.com/1bb9090e-b177-4af4-a947-722beb6486ac.png",private:!1},{id:"42fb898a-13c7-4d0a-a2dc-d38b8d25e072",createdAt:"2022-06-01 23:11:58.886771",name:"Effect_Asset_2.mov",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/274cafcb-a2b7-4d6f-969b-76ca73140d40.mov",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/982404f2-2c0d-4206-b358-656f289bf831.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/83ff0683-23c6-439c-9536-22012bb0766f.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/c315698c-514e-4ef3-9215-7d2ce2c3ef74.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/8e858fce-7312-4e16-89f6-9ca215962b8f.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/112b2ab6-75f7-4c5f-bb88-0901ac3f6b89.jpeg"],mediaType:"video",fileCount:1,fileSize:85087640,isUserUpload:!0,metadata:{duration:5.922583,frameRate:23.976023976023978,size:{width:1920,height:1080},hasAlphaChannel:!1,hasAudio:!1},username:"runway",userId:173,userPicture:"https://runway-demo-assets.s3.amazonaws.com/1bb9090e-b177-4af4-a947-722beb6486ac.png",private:!1},{id:"1cbb2b20-4b01-4ee1-9fca-b881ca7b9f7d",createdAt:"2022-06-01 23:11:58.886771",name:"Effect_Asset_3.mov",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/30a3d56d-d724-4c51-8da2-a0c62951fcdf.mov",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/54537386-7435-4c1b-9547-30c2ef47ae8a.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/04bf5bb8-8f7c-4fa9-a7ef-e05fbf1e4967.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/92f96edf-bd00-4c5d-8534-af2310405776.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/2274c1f5-041f-4ded-890c-17bcab4cfe0d.jpeg","https://runway-demo-assets.s3.amazonaws.com/previews/d426a63f-6b71-45d7-a122-68a1d1ad619b.jpeg"],mediaType:"video",fileCount:1,fileSize:60359132,isUserUpload:!0,metadata:{duration:3.879,frameRate:23.976023976023978,size:{width:1920,height:1080},hasAlphaChannel:!1,hasAudio:!1,fileList:"https://runway-demo-assets.s3.amazonaws.com/metadata/1cbb2b20-4b01-4ee1-9fca-b881ca7b9f7d/fileList.json"},username:"runway",userId:173,userPicture:"https://runway-demo-assets.s3.amazonaws.com/1bb9090e-b177-4af4-a947-722beb6486ac.png",private:!1}],r=[{id:"6479e36f-a6d9-442b-9438-17e4b622bbd8",createdAt:new Date("2023-03-23T18:50:42.466Z"),updatedAt:new Date("2023-03-23T18:51:27.656Z"),name:"Lava.jpg",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/f5069c76-d654-44e0-89c0-1091c4f77f42.jpg",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/83d4e6c5-4efe-4aef-907d-66a183843b3a.jpg"],mediaType:"image",fileCount:1,fileSize:247399,fileExtStandardized:"jpeg",isUserUpload:!0,favorite:!1,metadata:{size:{width:1620,height:1080}},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!1,parentAssetGroupId:"b62c46ec-bf3d-4f71-a663-dabf20d202ba"},{id:"232bff5c-5f6a-495d-bc47-17bc42b7e95e",createdAt:new Date("2023-03-23T18:50:42.487Z"),updatedAt:new Date("2023-03-23T18:51:24.191Z"),name:"Cyperpunk.jpg",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/71544a97-8d08-4e8b-adef-705689859a21.jpg",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/adc3f75f-ff6b-4131-b85d-330c67f5c10d.jpg"],mediaType:"image",fileCount:1,fileSize:286529,fileExtStandardized:"jpeg",isUserUpload:!0,favorite:!1,metadata:{size:{width:1620,height:1080}},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!1,parentAssetGroupId:"b62c46ec-bf3d-4f71-a663-dabf20d202ba"},{id:"7b35a630-6c8c-4f15-b6c6-0dca89292d78",createdAt:new Date("2023-03-23T18:50:42.502Z"),updatedAt:new Date("2023-03-23T18:51:20.232Z"),name:"Flower pattern.jpg",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/31fb7177-dbba-457f-8c1e-69a8929d3f28.jpg",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/9b296792-cb3e-41b5-aa3a-c77178a428d5.jpg"],mediaType:"image",fileCount:1,fileSize:190856,fileExtStandardized:"jpeg",isUserUpload:!0,favorite:!1,metadata:{size:{width:768,height:512}},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!1,parentAssetGroupId:"b62c46ec-bf3d-4f71-a663-dabf20d202ba"},{id:"d287bb6f-e02a-4390-ac62-4321fa39a00e",createdAt:new Date("2023-03-23T18:50:42.534Z"),updatedAt:new Date("2023-03-23T18:51:15.294Z"),name:"Minimalist interior.jpg",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/96066889-92df-4af7-9522-7cd16160f0e2.jpg",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/b1f67d26-e5c0-43d0-a9ea-8affa6fa9b54.jpg"],mediaType:"image",fileCount:1,fileSize:192073,fileExtStandardized:"jpeg",isUserUpload:!0,favorite:!1,metadata:{size:{width:1620,height:1080}},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!1,parentAssetGroupId:"b62c46ec-bf3d-4f71-a663-dabf20d202ba"},{id:"e25bc5ea-9214-4451-abcb-43e540cd0cc5",createdAt:new Date("2023-03-23T18:50:42.536Z"),updatedAt:new Date("2023-03-23T18:51:09.366Z"),name:"Abstract painting.jpg",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/c44e8919-1b1b-4095-b9a2-361c8ba02095.jpg",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/cded0230-c4a1-4699-b253-820ffe576b6d.jpg"],mediaType:"image",fileCount:1,fileSize:59737,fileExtStandardized:"jpeg",isUserUpload:!0,favorite:!1,metadata:{size:{width:1620,height:1080}},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!1,parentAssetGroupId:"b62c46ec-bf3d-4f71-a663-dabf20d202ba"},{id:"911f1e49-4792-44d4-9cba-3ce17650932d",createdAt:new Date("2023-03-23T18:50:42.651Z"),updatedAt:new Date("2023-03-23T18:50:59.826Z"),name:"Vibrant pattern.jpg",url:"https://runway-demo-assets.s3.amazonaws.com/datasets/7d8f60dd-570a-484c-a38f-1ff1c7fbe5b6.jpg",previewUrls:["https://runway-demo-assets.s3.amazonaws.com/previews/6b0b6983-51fa-4321-9b4e-c4a0a27f7f29.jpg"],mediaType:"image",fileCount:1,fileSize:192902,fileExtStandardized:"jpeg",isUserUpload:!0,favorite:!1,metadata:{size:{width:1620,height:1080}},username:"RunwayDemoAssets",userId:1793513,createdBy:1793513,userPicture:void 0,private:!1,parentAssetGroupId:"b62c46ec-bf3d-4f71-a663-dabf20d202ba"}]},"./app/components/Views/VideoTools/VideoEditor/CacheRenderer/Cache.tsx":(e,t,s)=>{"use strict";s.d(t,{Q:()=>l,Z:()=>d});var o=s("./node_modules/react/index.js"),n=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=s("./app/utils/SentryTransaction.ts"),i=s("./node_modules/react/jsx-runtime.js");const r=(0,o.createContext)(null),l=()=>(0,o.useContext)(r),c=n.ZP.div.withConfig({displayName:"Cache__Void",componentId:"sc-1he6uqs-0"})(["",""],(e=>e.hidden&&"position: fixed;\n  left: -99999px;\n  opacity: 0;\n  pointer-events: none;")),d=e=>{let{children:t,dummyState:s,name:n}=e;const l=(0,o.useRef)(new a.e(`cacheRenderer:${n}`));(0,o.useEffect)((()=>{l.current.end()}),[]);return!!s?(0,i.jsx)(r.Provider,{value:s,children:(0,i.jsx)(c,{hidden:!!s,children:t})}):t}},"./app/components/Views/VideoTools/VideoEditor/Hotkeys/hotkey-utils.ts":(e,t,s)=>{"use strict";s.d(t,{H:()=>i,R:()=>a});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/utils/environment.ts");const a=e=>{const t={};return e.forEach((e=>{"action"in e&&((0,o.isString)(e.hotkey)?t[e.hotkey]=e.action:(0,n.eE)()?t[e.hotkey.mac]=e.action:t[e.hotkey.nonMac]=e.action)})),t},i=(e,t)=>a(e.filter(t))},"./app/components/Views/VideoTools/VideoEditor/Hotkeys/sequel-hotkeys.ts":(e,t,s)=>{"use strict";s.d(t,{Bb:()=>S,Id:()=>M,OE:()=>C,ZP:()=>A,hT:()=>E});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/react-redux/es/index.js"),a=s("./app/actions/video-editor/edit-context-history.ts"),i=s("./app/actions/video-editor/history.ts"),r=s("./app/actions/video-editor/layers.ts"),l=s("./app/actions/video-editor/masks.ts"),c=s("./app/actions/video-editor/notification.tsx"),d=s("./app/actions/video-editor/timeline.ts"),p=s("./app/actions/video-editor/viewport.ts"),u=s("./app/reducers/video-editor/history.ts"),m=s("./app/store.ts"),h=s("./app/utils/trackEvent.ts"),g=s("./app/utils/video-editor/clipboard.ts"),f=s("./app/utils/video-editor/hooks/history/useCanRedo.ts"),y=s("./app/utils/video-editor/hooks/history/useCanUndo.ts"),x=s("./app/utils/video-editor/keyframe.ts"),v=s("./app/utils/video-editor/layer.ts"),b=s("./app/utils/video-editor/selection.ts"),w=s("./app/utils/video-editor/store.ts"),_=s("./app/utils/video-editor/tracks.ts"),I=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),T=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),j=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),k=s("./app/components/Views/VideoTools/VideoEditor/Hotkeys/hotkey-utils.ts");const C=[{hotkey:{mac:"Meta,C",nonMac:"Control,C"},display:{title:"Copy",categories:["Global"],hotkey:{mac:["Meta","C"],nonMac:["Control","C"]}},action:e=>{e.preventDefault(),e.stopPropagation();const t=(0,r.vt)();if(t&&I.Dx[t.contextKey])return;const s=m.Z.getState().videoEditor.ui.selection,n=m.Z.getState().videoEditor.composition,a=s.LAYERS.allIds,i=(0,o.compact)(a.map((e=>n.layers[e]))),l=i.map((e=>(0,r.zs)(e)));(0,g.m)({clipboardType:"LAYERS",payload:{layers:i,layerTrackPositions:l}})}},{hotkey:{mac:"Meta,V",nonMac:"Control,V"},display:{title:"Paste",categories:["Global"],hotkey:{mac:["Meta","V"],nonMac:["Control","V"]}},action:async e=>{e.preventDefault(),e.stopPropagation();const t=(0,r.vt)();if(t&&I.Dx[t?.contextKey])return;const s=(0,g.h)();s&&"LAYERS"===s.clipboardType&&(0,u.w)((()=>{const{layers:e,layerTrackPositions:t}=s.payload;0!==e.length&&(1===e.length?m.Z.dispatch((0,r.VU)(e[0])):m.Z.dispatch((0,r.eC)(e,t,(0,T.q)())))}))}},{hotkey:{mac:"Meta,Z",nonMac:"Control,Z"},display:{title:"Undo",categories:["Global"],hotkey:{mac:["Meta","Z"],nonMac:["Control","Z"]}},action:{down:()=>{const{ui:e}=m.Z.getState().videoEditor,t=(0,r.vt)();if(t&&I.Dx[t?.contextKey]&&e.selection.LAYER){m.Z.dispatch((0,a.p6)(e.selection.LAYER));const s=(0,j.gP)(t?.contextKey??null);(0,h.L)({event:"Keypress",name:"Undo",section:s})}else(0,y.x)(m.Z.getState())&&m.Z.dispatch((0,i.Y)())},up:()=>null}},{hotkey:{mac:"Meta,Shift,Z",nonMac:"Control,Y"},display:{title:"Redo",categories:["Global"],hotkey:{mac:["Shift","Meta","Z"],nonMac:["Control","Y"]}},action:{down:()=>{const{ui:e}=m.Z.getState().videoEditor,t=(0,r.vt)();if(t&&I.Dx[t.contextKey]&&e.selection.LAYER){m.Z.dispatch((0,a.AG)(e.selection.LAYER));const s=(0,j.gP)(t?.contextKey);(0,h.L)({event:"Keypress",name:"Redo",section:s})}else(0,f.Z)(m.Z.getState())&&m.Z.dispatch((0,i.K)())},up:()=>null}},{hotkey:" ",display:{categories:["Timeline"],hotkey:["Space"],title:"Toggle play / pause"},action:e=>{e.preventDefault(),m.Z.dispatch(S())}},{hotkey:{mac:"Meta,K",nonMac:"Control,K"},display:{title:"Split at playhead",categories:["Timeline"],hotkey:{mac:["Meta","K"],nonMac:["Control","K"]},hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;const t=(0,b.f)();if(!t.length)return;const s=t.map((e=>e.id));(0,u.w)((()=>{m.Z.dispatch((0,v.m_)(s,(0,T.q)()))}))}},{hotkey:"A",display:{title:"Animate",categories:["Timeline"],hotkey:["A"],hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;(0,r.KB)()&&m.Z.dispatch({type:"ui/SET_IS_ANIMATING",value:!m.Z.getState().videoEditor.ui.isAnimating})}},{hotkey:{mac:"Control,Meta,H",nonMac:"Control,Alt,H"},display:{title:"Show/Hide Clip",categories:["Timeline"],hotkey:{mac:["Control","Meta","H"],nonMac:["Control","Alt","H"]},hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;const t=(0,r.Iz)();t&&(0,u.w)((()=>{m.Z.dispatch({type:"composition/UPDATE_LAYER_VISIBILITY",layerId:t.id,value:!t.visible})}))}},{hotkey:{mac:"Control,Meta,L",nonMac:"Control,Alt,L"},display:{title:"Lock/Unlock Clip",categories:["Timeline"],hotkey:{mac:["Control","Meta","L"],nonMac:["Control","Alt","L"]},hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;const t=(0,r.Iz)();t&&(0,u.w)((()=>{m.Z.dispatch({type:"composition/UPDATE_LAYER_LOCK",layerId:t.id,value:!t.lock})}))}},{hotkey:{mac:"Control,Meta,M",nonMac:"Control,Alt,M"},display:{title:"Mute/Unmute Clip audio",categories:["Timeline"],hotkey:{mac:["Control","Meta","M"],nonMac:["Control","Alt","M"]},hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;const t=(0,r.Iz)();t&&(0,v.Wr)(t)&&(0,u.w)((()=>{m.Z.dispatch({type:"composition/UPDATE_LAYER_DATA",layerId:t.id,data:{muted:!t.data.muted}})}))}},{hotkey:{mac:"Meta,D",nonMac:"Control,D"},display:{title:"Duplicate",categories:["Timeline"],hotkey:{mac:["Meta","D"],nonMac:["Control","D"]},hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;const t=(0,b.f)();if(t.length)if(1===t.length)(0,u.w)((()=>{m.Z.dispatch((0,r.VU)(t[0]))}));else{const e=t.map(r.zs);(0,u.w)((()=>{m.Z.dispatch((0,r.eC)(t,e,(0,T.q)()))}))}}},{hotkey:"Backspace",display:{title:"Delete",categories:["Timeline"],hotkey:["Backspace"],hideInHighlightedMode:!0},action:e=>{if(M())return;const{composition:t,ui:s}=m.Z.getState().videoEditor,o=(0,r.vt)();if(o&&I.Dx[o.contextKey])return;e.preventDefault();const{selection:a,isAnimating:i}=s;if(a)if(i){const e=Object.keys(a.KEYFRAMES);(0,u.w)((()=>{(0,n.dC)((()=>{e.forEach((e=>{const s=(0,x.lE)(t,e);s&&m.Z.dispatch({type:"composition/DELETE_KEYFRAME",...s})}))}))}))}else{const e=(0,b.f)();(0,u.w)((()=>{(0,n.dC)((()=>{e.forEach((e=>{m.Z.dispatch((0,v.Q)(e.id))}))}))}))}}},{display:{categories:["Timeline"],hotkey:["Shift","Drag"],title:"Disable snapping",hideInHighlightedMode:!0}},{hotkey:"ArrowRight",display:{title:"Go to next frame",categories:["Timeline"],hotkey:["ArrowRight"]},action:e=>{e.preventDefault(),e.stopPropagation();const{ui:t,composition:s}=m.Z.getState().videoEditor;if(t.isPlaying)return;const o=1e3/s.settings.frameRate;let n=(0,T.q)()+o;const a=(0,r.vt)()?.contextKey;("INPAINT"===a||"MASK"===a)&&(n=(0,v.pF)(n)),m.Z.dispatch((0,d.n4)(n,"ROUND"))}},{hotkey:"ArrowLeft",display:{title:"Go to previous frame",categories:["Timeline"],hotkey:["ArrowLeft"]},action:e=>{e.preventDefault(),e.stopPropagation();const{ui:t,composition:s}=m.Z.getState().videoEditor;if(t.isPlaying)return;const o=1e3/s.settings.frameRate;let n=(0,T.q)()-o;const a=(0,r.vt)()?.contextKey;("INPAINT"===a||"MASK"===a)&&(n=(0,v.pF)(n)),m.Z.dispatch((0,d.n4)(n,"ROUND"))}},{display:{title:"Pan command",categories:["Preview"],hotkey:["H","Drag"]}},{hotkey:"T",display:{title:"Add Text",categories:["Preview"],hotkey:["T"],hideInHighlightedMode:!0},action:e=>{e.preventDefault(),e.stopPropagation(),M()||(0,u.w)((()=>{const e=(0,w._A)({composition:m.Z.getState().videoEditor.composition}),t=(0,T.q)(),s=(0,_.No)(e,t);m.Z.dispatch((0,r.gM)(e,0)),m.Z.dispatch({type:"ui/SET_LAST_SELECTED_TEXT_LAYER_ID",layerId:e.id}),m.Z.dispatch({type:"composition/UPDATE_LAYER_DURATION",layerId:e.id,startMs:s.startMs,endMs:s.endMs}),s.shouldSplice?m.Z.dispatch({type:"composition/INSERT_LAYER_AT_TRACK_INDEX",layerId:e.id,trackIndex:s.trackIndex}):m.Z.dispatch({type:"composition/UPDATE_LAYER_TRACK_INDEX",layerId:e.id,trackIndex:s.trackIndex})}))}},{hotkey:"S",display:{title:"Add Solid",categories:["Preview"],hotkey:["S"],hideInHighlightedMode:!0},action:e=>{e.preventDefault(),e.stopPropagation(),M()||(0,u.w)((()=>{const e=(0,w.yD)({composition:m.Z.getState().videoEditor.composition}),t=(0,T.q)(),s=(0,_.No)(e,t);m.Z.dispatch((0,r.gM)(e,0)),m.Z.dispatch({type:"composition/UPDATE_LAYER_DURATION",layerId:e.id,startMs:s.startMs,endMs:s.endMs}),s.shouldSplice?m.Z.dispatch({type:"composition/INSERT_LAYER_AT_TRACK_INDEX",layerId:e.id,trackIndex:s.trackIndex}):m.Z.dispatch({type:"composition/UPDATE_LAYER_TRACK_INDEX",layerId:e.id,trackIndex:s.trackIndex})}))}},{hotkey:"M",display:{title:"Move command",categories:["Preview"],hotkey:["M"],hideInHighlightedMode:!0},action:e=>{if(e.preventDefault(),e.stopPropagation(),M())return;const t=(0,r.vt)();t&&I.Dx[t.contextKey]||m.Z.dispatch({type:"ui/SELECT_COMMAND",name:"MOVE"})}},{display:{title:"Zoom",categories:["Preview"],hotkey:["Control","Mouse"]}},{hotkey:"+",display:{title:"Zoom timeline in",categories:["Timeline"],hotkey:["+"]},sequelOnly:!0,action:{down:()=>{m.Z.dispatch((0,d.uW)("IN"))},up:()=>null}},{hotkey:"=",sequelOnly:!0,action:{down:()=>{m.Z.dispatch((0,d.uW)("IN"))},up:()=>null}},{hotkey:"-",sequelOnly:!0,display:{title:"Zoom timeline out",categories:["Timeline"],hotkey:["-"]},action:{down:()=>{m.Z.dispatch((0,d.uW)("OUT"))},up:()=>null}},{hotkey:"_",sequelOnly:!0,action:{down:()=>{m.Z.dispatch((0,d.uW)("OUT"))},up:()=>null}},{hotkey:"Shift,1",display:{title:"Zoom to 100%",categories:["Preview"],hotkey:["Shift","1"]},action:{down:(e,t)=>{let{previewStage:s}=t;E(e,s,1)},up:()=>null}},{hotkey:"Shift,2",display:{title:"Zoom to 200%",categories:["Preview"],hotkey:["Shift","2"]},action:{down:(e,t)=>{let{previewStage:s}=t;E(e,s,2)},up:()=>null}},{hotkey:"Shift,F",display:{title:"Zoom to fit",categories:["Preview"],hotkey:["Shift","F"]},action:{down:(e,t)=>{let{previewContainer:s}=t;e.preventDefault(),e.stopPropagation(),s?.current&&(0,p.fT)(s.current)(m.Z.dispatch,m.Z.getState)},up:()=>null}},{hotkey:"F",display:{title:"Bring to front",categories:["Preview"],hotkey:["F"],hideInHighlightedMode:!0},action:{down:e=>{if(M())return;e.preventDefault(),e.stopPropagation();const t=(0,r.Iz)();if(!t||"PIXEL"!==(0,_.ZZ)(t.type))return;const{trackIndex:s,isNewTrack:o}=(0,_.Wp)(t);(0,u.w)((()=>{m.Z.dispatch({type:"composition/BRING_LAYER_TO_FRONT",layerId:t.id,trackIndex:s,createNewTrack:o})}))},up:()=>null}},{hotkey:"B",display:{title:"Send to back",categories:["Preview"],hotkey:["B"],hideInHighlightedMode:!0},action:{down:e=>{if(M())return;e.preventDefault(),e.stopPropagation();const t=(0,r.Iz)();if(!t||"PIXEL"!==(0,_.ZZ)(t.type))return;const s=(0,_.qn)(t);(0,u.w)((()=>{m.Z.dispatch({type:"composition/BRING_LAYER_TO_BACK",layerId:t.id,trackIndex:s})}))},up:()=>null}},{hotkey:{mac:"Meta,S",nonMac:"Control,S"},action:e=>{e.preventDefault(),m.Z.dispatch((0,c.J9)(!0))}},{hotkey:{mac:"Meta,A",nonMac:"Control,A"},display:{title:"Select All",categories:["Global"],hideInHighlightedMode:!0,hotkey:{mac:["Meta","A"],nonMac:["Control","A"]}},action:()=>{if(M())return;const e=Object.keys(m.Z.getState().videoEditor.composition.layers);m.Z.dispatch({type:"ui/SELECT_LAYERS",layerIds:e}),e.length>1&&m.Z.dispatch({type:"ui/SET_IS_ANIMATING",value:!1})}},{hotkey:"Escape",display:{title:"Deselect All",categories:["Global"],hideInHighlightedMode:!0,hotkey:["esc"]},action:()=>{M()||m.Z.dispatch({type:"ui/DESELECT_LAYERS"})}}],E=(e,t,s)=>{e.preventDefault(),e.stopPropagation();const o=m.Z.getState().videoEditor.ui.viewport;(0,p.km)({newScale:s,previewStage:t,viewport:o},m.Z.dispatch)},S=()=>(e,t)=>{const s=t(),{ui:o,composition:n}=s.videoEditor;if(o.lockedPlayhead)return;const a=o.selection.LAYER;if((0,j.Ad)()){if(!a)return;const e=(0,r.Iz)();if("VIDEO"!==e?.type)return}if(n?.layers.length<=0)return;const i=o.isPlaying,c=o.isLoading;i?(e({type:"ui/PAUSE"}),e((0,d.n4)((0,T.q)(),"ROUND"))):e({type:"ui/PLAY"}),(0,h.L)({event:"Keypress",name:"Preview Mask Video - "+(i?"PAUSE":"PLAY"),section:"Green Screen"});const p=(0,r.vt)(s);if(p&&"MASK"===p.contextKey){const t={isPlaying:i,isLoading:c,selectedLayer:n.layers[a],editContext:p};e((0,l.dY)(t))}},A=(0,k.R)(C),M=()=>{const e=(0,r.mv)();return(0,j.lf)(e)||(0,j.Ad)()}},"./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/EffectsControl/EffectProperty/EffectPropertyTypes/Percentage.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-redux/es/index.js"),a=s("./app/utils/number.ts"),i=s("./app/components/Prefabs/Block.tsx"),r=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),l=s("./app/utils/video-editor/keyframe.ts"),c=s("./app/utils/video-editor/hooks/useLayer.ts"),d=s("./app/utils/hooks/useUndoableOnChangeCallback.ts"),p=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),u=s("./app/utils/hooks/useSelector.ts"),m=s("./app/utils/video-editor/hooks/useIsViewOnlyUser.ts"),h=s("./node_modules/react/jsx-runtime.js");const g=e=>{let{effect:t,effectConfig:s,property:g,selectedLayerId:f,rowSize:y,handleChangeCustom:x}=e;const v=(0,m.Z)(),b=(0,n.I0)(),w=(0,c.Z)(f,(e=>e?e.startMs:0)),_=(0,l.oq)(t.values[g],-w,!1),{displayValue:I,unmap:T,displayMin:j,displayMax:k,displayStep:C}=((e,t)=>{const{min:s,max:n}=t,{min:i,max:r,step:l}=t.display||t,c=(0,o.useMemo)((()=>(0,a.KK)(e,s,n,i,r)),[e,s,n,i,r]),d=(0,o.useCallback)((e=>(0,a.KK)(e,s,n,i,r)),[s,n,i,r]);return{displayValue:c,displayMin:i,displayMax:r,displayStep:l,unmap:e=>(0,a.KK)(e,i,r,s,n),map:d}})(_,{...s[g].config,display:{min:0,max:100,step:1}}),E=(0,d.Z)((e=>{x?x(g,T(e)):(t.enabled||b({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:f}),b({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,value:T(e),layerId:f,property:g,timeMs:(0,p.q)()}))}),[t,T,f,g]),S=(0,u.Z)((e=>e.videoEditor.ui.isPlaying));return(0,h.jsx)(i.JX,{size:y,children:(0,h.jsx)(i.X2,{grow:!0,alignCenterVertical:!0,alignRight:!0,gutter:4,children:(0,h.jsx)(i.JX,{maxWidth:64,children:(0,h.jsx)(r.Z,{grow:!0,min:j,max:k,step:C,value:I,indicator:"%",onChange:E,uncontrolled:!0,disabled:S||v})})})})}},"./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/EffectsControl/EffectProperty/EffectPropertyTypes/index.tsx":(e,t,s)=>{"use strict";s.d(t,{O:()=>L,Z:()=>R});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/tinycolor2/tinycolor.js"),i=s.n(a),r=s("./app/utils/color.ts"),l=s("./app/utils/hooks/useSafeState.ts"),c=s("./app/utils/hooks/useUndoableOnChangeCallback.ts"),d=s("./app/utils/video-editor/hooks/useIsViewOnlyUser.ts"),p=s("./app/utils/video-editor/hooks/useLayer.ts"),u=s("./app/utils/video-editor/keyframe.ts"),m=s("./app/components/Prefabs/Block.tsx"),h=s("./app/components/Prefabs/ColorPicker/ColorPicker.tsx"),g=s("./app/components/Prefabs/TextInput/TextInput.tsx"),f=s("./app/components/Views/VideoTools/VideoEditor/ScenePanel/ScenePanel.tsx"),y=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),x=s("./node_modules/react/jsx-runtime.js");const v=e=>{let{effect:t,effectConfig:s,property:a,selectedLayerId:v,rowSize:b}=e;const w=(0,n.I0)(),_=s[a],I=(0,p.Z)(v,(e=>e?e.startMs:0)),T=(0,u.oq)(t.values[a],-I,!1),j=(0,o.useMemo)((()=>"color"===_?.config.type?(0,r.Dh)(T):null),[T,_?.config.type]),[k,C]=(0,l.Z)(j);(0,o.useEffect)((()=>{"color"===_?.config.type&&C((0,r.Dh)(T))}),[T,_?.config.type,C]);const E=(0,c.Z)((()=>{i()(k).isValid()?(t.enabled||w({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:v}),w({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,property:a,value:(0,r.hT)(k),layerId:v,timeMs:(0,y.q)()})):C(j)}),[k,j]),S=(0,c.Z)((e=>{let{hex:s}=e;C(s),t.enabled||w({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:v}),w({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,property:a,value:(0,r.hT)(s),layerId:v,timeMs:(0,y.q)()})}),[t,a,v]),A=(0,d.Z)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(m.JX,{size:b,children:(0,x.jsxs)(m.X2,{grow:!0,alignCenterVertical:!0,gutter:4,children:[(0,x.jsx)(m.JX,{size:4,maxWidth:42,children:(0,x.jsx)(h.Z,{color:k,triggerOffset:f.tA+32,title:"Color",onChange:S,presetColors:["#00b140","#0048bb"],showColorEyeDropper:!0,readOnly:A})}),(0,x.jsx)(m.JX,{size:8,grow:!0,children:(0,x.jsx)(g.Z,{grow:!0,value:(k||"").toUpperCase(),onChange:C,onBlur:E,indicator:"Hex",readOnly:A})})]})})})};var b=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),w=s("./app/components/Prefabs/SliderRow.tsx"),_=s("./app/utils/hooks/useSelector.ts"),I=s("./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/useMappedConfig.ts");const T=e=>{let{effect:t,effectConfig:s,property:o,selectedLayerId:a,rowSize:i}=e;const r=(0,n.I0)(),l=(0,p.Z)(a,(e=>e?e.startMs:0)),d=(0,u.oq)(t.values[o],-l,!1),{displayValue:h,unmap:g,displayMin:f,displayMax:v,step:T}=(0,I.Z)(d,s[o].config),j=(0,c.Z)((e=>{t.enabled||r({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:a}),r({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,value:g(e),layerId:a,property:o,timeMs:(0,y.q)()})}),[t,g,a,o]),k=(0,_.Z)((e=>e.videoEditor.ui.isPlaying));return(0,x.jsx)(m.JX,{size:i,children:(0,x.jsxs)(m.X2,{grow:!0,alignCenterVertical:!0,gutter:4,children:[(0,x.jsx)(m.JX,{size:4,maxWidth:42,minHeight:24,children:(0,x.jsx)(b.Z,{grow:!0,max:v,min:f,step:T??.01,value:h,indicator:"",onChange:j,disabled:k})}),(0,x.jsx)(m.JX,{size:8,minHeight:24,grow:!0,children:(0,x.jsx)(w.Z,{max:v,min:f,step:T??.01,value:h,onChange:j,disabled:k})})]})})};var j=s("./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/EffectsControl/EffectProperty/EffectPropertyTypes/Percentage.tsx"),k=s("./app/reducers/video-editor/history.ts"),C=s("./app/components/Prefabs/Dropdown/Dropdown.tsx");const E=e=>{let{effect:t,effectConfig:s,property:o,selectedLayerId:a,rowSize:i}=e;const r=(0,n.I0)();return(0,x.jsx)(m.JX,{size:i,children:(0,x.jsx)(m.X2,{grow:!0,alignCenterVertical:!0,gutter:4,children:(0,x.jsx)(C.Z,{items:s[o].config.options.map((e=>({title:e}))),value:s[o].config.options[t.values[o].value],onChange:e=>{(0,k.w)((()=>{t.enabled||r({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:a}),r({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,value:s[o].config.options.findIndex((t=>t===e.title)),layerId:a,property:o,timeMs:(0,y.q)()})}))}})})})};var S=s("./app/components/Prefabs/Checkbox.tsx");const A=e=>{let{effect:t,property:s,selectedLayerId:o,rowSize:a}=e;const i=(0,n.I0)();return(0,x.jsx)(m.JX,{size:a,children:(0,x.jsx)(m.X2,{grow:!0,alignCenterVertical:!0,gutter:4,alignRight:!0,children:(0,x.jsx)(S.Z,{grayUnCheckedStyle:!0,withPadding:!0,label:"",checked:t.values[s].value,onChange:e=>{(0,k.w)((()=>{t.enabled||i({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:o}),i({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,value:e.target.checked,layerId:o,property:s,timeMs:(0,y.q)()})}))}})})})};var M=s("./app/utils/number.ts"),P=s("./app/components/Prefabs/IconButton.tsx"),N=s("./app/devoe/themeDark.ts");const D=(e,t)=>{const{min:s,max:n}=t,{min:a,max:i}=t.display||t;return{displayValue:(0,o.useMemo)((()=>(0,M.KK)(e,s,n,a,i)),[e,s,n,a,i]),displayMin:a,displayMax:i,unmap:e=>(0,M.KK)(e,a,i,s,n)}},O=e=>{let{effect:t,effectConfig:s,property:a,selectedLayerId:i,rowSize:r}=e;const l=(0,n.I0)(),d=(0,p.Z)(i,(e=>e?e.startMs:0)),h=(0,u.oq)(t.values[a],-d,!1),g=(0,_.Z)((e=>e.videoEditor.ui.isPlaying)),{displayValue:f,unmap:v,displayMin:w,displayMax:I}=D(h[0],s[a].config),{displayValue:T,unmap:j,displayMin:k,displayMax:C}=D(h[1],s[a].config),E=(0,_.Z)((e=>e.videoEditor.ui.layerViewportEffects[i])),S=(0,o.useMemo)((()=>E&&E.effectId===t.id&&E.property===a),[E,a,t.id]),A=(0,c.Z)((e=>{t.enabled||l({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:i});const[,s]=(0,u.Gy)(t.values[a],(0,y.q)()-d);l({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,value:[v(e),s],layerId:i,property:a,timeMs:(0,y.q)()})}),[t,v,i,a,d]),M=(0,c.Z)((e=>{t.enabled||l({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:i});const[s]=(0,u.Gy)(t.values[a],(0,y.q)()-d);l({type:"composition/UPDATE_EFFECT_VALUE",effectId:t.id,value:[s,j(e)],layerId:i,property:a,timeMs:(0,y.q)()})}),[t,j,i,a,d]);return(0,x.jsx)(m.JX,{size:r,children:(0,x.jsxs)(m.X2,{grow:!0,alignCenterVertical:!0,gutter:4,children:[(0,x.jsx)(m.JX,{grow:!0,minHeight:24,children:(0,x.jsx)(b.Z,{grow:!0,max:I,min:w,step:.01,value:f,indicator:"",onChange:A,uncontrolled:!0,disabled:g})}),(0,x.jsx)(m.JX,{grow:!0,minHeight:24,children:(0,x.jsx)(b.Z,{grow:!0,max:C,min:k,step:.01,value:T,indicator:"",onChange:M,uncontrolled:!0,disabled:g})}),(0,x.jsx)(m.JX,{children:(0,x.jsx)(m.X2,{size:12,span:12,minWidth:24,maxWidth:24,minHeight:24,children:(0,x.jsx)(P.Z,{icon:S?"editor/layers-panel/visible":"editor/layers-panel/hidden",iconColor:S?N.Z.colors.green:N.Z.colors.white,onClick:e=>{e.stopPropagation(),S||t.enabled||l({type:"composition/ENABLE_EFFECT",effectId:t.id,enabled:!0,layerId:i}),l({type:"ui/SET_LAYER_VIEWPORT_EFFECT",layerId:i,payload:S?null:{effectId:t.id,property:a}})}})})})]})})},L={angle:T,color:v,number:T,option:E,percentage:j.Z,toggle:A,xy:O},R=e=>{let{effect:t,effectConfig:s,property:o,selectedLayerId:n,rowSize:a}=e;const i=L[s[o].config.type];return i?(0,x.jsx)(i,{effect:t,effectConfig:s,property:o,selectedLayerId:n,rowSize:a}):null}},"./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/LayerPropertiesPanelTooltip.tsx":(e,t,s)=>{"use strict";s.d(t,{A:()=>a,Z:()=>i});s("./node_modules/react/index.js");var o=s("./app/components/Prefabs/ShortcutTooltip.tsx"),n=s("./node_modules/react/jsx-runtime.js");const a={side:"top",collisionPadding:{right:16}},i=e=>{let{children:t,...s}=e;return(0,n.jsx)(o.ZP,{...s,...a,children:t})}},"./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/useMappedConfig.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./node_modules/react/index.js"),n=s("./app/utils/number.ts");const a=(e,t)=>{const{min:s,max:a,step:i}=t,{min:r,max:l}=t.display||t,c=(0,o.useMemo)((()=>{return t=(0,n.KK)(e,s,a,r,l),Math.round(100*(t+Number.EPSILON))/100;var t}),[e,s,a,r,l]),d=(0,o.useCallback)((e=>(0,n.KK)(e,s,a,r,l)),[s,a,r,l]);return{displayValue:c,displayMin:r,displayMax:l,unmap:e=>(0,n.KK)(e,r,l,s,a),map:d,step:i}}},"./app/components/Views/VideoTools/VideoEditor/Modals/GenZUpsellModal/GenZUpsellModal.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var o=s("./app/actions/flash.ts"),n=s("./app/api/hooks/useBillingProducts.ts"),a=s("./app/api/hooks/useStripeRedirect.ts"),i=s("./app/components/Prefabs/Button.tsx"),r=s("./app/components/Prefabs/Icon/Icon.tsx"),l=s("./app/components/UpgradeDialog/UpgradeDialogContext.tsx"),c=s("./app/constants/media.ts"),d=s("./app/utils/hooks/useMediaQuery.ts"),p=s("./node_modules/@sentry/core/esm/exports.js"),u=s("./node_modules/react/index.js"),m=s("./node_modules/react-redux/es/index.js"),h=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=s("./app/components/Prefabs/Block.tsx"),f=s("./app/components/Prefabs/DisableKeyboardEvents.tsx"),y=s("./app/components/Prefabs/Modal.tsx"),x=s("./app/components/Prefabs/Text.tsx"),v=s("./app/components/Views/MagicTools/utils.ts");const b={gen1:(0,v.sN)("Gen-1"),gen2:(0,v.sN)("Gen-2"),unlimitedPlan:"Unlimited Plan"};var w=s("./node_modules/react/jsx-runtime.js");const _=`${c.yI}app/magic-tools/banner/banner.jpg`,I=`${c.yI}gen-1/upsell-modal.mp4`,T=`${c.yI}app/magic-tools/gen2/Gen2+Upgrade+Flow.mp4`,j=`${c.yI}app/magic-tools/gen2/Gen2+Upgrade+Flow.jpg`,k={gen1:I,gen2:T,unlimitedPlan:T},C={gen1:_,gen2:j,unlimitedPlan:j},E=e=>{let{onHide:t,teamId:s,costCalculationFeatureName:i="gen1",uiContextSuffix:r}=e;const[c,x]=(0,u.useState)("yearly"),v=`${l.KV.GenZTailoredUpsellDialog}-${i}`;let b=v;r&&(b=`${v}-${r}`);const _=(0,l.rz)(),I=()=>{_({uiContext:b})},T=(0,u.useContext)(h.Ni),{data:j}=(0,n.z)({teamPlans:!0},{suspense:!0}),E=j.products.filter((e=>"Standard"===e.name))[0],N=j.products.filter((e=>"Unlimited"===e.name))[0],D="unlimitedPlan"===i?N:E,$=(0,u.useMemo)((()=>"yearly"===c?`Get ${D.name} Yearly`:`Get ${D.name} Monthly`),[c,D.name]),W=(0,a.w)(s,{suspense:!0},b),H=(0,m.I0)(),Y=(0,d.dD)(),X=(0,u.useCallback)((async e=>{try{await W("yearly"===c?e.billingPlans.yearly:e.billingPlans.monthly)}catch(e){(0,p.Tb)(e),console.error(e),H((0,o.showFlash)({message:"Something went wrong. Please try again or contact support.",type:"WARNING"}))}}),[c,H,W]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f.Z,{permittedKeys:["Escape"]}),(0,w.jsx)(S,{onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),size:12,span:12,alignCenter:!0,"aria-label":"Shortcut Modal",children:Y?(0,w.jsxs)(G,{minWidth:320,maxWidth:320,minHeight:660,maxHeight:660,gutter:0,blackBackground:!0,children:[(0,w.jsx)(F,{children:(0,w.jsx)(L,{icon:"general/close",color:T.colors.white,size:12,onClick:t,isMobile:Y,containerStyle:{position:"relative"}})}),(0,w.jsxs)(g.JX,{children:[(0,w.jsxs)(g.X2,{maxWidth:320,minWidth:320,minHeight:183,maxHeight:183,children:[(0,w.jsx)(O,{inverted:!0}),(0,w.jsxs)(A,{autoPlay:!Y,playsInline:!0,loop:!0,muted:!0,controls:!1,preload:"auto",poster:C[i],width:320,children:[(0,w.jsx)("source",{src:k[i],type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos."]}),(0,w.jsx)(O,{})]}),(0,w.jsx)(g.X2,{pad:[16,0],children:(0,w.jsx)(P,{value:c,onChange:x,isMobile:Y})}),(0,w.jsx)(g.X2,{maxWidth:320,alignCenterVertical:!0,pad:0,style:{margin:"0 24px"},children:(0,w.jsx)(R,{isMobile:Y,costCalculationFeatureName:i})}),(0,w.jsx)(g.X2,{maxWidth:320,children:(0,w.jsx)(Z,{isMobile:Y,billingCycle:c,product:D,costCalculationFeatureName:i})}),(0,w.jsx)(g.X2,{pad:[0,24],minWidth:272,style:{marginTop:-8},children:(0,w.jsx)(U,{message:$,isMobile:Y,onClick:()=>X(D)})}),(0,w.jsx)(g.X2,{minHeight:56,children:(0,w.jsx)(z,{isMobile:Y,onClick:I})})]})]}):(0,w.jsx)(y.Z,{minWidth:736,maxWidth:736,minHeight:482,maxHeight:482,gutter:0,blackBackground:!0,children:(0,w.jsxs)(g.X2,{children:[(0,w.jsx)(V,{minHeight:482,maxHeight:482,maxWidth:368,minWidth:368,children:(0,w.jsxs)(M,{autoPlay:!Y,playsInline:!0,loop:!0,muted:!0,controls:!1,preload:"auto",poster:C[i],children:[(0,w.jsx)("source",{src:k[i],type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos."]})}),(0,w.jsxs)(g.JX,{minWidth:368,maxWidth:368,minHeight:482,children:[(0,w.jsx)(L,{icon:"general/close",color:T.colors.white,size:12,onClick:t,isMobile:Y}),(0,w.jsx)(B,{maxHeight:24,minHeight:24}),(0,w.jsx)(g.X2,{style:{marginBottom:0},children:(0,w.jsx)(P,{value:c,onChange:x,isMobile:Y})}),(0,w.jsx)(g.X2,{maxWidth:368,alignCenterVertical:!0,style:{margin:"0 32px"},children:(0,w.jsx)(R,{isMobile:Y,costCalculationFeatureName:i})}),(0,w.jsx)(g.X2,{maxWidth:336,style:{marginBottom:2},children:(0,w.jsx)(Z,{isMobile:Y,billingCycle:c,product:D,costCalculationFeatureName:i})}),(0,w.jsx)(g.X2,{pad:[0,22],minWidth:308,children:(0,w.jsx)(U,{message:$,isMobile:Y,onClick:()=>X(D)})}),(0,w.jsx)(g.X2,{minHeight:56,children:(0,w.jsx)(z,{isMobile:Y,onClick:I})})]})]})})})]})},S=(0,h.ZP)(g.JX).withConfig({displayName:"GenZUpsellModal__WrapperInner",componentId:"sc-1c6ske8-0"})(["pointer-events:none;@media only screen and (max-width:1024px){width:100vw;height:100vh;background-color:",";::-webkit-scrollbar-thumb{border-radius:0;}}"],(e=>e.theme.colors.black)),A=h.ZP.video.withConfig({displayName:"GenZUpsellModal__BannerVideo",componentId:"sc-1c6ske8-1"})(["object-fit:cover;height:100%;"]);var M=(0,h.ZP)(A).withConfig({displayName:"GenZUpsellModal___StyledBannerVideo",componentId:"sc-1c6ske8-2"})(["border-top-left-radius:8px;border-bottom-left-radius:8px;"]);const P=e=>{let{value:t,onChange:s,isMobile:o}=e;const n=(0,u.useCallback)((()=>{s("monthly"===t?"yearly":"monthly")}),[s,t]);return(0,w.jsxs)(N,{isMobile:o,children:[(0,w.jsx)(D,{"data-active":"monthly"===t,onClick:n,children:"Monthly"}),(0,w.jsx)(D,{"data-active":"yearly"===t,onClick:n,children:"Annual-20% off"})]})},N=h.ZP.div.withConfig({displayName:"GenZUpsellModal__FrequencySwitchContainer",componentId:"sc-1c6ske8-3"})(["background-color:",";box-sizing:border-box;min-height:24px;width:204px;display:flex;border-radius:40px;padding:2px;margin-left:",";"],(e=>e.theme.colors.grayscale.gray10),(e=>e.isMobile?"24px":"32px")),D=h.ZP.button.withConfig({displayName:"GenZUpsellModal__FrequencySwitchButton",componentId:"sc-1c6ske8-4"})(["border:none;cursor:pointer;background-color:transparent;font-size:",";line-height:",";color:",";border-radius:40px;width:100%;text-align:center;transition:background-color 0.2s ease-in-out;&[data-active='true']{background-color:",";color:",";}&:focus-visible{outline:2px solid ",";}"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.theme.colors.textInactive),(e=>e.theme.colors.uiInactive),(e=>e.theme.colors.textPrimary),(e=>e.theme.colors.primary)),O=h.ZP.div.withConfig({displayName:"GenZUpsellModal__BannerShadow",componentId:"sc-1c6ske8-5"})(["width:320px;height:63px;position:absolute;",";background:",";",""],(e=>!e.inverted&&"margin-top: 120px"),(e=>e.inverted?"linear-gradient(to top, rgba(58, 81, 181, 0) 0%, #0e0e0e 100%)":"linear-gradient(to top, #0e0e0e 0%, rgba(58, 81, 181, 0) 100%)"),(e=>!e.inverted&&"\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n    ")),L=(0,h.ZP)(r.Z).withConfig({displayName:"GenZUpsellModal__StyledCloseIcon",componentId:"sc-1c6ske8-6"})(["position:",";top:",";",";margin:0;z-index:1000;"],(e=>e.isMobile?"absolute":"relative"),(e=>e.isMobile?"20px":"24px"),(e=>e.isMobile?"right: 20px;":"left: 146px")),R=e=>{let{isMobile:t,costCalculationFeatureName:s}=e;const o="unlimitedPlan"===s?"Get unlimited generations of Gen-1 and Gen-2":`Upgrade to Standard for more ${b[s]}`;return(0,w.jsx)(x.Z,{primary:!0,whiteUI:!0,lineHeight:35.2,style:{fontStyle:"normal",fontWeight:500,fontSize:32,marginTop:t?0:24},children:o})},Z=e=>{let{isMobile:t,billingCycle:s,product:o,costCalculationFeatureName:n}=e;const a=(0,u.useContext)(h.Ni),i=function(e,t){const s=`Credits (no rate restrictions) reset to ${t.features.numPlanCredits} at first of each month. Buy more as needed.`;return{gen1:["Upscale resolution & remove watermarks","Generate videos up to 15 seconds with standard framerate","Shorter wait times","Get 44 sec of generated video every month + buy more as needed"],gen2:["Upscale resolution","Remove watermarks","Shorter wait times","Get 125 sec of generated video every month + buy more as needed"],unlimitedPlan:[(0,v.sN)("Unlimited generations of Gen-1 and Gen-2 in Explore Mode at relaxed rate"),s,`${t.features.storageGB}GB assets and up to ${t.features.numEditorTeamMembers} editors`]}[e]}(n,o)||[],l=`$${o.prices.yearly} per editor per month. Billed yearly as $${12*o.prices.yearly}.`,c=`$${o.prices.monthly} per editor per month. Billed monthly.`;return(0,w.jsxs)(g.JX,{pad:t?16:[14,32],children:[(0,w.jsx)(g.X2,{pad:[2,0],children:(0,w.jsx)(x.Z,{lineHeight:16,style:{fontSize:12,fontWeight:400,color:a.colors.white,marginBottom:6,marginTop:t?-2:0},children:"monthly"==s?c:l})}),i.map(((e,t)=>(0,w.jsxs)(g.X2,{pad:[2,0],children:[(0,w.jsx)(r.Z,{icon:"recipes/gen1/modal-check",size:12,color:"white",background:!0}),(0,w.jsx)(x.Z,{lineHeight:16,style:{fontSize:12,fontWeight:400,color:a.colors.textSecondary},children:e})]},`upsell-text-${t}`)))]})},U=e=>{let{message:t,isMobile:s,onClick:o}=e;return(0,w.jsx)($,{textFontWeight:500,message:t,icon:"rocket",onClick:o,$_css:s?"272px":"308px"})},z=e=>{let{isMobile:t,onClick:s}=e;const o=(0,u.useContext)(h.Ni);return(0,w.jsx)(W,{onClick:s,noBackground:!0,textFontWeight:500,message:"View all plans & features",$_css2:!t&&"left: -8px;",$_css3:o.colors.primaryLight})};var V=(0,h.ZP)(g.JX).withConfig({displayName:"GenZUpsellModal___StyledCol",componentId:"sc-1c6ske8-7"})(["margin-right:0;"]),B=(0,h.ZP)(g.X2).withConfig({displayName:"GenZUpsellModal___StyledRow",componentId:"sc-1c6ske8-8"})(["margin-bottom:0;"]),G=(0,h.ZP)(y.Z).withConfig({displayName:"GenZUpsellModal___StyledModal",componentId:"sc-1c6ske8-9"})(["overflow:hidden;border-radius:0;"]),F=(0,h.ZP)("div").withConfig({displayName:"GenZUpsellModal___StyledDiv",componentId:"sc-1c6ske8-10"})(["height:0;"]),$=(0,h.ZP)(i.z).withConfig({displayName:"GenZUpsellModal___StyledButton",componentId:"sc-1c6ske8-11"})(["background:#6904e9;height:48px;margin-top:8px;max-width:",";& svg{height:16px;width:16px;}"],(e=>e.$_css)),W=(0,h.ZP)(i.z).withConfig({displayName:"GenZUpsellModal___StyledButton2",componentId:"sc-1c6ske8-12"})([""," margin:0 auto;top:-12px;& span{color:",";}"],(e=>e.$_css2),(e=>e.$_css3))},"./app/components/Views/VideoTools/VideoEditor/Preview/Layers/ShapeLayer/constants.ts":(e,t,s)=>{"use strict";s.d(t,{z:()=>o});const o=100},"./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerEffects.tsx":(e,t,s)=>{"use strict";s.d(t,{KJ:()=>d,ZP:()=>p,dn:()=>l});var o=s("./node_modules/react/index.js"),n=s("./node_modules/react-redux/es/index.js"),a=s("./app/utils/video-editor/hooks/useLayer.ts"),i=s("./app/utils/video-editor/keyframe.ts");const r=["text_drop_shadows"],l=(e,t)=>{const s=[];return e.effects.forEach((o=>{const n={};Object.keys(o.values).forEach((s=>{const a=o.values[s];n[s]={...a,value:(0,i.Gy)(a,t-e.startMs)}})),s.push({...o,values:n})})),s},c=e=>e.filter((e=>r.includes(e.name))),d=e=>{const t=(0,a.Z)(e,(e=>e?e.effects:[]));return(0,o.useMemo)((()=>c(t)),[t])},p=e=>{const t=(0,n.I0)(),s=(0,a.Z)(e,(e=>e?e.effects:[])),i=(0,a.Z)(e,(e=>!!e&&e.mask)),l=(0,o.useMemo)((()=>s.filter((e=>!i||!i.maskEffectIds||!r.includes(e.name)&&!i.maskEffectIds.includes(e.id)))),[s,i]),d=(0,o.useMemo)((()=>s.filter((e=>!(!i||!i.maskEffectIds)&&i.maskEffectIds.includes(e.id)))),[s,i]),p=(0,o.useMemo)((()=>c(s)),[s]),u=(0,o.useCallback)((s=>{t({type:"composition/UPDATE_EFFECTS",layerId:e,effects:[...s,...d,...p]})}),[d,e,t,p]);return{userEffects:l,maskEffects:d,textEffects:p,updateEffects:u}}},"./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts":(e,t,s)=>{"use strict";s.d(t,{CD:()=>m,GM:()=>b,M_:()=>_,ZP:()=>f,cf:()=>v,h_:()=>y,k:()=>w,ly:()=>u,qw:()=>h,s1:()=>g,wq:()=>x});var o=s("./node_modules/gl-matrix/esm/mat3.js"),n=s("./node_modules/react/index.js"),a=s("./app/gl2d/utils.ts"),i=s("./app/utils/hooks/useSafeState.ts"),r=s("./app/utils/video-editor/hooks/useCurrentTimeChange.ts"),l=s("./app/utils/video-editor/hooks/useSelectedLayersQuery.ts"),c=s("./app/utils/video-editor/keyframe.ts"),d=s("./app/utils/video-editor/parenting.ts"),p=s("./app/components/Views/VideoTools/VideoEditor/playback.ts");const u=e=>{const[t,s]=(0,i.Z)(null),[o,a]=(0,i.Z)(!1),c=(0,l.Z)((e=>e)),d=(0,n.useCallback)((n=>{let i=null,r=!1;for(const t of c){const s=h(t,n);if(s)if(null===i)i=s[e];else if(i!==s[e]){r=!0;break}}i!==t&&s(i),r!==o&&a(r)}),[s,e,a,t,o,c]);return(0,n.useEffect)((()=>d((0,p.q)())),[d]),(0,r.Z)(d),{value:t,hasMixedValues:o}},m=(e,t,s)=>{if(!e.transforms)return;const n=h(e,s??(0,p.q)());if("AUDIO"===e.type)return n;const i=o.d9((0,d.pq)(e,s??(0,p.q)(),!1));(0,d.wi)(e,(e=>{if("TRACKING"===e.type){const s=t?._getAllNodes()?.find((t=>t.layerId===e.id)),n=s?.getLocalMatrix();return void(n&&o.dC(i,n,i))}const n=(0,d.pq)(e,s??(0,p.q)(),!0);o.dC(i,n,i)}));const r=(0,d.am)(i),l={...r,rotation:(0,a.vi)(r.rotation)};return"VIDEO"===e.type?{...l,visible:n.visible,opacity:n.opacity,crop:n.crop,volume:n.volume}:{...l,visible:n.visible,opacity:n.opacity,crop:n.crop}},h=(e,t)=>{if(!e.transforms)return;const s=e.visible&&t>=e.startMs&&t<e.endMs,o=t-e.startMs,n=(0,c.Gy)(e.transforms.volume,o);if("AUDIO"===e.type)return{volume:n};const a=(0,c.Gy)(e.transforms.position,o),i=a?.x,r=a?.y,l=(0,c.Gy)(e.transforms.scale,o),d=l?.x/100,p=l?.y/100,u=(0,c.Gy)(e.transforms.opacity,o)/100,m=(0,c.Gy)(e.transforms.rotation,o),h=(0,c.Gy)(e.transforms.crop,o);if("VIDEO"===e.type)return{visible:s,x:i,y:r,scaleX:d,scaleY:p,opacity:u,rotation:m,volume:n,crop:h};if("SHAPE"!==e.type)return{visible:s,x:i,y:r,scaleX:d,scaleY:p,opacity:u,rotation:m,crop:h};switch(e.data.type){case"POLYGON":case"RECT":return{visible:s,x:i,y:r,scaleX:d,scaleY:p,opacity:u,rotation:m,crop:h,strokeWidth:(0,c.Gy)(e.transforms.strokeWidth,o),strokeColor:(0,c.Gy)(e.transforms.strokeColor,o),fillColor:(0,c.Gy)(e.transforms.fillColor,o),cornerInset:(0,c.Gy)(e.transforms.cornerInset,o)};case"ELLIPSE":return{visible:s,x:i,y:r,scaleX:d,scaleY:p,opacity:u,rotation:m,crop:h,strokeWidth:(0,c.Gy)(e.transforms.strokeWidth,o),strokeColor:(0,c.Gy)(e.transforms.strokeColor,o),fillColor:(0,c.Gy)(e.transforms.fillColor,o)};default:return{visible:s,x:i,y:r,scaleX:d,scaleY:p,opacity:u,rotation:m,crop:h}}},g=e=>{const{x:t,y:s,scaleX:o,scaleY:n,opacity:a,rotation:i,volume:r,crop:l,strokeWidth:c,strokeColor:d,fillColor:p,cornerInset:u}=e;return{position:{x:t,y:s},scale:{x:100*o,y:100*n},opacity:100*a,rotation:i,volume:r,crop:l,strokeWidth:c,strokeColor:d,fillColor:p,cornerInset:u}},f=function(e){const t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?(0,p.q)():e.startMs;return(0,n.useMemo)((()=>h(e,t)),[e,t])},y=function(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{withLayerSpeed:!0}).withLayerSpeed)return t.visible&&e>=t.startMs&&e<t.endMs;{const s=t.startMs+(t.endMs-t.startMs)*t.speed;return t.visible&&e>=t.startMs&&e<s}},x=e=>"FRAME_INTERPOLATION"===e.speedMode&&e.speed<1,v=e=>e.speed<.5,b=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{withLayerSpeed:!1,stream:"video"};const o=s.stream||"video";if(s.withLayerSpeed){if("audio"===o&&v(t)||"video"===o&&x(t)){let s=e-t.startMs+t.startOffsetMs/t.speed;return s=Math.max(t.startOffsetMs/t.speed,s),s=Math.min(s,t.endMs-t.startMs+t.startOffsetMs/t.speed),s/1e3}{let s=t.speed*(e-t.startMs)+t.startOffsetMs;return s=Math.max(t.startOffsetMs,s),s=Math.min(s,t.speed*(t.endMs-t.startMs)+t.startOffsetMs),s/1e3}}{let s=(e-t.startMs+t.startOffsetMs)/1e3;s=Math.max(t.startOffsetMs/1e3,s);const o=t.startMs+(t.endMs-t.startMs)*t.speed;return s=Math.min(s,(o-t.startMs+t.startOffsetMs)/1e3),s}},w=(e,t)=>(e-t.startOffsetMs)/t.speed+t.startMs,_=(e,t)=>t.startMs>e&&t.startMs-e<1e4},"./app/components/Views/VideoTools/VideoEditor/RefsContext.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,o:()=>a});var o=s("./node_modules/react/index.js");const n=(0,o.createContext)(null),a={timelineContainer:(0,o.createRef)(),timelineContainerDOMRect:(0,o.createRef)(),timelineHeaderContainer:(0,o.createRef)(),playhead:(0,o.createRef)(),headerContainer:(0,o.createRef)(),previewContainer:(0,o.createRef)(),previewStage:(0,o.createRef)(),layersPanelRowContainer:(0,o.createRef)(),tourContainer:(0,o.createRef)(),preloadCoordinator:(0,o.createRef)()},i=n},"./app/components/Views/VideoTools/VideoEditor/ScenePanel/ScenePanel.tsx":(e,t,s)=>{"use strict";s.d(t,{tA:()=>C,ZP:()=>S});var o=s("./app/components/Prefabs/Block.tsx"),n=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),a=s("./app/components/Prefabs/Panel.tsx"),i=s("./node_modules/react/index.js"),r=s("./node_modules/react-redux/es/index.js"),l=s("./app/components/Prefabs/ColorPicker/ColorPicker.tsx"),c=s("./app/components/Prefabs/DraggableNumberInput/DraggableNumberInput.tsx"),d=s("./app/components/Prefabs/Text.tsx"),p=s("./app/components/Prefabs/TextInput/TextInput.tsx"),u=s("./app/utils/color.ts"),m=s("./node_modules/tinycolor2/tinycolor.js"),h=s.n(m),g=s("./app/utils/hooks/useSafeState.ts"),f=s("./app/utils/hooks/useSelector.ts"),y=s("./app/components/Prefabs/InPlaceDropdown/ItemComponent/ItemWithHint.tsx"),x=s("./app/actions/video-editor/layers.ts"),v=s("./app/reducers/video-editor/history.ts"),b=s("./app/utils/video-editor/hooks/useIsViewOnlyUser.ts"),w=s("./app/components/Prefabs/InPlaceDropdown/InPlaceDropdown.tsx"),_=s("./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/LayerPropertiesPanelTooltip.tsx"),I=s("./node_modules/react/jsx-runtime.js");const T=[{title:"Full HD",value:"Full HD",hint:"1920 x 1080",dimension:{width:1920,height:1080}},{title:"IG Story",value:"IG Story",hint:"1080 x 1920",dimension:{width:1080,height:1920}},{title:"IG Post",value:"IG Post",hint:"1080 x 1080",dimension:{width:1080,height:1080}},{title:"2K Wide",value:"2K Wide",hint:"2048 x 1556",dimension:{width:2048,height:1556}},{title:"4K Wide",value:"4K Wide",hint:"3840 x 2160",dimension:{width:3840,height:2160}},{title:"4K Square",value:"4K Square",hint:"4096 x 4096",dimension:{width:4096,height:4096}}],j=()=>{const e=(0,f.Z)((e=>e.videoEditor.composition.settings.format)),t=(0,f.Z)((e=>e.videoEditor.composition.settings.width)),s=(0,f.Z)((e=>e.videoEditor.composition.settings.height)),n=(0,r.I0)(),a=(0,b.Z)(),l=(0,i.useCallback)((o=>{o.title!==e&&(0,r.dC)((()=>{(0,v.w)((()=>{n({type:"composition/UPDATE_SETTING",property:"format",value:o.title}),n({type:"composition/UPDATE_SETTING",property:"width",value:o.dimension.width}),n({type:"composition/UPDATE_SETTING",property:"height",value:o.dimension.height}),n((0,x.vM)((o.dimension.width-t)/2,(o.dimension.height-s)/2))}))}))}),[e,n,t,s]);return(0,I.jsx)(_.Z,{message:"Choose composition format",children:(0,I.jsx)(o.JX,{children:(0,I.jsx)(w.ZP,{items:T,onChange:e=>{const t=T.find((t=>{let{value:s}=t;return s===e}));t&&l(t)},value:e,readOnly:a,ItemComponent:y.Z})})})};var k=s("./app/utils/hooks/useUndoableOnChangeCallback.ts");const C=80,E=()=>{const e=(0,f.Z)((e=>e.videoEditor.composition.settings.backgroundColor)),t=(0,i.useMemo)((()=>(0,u.hq)(e)),[e]),[s,a]=(0,g.Z)(t),c=(0,r.I0)(),d=(0,k.Z)((e=>{c({type:"composition/UPDATE_SETTING",property:"backgroundColor",value:{...e.rgb}}),a(e.hex)}),[]),m=(0,k.Z)((()=>{const e=h()(s);e.isValid()?c({type:"composition/UPDATE_SETTING",property:"backgroundColor",value:{...e.toRgb()}}):a(t)}),[s,t]);(0,i.useLayoutEffect)((()=>{a((0,u.hq)(e))}),[e,a]);const y=(0,b.Z)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(_.Z,{message:"Adjust Color",children:(0,I.jsx)(o.JX,{size:2,children:(0,I.jsx)(l.Z,{color:t,onChange:d,triggerOffset:C+32,title:"Background",presetColors:n.CN,showColorEyeDropper:!0,readOnly:y})})}),(0,I.jsx)(_.Z,{message:"Adjust Color",children:(0,I.jsx)(o.JX,{size:10,children:(0,I.jsx)(p.Z,{grow:!0,value:(s||"").toUpperCase(),onChange:a,onBlur:m,indicator:"Hex",readOnly:y})})})]})},S=()=>{const e=(0,f.Z)((e=>e.videoEditor.composition.settings.width)),t=(0,f.Z)((e=>e.videoEditor.composition.settings.height)),s=(0,r.I0)(),i=(0,k.Z)((t=>{(0,r.dC)((()=>{s({type:"composition/UPDATE_SETTING",property:"width",value:t}),s({type:"composition/UPDATE_SETTING",property:"format",value:"Custom"}),s((0,x.vM)((t-e)/2,0))}))}),[e,t]),l=(0,k.Z)((e=>{(0,r.dC)((()=>{s({type:"composition/UPDATE_SETTING",property:"height",value:e}),s({type:"composition/UPDATE_SETTING",property:"format",value:"Custom"}),s((0,x.vM)(0,(e-t)/2))}))}),[e]),p=(0,b.Z)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.V,{minHeight:48,maxHeight:48,alignCenterVertical:!0,pad:16,children:(0,I.jsx)(d.Z,{xs:!0,medium:!0,noWrap:!0,noSelect:!0,children:"Scene"})}),(0,I.jsx)(o.X2,{pad:16,grow:!0,children:(0,I.jsxs)(o.JX,{grow:!0,gutter:4,children:[(0,I.jsxs)(o.X2,{alignCenterVertical:!0,children:[(0,I.jsx)(o.JX,{minWidth:C,children:(0,I.jsx)(d.Z,{xs:!0,color:"uiHoverable",noSelect:!0,children:"Format"})}),(0,I.jsx)(o.JX,{grow:!0,children:(0,I.jsx)(j,{})})]}),(0,I.jsxs)(o.X2,{alignCenterVertical:!0,children:[(0,I.jsx)(o.JX,{minWidth:C,children:(0,I.jsx)(d.Z,{xs:!0,color:"uiHoverable",noSelect:!0,children:"Size"})}),(0,I.jsx)(o.JX,{size:12,children:(0,I.jsxs)(o.X2,{gutter:4,children:[(0,I.jsx)(c.Z,{grow:!0,max:n.ZZ,min:n.cB,step:1,value:e,indicator:"W",onChange:i,ariaLabel:"Scene-Width",readOnly:p,tooltipProps:{..._.A,message:"Adjust composition width"}}),(0,I.jsx)(c.Z,{grow:!0,max:n.ZZ,min:n.cB,step:1,value:t,indicator:"H",onChange:l,ariaLabel:"Scene-Height",readOnly:p,tooltipProps:{..._.A,message:"Adjust composition height"}})]})})]}),(0,I.jsxs)(o.X2,{alignCenterVertical:!0,children:[(0,I.jsx)(o.JX,{minWidth:C,children:(0,I.jsx)(d.Z,{xs:!0,color:"uiHoverable",noSelect:!0,children:"Background"})}),(0,I.jsx)(o.JX,{alignRight:!0,size:12,children:(0,I.jsx)(o.X2,{span:12,children:(0,I.jsx)(E,{})})})]})]})})]})}},"./app/components/Views/VideoTools/VideoEditor/Timeline/Layer/dnd.ts":(e,t,s)=>{"use strict";s.d(t,{Au:()=>y,Bw:()=>w,Fe:()=>h,H2:()=>_,MM:()=>b,OL:()=>f,Py:()=>x,e9:()=>g,nq:()=>I,zu:()=>v});var o=s("./node_modules/react-redux/es/index.js"),n=s("./app/actions/video-editor/timeline.ts"),a=s("./app/store.ts"),i=s("./app/utils/number.ts"),r=s("./app/utils/clamp.ts"),l=s("./app/utils/video.ts"),c=s("./app/utils/video-editor/layer.ts"),d=s("./app/utils/video-editor/timeline.ts"),p=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),u=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),m=s("./app/components/Views/VideoTools/VideoEditor/Timeline/timeline-ticks.ts");const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=[];return e?(Object.values(e).forEach((e=>{if("TRACKING"!==e.type&&!t.includes(e.id)&&(s.push(e.startMs),s.push(e.endMs),e.data?.beatSnappingEnabled))for(const t of e.data.beatTimestamps||[]){const o=e.startMs-e.startOffsetMs/e.speed+t/e.speed*1e3;s.push((0,n.Yy)(o,"ROUND"))}})),s.reverse()):[]},g=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=!1,r=e;if("MICROSECOND"===(0,m.BX)((0,m.SZ)())&&(t=[]),t.length>0){const l=(0,i.ot)(e,t.map((e=>e-o)));if(Math.abs(e-l)>Math.abs(e-(0,i.Nm)(e,s))){r=(0,i.Nm)(e,s);const t=a.Z.getState().videoEditor.ui.timelineScale,o=(0,i.F0)(t,p.bc,p.dz,200,2);Math.abs(e-l)<o&&(r=l,n=!0)}else r=l,n=!0}else r=(0,i.Nm)(e,s);return{ms:Math.round(r+o),snapped:n}},f=e=>{const{composition:t}=a.Z.getState().videoEditor,s=t.settings.durationMs;return Math.min(Math.max(e,0),s)},y=e=>{const t=1e3*(0,l.Jm)();return(0,r.u)(e,0,t)},x=(e,t,s,o)=>{const{trackIndex:n,relativeY:i}=((e,t)=>{const s=a.Z.getState().videoEditor.composition.tracks,o=t.findIndex((t=>e>=t.top&&e<=t.bottom)),n=t[o];if(n){const{top:t,bottom:s}=n;return{trackIndex:o,relativeY:(e-t)/(s-t)}}{if(e<0){const{top:s,bottom:o}=t[0];return{trackIndex:0,relativeY:(e-s)/(o-s)}}const{top:o,bottom:n}=t[s.length-1],a=(e-o)/(n-o);return{trackIndex:s.length-1,relativeY:a}}})(e,s),[r,l]=(0,d.WW)(a.Z.getState(),t),c=Math.max(Math.min(n,l),r);if(c!==n||i<0||i>1){if(i<0||c>n)return{spliceTrackIndex:c,trackIndex:c};if(i>1||c<n)return{spliceTrackIndex:c+1,trackIndex:c}}return o&&0===c&&i<=.15?{spliceTrackIndex:0,trackIndex:0}:{trackIndex:c,spliceTrackIndex:null}},v=e=>{let{startMs:t,endMs:s,constrainToCompositionDuration:o=!0,shouldSnap:n=!1,excludeLayerIds:i=[]}=e;const{composition:r}=a.Z.getState().videoEditor,l=1e3/r.settings.frameRate,c=(0,u.q)(),d=n?[...h(r.layers,i),c]:[],{ms:p,snapped:m}=g(t,d,l),{ms:f,snapped:y}=g(s,d,l),x=s-t,v=o?r.settings.durationMs-x:1/0;if(m){const e=Math.min(Math.max(p,0),v);return{startMs:e,snapMsValues:y?[e,e+x]:[e]}}if(y){const e=f;return{startMs:Math.min(Math.max(e-x,0),v),snapMsValues:[e]}}return{startMs:Math.min(Math.max(p,0),v),snapMsValues:[]}},b=e=>{let{startMs:t,endMs:s,trackIndex:o,excludeLayerIds:n=[]}=e;const{tracks:i,layers:r}=a.Z.getState().videoEditor.composition,l=i[o];if(!l)return[];return l.layers.filter((e=>{const o=r[e];return!!o&&(!n.includes(o.id)&&(Math.round(t)<Math.round(o.endMs)&&Math.round(s)>Math.round(o.startMs)))}))},w=e=>{let{startMs:t,endMs:s,trackIndex:n,excludeLayerIds:a=[]}=e;return(e,i)=>{const{layers:r}=i().videoEditor.composition;b({startMs:t,endMs:s,excludeLayerIds:a,trackIndex:n}).forEach((n=>{const a=r[n];if(a.startMs>=t&&a.endMs<=s)return e((0,c.Q)(a.id));if(a.startMs<t&&a.endMs<s){if(t-a.startMs<=0)return e((0,c.Q)(a.id));e({type:"composition/UPDATE_LAYER_DURATION",layerId:a.id,endMs:t})}if(a.startMs>t&&a.endMs>s){if(a.endMs-s<=0)return e((0,c.Q)(a.id));e({type:"composition/UPDATE_LAYER_DURATION",layerId:a.id,startMs:s,startOffsetMs:a.startOffsetMs+(s-a.startMs)})}a.startMs<t&&a.endMs>s&&(0,o.dC)((()=>{const o=t-a.startMs,n=a.endMs-s;if(n>0&&e((0,c.b7)(a,{startMs:s,startOffsetMs:a.startOffsetMs+(s-a.startMs)})),o<=0)return e((0,c.Q)(a.id));e({type:"composition/UPDATE_LAYER_DURATION",layerId:a.id,endMs:t})}))}))}},_=e=>!e.lock&&"ANIMATOR"!==e.type,I=e=>!e.lock},"./app/components/Views/VideoTools/VideoEditor/Timeline/timeline-ticks.ts":(e,t,s)=>{"use strict";s.d(t,{BX:()=>u,Jf:()=>n,RH:()=>d,SZ:()=>p,um:()=>a});var o=s("./app/store.ts");const n=5e3,a=66,i=5,r=50,l=300,c=1e4,d={TEN_MINUTE:{dot:12e4,label:6e5},MINUTE:{dot:12e3,label:6e4},SECOND:{dot:1e3,label:5e3},MILLISECOND:{dot:200,label:1e3},MICROSECOND:{dot:5,label:1e3}},p=()=>{const e=o.Z.getState().videoEditor.ui.timelineScale;return a*e},u=e=>e<=i?"TEN_MINUTE":e<=r?"MINUTE":e<=l?"SECOND":e<=c?"MILLISECOND":"MICROSECOND"},"./app/components/Views/VideoTools/VideoEditor/VideoEditorTracking/utils/LoadingMonitor.ts":(e,t,s)=>{"use strict";s.d(t,{BF:()=>l,SX:()=>r});var o=s("./node_modules/react-redux/es/index.js"),n=s("./app/streams/segment-fetch-stats.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/VideoEditorTracking/utils/video-editor-tracking.ts");const i=new class{loadStartMs;uiInfoAtLoadStart;constructor(){this.loadStartMs=null,this.uiInfoAtLoadStart=null}send(e,t){switch(e){case"START_LOADING":this.loadStartMs=performance.now(),this.uiInfoAtLoadStart=t;break;case"STOP_LOADING":if(null!==this.loadStartMs&&null!==this.uiInfoAtLoadStart){const e=performance.now()-this.loadStartMs,t=!this.uiInfoAtLoadStart.isPlaying,s=this.uiInfoAtLoadStart.compositionTimeMs;return this.flush(),{loadingDurationMs:e,compositionTimeMs:s,fromSeek:t}}}}flush(){this.loadStartMs=null,this.uiInfoAtLoadStart=null}},r=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s=>{(0,o.dC)((()=>{s(l(e)),t&&s(c(e))}))}},l=e=>t=>t(e),c=e=>(t,s)=>{const{ui:o,composition:r}=s().videoEditor;if("ui/START_LOADING"===e.type)i.send("START_LOADING",{compositionTimeMs:o.currentTimeMs,isPlaying:o.isPlaying});else if("ui/STOP_LOADING"===e.type){const e=i.send("STOP_LOADING");if(!e)return;const{compositionTimeMs:s,fromSeek:o,loadingDurationMs:l}=e;if(o){const{id:e,...o}=(0,a._)(r,{startMs:s});t({type:"TRACK_SCENE_EDITOR_METRIC",name:"Time to seek",data:{loadingDurationMs:l,bandwidth:(0,n.eP)().bandwidth,compositionId:e,...o}})}else{const{id:e,...o}=(0,a._)(r,{startMs:s});t({type:"TRACK_SCENE_EDITOR_METRIC",name:"Playback loading interruption",data:{loadingDurationMs:l,bandwidth:(0,n.eP)().bandwidth,compositionId:e,...o}})}}}},"./app/components/Views/VideoTools/VideoEditor/VideoEditorTracking/utils/video-editor-tracking.ts":(e,t,s)=>{"use strict";s.d(t,{H:()=>r,_:()=>c});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/utils/number.ts"),a=s("./app/utils/video-editor/layer.ts"),i=s("./app/components/Views/VideoTools/VideoEditor/constants.ts");const r=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{startMs:o=null,endMs:a=null}=t||{},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.filter((e=>t.includes(e.type))):e}(Object.values(e.layers),s);if(null===o&&null===a){const e=[];return i.forEach((t=>{e.push([t.startMs,t.endMs])})),(0,n.oC)(e)}if(null!==o){if(null!==a){const e=[];return i.forEach((t=>{if(t.startMs<=a&&t.endMs>=o){const s=Math.max(t.startMs,o),n=Math.min(t.endMs,a);e.push([s,n])}})),(0,n.oC)(e)}{const e=[];return i.forEach((t=>{e.push([t.startMs,t.endMs])})),(0,n.J0)(e,o)}}},l=(e,t)=>{const s={};return i.Nk.forEach((n=>{const a=r(e,t,[n]);if(a){const e=`maxConcurrent${(0,o.capitalize)(n)}LayerCount`;s[e]=a}})),s},c=(e,t)=>{const{startMs:s=null,endMs:n=null}=t||{},i=[];Object.values(e.layers).forEach((e=>{if(null===s&&null===n)i.push(e);else if(null!==s)if(null!==n){e.startMs<=n&&e.endMs>=s&&i.push(e)}else{e.startMs<=s&&e.endMs>=s&&i.push(e)}}));const c=i.filter(a.zG),d=i.filter(a.GY),p=e.tracks.filter((e=>"PIXEL"===e.type)),u=e.tracks.filter((e=>"AUDIO"===e.type)),m=[],h=[];i.forEach((e=>{e.effects.forEach((e=>{e.enabled&&(m.push(e.name),Object.values(e.values).forEach((t=>{t.keyframesEnabled&&t.keyframes.length>0&&h.push(e.name)})))}))}));const g=[];return i.forEach((e=>{Object.keys(e.transforms??{}).forEach((t=>{const s=e.transforms[t];s.keyframesEnabled&&s.keyframes.length>0&&g.push(t)}))})),{id:e.metadata.id,layerCount:i.length,maskedLayerCount:c.length,inpaintedLayerCount:d.length,maxConcurrentLayerCount:r(e,t),...l(e,t),pixelTrackCount:p.length,audioTrackCount:u.length,effectCount:m.length,effectNames:(0,o.uniq)(m),keyframedEffectNames:(0,o.uniq)(h),keyframedTransformNames:(0,o.uniq)(g)}}},"./app/components/Views/VideoTools/VideoEditor/constants.ts":(e,t,s)=>{"use strict";s.d(t,{$4:()=>me,A7:()=>De,AJ:()=>v,AP:()=>D,Ay:()=>f,BO:()=>je,Bf:()=>m,CN:()=>q,DP:()=>Y,Ds:()=>te,Dx:()=>I,E0:()=>de,EJ:()=>Te,EL:()=>_e,EO:()=>B,Fk:()=>be,Gw:()=>Le,Ho:()=>Ee,IL:()=>c,JE:()=>u,Kz:()=>y,MC:()=>ie,Mh:()=>Ie,Mv:()=>Ve,Mx:()=>re,Mz:()=>N,N8:()=>_,Nk:()=>i,OB:()=>O,OU:()=>qe,PE:()=>$,QT:()=>z,Qe:()=>ne,RC:()=>U,RS:()=>he,Rb:()=>r,Rs:()=>ue,S5:()=>H,SJ:()=>se,SL:()=>g,Sc:()=>ae,T5:()=>Q,T6:()=>Ue,TQ:()=>V,TT:()=>ge,TV:()=>Ae,Tw:()=>Ye,UA:()=>d,V1:()=>fe,VL:()=>Ce,Wh:()=>ee,X0:()=>j,XN:()=>oe,Xp:()=>C,Xw:()=>K,YS:()=>Fe,Yg:()=>ve,ZH:()=>ye,ZO:()=>A,ZV:()=>a,ZZ:()=>pe,Zk:()=>p,_R:()=>Oe,aC:()=>He,aR:()=>W,bc:()=>R,cB:()=>le,cj:()=>h,dT:()=>Re,dp:()=>Ke,dz:()=>Z,eE:()=>ke,f7:()=>k,gD:()=>P,gd:()=>Ne,gl:()=>J,hm:()=>ce,hn:()=>b,ho:()=>M,jH:()=>w,kp:()=>$e,lF:()=>Se,lH:()=>Ze,lX:()=>L,mm:()=>x,mt:()=>we,n3:()=>Pe,nn:()=>E,nq:()=>We,nw:()=>Me,om:()=>S,qQ:()=>Qe,qU:()=>Be,qr:()=>X,qu:()=>T,rc:()=>G,sh:()=>Xe,tS:()=>Ge,ub:()=>ze,v5:()=>F,vn:()=>xe,vp:()=>l,yB:()=>Je});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/constants/media.ts");const a={ASSET:"ASSET",COMPOSITION:"COMPOSITION",EFFECT_ROW:"EFFECT_ROW"},i=["VIDEO","IMAGE","TEXT","SHAPE","TRACKING","AUDIO","EMPTY"],r=["VIDEO","IMAGE","TEXT","EMPTY","SHAPE"],l=["VIDEO","AUDIO"],c=(0,o.uniq)([...r,...l]),d=["volume"],p=["volume"],u=["VIDEO","AUDIO"],m=44,h="migration-debugger",g="video-editor-preview",f=10,y=8,x="#1bef97",v="#1bef9733",b="#eb2121",w="#eb212133",_="artboard",I={MASK:!0,INPAINT:!0,TRACKING:!0},T={WIDE:{width:1920,height:1080},SQUARE:{width:1080,height:1080},TALL:{width:1080,height:1920}},j=24,k=.1,C=4,E=8,S=368,A=78,M=296,P=40,N=48,D=191,O=8,L=32,R=.125,Z=32,U=.2,z=32,V=32,B=38,G=2,F=2,$=14,W=10,H=30,Y=40,X=["#00B140","#0047BB","#D518D9","#FF6900","#FCB900"],q=["#F44236","#EA1E63","#374047","#9D27B1","#683AB7","#4052B6","#03A9F5","#4CB050","#8CC24A","#FFEB3C","#FE5722","#795549","#9E9E9E","#607D8D"],J=[.482,.38,1],K=5e3,Q=7200,ee=900,te=5,se=1280,oe=1280,ne=16777216,ae=8294400,ie=2073600,re=921600,le=640,ce=1280,de=1920,pe=4096,ue=20,me=20,he="iL0WmGq9N-M",ge=`${n.yI}video/green-screen-tutorial-2.mp4`,fe=25,ye=20,xe=20,ve=.2,be=.1,we=4,_e=0,Ie=2,Te={"":{},MASK:{keyframes:[],isLoadingMask:!1,isUpdatingKeyframes:!1,keyframesUpdatedAt:null,alphaEnabled:!1,brushSize:xe,maskDisplayOpacity:ve,previousSelectedOption:"",undoRedoCalledAt:null},INPAINT:{keyframes:[],isLoadingMask:!1,isUpdatingKeyframes:!1,keyframesUpdatedAt:null,brushSize:xe,previousSelectedOption:"",undoRedoCalledAt:null},TRACKING:{keyframes:[]}},je=2,ke=25,Ce=["AUDIO","PIXEL"],Ee=196,Se=320,Ae=256+P,Me=180,Pe=2,Ne=20,De=50,Oe=27,Le=500,Re=80,Ze=8,Ue=3,ze=30,Ve=2.4,Be={r:0,g:177,b:64,a:255},Ge={r:0,g:0,b:0,a:0},Fe={width:1920,height:1080},$e="https://docs.google.com/forms/d/e/1FAIpQLScUPWxrCx3NgKxJKG7jghHO6LbAEuTBGn7lMScjlgbrSak82Q/viewform?usp=sf_link",We="https://docs.google.com/forms/d/e/1FAIpQLSd7O_Dn6GTPn1kj2ppZ0e2wzIkGJRcKnZy3Tz0nEJNj1v5fQA/viewform",He="https://docs.google.com/forms/d/e/1FAIpQLSd5yMnNb-MoYLKdwmOkjF2wLHtkWQMXjDyksWpGeyIbPlIObg/viewform",Ye=20,Xe={SELECT_LAYER:"selectLayer"},qe=2048,Je=12,Ke=2,Qe=["TEXT","SHAPE"]},"./app/components/Views/VideoTools/VideoEditor/edit-context-definitions.ts":(e,t,s)=>{"use strict";s.d(t,{X:()=>o});const o={MASK:{initialSelectedOption:"MASK:INCLUDE",displayName:"Green Screen",initLayerState:{type:null,lastUpdated:new Date,keyframes:[],maskEffectIds:[],alphaEnabled:!0}},INPAINT:{initialSelectedOption:"MASK:PAINT",displayName:"Inpainting",initLayerState:{lastUpdated:new Date,keyframes:[]}},TRACKING:{initialSelectedOption:"TRACKING:POINT",displayName:"Motion Tracking",initLayerState:{keyframes:[]},maxPermittedVideoDurationMs:12e4}}},"./app/components/Views/VideoTools/VideoEditor/playback.ts":(e,t,s)=>{"use strict";s.d(t,{_:()=>n,q:()=>a});let o=0;const n=e=>{o=e},a=()=>o},"./app/components/Views/VideoTools/VideoEditor/utils.ts":(e,t,s)=>{"use strict";s.d(t,{Ad:()=>m,OH:()=>x,ZE:()=>g,Zn:()=>p,Zx:()=>d,ef:()=>y,gP:()=>f,iL:()=>u,lf:()=>h});var o=s("./app/actions/flash.ts"),n=(s("./app/api/video-editor/composition.ts"),s("./app/store.ts")),a=s("./app/utils/routes.ts"),i=s("./app/utils/trackEvent.ts"),r=s("./app/utils/video-editor/composition.ts"),l=s("./app/components/Views/VideoTools/VideoEditor/VideoEditorTracking/utils/video-editor-tracking.ts"),c=s("./app/components/Views/VideoTools/VideoEditor/constants.ts");const d=()=>"green-screen"===(0,a.ub)("tool"),p=()=>"inpaint"===(0,a.ub)("tool"),u=()=>"motion-tracking"===(0,a.ub)("tool"),m=()=>d()||p()||u(),h=e=>!!e&&!!c.Dx[e],g=e=>{const t=Object.values(e.layers).some((e=>"TEXT"===e.type));return{shape_layer:Object.values(e.layers).some((e=>"SHAPE"===e?.type)),custom_blend_mode:Object.values(e.layers).some((e=>e?.blend&&"alpha"!==e?.blend)),custom_effect:Object.values(e.layers).some((e=>e.effects.filter((t=>!e.mask?.maskEffectIds||"EMPTY"!==e.type&&!e.mask.maskEffectIds.includes(t.id))).length)),audio_layer:Object.values(e.layers).some((e=>"AUDIO"===e.type)),mask_layer:Object.values(e.layers).some((e=>e?.mask?.keyframes?.length)),inpaint_layer:Object.values(e.layers).some((e=>e?.inpaint?.keyframes?.length)),solid_layer:Object.values(e.layers).some((e=>"EMPTY"===e.type)),text_layer:t,...t?{text_layer_fonts:Object.values(e.layers).filter((e=>"TEXT"===e.type)).map((e=>e.data.textProperties.font)),text_layer_sizes:Object.values(e.layers).filter((e=>"TEXT"===e.type)).map((e=>e.data.textProperties.size)),text_layer_styles:Object.values(e.layers).filter((e=>"TEXT"===e.type)).map((e=>e.data.textProperties.style))}:{},max_concurrent_layers:(0,l.H)(e)||0,cleaned_audio:Object.values(e.layers).some((e=>e.data?.cleanAudio)),unused_cleaned_audio:Object.values(e.layers).filter((e=>!e.data?.cleanAudio&&e.data?.cleanAudioTaskId)).map((e=>({taskId:e.data?.cleanAudioTaskId,assetUrl:e.data?.clip?.url,enhancedMediaUrl:e.data?.enhancedMediaUrl}))),subtitles:Object.values(e.layers).some((e=>!!e.data.subtitleData)),smooth_slow_mo:Object.values(e.layers).some((e=>"FRAME_INTERPOLATION"===e.speedMode))}},f=e=>{switch(e){case"MASK":return"Green Screen";case"INPAINT":return"Inpaint";default:return"Scene Editor"}},y=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=await(0,r.Kj)(e);(0,i.L)({event:"Click",name:"Use Template",section:"Sequel Projects",otherProperties:{from:"marketing website",templateName:e.metadata.name,templatesTag:e.metadata.tags[0]}}),t.replace(`/video-tools/projects/${a}${s}`),n.Z.dispatch((0,o.showFlash)({message:"This template has now been added to your Projects.",type:"SUCCESS"}))},x=()=>{n.Z.dispatch({type:"SHOW_SIGNIN_MODAL",signinType:"SIGNUP",title:"Sign in to Runway"})}},"./app/components/Views/VideoTools/VideoEditor/z-indexes.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={BEAT_SNAP_INDICATOR:1,CLIP_INSTANCE:2,CLIP_INSTANCE_SELECTED:3,PLAYHEAD:4,TIMELINE:1,CLIP_INSTANCE_DRAGGING:3,CLIP_INSTANCE_RESIZE_HANDLES:300,TIMELINE_SNAP_INDICATOR:5,TRACK_DROP_INDICATOR:4,TIMELINE_BOX_SELECTOR:4,NPS_BANNER:5,ANIMATION_TIMLINE_LEFT_BAR:4,GREEN_SCREEN_ASSET_BROWSER_CLOSED:2,GREEN_SCREEN_ASSET_BROWSER_OPEN:12,PREVIEW_OVERLAY:3,TOOLTIPS:3,DRAG_PREVIEW_OVERLAY:13,HELP_WIDGET:14,MODAL_WRAPPER:1e3,HTML_CONTAINER:0,HEADER:1,FLOAT_TOP_BANNER:4,RIGHT_PANEL:4,CONTEXT_MENU:5}},"./app/constants/animations.ts":(e,t,s)=>{"use strict";s.d(t,{z:()=>o});const o={initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1},out:{opacity:0}},transition:{type:"tween",duration:.2}}},"./app/constants/errors.ts":(e,t,s)=>{"use strict";s.d(t,{Aw:()=>i,PH:()=>n,Sk:()=>o,dT:()=>a,yF:()=>r});class o extends Error{}class n extends Error{}class a extends Error{}class i extends Error{}class r extends Error{}},"./app/constants/media.ts":(e,t,s)=>{"use strict";s.d(t,{fP:()=>n,yI:()=>o});const o="https://d3phaj0sisr2ct.cloudfront.net/",n="https://runway-demo-assets.s3.amazonaws.com/"},"./app/constants/reader.ts":(e,t,s)=>{"use strict";s.d(t,{BufferedVideoReaderState:()=>m,MessageType:()=>c,PA:()=>n,QI:()=>o,SegmentedStreamReaderLoadingState:()=>u,SegmentedStreamReaderPlaybackState:()=>p,er:()=>d,fi:()=>i,hO:()=>l,k4:()=>r,xg:()=>a});const o=1,n=3,a=3,i=1e3,r=10,l=!1;let c=function(e){return e[e.LoadPlaylist=0]="LoadPlaylist",e[e.InitDecoder=1]="InitDecoder",e[e.ReinitDecoder=2]="ReinitDecoder",e[e.FetchSegment=3]="FetchSegment",e[e.PrepareDecoding=4]="PrepareDecoding",e[e.BufferFrames=5]="BufferFrames",e[e.BufferedFrames=6]="BufferedFrames",e[e.LoadFrame=7]="LoadFrame",e[e.LastFrame=8]="LastFrame",e[e.Close=9]="Close",e[e.Error=10]="Error",e[e.Log=11]="Log",e}({}),d=function(e){return e[e.PrefetchImageBitmaps=0]="PrefetchImageBitmaps",e[e.UpdateGeometryAttributes=1]="UpdateGeometryAttributes",e[e.Error=2]="Error",e[e.LoadTexture=3]="LoadTexture",e[e.LoadTextureComplete=4]="LoadTextureComplete",e[e.LoadTextureError=5]="LoadTextureError",e[e.LoadOBJ=6]="LoadOBJ",e[e.LoadOBJComplete=7]="LoadOBJComplete",e[e.LoadOBJProgress=8]="LoadOBJProgress",e[e.LoadOBJError=9]="LoadOBJError",e[e.LoadPLY=10]="LoadPLY",e[e.LoadPLYComplete=11]="LoadPLYComplete",e[e.LoadPLYProgress=12]="LoadPLYProgress",e[e.LoadPLYError=13]="LoadPLYError",e[e.DownloadOBJ=14]="DownloadOBJ",e[e.DownloadOBJError=15]="DownloadOBJError",e[e.DownloadOBJComplete=16]="DownloadOBJComplete",e[e.DownloadOBJProgress=17]="DownloadOBJProgress",e[e.DownloadTexture=18]="DownloadTexture",e[e.DownloadTextureError=19]="DownloadTextureError",e[e.DownloadTextureComplete=20]="DownloadTextureComplete",e[e.DownloadPLY=21]="DownloadPLY",e[e.DownloadPLYError=22]="DownloadPLYError",e[e.DownloadPLYComplete=23]="DownloadPLYComplete",e[e.DownloadPLYProgress=24]="DownloadPLYProgress",e[e.UpdateBufferAndVertexCount=25]="UpdateBufferAndVertexCount",e[e.UpdateView=26]="UpdateView",e[e.Sorted=27]="Sorted",e}({}),p=function(e){return e[e.New=0]="New",e[e.LoadedPlaylist=1]="LoadedPlaylist",e[e.Ready=2]="Ready",e[e.Playing=3]="Playing",e[e.Paused=4]="Paused",e[e.Closed=5]="Closed",e}({}),u=function(e){return e[e.Loading=100]="Loading",e[e.Loaded=101]="Loaded",e}({}),m=function(e){return e[e.New=0]="New",e[e.Preparing=1]="Preparing",e[e.Ready=2]="Ready",e[e.Closed=3]="Closed",e}({})},"./app/constants/teams.ts":(e,t,s)=>{"use strict";s.d(t,{Pn:()=>n,Re:()=>a,l9:()=>o});const o=80,n=24,a=60},"./app/constants/z-indexes.ts":(e,t,s)=>{"use strict";s.d(t,{I:()=>o});const o={QuickActionCard:1,AssetsExplorerStickyRow:1,QuickActionCardCloseButton:2,NotificationBar:s("./app/components/Views/MagicTools/Components/Common/TopBar.tsx").WR+1,GlobalSearchDropdown:50,Lightbox:1e3,ResponsiveSideBarWrapper:1001,SideBarPopover:1002,DropdownInLightbox:1100,SwitchWorkspaceDialogOverlay:1200,SwitchWorkspaceDialog:1210,AlertDialogOverlay:2e3,AlertDialogContent:2100}},"./app/containers/Login.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var o=s("./node_modules/react-router/esm/react-router.js"),n=s("./node_modules/redux/es/redux.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./app/actions/user.ts"),r=s("./app/actions/performance.ts"),l=s("./app/actions/signinModal.ts"),c=s("./app/components/Login/Login.tsx");const d=(0,o.EN)((0,a.$j)(((e,t)=>({user:e.user,...t})),(e=>(0,n.DE)({...i,stopAppLoading:r.Kh,hideSigninModal:l.t,showSigninModal:l.l},e)))(c.ZP))},"./app/containers/Signup.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var o=s("./node_modules/react-router/esm/react-router.js"),n=s("./node_modules/redux/es/redux.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./app/actions/user.ts"),r=s("./app/actions/performance.ts");const l=(e,t)=>({type:"SIGNUP_FROM_REDIRECT",from:e,eventName:t});var c=s("./node_modules/classnames/bind.js"),d=s.n(c),p=s("./node_modules/react/index.js"),u=s("./app/components/Prefabs/Icon/Icon.tsx"),m=s("./app/devoe/themeDark.ts"),h=s("./app/utils/auth.ts"),g=s("./app/utils/hooks/useRedirectTo.ts"),f=s("./app/components/Login/Login.tsx"),y=s("./app/components/Login/Login.scss"),x=s("./app/components/Prefabs/Authentication/index.tsx"),v=s("./app/components/Prefabs/PageMeta/PageMeta.tsx"),b=s("./node_modules/react/jsx-runtime.js");const w=d().bind(y.Z);class _ extends p.Component{props;state={};getRedirectPath(){const e=(0,g.iJ)(this.props.location.search);if(e)return e;if(this.props.location.state?.from){const{from:e,search:t}=this.props.location.state;return t?`${e}${t}`:e}return"/"}render(){const e="/signup"===this.props.location.pathname,t=w({Box:!0}),s=w({Container:!0,ContainerWithBackgroundColor:e}),n=w({BoxContainer:!0,LoginPageBoxContainer:e});return(0,h.bW)()?(0,b.jsx)(o.l_,{to:this.getRedirectPath()}):(0,b.jsxs)("div",{className:s,role:"button",tabIndex:0,children:[(0,b.jsx)(v.Z,{title:"Welcome to Runway"}),(0,b.jsxs)("div",{className:n,children:[e&&(0,b.jsx)(f.G,{}),(0,b.jsx)("div",{className:t,children:(0,b.jsxs)("div",{className:y.Z.InputContainer,children:[e&&(0,b.jsx)("div",{className:y.Z.LogoFooter,children:(0,b.jsx)(u.Z,{icon:"runway",height:20,width:95,color:m.Z.colors.black})}),(0,b.jsx)("div",{className:y.Z.LoginBoxAndHeader,children:(0,b.jsx)(x.u,{initialState:"SIGN_UP"})})]})})]})]})}}const I=_;var T=s("./app/actions/signinModal.ts");const j=(0,o.EN)((0,a.$j)(((e,t)=>({user:e.user,...t})),(e=>(0,n.DE)({...i,stopAppLoading:r.Kh,trackSignupFromRedirect:l,hideSigninModal:T.t,showSigninModal:T.l},e)))(I))},"./app/devoe/themeBase.ts":(e,t,s)=>{"use strict";s.d(t,{u:()=>o});const o={fonts:{regular:"Roobert",size:{xxs:"10px",xs:"11px",sm:"12px",md:"14px",lg:"16px",xl:"20px",xxl:"24px"},lineHeight:{xxs:"16px",xs:"16px",sm:"16px",md:"20px",lg:"24px",xl:"32px",xxl:"32px"}},border:{boxRadius:"4px"},icons:{size:{xs:8,sm:14,md:16,lg:18,xl:26}},spacing:{1:"4px",2:"8px",3:"12px",4:"16px",6:"24px",8:"32px"},breakpoints:{xl:"1920px",lg:"1512px",mdlg:"1280px",md:"1024px",sm:"960px",xs:"768px",xxs:"390px"}}},"./app/devoe/themeDark.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={...s("./app/devoe/themeBase.ts").u,colors:{uiOverlay:"#353535e0",uiBackground:"#0E0E0E",uiLevel0:"#0E0E0E",uiLevel1:"#1D1E23",uiLevel2:"#414550",uiLevel3:"#575B6B",uiLevel2Light:"#D6D6D6",uiLevel1WithHalfOpacity:"#41455082",uiHoverable:"#A0AEC0",uiInactive:"#15161A",uiInactiveLight:"#EBEBEB",primary:"#6904E9",primaryLight:"#D6B6FF",primaryDark:"#5003B2",purple100:"#B18AE3",purple200:"#D6B6FF",secondary:"#29292d",danger:"#FF552F",dangerDark:"#d9381c",dangerHoverable:"rgba(255, 85, 47, 0.25)",black:"#000000",white:"#ffffff",whiteLevel1:"#f7f7f7",textPrimary:"#ffffff",textSecondary:"#A0AEC0",textInactive:"#7C839C",textInactiveLight:"#BBC1CA",textInactiveContextMenu:"#D6D6D6",textWhiteUI:"#2A2C3A",videoProgressBar:"#FC1111",boxShadow:"rgba(0, 0, 0, 0.3)",yellow:"#fdbd81",yellowDark:"#e28c3b",green:"#61EED5",purple:"#7627DB",red:"#DB4827",pink:"#E37EA5",modalBackground:"#0e0e0e80",interactiveSecondary:"#29292D",tag:{blue:{color:"#fff",background:"#057aff"},purple:{color:"#fff",background:"#6904E9"}},grayscale:{white:"#FFFFFF",gray10:"#F1F1F4",gray30:"#DBDBE1",gray40:"#CCCCD5",gray50:"#BFC1CA",gray60:"#AFB3BD",gray70:"#9AA0AB",gray90:"#7B8492",gray300:"#515760",gray400:"#9AA0AB",gray450:"#7B8492",gray500:"#3B3F46",gray600:"#282B2F",gray700:"#30313A",gray800:"#121315",black:"#000000"},grayscaleAlpha:{alpha5:"rgba(18, 19, 21, 0.05)",alpha10:"rgba(18, 19, 21, 0.1)",alpha15:"rgba(18, 19, 21, 0.15)",alpha20:"rgba(18, 19, 21, 0.2)",alpha25:"rgba( 18, 19, 21, 0.25)",alpha30:"rgba(18, 19, 21, 0.3)",alpha35:"rgba(18, 19, 21, 0.35)"},marketing:{offwhite:"#DADDE1",offBlack:"#292929",runwayGreen:"#34E0A1",magenta:"#D02A93",lime:"#8CC816",ocean:"#433BE0",stone:"#8F969D",mustard:"#EFC100",sky:"#0089E2",skyLight:"#A1C0D2",orange:"#E64600",violet:"#6720DE",light:{magenta:"#E52C96",lime:"#99D217",ocean:"#473FF4",stone:"#949DA9",mustard:"#FFCE00",sky:"#008FFF",orange:"#FF4D00",violet:"#761FE3"}},brand:{magenta:"#E52C96",ocean:"#473FF4",mustard:"#FFCE00",orange:"#FF4D00",lime:"#99D217",sky:"#008FFF",eggplant:"#761FE3"},recipes:{containerStroke:"rgba(110, 94, 132, 0.35)"}}}},"./app/gl2d/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Cq:()=>c,K0:()=>l,$_:()=>p,Xj:()=>m,KC:()=>i,Iq:()=>u,dx:()=>r,gb:()=>h,Tr:()=>d});const o="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iNjkuMiIgd2lkdGg9IjY5LjIiIHg9Ii0yLjYiIHk9Ii0xLjYiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQgZHk9IjEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxLjMiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4zMiAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjxnIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Im0yNS4xMTA0IDMxLjE4NjkgOC43NDMyIDguNzM4My02LjA3NDMgNi4wNzQ4IDE4LjE5MjgtLjAyNzkuMDI3OS0xOC4xOTQyLTYuMTAwMSA2LjEwNDgtOC43NDk2LTguNzM4My0zLjAzNjEtMy4wMzk2IDYuMTA2NS02LjEwNDhoLTE4LjIyMDd2MTguMjI0M2w2LjA3NDMtNi4wNzI2eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0yNy4zODc2IDMwLjQyNzUgOS41MDU1IDkuNTAzMS0zLjkyNSAzLjkyNjcgMTAuODU2LS4wMzQ0LjAzLTEwLjg1NjMtMy45NTUgMy45NTQ2LTkuNTA3Ni05LjQ5ODgtNS4zMTItNS4zMTY1IDMuOTU5My0zLjk1ODloLTEwLjg5MjV2MTAuODkyOWwzLjkyOTMtMy45MjY3eiIgZmlsbD0iIzAwMCIvPjwvZz48L3N2Zz4=",n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOC4yNTUxIDE4LjYyMzFMMTguMjUzNCAxMi40NDI0TDIyLjU0ODcgMTIuNDQyM0wxNi4xMDY3IDYuMDE5OTlMOS42NjQyIDEyLjQ0MjdMMTMuOTc5MyAxMi40NDExTDEzLjk4MzMgMTguNjI0TDEzLjk4MiAyMC43NzJMOS42NjQ2OSAyMC43NzE1TDE2LjEwNjcgMjcuMjEzNUwyMi41NDk5IDIwLjc3MDJMMTguMjU1NCAyMC43Njk2TDE4LjI1NTEgMTguNjIzMVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTcuMTgxNSAxOC4wODY0TDE3LjE4MDYgMTEuMzY1OUwxOS45NTY2IDExLjM2NTNMMTYuMTA2MyA3LjUzOTI2TDEyLjI1NzMgMTEuMzY2OUwxNS4wNTM4IDExLjM2NzFMMTUuMDU2OSAxOC4wODY5TDE1LjA1NTQgMjEuODQ0NkwxMi4yNTU5IDIxLjg0NDVMMTYuMTA2OSAyNS42OTU1TDE5Ljk1ODEgMjEuODQ0M0wxNy4xODA2IDIxLjg0MzRMMTcuMTgxNSAxOC4wODY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CjxyZWN0IHk9IjI4IiB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIHRyYW5zZm9ybT0icm90YXRlKC05MCAwIDI4KSIgZmlsbD0idXJsKCNwYXR0ZXJuMCkiLz4KPGRlZnM+CjxwYXR0ZXJuIGlkPSJwYXR0ZXJuMCIgcGF0dGVybkNvbnRlbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPgo8dXNlIHhsaW5rOmhyZWY9IiNpbWFnZTAiIHRyYW5zZm9ybT0ic2NhbGUoMC4wMTU2MjUpIi8+CjwvcGF0dGVybj4KPGltYWdlIGlkPSJpbWFnZTAiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgeGxpbms6aHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FZQUFBQ3FhWEhlQUFBSE9rbEVRVlI0QWUyYVQyeFVWUlRHRDlDWlRoM0dUcUdscU1VT1VsQXFTckhCdURLTk80eC9LckV1eEVVaElYVmFKTEFnYnBvd2NhTXVGSGJvb29HRnhscE1zTkhDamhMaUFoYUdQd2tya2FFT2RTQTA3ZFFXMnREQ003K1hlNXJibDVrQ1FqSXp6N25KNUwyWnZ0ZTg3enZmK2M2OTV6NlIwaWd4VUdLZ3hFQ0pnUklESlFiK0l3T0xSR1N4aUpTSlNFQkVsamlPdzIvL2l3RlFnRmZjdkhtelkycHE2anNSZWNJUUFTbStIb0JmSWlMaDRlSGhMc2VNaVltSkgwU2swcERnV3lXNDRHdHJhOE5EUTBPZktIZzlqbytQOTFaVlZVRkNNSkZJK0U0Skt2dXM0RzBTUk9SSlNCQVI3dkdGR25LQ1R5UVNUbE5Ua3pNMk5xWWNPQ2pCVCttd0lIZ1JjZmhBZ2owTUNWR2pCRHlEbENnNk5mREFydUdsVXFsZE5rQWlyK0E1SGo1ODJQNnplejQ1T1huaXdvVUw3NGhJSkJhTGhUREl0clkybDR4aUtKa1BGUGxjNEwxc1RFOVAvNVpPcHp0UG5qejVJdVd6dWJuWkphTlF6ZEtOZkUxTnpWS3YyM3NqdjMvL2ZpZVpUTTU5YkMvd2txRGZJZVBHalJ0eHFvbUlsS09LUWxNRStWcHhQOW5iS2VBOXh4TmFXMXVkZ3djUE9vT0RnNHA5M25GMmR2WXZWQUVSalkyTlZBM1NJLzgrMGRMU1VsWmRYUjNKWkRKOStzUkVGbEJlb0EvNlBSYUxPZTN0N1ZuSmdJaisvdjZYbVUyU0dvVmdtRHdFRTVvMTE2NWQrMlVoRWdCRld2RFpzMmVQQzdLbHBjV0pScU01eVlLTUkwZU82TCtkTzJZeW1XOTBEcEZYYnlBblRYNCtJeUliaDRhR0J2UXB2VW9BREI2UWJYRHRzV1BIWEZLNHpxc1dmdVB2OXJEVVFOWElXMHFRaCtRa0txZ1BCQUtia3Nua0NYM1FoeUZCNytFSVdIekJTd1Fxc2ttOGQrOWU1c3FWS3gvaFE2WnM1c1VYNXBFZ0lxOWN2WHIxdUFMeWt1Q2RDTjI1YzJkeWJHenNUNzNlUGdJVzBEWVJxT0hjdVhQMlpRNG1MQ0pMOGFSOG1lTWk0ODZWb1ZDb1BoY0o1THY5OExkdjMwNXYyN2J0dzdLeXN0ZDM3Tmp4d2NEQXdPZmo0K04vekVQbk9PN2t5WnNhZUlrOWxJUzhLY0hVWjlJaG1vc0VML2lkTzNlK0p5SXZpY2hhRVZrbklodEVaUE9oUTRkMjJha0VVSlRrVlVNMkVvd241VThKZUVJMEdvV0VaNzFLMElnUitZNk9qbmNCSFE2SGEwV2tDdUpFcEVaRVZ2RTdmcEpJSk5xNVZ1L2p5SVRLVGdtYmhMdDM3NDRQRGc2MjRBbW1ST2FsNFlJbmxCc2x4QUtCd0R4UHNNQ3ZqVVFpMVhWMWRSVW1kM0Z5RkVUSENFS29MTStqaVBQbnovZllKTENleUVVQzFhRzd1M3MxS1puUEV1a2FJMHFnT29oSVV5cVYrblZxYXVydnpzN090NDNrWGZCWklzWHNNb0NVSTVISWNuUC94cU5IajM0Nk16TXpvVVI0U2JETDVLMWJ0NDRiUmVVdEZaQ2VWZ2RJcUJPUjlhMnRyYStHUXFIVklsSXRJcUZjRVRKK0FoRW9pYWJKVThGZ3NCSFBzRlBpd0lFRGMwckFZTzBTZWZIaXhlMnNVY3djSVMrcDRKSmdxa1BFUkhPRmlReVRsd2RaOTBNaVVTUXQ4SWQxOFhpODFWWUNzMHBOQjJhV09tWm1abEw3OXUxYkE0bjVYa0F0TmprZWJHaG9JS0tCWEpIUEZTWnpmd1dlQVFrOVBUMGZLMUNPOXRxRFJaV09kRHI5bFZFUS9wTDNRVFQxODlBUEEya1lwb2lzQ0FhRDY4K2VQZnUxQXFXOHFncElCVW9tZzZxd2QrL2VCdEl0aTljODlETVV3ZzFFc2lJY0RxOE1Cb01iUmtkSGYxY1M3RlN3UzZOUkFWUDFnbERCNHlDeHpKaGIzZTdkdTk5VVB5RHF1ckwwcWdEVkdFUEZkM3d4V0laVFhkWmN1blRwVzFVQmtkZFVzTDNnOU9uVDc5TnZOTk5rWHhDQWw1RFh0VnUyYkhuTlZvRVNZRmVFa1pHUm4wUmt1V21pK0lJQVFKRFR6QkZXSjVQSjcxVUZBRmNTYkRQRU4rZzQ1N3NrUGs3MlVRRmxkV1Z2Yis5MkpRRHBLd0YyR3B3NmRhcU5KYk5mcW9FU1dWWlpXY202WWQzczdPdy9rRURVbFFDYUtqb3VYNzc4R1dzTVAva0FKT0RxUkxVK25VNzNLOWo2K25xWEJLcUJqc25KeVRPb3hYZ0g2dkhGZ0FDbXlhdXVYNy8rczRLMSt3YnFBL3d0azhuOGlHTE05THpvU1FBQTY0UUlreDBGejlFdWgzWVRSa213Tm1TTGRsNmc0TU1qSXlOZjJ1QTV0NWZLMmRycStuNkNVVUxSa1RBSGZuUjA5QXN2ZUw2enc2UkdtSTBBcnZIc1NoZEhPcGdhN2k2UE01bk1QUENVUE8wSDJBVFk2d0xPYlU4b1JoS1dNSm54Z3RlY3AzTU1DZGtJVUdOazZXeVRZTjVaaXBnbGQ4RlhodnZ1UlVLQzdRR1FvK0JKQ3lWSlU0ZkdTVjlmWHhQOXlHS1lKU0ovRmtIUExiUVhxYXRDQU52blh2RFQwOVBEM2QzZGI1Z1dIUTNaZ3ZjQzV2KzhLL0EwZTVFTDdVQ3BDZXJSQzU3ZVlsZFgxMXNpRWpObEVYSUxlNWhXV3RDOFlwZHpCMHBCNnpFYmVOT2RwbHUwM0xUcWlxTWNtandOTGx1MmpKWGdmVW5JQmo0ZWovTStVZ09OV3ZOT1VuR0F0L1JKcnM3dFNvdEljN1oweUFhZXlKZVhsN3VSTDFid3lvTkx3a0xwb1BNQ0hKK2NKL0tBTnkxNlh6Ukt2VXFZdHcybnBRN3dWdVRkVFJrL0xZdkpYeG9qN2tzYXBJTzlzNnlSTC9hY1Y5bm5PczRwSVJRS3NTRzdTZmNpS1hVbTU5M0krNjBqWkJNQ0Nhb0V0dGhmMkxwMTYyWjZocFE2UDIyTzJLQzk1NjRTZUhYUGdDYnFsRXRmR0o0WGJLN3ZrTUNzYm00dnNoaW11TG5BUE1ydkVNR25ORW9NbEJnb01mQklEUHdMUTF0b0h6TUtvbk1BQUFBQVNVVk9SSzVDWUlJPSIvPgo8L2RlZnM+Cjwvc3ZnPgo=",i=["touchstart","touchend","touchmove","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","wheel","click","dblclick","tap","dbltap","contextmenu"],r=[...i,"dragstart","dragmove","dragend","pointerover","pointerout","mouseover","mouseout","focus","blur","transform","transformstart","transformend"],l={TOP_LEFT:1e3,TOP:1001,TOP_RIGHT:1002,RIGHT:1003,BOTTOM_RIGHT:1004,BOTTOM:1005,BOTTOM_LEFT:1006,LEFT:1007,TOP_LEFT_ROTATE:1008,TOP_RIGHT_ROTATE:1009,BOTTOM_RIGHT_ROTATE:1010,BOTTOM_LEFT_ROTATE:1011},c={TOP_LEFT:"nwseResize",TOP_LEFT_ROTATE:"topLeftRotate",TOP_RIGHT_ROTATE:"topRightRotate",BOTTOM_LEFT_ROTATE:"bottomLeftRotate",BOTTOM_RIGHT_ROTATE:"bottomRightRotate",TOP:"nsResize",TOP_RIGHT:"neswResize",RIGHT:"ewResize",BOTTOM_RIGHT:"nwseResize",BOTTOM:"nsResize",BOTTOM_LEFT:"neswResize",LEFT:"ewResize"},d=e=>{const t=Object.values(l).indexOf(e);return-1===t?null:Object.keys(l)[t]},p={eyeDropper:{svg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1Ljg4OTEgMy43MzUyN0MxNi44NjU0IDIuNzU4OTYgMTguNDQ4MyAyLjc1ODk2IDE5LjQyNDYgMy43MzUyN1YzLjczNTI3QzIwLjQwMDkgNC43MTE1OCAyMC40MDA5IDYuMjk0NDkgMTkuNDI0NiA3LjI3MDhMMTUuNTM1NSAxMS4xNTk5TDEyIDcuNjI0MzVMMTUuODg5MSAzLjczNTI3WiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iYmxhY2siLz4KPHBhdGggZD0iTTE1LjM4OTEgMTEuNjE0TDExLjg1MzUgOC4wNzg0M0w1LjIzNDI0IDE0LjY5NzdDNC41MTAyNCAxNS40MjE3IDQuMTk1OTggMTYuNDU5NyA0LjM5Njc4IDE3LjQ2MzdDNC40MTY4NiAxNy41NjQxIDQuMzg1NDQgMTcuNjY3OSA0LjMxMzA0IDE3Ljc0MDNMMy43MjE4MiAxOC4zMzE1QzMuMzMxMjkgMTguNzIyIDMuMzMxMjkgMTkuMzU1MiAzLjcyMTgyIDE5Ljc0NTdDNC4xMTIzNCAyMC4xMzYyIDQuNzQ1NTEgMjAuMTM2MiA1LjEzNjAzIDE5Ljc0NTdMNS43MjcyNSAxOS4xNTQ1QzUuNzk5NjUgMTkuMDgyMSA1LjkwMzQ0IDE5LjA1MDYgNi4wMDM4NCAxOS4wNzA3QzcuMDA3ODUgMTkuMjcxNSA4LjA0NTc4IDE4Ljk1NzMgOC43Njk3NyAxOC4yMzMzTDE1LjM4OTEgMTEuNjE0WiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iYmxhY2siLz4KPHBhdGggZD0iTTkuNzMyMjMgNS45NTcwOUwxNy41MTA0IDEzLjczNTMiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K",position:[24,4]},circle:{svg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSIxNSIgZmlsbD0id2hpdGUiLz4KICA8ZWxsaXBzZSBjeD0iMzEuOTk5OSIgY3k9IjMyIiByeD0iMTMiIHJ5PSIxMyIgZmlsbD0iIzIzMjAyMCIvPgogIDxlbGxpcHNlIGN4PSIzMi4wMDAyIiBjeT0iMzIiIHJ4PSIxMSIgcnk9IjExIiBmaWxsPSIjMzRFMEExIi8+Cjwvc3ZnPgo=",position:[32,32]},move:{svg:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iNDkuNjU4NyIgd2lkdGg9IjQyLjE5OTQiIHg9IjUiIHk9IjMiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQgZHk9IjQiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48ZyBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTE3LjUwMjIgNDQuNjU4Ni04LjUwMjItMzUuNTA1MDQgMzEuODY1NiAxOS42MDU2NC0xMy44NjU2IDUuMjQwOHoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48cGF0aCBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Im0xMi40OTQ5IDEzLjk1OTIgNS45Mzk2IDI0LjgwMzYgNi41NjU1LTYuNzYyOCA5Ljk0MDktNC4yMzM5eiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",position:[4,4]},pan:{svg:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iNDEiIHdpZHRoPSIzNyIgeD0iOSIgeT0iMTIiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQgZHk9IjIiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiBtb2RlPSJub3JtYWwiIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48Y2xpcFBhdGggaWQ9ImIiPjxwYXRoIGQ9Im04IDExaDM5djM5aC0zOXoiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD0idXJsKCNiKSI+PGcgZmlsdGVyPSJ1cmwoI2EpIj48cGF0aCBkPSJtMTMgMzMuOCA4LjA1NTYgOC4yNSAzLjIyMjIgMi40NzUgNC44MzMzIDIuNDc1aDYuNDQ0NWw0LjAyNzctMy4zIDIuNDE2Ny00Ljk1di0xMy4ybC0uODA1Ni0yLjQ3NS0xLjYxMTEtLjgyNS0yLjQxNjYuODI1di00LjEyNWwtLjgwNTYtMS42NS0yLjQxNjctLjgyNS0yLjQxNjYuODI1LS44MDU2LTIuNDc1LTEuNjExMS0uODI1LTIuNDE2Ny44MjUtLjgwNTUgNC4xMjVoLS44MDU2bC0yLjQxNjYtLjgyNS0xLjYxMTEuODI1djE1LjY3NWwtNS42Mzg5LTQuMTI1LTEuNjExMS44MjV6IiBmaWxsPSIjZmZmIi8+PC9nPjxnIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjEuNjI1Ij48cGF0aCBkPSJtMjYuMjIxNCAzMC40OTE5di0xMy41OTQ1YzAtMS40NjE3IDEuMTg3MS0yLjY0NzQgMi42NTA2LTIuNjQ3NCAxLjQ2MzYgMCAyLjY1MDcgMS4xODU3IDIuNjUwNyAyLjY0NzR2MTMuNTk0NS0xMS4xNTgyYzAtMS40NjE4IDEuMTg3LTIuNjQ3NCAyLjY1MDUtMi42NDc0czIuNjUwNiAxLjE4NTYgMi42NTA2IDIuNjQ3NHYxMS4xNTgyaC4wMTYydi01LjYzNTljMC0xLjM2NDQgMS4xODcxLTIuNDg1MSAyLjY1MDctMi40ODUxIDEuNDQ3MiAwIDIuNjM0MyAxLjEyMDcgMi42MzQzIDIuNDg1MXYxMi45NjA5YzAgNC45NTM4LTQuMjQ0MiA4LjkzMzEtOS41MjkyIDguOTMzMWgtMi4yNDM5Yy0yLjI0NDIgMC00LjI0NDItLjc0NzItNS44MjE2LTEuODY3OGwtMTAuODYyNi0xMC4wMzc0Yy0xLjA1NjktLjk5MDgtMS4wNTY5LTIuNjk2MiAwLTMuNjg3IDEuMDU3LS45OTA4IDIuNjUwNi0uNzc5NyAzLjcwNzYuMjExMWwzLjU0NSAzLjIxNTl2LTEzLjc4OTNjMC0xLjM2NDMgMS4xODcxLTIuNDg1IDIuNjUwNi0yLjQ4NXMyLjY1MDUgMS4xMjA3IDIuNjUwNSAyLjQ4NXY5LjgyNjQiLz48cGF0aCBkPSJtMjYuMjIxNCAzMC40OTE5di0xMy41OTQ1YzAtMS40NjE3IDEuMTg3MS0yLjY0NzQgMi42NTA2LTIuNjQ3NCAxLjQ2MzYgMCAyLjY1MDcgMS4xODU3IDIuNjUwNyAyLjY0NzR2MTMuNTk0NS0xMS4xNTgyYzAtMS40NjE4IDEuMTg3LTIuNjQ3NCAyLjY1MDUtMi42NDc0czIuNjUwNiAxLjE4NTYgMi42NTA2IDIuNjQ3NHYxMS4xNTgyaC4wMTYydi01LjYzNTljMC0xLjM2NDQgMS4xODcxLTIuNDg1MSAyLjY1MDctMi40ODUxIDEuNDQ3MiAwIDIuNjM0MyAxLjEyMDcgMi42MzQzIDIuNDg1MXYxMi45NjA5YzAgNC45NTM4LTQuMjQ0MiA4LjkzMzEtOS41MjkyIDguOTMzMWgtMi4yNDM5Yy0yLjI0NDIgMC00LjI0NDItLjc0NzItNS44MjE2LTEuODY3OGwtMTAuODYyNi0xMC4wMzc0Yy0xLjA1NjktLjk5MDgtMS4wNTY5LTIuNjk2MiAwLTMuNjg3IDEuMDU3LS45OTA4IDIuNjUwNi0uNzc5NyAzLjcwNzYuMjExMWwzLjU0NSAzLjIxNTl2LTEzLjc4OTNjMC0xLjM2NDMgMS4xODcxLTIuNDg1IDIuNjUwNi0yLjQ4NXMyLjY1MDUgMS4xMjA3IDIuNjUwNSAyLjQ4NXY5LjgyNjQiLz48L2c+PC9nPjwvc3ZnPg==",position:[4,4]},cross:{svg:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGZpbHRlciBpZD0iYSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGhlaWdodD0iNjkuMiIgd2lkdGg9IjY5LjIiIHg9Ii0yLjYiIHk9Ii0xLjYiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQgZHk9IjEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxLjMiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4zMiAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIG1vZGU9Im5vcm1hbCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjxnIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Im00NyAyOWgtMTIuMDJ2LTEyaC01Ljk2djEyaC0xMi4wMnY2aDEyLjAydjEyaDUuOTZ2LTEyaDEyLjAyeiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im00NSAzMS4wMmgtMTIuMDE4NXYtMTIuMDJoLTEuOTYzdjEyLjAyaC0xMi4wMTg1djEuOTZoMTIuMDE4NXYxMi4wMmgxLjk2M3YtMTIuMDJoMTIuMDE4NXoiIGZpbGw9IiMyMzIwMjAiLz48L2c+PC9zdmc+",position:[16,16]},include:{svg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2EpIj4KPHBhdGggZD0iTTguNDU1NTcgMy45MDg2OEw2LjM5NjAzIDIuNjQxODJMNi45NTkxNCA0Ljk5MzMyTDEzLjQ4MjEgMzIuMjMyOUwxMy45MDU1IDM0LjAwMTJMMTUuMTcyMSAzMi42OTY2TDIyLjI0MiAyNS40MTQxTDMyLjk3MzkgMjAuODQzM0wzNC43NTM5IDIwLjA4NTJMMzMuMTA1OSAxOS4wNzE1TDI2LjU4MTMgMTUuMDU4MUwxOS45OTIxIDExLjAwNUw4LjQ1NTU3IDMuOTA4NjhaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0yNS40MDEgMTcuMDFDMjkuMzUwNyAxNy4wMSAzMi41NTI1IDEzLjgwODIgMzIuNTUyNSA5Ljg1ODUzQzMyLjU1MjUgNS45MDg4NyAyOS4zNTA3IDIuNzA3MDMgMjUuNDAxIDIuNzA3MDNDMjEuNDUxMyAyLjcwNzAzIDE4LjI0OTUgNS45MDg4NiAxOC4yNDk1IDkuODU4NTNDMTguMjQ5NSAxMy44MDgyIDIxLjQ1MTMgMTcuMDEgMjUuNDAxIDE3LjAxWiIgZmlsbD0iYmxhY2siIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuODk3IDkuODgwMTdDMjAuODk3IDkuNTc2OTEgMjEuMTQyOCA5LjMzMTA3IDIxLjQ0NjEgOS4zMzEwN0gyOS4zOTk2QzI5LjcwMjkgOS4zMzEwNyAyOS45NDg4IDkuNTc2OTEgMjkuOTQ4OCA5Ljg4MDE3QzI5Ljk0ODggMTAuMTgzNCAyOS43MDI5IDEwLjQyOTMgMjkuMzk5NiAxMC40MjkzSDI1LjQyMjlIMjEuNDQ2MUMyMS4xNDI4IDEwLjQyOTMgMjAuODk3IDEwLjE4MzQgMjAuODk3IDkuODgwMTdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1LjQyMzEgNS4zNTQzNEMyNS43MjY0IDUuMzU0MzQgMjUuOTcyMiA1LjYwMDE4IDI1Ljk3MjIgNS45MDM0NFYxMy44NTdDMjUuOTcyMiAxNC4xNjAzIDI1LjcyNjQgMTQuNDA2MSAyNS40MjMxIDE0LjQwNjFDMjUuMTE5OSAxNC40MDYxIDI0Ljg3NCAxNC4xNjAzIDI0Ljg3NCAxMy44NTdWNS45MDM0NEMyNC44NzQgNS42MDAxOCAyNS4xMTk5IDUuMzU0MzQgMjUuNDIzMSA1LjM1NDM0WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGZpbHRlciBpZD0iYSIgeD0iMC44NjAzNTIiIHk9IjAuNTIzMjI0IiB3aWR0aD0iNDAuMDY1NCIgaGVpZ2h0PSI0My40NzkyIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjQiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd181Njk6MTk0NDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfNTY5OjE5NDQwIiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo=",position:[1,3.5]},exclude:{svg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2EpIj4KPHBhdGggZD0iTTguNTI0NDIgMy45MDg3MUw2LjQ2NDg4IDIuNjQxODVMNy4wMjc5OCA0Ljk5MzM1TDEzLjU1MDkgMzIuMjMyOUwxMy45NzQ0IDM0LjAwMTJMMTUuMjQwOSAzMi42OTY2TDIyLjMxMDkgMjUuNDE0MUwzMy4wNDI3IDIwLjg0MzNMMzQuODIyNyAyMC4wODUyTDMzLjE3NDggMTkuMDcxNUw4LjUyNDQyIDMuOTA4NzFaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0yNS40Njk5IDE3LjAxMDFDMjkuNDE5NSAxNy4wMTAxIDMyLjYyMTQgMTMuODA4MyAzMi42MjE0IDkuODU4NTlDMzIuNjIxNCA1LjkwODkzIDI5LjQxOTUgMi43MDcwOSAyNS40Njk5IDIuNzA3MDlDMjEuNTIwMiAyLjcwNzA5IDE4LjMxODQgNS45MDg5MyAxOC4zMTg0IDkuODU4NTlDMTguMzE4NCAxMy44MDgzIDIxLjUyMDIgMTcuMDEwMSAyNS40Njk5IDE3LjAxMDFaIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC45NjUzIDkuODgwMjJDMjAuOTY1MyA5LjU3Njk2IDIxLjIxMTIgOS4zMzExMiAyMS41MTQ0IDkuMzMxMTJIMjkuNDY4QzI5Ljc3MTMgOS4zMzExMiAzMC4wMTcxIDkuNTc2OTYgMzAuMDE3MSA5Ljg4MDIyQzMwLjAxNzEgMTAuMTgzNSAyOS43NzEzIDEwLjQyOTMgMjkuNDY4IDEwLjQyOTNIMjEuNTE0NEMyMS4yMTEyIDEwLjQyOTMgMjAuOTY1MyAxMC4xODM1IDIwLjk2NTMgOS44ODAyMloiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImEiIHg9IjAuOTI5MTk5IiB5PSIwLjUyMzIyNCIgd2lkdGg9IjQwLjA2NTQiIGhlaWdodD0iNDMuNDc5MiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPgo8ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0IGR5PSI0Ii8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfNTY5OjE5NDUzIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzU2OToxOTQ1MyIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K",position:[1,3.5]},nwseResize:{svg:o,position:[16,16]},neswResize:{svg:o,position:[16,16]},nsResize:{svg:n,position:[16,16]},ewResize:{svg:n,position:[16,16]},topLeftRotate:{svg:a,position:[16,16]},topRightRotate:{svg:a,position:[16,16]},bottomRightRotate:{svg:a,position:[16,16]},bottomLeftRotate:{svg:a,position:[16,16]}},u=[0,.694,.25],m=[.306,.412,.871],h=.15},"./app/gl2d/slug/slug.ts":(e,t,s)=>{"use strict";s.d(t,{W5:()=>w,ZP:()=>T});var o,n=s("./node_modules/msgpack5/index.js"),a=s.n(n),i=s("./app/utils/http.ts"),r=s("./node_modules/process/browser.js"),l=s("./node_modules/buffer/index.js").Buffer;const c=(o="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(o=o||__filename),function(e){var t,n;(e=void 0!==(e=e||{})?e:{}).ready=new Promise((function(e,s){t=e,n=s})),Object.getOwnPropertyDescriptor(e.ready,"_malloc")||(Object.defineProperty(e.ready,"_malloc",{configurable:!0,get:function(){ue("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_malloc",{configurable:!0,set:function(){ue("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_free")||(Object.defineProperty(e.ready,"_free",{configurable:!0,get:function(){ue("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_free",{configurable:!0,set:function(){ue("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_get_glyph_count")||(Object.defineProperty(e.ready,"_get_glyph_count",{configurable:!0,get:function(){ue("You are getting _get_glyph_count on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_get_glyph_count",{configurable:!0,set:function(){ue("You are setting _get_glyph_count on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_get_vertex_shader")||(Object.defineProperty(e.ready,"_get_vertex_shader",{configurable:!0,get:function(){ue("You are getting _get_vertex_shader on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_get_vertex_shader",{configurable:!0,set:function(){ue("You are setting _get_vertex_shader on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_get_fragment_shader")||(Object.defineProperty(e.ready,"_get_fragment_shader",{configurable:!0,get:function(){ue("You are getting _get_fragment_shader on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_get_fragment_shader",{configurable:!0,set:function(){ue("You are setting _get_fragment_shader on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_get_textures_for_font")||(Object.defineProperty(e.ready,"_get_textures_for_font",{configurable:!0,get:function(){ue("You are getting _get_textures_for_font on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_get_textures_for_font",{configurable:!0,set:function(){ue("You are setting _get_textures_for_font on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_build_slug")||(Object.defineProperty(e.ready,"_build_slug",{configurable:!0,get:function(){ue("You are getting _build_slug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_build_slug",{configurable:!0,set:function(){ue("You are setting _build_slug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_build_slug_multiline")||(Object.defineProperty(e.ready,"_build_slug_multiline",{configurable:!0,get:function(){ue("You are getting _build_slug_multiline on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_build_slug_multiline",{configurable:!0,set:function(){ue("You are setting _build_slug_multiline on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_build_fill")||(Object.defineProperty(e.ready,"_build_fill",{configurable:!0,get:function(){ue("You are getting _build_fill on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_build_fill",{configurable:!0,set:function(){ue("You are setting _build_fill on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_build_stroke")||(Object.defineProperty(e.ready,"_build_stroke",{configurable:!0,get:function(){ue("You are getting _build_stroke on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_build_stroke",{configurable:!0,set:function(){ue("You are setting _build_stroke on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_get_font_metrics")||(Object.defineProperty(e.ready,"_get_font_metrics",{configurable:!0,get:function(){ue("You are getting _get_font_metrics on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_get_font_metrics",{configurable:!0,set:function(){ue("You are setting _get_font_metrics on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_get_font_outline")||(Object.defineProperty(e.ready,"_get_font_outline",{configurable:!0,get:function(){ue("You are getting _get_font_outline on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_get_font_outline",{configurable:!0,set:function(){ue("You are setting _get_font_outline on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"___stdio_exit")||(Object.defineProperty(e.ready,"___stdio_exit",{configurable:!0,get:function(){ue("You are getting ___stdio_exit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"___stdio_exit",{configurable:!0,set:function(){ue("You are setting ___stdio_exit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"onRuntimeInitialized")||(Object.defineProperty(e.ready,"onRuntimeInitialized",{configurable:!0,get:function(){ue("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"onRuntimeInitialized",{configurable:!0,set:function(){ue("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var a=Object.assign({},e),i=[],c="./this.program",d="object"==typeof window,p="function"==typeof importScripts,u="object"==typeof r&&"object"==typeof r.versions&&"string"==typeof r.versions.node,m=!d&&!u&&!p;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var h,g,f,y,x,v,b="";if(u){if("object"!=typeof r)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");b=p?s("./node_modules/path-browserify/index.js").dirname(b)+"/":__dirname+"/",v=()=>{x||(y=s("?6090"),x=s("./node_modules/path-browserify/index.js"))},h=function(e,t){return v(),e=x.normalize(e),y.readFileSync(e,t?void 0:"utf8")},f=e=>{var t=h(e,!0);return t.buffer||(t=new Uint8Array(t)),P(t.buffer),t},g=(e,t,s)=>{v(),e=x.normalize(e),y.readFile(e,(function(e,o){e?s(e):t(o.buffer)}))},r.argv.length>1&&(c=r.argv[1].replace(/\\/g,"/")),i=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof tt))throw e})),r.on("unhandledRejection",(function(e){throw e})),e.inspect=function(){return"[Emscripten Module object]"}}else if(m){if("object"==typeof r||"object"==typeof window||"function"==typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");"undefined"!=typeof read&&(h=function(e){return read(e)}),f=function(e){let t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),P("object"==typeof t),t)},g=function(e,t,s){setTimeout((()=>t(f(e))),0)},"undefined"!=typeof scriptArgs?i=scriptArgs:void 0!==arguments&&(i=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)}else{if(!d&&!p)throw new Error("environment detection error");if(p?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),o&&(b=o),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"","object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");h=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},p&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),g=(e,t,s)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{200==o.status||0==o.status&&o.response?t(o.response):s()},o.onerror=s,o.send(null)}}var w,_,I=e.print||console.log.bind(console),T=e.printErr||console.warn.bind(console);function j(e){j.shown||(j.shown={}),j.shown[e]||(j.shown[e]=1,T(e))}function k(t,s){Object.getOwnPropertyDescriptor(e,t)||Object.defineProperty(e,t,{configurable:!0,get:function(){ue("Module."+t+" has been replaced with plain "+s+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function C(e,t){var s="'"+e+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";return t&&(s+=". Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you"),s}function E(t,s){Object.getOwnPropertyDescriptor(e,t)||Object.defineProperty(e,t,{configurable:!0,get:function(){ue(C(t,s))}})}function S(t,s){Object.getOwnPropertyDescriptor(e,t)||(e[t]=()=>ue(C(t,s)))}Object.assign(e,a),a=null,w="fetchSettings",Object.getOwnPropertyDescriptor(e,w)&&ue("`Module."+w+"` was supplied but `"+w+"` not included in INCOMING_MODULE_JS_API"),e.arguments&&(i=e.arguments),k("arguments","arguments_"),e.thisProgram&&(c=e.thisProgram),k("thisProgram","thisProgram"),e.quit&&e.quit,k("quit","quit_"),P(void 0===e.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),P(void 0===e.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),P(void 0===e.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),P(void 0===e.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),P(void 0===e.read,"Module.read option was removed (modify read_ in JS)"),P(void 0===e.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),P(void 0===e.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),P(void 0===e.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),P(void 0===e.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),k("read","read_"),k("readAsync","readAsync"),k("readBinary","readBinary"),k("setWindowTitle","setWindowTitle"),P(!m,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable."),e.wasmBinary&&(_=e.wasmBinary),k("wasmBinary","wasmBinary");var A;e.noExitRuntime;k("noExitRuntime","noExitRuntime"),"object"!=typeof WebAssembly&&ue("no native wasm support detected");var M=!1;function P(e,t){e||ue("Assertion failed"+(t?": "+t:""))}function N(t,s,o,n,a){var i={string:function(e){var t=0;if(null!=e&&0!==e){var s=1+(e.length<<2);W(e,t=et(s),s)}return t},array:function(e){var t=et(e.length);return Y(e,t),t}},r=function(t){var s=e["_"+t];return P(s,"Cannot call unknown function "+t+", make sure it is exported"),s}(t),l=[],c=0;if(P("array"!==s,'Return type should not be "array".'),n)for(var d=0;d<n.length;d++){var p=i[o[d]];p?(0===c&&(c=Ke()),l[d]=p(n[d])):l[d]=n[d]}var u=r.apply(null,l);return u=function(e){return 0!==c&&Qe(c),function(e){return"string"===s?F(e):"boolean"===s?Boolean(e):e}(e)}(u)}var D,O,L,R,Z,U,z,V,B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function G(e,t,s){for(var o=t+s,n=t;e[n]&&!(n>=o);)++n;if(n-t>16&&e.buffer&&B)return B.decode(e.subarray(t,n));for(var a="";t<n;){var i=e[t++];if(128&i){var r=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if(224==(240&i)?i=(15&i)<<12|r<<6|l:(240!=(248&i)&&j("Invalid UTF-8 leading byte 0x"+i.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),i=(7&i)<<18|r<<12|l<<6|63&e[t++]),i<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|r)}else a+=String.fromCharCode(i)}return a}function F(e,t){return e?G(L,e,t):""}function $(e,t,s,o){if(!(o>0))return 0;for(var n=s,a=s+o-1,i=0;i<e.length;++i){var r=e.charCodeAt(i);if(r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127){if(s>=a)break;t[s++]=r}else if(r<=2047){if(s+1>=a)break;t[s++]=192|r>>6,t[s++]=128|63&r}else if(r<=65535){if(s+2>=a)break;t[s++]=224|r>>12,t[s++]=128|r>>6&63,t[s++]=128|63&r}else{if(s+3>=a)break;r>1114111&&j("Invalid Unicode code point 0x"+r.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[s++]=240|r>>18,t[s++]=128|r>>12&63,t[s++]=128|r>>6&63,t[s++]=128|63&r}}return t[s]=0,s-n}function W(e,t,s){return P("number"==typeof s,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),$(e,L,t,s)}function H(e){for(var t=0,s=0;s<e.length;++s){var o=e.charCodeAt(s);o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127?++t:t+=o<=2047?2:o<=65535?3:4}return t}function Y(e,t){P(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),O.set(e,t)}function X(t){D=t,e.HEAP8=O=new Int8Array(t),e.HEAP16=R=new Int16Array(t),e.HEAP32=Z=new Int32Array(t),e.HEAPU8=L=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=U=new Uint32Array(t),e.HEAPF32=z=new Float32Array(t),e.HEAPF64=V=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var q=5242880;e.TOTAL_STACK&&P(q===e.TOTAL_STACK,"the stack size can no longer be determined at runtime");var J,K=e.INITIAL_MEMORY||16777216;function Q(){var e=Je();P(0==(3&e)),Z[e>>2]=34821223,Z[e+4>>2]=2310721022,Z[0]=1668509029}function ee(){if(!M){var e=Je(),t=U[e>>2],s=U[e+4>>2];34821223==t&&2310721022==s||ue("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+s.toString(16)+" 0x"+t.toString(16)),1668509029!==Z[0]&&ue("Runtime error: The application has corrupted its heap memory area (address zero)!")}}k("INITIAL_MEMORY","INITIAL_MEMORY"),P(K>=q,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+K+"! (TOTAL_STACK="+q+")"),P("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),P(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),P(16777216==K,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically"),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"}();var te=[],se=[],oe=[],ne=!1;P(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ae=0,ie=null,re=null,le={};function ce(e){for(var t=e;;){if(!le[e])return e;e=t+Math.random()}}function de(t){ae++,e.monitorRunDependencies&&e.monitorRunDependencies(ae),t?(P(!le[t]),le[t]=1,null===ie&&"undefined"!=typeof setInterval&&(ie=setInterval((function(){if(M)return clearInterval(ie),void(ie=null);var e=!1;for(var t in le)e||(e=!0,T("still waiting on run dependencies:")),T("dependency: "+t);e&&T("(end of list)")}),1e4))):T("warning: run dependency added without ID")}function pe(t){if(ae--,e.monitorRunDependencies&&e.monitorRunDependencies(ae),t?(P(le[t]),delete le[t]):T("warning: run dependency removed without ID"),0==ae&&(null!==ie&&(clearInterval(ie),ie=null),re)){var s=re;re=null,s()}}function ue(t){e.onAbort&&e.onAbort(t),T(t="Aborted("+t+")"),M=!0;var s=new WebAssembly.RuntimeError(t);throw n(s),s}e.preloadedImages={},e.preloadedAudios={};var me,he,ge,fe,ye="data:application/octet-stream;base64,";function xe(e){return e.startsWith(ye)}function ve(e){return e.startsWith("file://")}function be(t,s){return function(){var o=t,n=s;return s||(n=e.asm),P(ne,"native function `"+o+"` called before runtime initialization"),n[t]||P(n[t],"exported native function `"+o+"` not found"),n[t].apply(null,arguments)}}function we(e){try{if(e==me&&_)return new Uint8Array(_);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){ue(e)}}function _e(t){for(;t.length>0;){var s=t.shift();if("function"!=typeof s){var o=s.func;"number"==typeof o?void 0===s.arg?je(o)():je(o)(s.arg):o(void 0===s.arg?null:s.arg)}else s(e)}}function Ie(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){var t,s=(t=e,j("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===s?e:s+" ["+e+"]"}))}xe(me="slugWASM.20a75d9fac365a428680d1c06f866f25670414cd.wasm")||(he=me,me=e.locateFile?e.locateFile(he,b):b+he);var Te=[];function je(e){var t=Te[e];return t||(e>=Te.length&&(Te.length=e+1),Te[e]=t=J.get(e)),P(J.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t}function ke(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){Z[this.ptr+4>>2]=e},this.get_type=function(){return Z[this.ptr+4>>2]},this.set_destructor=function(e){Z[this.ptr+8>>2]=e},this.get_destructor=function(){return Z[this.ptr+8>>2]},this.set_refcount=function(e){Z[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,O[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=O[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,O[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=O[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=Z[this.ptr>>2];Z[this.ptr>>2]=e+1},this.release_ref=function(){var e=Z[this.ptr>>2];return Z[this.ptr>>2]=e-1,P(e>0),1===e}}function Ce(e){try{return A.grow(e-D.byteLength+65535>>>16),X(A.buffer),1}catch(t){T("emscripten_realloc_buffer: Attempted to grow heap from "+D.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}var Ee={};function Se(){if(!Se.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in Ee)void 0===Ee[t]?delete e[t]:e[t]=Ee[t];var s=[];for(var t in e)s.push(t+"="+e[t]);Se.strings=s}return Se.strings}var Ae={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var s=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),s++):s&&(e.splice(o,1),s--)}if(t)for(;s;s--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),s="/"===e.substr(-1);return(e=Ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&s&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Ae.splitPath(e),s=t[0],o=t[1];return s||o?(o&&(o=o.substr(0,o.length-1)),s+o):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Ae.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Ae.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ae.normalize(e.join("/"))},join2:function(e,t){return Ae.normalize(e+"/"+t)}},Me={resolve:function(){for(var e="",t=!1,s=arguments.length-1;s>=-1&&!t;s--){var o=s>=0?arguments[s]:Le.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";e=o+"/"+e,t="/"===o.charAt(0)}return(t?"/":"")+(e=Ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function s(e){for(var t=0;t<e.length&&""===e[t];t++);for(var s=e.length-1;s>=0&&""===e[s];s--);return t>s?[]:e.slice(t,s-t+1)}e=Me.resolve(e).substr(1),t=Me.resolve(t).substr(1);for(var o=s(e.split("/")),n=s(t.split("/")),a=Math.min(o.length,n.length),i=a,r=0;r<a;r++)if(o[r]!==n[r]){i=r;break}var l=[];for(r=i;r<o.length;r++)l.push("..");return(l=l.concat(n.slice(i))).join("/")}},Pe={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Pe.ttys[e]={input:[],output:[],ops:t},Le.registerDevice(e,Pe.stream_ops)},stream_ops:{open:function(e){var t=Pe.ttys[e.node.rdev];if(!t)throw new Le.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,s,o,n){if(!e.tty||!e.tty.ops.get_char)throw new Le.ErrnoError(60);for(var a=0,i=0;i<o;i++){var r;try{r=e.tty.ops.get_char(e.tty)}catch(e){throw new Le.ErrnoError(29)}if(void 0===r&&0===a)throw new Le.ErrnoError(6);if(null==r)break;a++,t[s+i]=r}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,s,o,n){if(!e.tty||!e.tty.ops.put_char)throw new Le.ErrnoError(60);try{for(var a=0;a<o;a++)e.tty.ops.put_char(e.tty,t[s+a])}catch(e){throw new Le.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(u){var s=l.alloc(256),o=0;try{o=y.readSync(r.stdin.fd,s,0,256,-1)}catch(e){if(!e.toString().includes("EOF"))throw e;o=0}t=o>0?s.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=$e(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(I(G(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(I(G(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(T(G(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(T(G(e.output,0)),e.output=[])}}},Ne={ops_table:null,mount:function(e){return Ne.createNode(null,"/",16895,0)},createNode:function(e,t,s,o){if(Le.isBlkdev(s)||Le.isFIFO(s))throw new Le.ErrnoError(63);Ne.ops_table||(Ne.ops_table={dir:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr,lookup:Ne.node_ops.lookup,mknod:Ne.node_ops.mknod,rename:Ne.node_ops.rename,unlink:Ne.node_ops.unlink,rmdir:Ne.node_ops.rmdir,readdir:Ne.node_ops.readdir,symlink:Ne.node_ops.symlink},stream:{llseek:Ne.stream_ops.llseek}},file:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr},stream:{llseek:Ne.stream_ops.llseek,read:Ne.stream_ops.read,write:Ne.stream_ops.write,allocate:Ne.stream_ops.allocate,mmap:Ne.stream_ops.mmap,msync:Ne.stream_ops.msync}},link:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr,readlink:Ne.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr},stream:Le.chrdev_stream_ops}});var n=Le.createNode(e,t,s,o);return Le.isDir(n.mode)?(n.node_ops=Ne.ops_table.dir.node,n.stream_ops=Ne.ops_table.dir.stream,n.contents={}):Le.isFile(n.mode)?(n.node_ops=Ne.ops_table.file.node,n.stream_ops=Ne.ops_table.file.stream,n.usedBytes=0,n.contents=null):Le.isLink(n.mode)?(n.node_ops=Ne.ops_table.link.node,n.stream_ops=Ne.ops_table.link.stream):Le.isChrdev(n.mode)&&(n.node_ops=Ne.ops_table.chrdev.node,n.stream_ops=Ne.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n,e.timestamp=n.timestamp),n},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var s=e.contents?e.contents.length:0;if(!(s>=t)){t=Math.max(t,s*(s<1048576?2:1.125)>>>0),0!=s&&(t=Math.max(t,256));var o=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var s=e.contents;e.contents=new Uint8Array(t),s&&e.contents.set(s.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Le.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Le.isDir(e.mode)?t.size=4096:Le.isFile(e.mode)?t.size=e.usedBytes:Le.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ne.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Le.genericErrors[44]},mknod:function(e,t,s,o){return Ne.createNode(e,t,s,o)},rename:function(e,t,s){if(Le.isDir(e.mode)){var o;try{o=Le.lookupNode(t,s)}catch(e){}if(o)for(var n in o.contents)throw new Le.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=s,t.contents[s]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var s=Le.lookupNode(e,t);for(var o in s.contents)throw new Le.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var s in e.contents)e.contents.hasOwnProperty(s)&&t.push(s);return t},symlink:function(e,t,s){var o=Ne.createNode(e,t,41471,0);return o.link=s,o},readlink:function(e){if(!Le.isLink(e.mode))throw new Le.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,s,o,n){var a=e.node.contents;if(n>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-n,o);if(P(i>=0),i>8&&a.subarray)t.set(a.subarray(n,n+i),s);else for(var r=0;r<i;r++)t[s+r]=a[n+r];return i},write:function(e,t,s,o,n,a){if(P(!(t instanceof ArrayBuffer)),t.buffer===O.buffer&&(a=!1),!o)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(a)return P(0===n,"canOwn must imply no weird position inside the file"),i.contents=t.subarray(s,s+o),i.usedBytes=o,o;if(0===i.usedBytes&&0===n)return i.contents=t.slice(s,s+o),i.usedBytes=o,o;if(n+o<=i.usedBytes)return i.contents.set(t.subarray(s,s+o),n),o}if(Ne.expandFileStorage(i,n+o),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(s,s+o),n);else for(var r=0;r<o;r++)i.contents[n+r]=t[s+r];return i.usedBytes=Math.max(i.usedBytes,n+o),o},llseek:function(e,t,s){var o=t;if(1===s?o+=e.position:2===s&&Le.isFile(e.node.mode)&&(o+=e.node.usedBytes),o<0)throw new Le.ErrnoError(28);return o},allocate:function(e,t,s){Ne.expandFileStorage(e.node,t+s),e.node.usedBytes=Math.max(e.node.usedBytes,t+s)},mmap:function(e,t,s,o,n,a){if(0!==t)throw new Le.ErrnoError(28);if(!Le.isFile(e.node.mode))throw new Le.ErrnoError(43);var i,r,l=e.node.contents;if(2&a||l.buffer!==D){if((o>0||o+s<l.length)&&(l=l.subarray?l.subarray(o,o+s):Array.prototype.slice.call(l,o,o+s)),r=!0,!(i=void ue("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")))throw new Le.ErrnoError(48);O.set(l,i)}else r=!1,i=l.byteOffset;return{ptr:i,allocated:r}},msync:function(e,t,s,o,n){if(!Le.isFile(e.node.mode))throw new Le.ErrnoError(43);return 2&n||Ne.stream_ops.write(e,t,0,o,s,!1),0}}},De={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Oe={},Le={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=Me.resolve(Le.cwd(),e)))return{path:"",node:null};if(t=Object.assign({follow_mount:!0,recurse_count:0},t),t.recurse_count>8)throw new Le.ErrnoError(32);for(var s=Ae.normalizeArray(e.split("/").filter((e=>!!e)),!1),o=Le.root,n="/",a=0;a<s.length;a++){var i=a===s.length-1;if(i&&t.parent)break;if(o=Le.lookupNode(o,s[a]),n=Ae.join2(n,s[a]),Le.isMountpoint(o)&&(!i||i&&t.follow_mount)&&(o=o.mounted.root),!i||t.follow)for(var r=0;Le.isLink(o.mode);){var l=Le.readlink(n);if(n=Me.resolve(Ae.dirname(n),l),o=Le.lookupPath(n,{recurse_count:t.recurse_count+1}).node,r++>40)throw new Le.ErrnoError(32)}}return{path:n,node:o}},getPath:e=>{for(var t;;){if(Le.isRoot(e)){var s=e.mount.mountpoint;return t?"/"!==s[s.length-1]?s+"/"+t:s+t:s}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:(e,t)=>{for(var s=0,o=0;o<t.length;o++)s=(s<<5)-s+t.charCodeAt(o)|0;return(e+s>>>0)%Le.nameTable.length},hashAddNode:e=>{var t=Le.hashName(e.parent.id,e.name);e.name_next=Le.nameTable[t],Le.nameTable[t]=e},hashRemoveNode:e=>{var t=Le.hashName(e.parent.id,e.name);if(Le.nameTable[t]===e)Le.nameTable[t]=e.name_next;else for(var s=Le.nameTable[t];s;){if(s.name_next===e){s.name_next=e.name_next;break}s=s.name_next}},lookupNode:(e,t)=>{var s=Le.mayLookup(e);if(s)throw new Le.ErrnoError(s,e);for(var o=Le.hashName(e.id,t),n=Le.nameTable[o];n;n=n.name_next){var a=n.name;if(n.parent.id===e.id&&a===t)return n}return Le.lookup(e,t)},createNode:(e,t,s,o)=>{P("object"==typeof e);var n=new Le.FSNode(e,t,s,o);return Le.hashAddNode(n),n},destroyNode:e=>{Le.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>49152==(49152&e),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var t=Le.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:e=>{var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>Le.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2,mayLookup:e=>{var t=Le.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:(e,t)=>{try{return Le.lookupNode(e,t),20}catch(e){}return Le.nodePermissions(e,"wx")},mayDelete:(e,t,s)=>{var o;try{o=Le.lookupNode(e,t)}catch(e){return e.errno}var n=Le.nodePermissions(e,"wx");if(n)return n;if(s){if(!Le.isDir(o.mode))return 54;if(Le.isRoot(o)||Le.getPath(o)===Le.cwd())return 10}else if(Le.isDir(o.mode))return 31;return 0},mayOpen:(e,t)=>e?Le.isLink(e.mode)?32:Le.isDir(e.mode)&&("r"!==Le.flagsToPermissionString(t)||512&t)?31:Le.nodePermissions(e,Le.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.MAX_OPEN_FDS;for(var s=e;s<=t;s++)if(!Le.streams[s])return s;throw new Le.ErrnoError(33)},getStream:e=>Le.streams[e],createStream:(e,t,s)=>{Le.FSStream||(Le.FSStream=function(){},Le.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}),e=Object.assign(new Le.FSStream,e);var o=Le.nextfd(t,s);return e.fd=o,Le.streams[o]=e,e},closeStream:e=>{Le.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=Le.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new Le.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{Le.devices[e]={stream_ops:t}},getDevice:e=>Le.devices[e],getMounts:e=>{for(var t=[],s=[e];s.length;){var o=s.pop();t.push(o),s.push.apply(s,o.mounts)}return t},syncfs:(e,t)=>{"function"==typeof e&&(t=e,e=!1),Le.syncFSRequests++,Le.syncFSRequests>1&&T("warning: "+Le.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var s=Le.getMounts(Le.root.mount),o=0;function n(e){return P(Le.syncFSRequests>0),Le.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,n(e));++o>=s.length&&n(null)}s.forEach((t=>{if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:(e,t,s)=>{if("string"==typeof e)throw e;var o,n="/"===s,a=!s;if(n&&Le.root)throw new Le.ErrnoError(10);if(!n&&!a){var i=Le.lookupPath(s,{follow_mount:!1});if(s=i.path,o=i.node,Le.isMountpoint(o))throw new Le.ErrnoError(10);if(!Le.isDir(o.mode))throw new Le.ErrnoError(54)}var r={type:e,opts:t,mountpoint:s,mounts:[]},l=e.mount(r);return l.mount=r,r.root=l,n?Le.root=l:o&&(o.mounted=r,o.mount&&o.mount.mounts.push(r)),l},unmount:e=>{var t=Le.lookupPath(e,{follow_mount:!1});if(!Le.isMountpoint(t.node))throw new Le.ErrnoError(28);var s=t.node,o=s.mounted,n=Le.getMounts(o);Object.keys(Le.nameTable).forEach((e=>{for(var t=Le.nameTable[e];t;){var s=t.name_next;n.includes(t.mount)&&Le.destroyNode(t),t=s}})),s.mounted=null;var a=s.mount.mounts.indexOf(o);P(-1!==a),s.mount.mounts.splice(a,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,s)=>{var o=Le.lookupPath(e,{parent:!0}).node,n=Ae.basename(e);if(!n||"."===n||".."===n)throw new Le.ErrnoError(28);var a=Le.mayCreate(o,n);if(a)throw new Le.ErrnoError(a);if(!o.node_ops.mknod)throw new Le.ErrnoError(63);return o.node_ops.mknod(o,n,t,s)},create:(e,t)=>(t=void 0!==t?t:438,t&=4095,t|=32768,Le.mknod(e,t,0)),mkdir:(e,t)=>(t=void 0!==t?t:511,t&=1023,t|=16384,Le.mknod(e,t,0)),mkdirTree:(e,t)=>{for(var s=e.split("/"),o="",n=0;n<s.length;++n)if(s[n]){o+="/"+s[n];try{Le.mkdir(o,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,s)=>(void 0===s&&(s=t,t=438),t|=8192,Le.mknod(e,t,s)),symlink:(e,t)=>{if(!Me.resolve(e))throw new Le.ErrnoError(44);var s=Le.lookupPath(t,{parent:!0}).node;if(!s)throw new Le.ErrnoError(44);var o=Ae.basename(t),n=Le.mayCreate(s,o);if(n)throw new Le.ErrnoError(n);if(!s.node_ops.symlink)throw new Le.ErrnoError(63);return s.node_ops.symlink(s,o,e)},rename:(e,t)=>{var s,o,n=Ae.dirname(e),a=Ae.dirname(t),i=Ae.basename(e),r=Ae.basename(t);if(s=Le.lookupPath(e,{parent:!0}).node,o=Le.lookupPath(t,{parent:!0}).node,!s||!o)throw new Le.ErrnoError(44);if(s.mount!==o.mount)throw new Le.ErrnoError(75);var l,c=Le.lookupNode(s,i),d=Me.relative(e,a);if("."!==d.charAt(0))throw new Le.ErrnoError(28);if("."!==(d=Me.relative(t,n)).charAt(0))throw new Le.ErrnoError(55);try{l=Le.lookupNode(o,r)}catch(e){}if(c!==l){var p=Le.isDir(c.mode),u=Le.mayDelete(s,i,p);if(u)throw new Le.ErrnoError(u);if(u=l?Le.mayDelete(o,r,p):Le.mayCreate(o,r))throw new Le.ErrnoError(u);if(!s.node_ops.rename)throw new Le.ErrnoError(63);if(Le.isMountpoint(c)||l&&Le.isMountpoint(l))throw new Le.ErrnoError(10);if(o!==s&&(u=Le.nodePermissions(s,"w")))throw new Le.ErrnoError(u);Le.hashRemoveNode(c);try{s.node_ops.rename(c,o,r)}catch(e){throw e}finally{Le.hashAddNode(c)}}},rmdir:e=>{var t=Le.lookupPath(e,{parent:!0}).node,s=Ae.basename(e),o=Le.lookupNode(t,s),n=Le.mayDelete(t,s,!0);if(n)throw new Le.ErrnoError(n);if(!t.node_ops.rmdir)throw new Le.ErrnoError(63);if(Le.isMountpoint(o))throw new Le.ErrnoError(10);t.node_ops.rmdir(t,s),Le.destroyNode(o)},readdir:e=>{var t=Le.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Le.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var t=Le.lookupPath(e,{parent:!0}).node;if(!t)throw new Le.ErrnoError(44);var s=Ae.basename(e),o=Le.lookupNode(t,s),n=Le.mayDelete(t,s,!1);if(n)throw new Le.ErrnoError(n);if(!t.node_ops.unlink)throw new Le.ErrnoError(63);if(Le.isMountpoint(o))throw new Le.ErrnoError(10);t.node_ops.unlink(t,s),Le.destroyNode(o)},readlink:e=>{var t=Le.lookupPath(e).node;if(!t)throw new Le.ErrnoError(44);if(!t.node_ops.readlink)throw new Le.ErrnoError(28);return Me.resolve(Le.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,t)=>{var s=Le.lookupPath(e,{follow:!t}).node;if(!s)throw new Le.ErrnoError(44);if(!s.node_ops.getattr)throw new Le.ErrnoError(63);return s.node_ops.getattr(s)},lstat:e=>Le.stat(e,!0),chmod:(e,t,s)=>{var o;if(!(o="string"==typeof e?Le.lookupPath(e,{follow:!s}).node:e).node_ops.setattr)throw new Le.ErrnoError(63);o.node_ops.setattr(o,{mode:4095&t|-4096&o.mode,timestamp:Date.now()})},lchmod:(e,t)=>{Le.chmod(e,t,!0)},fchmod:(e,t)=>{var s=Le.getStream(e);if(!s)throw new Le.ErrnoError(8);Le.chmod(s.node,t)},chown:(e,t,s,o)=>{var n;if(!(n="string"==typeof e?Le.lookupPath(e,{follow:!o}).node:e).node_ops.setattr)throw new Le.ErrnoError(63);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:(e,t,s)=>{Le.chown(e,t,s,!0)},fchown:(e,t,s)=>{var o=Le.getStream(e);if(!o)throw new Le.ErrnoError(8);Le.chown(o.node,t,s)},truncate:(e,t)=>{if(t<0)throw new Le.ErrnoError(28);var s;if(!(s="string"==typeof e?Le.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Le.ErrnoError(63);if(Le.isDir(s.mode))throw new Le.ErrnoError(31);if(!Le.isFile(s.mode))throw new Le.ErrnoError(28);var o=Le.nodePermissions(s,"w");if(o)throw new Le.ErrnoError(o);s.node_ops.setattr(s,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var s=Le.getStream(e);if(!s)throw new Le.ErrnoError(8);if(0==(2097155&s.flags))throw new Le.ErrnoError(28);Le.truncate(s.node,t)},utime:(e,t,s)=>{var o=Le.lookupPath(e,{follow:!0}).node;o.node_ops.setattr(o,{timestamp:Math.max(t,s)})},open:(t,s,o,n,a)=>{if(""===t)throw new Le.ErrnoError(44);var i;if(o=void 0===o?438:o,o=64&(s="string"==typeof s?Le.modeStringToFlags(s):s)?4095&o|32768:0,"object"==typeof t)i=t;else{t=Ae.normalize(t);try{i=Le.lookupPath(t,{follow:!(131072&s)}).node}catch(e){}}var r=!1;if(64&s)if(i){if(128&s)throw new Le.ErrnoError(20)}else i=Le.mknod(t,o,0),r=!0;if(!i)throw new Le.ErrnoError(44);if(Le.isChrdev(i.mode)&&(s&=-513),65536&s&&!Le.isDir(i.mode))throw new Le.ErrnoError(54);if(!r){var l=Le.mayOpen(i,s);if(l)throw new Le.ErrnoError(l)}512&s&&Le.truncate(i,0),s&=-131713;var c=Le.createStream({node:i,path:Le.getPath(i),flags:s,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,a);return c.stream_ops.open&&c.stream_ops.open(c),!e.logReadFiles||1&s||(Le.readFiles||(Le.readFiles={}),t in Le.readFiles||(Le.readFiles[t]=1)),c},close:e=>{if(Le.isClosed(e))throw new Le.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Le.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,t,s)=>{if(Le.isClosed(e))throw new Le.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Le.ErrnoError(70);if(0!=s&&1!=s&&2!=s)throw new Le.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,s),e.ungotten=[],e.position},read:(e,t,s,o,n)=>{if(o<0||n<0)throw new Le.ErrnoError(28);if(Le.isClosed(e))throw new Le.ErrnoError(8);if(1==(2097155&e.flags))throw new Le.ErrnoError(8);if(Le.isDir(e.node.mode))throw new Le.ErrnoError(31);if(!e.stream_ops.read)throw new Le.ErrnoError(28);var a=void 0!==n;if(a){if(!e.seekable)throw new Le.ErrnoError(70)}else n=e.position;var i=e.stream_ops.read(e,t,s,o,n);return a||(e.position+=i),i},write:(e,t,s,o,n,a)=>{if(o<0||n<0)throw new Le.ErrnoError(28);if(Le.isClosed(e))throw new Le.ErrnoError(8);if(0==(2097155&e.flags))throw new Le.ErrnoError(8);if(Le.isDir(e.node.mode))throw new Le.ErrnoError(31);if(!e.stream_ops.write)throw new Le.ErrnoError(28);e.seekable&&1024&e.flags&&Le.llseek(e,0,2);var i=void 0!==n;if(i){if(!e.seekable)throw new Le.ErrnoError(70)}else n=e.position;var r=e.stream_ops.write(e,t,s,o,n,a);return i||(e.position+=r),r},allocate:(e,t,s)=>{if(Le.isClosed(e))throw new Le.ErrnoError(8);if(t<0||s<=0)throw new Le.ErrnoError(28);if(0==(2097155&e.flags))throw new Le.ErrnoError(8);if(!Le.isFile(e.node.mode)&&!Le.isDir(e.node.mode))throw new Le.ErrnoError(43);if(!e.stream_ops.allocate)throw new Le.ErrnoError(138);e.stream_ops.allocate(e,t,s)},mmap:(e,t,s,o,n,a)=>{if(0!=(2&n)&&0==(2&a)&&2!=(2097155&e.flags))throw new Le.ErrnoError(2);if(1==(2097155&e.flags))throw new Le.ErrnoError(2);if(!e.stream_ops.mmap)throw new Le.ErrnoError(43);return e.stream_ops.mmap(e,t,s,o,n,a)},msync:(e,t,s,o,n)=>e&&e.stream_ops.msync?e.stream_ops.msync(e,t,s,o,n):0,munmap:e=>0,ioctl:(e,t,s)=>{if(!e.stream_ops.ioctl)throw new Le.ErrnoError(59);return e.stream_ops.ioctl(e,t,s)},readFile:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var s,o=Le.open(e,t.flags),n=Le.stat(e).size,a=new Uint8Array(n);return Le.read(o,a,0,n,0),"utf8"===t.encoding?s=G(a,0):"binary"===t.encoding&&(s=a),Le.close(o),s},writeFile:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.flags=s.flags||577;var o=Le.open(e,s.flags,s.mode);if("string"==typeof t){var n=new Uint8Array(H(t)+1),a=$(t,n,0,n.length);Le.write(o,n,0,a,void 0,s.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Le.write(o,t,0,t.byteLength,void 0,s.canOwn)}Le.close(o)},cwd:()=>Le.currentPath,chdir:e=>{var t=Le.lookupPath(e,{follow:!0});if(null===t.node)throw new Le.ErrnoError(44);if(!Le.isDir(t.node.mode))throw new Le.ErrnoError(54);var s=Le.nodePermissions(t.node,"x");if(s)throw new Le.ErrnoError(s);Le.currentPath=t.path},createDefaultDirectories:()=>{Le.mkdir("/tmp"),Le.mkdir("/home"),Le.mkdir("/home/web_user")},createDefaultDevices:()=>{Le.mkdir("/dev"),Le.registerDevice(Le.makedev(1,3),{read:()=>0,write:(e,t,s,o,n)=>o}),Le.mkdev("/dev/null",Le.makedev(1,3)),Pe.register(Le.makedev(5,0),Pe.default_tty_ops),Pe.register(Le.makedev(6,0),Pe.default_tty1_ops),Le.mkdev("/dev/tty",Le.makedev(5,0)),Le.mkdev("/dev/tty1",Le.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(u)try{var t=s("./node_modules/crypto-browserify/index.js");return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){ue("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}();Le.createDevice("/dev","random",e),Le.createDevice("/dev","urandom",e),Le.mkdir("/dev/shm"),Le.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{Le.mkdir("/proc");var e=Le.mkdir("/proc/self");Le.mkdir("/proc/self/fd"),Le.mount({mount:()=>{var t=Le.createNode(e,"fd",16895,73);return t.node_ops={lookup:(e,t)=>{var s=+t,o=Le.getStream(s);if(!o)throw new Le.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>o.path}};return n.parent=n,n}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?Le.createDevice("/dev","stdin",e.stdin):Le.symlink("/dev/tty","/dev/stdin"),e.stdout?Le.createDevice("/dev","stdout",null,e.stdout):Le.symlink("/dev/tty","/dev/stdout"),e.stderr?Le.createDevice("/dev","stderr",null,e.stderr):Le.symlink("/dev/tty1","/dev/stderr");var t=Le.open("/dev/stdin",0),s=Le.open("/dev/stdout",1),o=Le.open("/dev/stderr",1);P(0===t.fd,"invalid handle for stdin ("+t.fd+")"),P(1===s.fd,"invalid handle for stdout ("+s.fd+")"),P(2===o.fd,"invalid handle for stderr ("+o.fd+")")},ensureErrnoError:()=>{Le.ErrnoError||(Le.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,Oe)if(Oe[t]===e){this.code=t;break}},this.setErrno(e),this.message=De[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=Ie(this.stack))},Le.ErrnoError.prototype=new Error,Le.ErrnoError.prototype.constructor=Le.ErrnoError,[44].forEach((e=>{Le.genericErrors[e]=new Le.ErrnoError(e),Le.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{Le.ensureErrnoError(),Le.nameTable=new Array(4096),Le.mount(Ne,{},"/"),Le.createDefaultDirectories(),Le.createDefaultDevices(),Le.createSpecialDirectories(),Le.filesystems={MEMFS:Ne}},init:(t,s,o)=>{P(!Le.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Le.init.initialized=!0,Le.ensureErrnoError(),e.stdin=t||e.stdin,e.stdout=s||e.stdout,e.stderr=o||e.stderr,Le.createStandardStreams()},quit:()=>{Le.init.initialized=!1,Xe();for(var e=0;e<Le.streams.length;e++){var t=Le.streams[e];t&&Le.close(t)}},getMode:(e,t)=>{var s=0;return e&&(s|=365),t&&(s|=146),s},findObject:(e,t)=>{var s=Le.analyzePath(e,t);return s.exists?s.object:null},analyzePath:(e,t)=>{try{e=(o=Le.lookupPath(e,{follow:!t})).path}catch(e){}var s={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=Le.lookupPath(e,{parent:!0});s.parentExists=!0,s.parentPath=o.path,s.parentObject=o.node,s.name=Ae.basename(e),o=Le.lookupPath(e,{follow:!t}),s.exists=!0,s.path=o.path,s.object=o.node,s.name=o.node.name,s.isRoot="/"===o.path}catch(e){s.error=e.errno}return s},createPath:(e,t,s,o)=>{e="string"==typeof e?e:Le.getPath(e);for(var n=t.split("/").reverse();n.length;){var a=n.pop();if(a){var i=Ae.join2(e,a);try{Le.mkdir(i)}catch(e){}e=i}}return i},createFile:(e,t,s,o,n)=>{var a=Ae.join2("string"==typeof e?e:Le.getPath(e),t),i=Le.getMode(o,n);return Le.create(a,i)},createDataFile:(e,t,s,o,n,a)=>{var i=t;e&&(e="string"==typeof e?e:Le.getPath(e),i=t?Ae.join2(e,t):e);var r=Le.getMode(o,n),l=Le.create(i,r);if(s){if("string"==typeof s){for(var c=new Array(s.length),d=0,p=s.length;d<p;++d)c[d]=s.charCodeAt(d);s=c}Le.chmod(l,146|r);var u=Le.open(l,577);Le.write(u,s,0,s.length,0,a),Le.close(u),Le.chmod(l,r)}return l},createDevice:(e,t,s,o)=>{var n=Ae.join2("string"==typeof e?e:Le.getPath(e),t),a=Le.getMode(!!s,!!o);Le.createDevice.major||(Le.createDevice.major=64);var i=Le.makedev(Le.createDevice.major++,0);return Le.registerDevice(i,{open:e=>{e.seekable=!1},close:e=>{o&&o.buffer&&o.buffer.length&&o(10)},read:(e,t,o,n,a)=>{for(var i=0,r=0;r<n;r++){var l;try{l=s()}catch(e){throw new Le.ErrnoError(29)}if(void 0===l&&0===i)throw new Le.ErrnoError(6);if(null==l)break;i++,t[o+r]=l}return i&&(e.node.timestamp=Date.now()),i},write:(e,t,s,n,a)=>{for(var i=0;i<n;i++)try{o(t[s+i])}catch(e){throw new Le.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),i}}),Le.mkdev(n,a,i)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!h)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=$e(h(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Le.ErrnoError(29)}},createLazyFile:(e,t,s,o,n)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,s=e/this.chunkSize|0;return this.getter(s)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",s,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+s+". Status: "+e.status);var t,o=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,i=1048576;n||(i=o);var r=this;r.setDataGetter((e=>{var t=e*i,n=(e+1)*i-1;if(n=Math.min(n,o-1),void 0===r.chunks[e]&&(r.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>o-1)throw new Error("only "+o+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",s,!1),o!==i&&n.setRequestHeader("Range","bytes="+e+"-"+t),n.responseType="arraybuffer",n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+s+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):$e(n.responseText||"",!0)})(t,n)),void 0===r.chunks[e])throw new Error("doXHR failed!");return r.chunks[e]})),!a&&o||(i=o=1,o=this.getter(0).length,i=o,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=o,this._chunkSize=i,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new a;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var r={isDevice:!1,contents:i}}else r={isDevice:!1,url:s};var l=Le.createFile(e,t,r,o,n);r.contents?l.contents=r.contents:r.url&&(l.contents=null,l.url=r.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(l.stream_ops).forEach((e=>{var t=l.stream_ops[e];c[e]=function(){return Le.forceLoadFile(l),t.apply(null,arguments)}})),c.read=(e,t,s,o,n)=>{Le.forceLoadFile(l);var a=e.node.contents;if(n>=a.length)return 0;var i=Math.min(a.length-n,o);if(P(i>=0),a.slice)for(var r=0;r<i;r++)t[s+r]=a[n+r];else for(r=0;r<i;r++)t[s+r]=a.get(n+r);return i},l.stream_ops=c,l},createPreloadedFile:(e,t,s,o,n,a,i,r,l,c)=>{var d=t?Me.resolve(Ae.join2(e,t)):e,p=ce("cp "+d);function u(s){function u(s){c&&c(),r||Le.createDataFile(e,t,s,o,n,l),a&&a(),pe(p)}Browser.handledByPreloadPlugin(s,d,u,(()=>{i&&i(),pe(p)}))||u(s)}de(p),"string"==typeof s?function(e,t,s,o){var n=o?"":ce("al "+e);g(e,(function(s){P(s,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(s)),n&&pe(n)}),(function(t){if(!s)throw'Loading data file "'+e+'" failed.';s()})),n&&de(n)}(s,(e=>u(e)),i):u(s)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,t,s)=>{t=t||(()=>{}),s=s||(()=>{});var o=Le.indexedDB();try{var n=o.open(Le.DB_NAME(),Le.DB_VERSION)}catch(e){return s(e)}n.onupgradeneeded=()=>{I("creating db"),n.result.createObjectStore(Le.DB_STORE_NAME)},n.onsuccess=()=>{var o=n.result.transaction([Le.DB_STORE_NAME],"readwrite"),a=o.objectStore(Le.DB_STORE_NAME),i=0,r=0,l=e.length;function c(){0==r?t():s()}e.forEach((e=>{var t=a.put(Le.analyzePath(e).object.contents,e);t.onsuccess=()=>{++i+r==l&&c()},t.onerror=()=>{r++,i+r==l&&c()}})),o.onerror=s},n.onerror=s},loadFilesFromDB:(e,t,s)=>{t=t||(()=>{}),s=s||(()=>{});var o=Le.indexedDB();try{var n=o.open(Le.DB_NAME(),Le.DB_VERSION)}catch(e){return s(e)}n.onupgradeneeded=s,n.onsuccess=()=>{var o=n.result;try{var a=o.transaction([Le.DB_STORE_NAME],"readonly")}catch(e){return void s(e)}var i=a.objectStore(Le.DB_STORE_NAME),r=0,l=0,c=e.length;function d(){0==l?t():s()}e.forEach((e=>{var t=i.get(e);t.onsuccess=()=>{Le.analyzePath(e).exists&&Le.unlink(e),Le.createDataFile(Ae.dirname(e),Ae.basename(e),t.result,!0,!0,!0),++r+l==c&&d()},t.onerror=()=>{l++,r+l==c&&d()}})),a.onerror=s},n.onerror=s},absolutePath:()=>{ue("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:()=>{ue("FS.createFolder has been removed; use FS.mkdir instead")},createLink:()=>{ue("FS.createLink has been removed; use FS.symlink instead")},joinPath:()=>{ue("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:()=>{ue("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:()=>{ue("FS.standardizePath has been removed; use PATH.normalize instead")}},Re={DEFAULT_POLLMASK:5,calculateAt:function(e,t,s){if("/"===t[0])return t;var o;if(-100===e)o=Le.cwd();else{var n=Le.getStream(e);if(!n)throw new Le.ErrnoError(8);o=n.path}if(0==t.length){if(!s)throw new Le.ErrnoError(44);return o}return Ae.join2(o,t)},doStat:function(e,t,s){try{var o=e(t)}catch(e){if(e&&e.node&&Ae.normalize(t)!==Ae.normalize(Le.getPath(e.node)))return-54;throw e}return Z[s>>2]=o.dev,Z[s+4>>2]=0,Z[s+8>>2]=o.ino,Z[s+12>>2]=o.mode,Z[s+16>>2]=o.nlink,Z[s+20>>2]=o.uid,Z[s+24>>2]=o.gid,Z[s+28>>2]=o.rdev,Z[s+32>>2]=0,fe=[o.size>>>0,(ge=o.size,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],Z[s+40>>2]=fe[0],Z[s+44>>2]=fe[1],Z[s+48>>2]=4096,Z[s+52>>2]=o.blocks,Z[s+56>>2]=o.atime.getTime()/1e3|0,Z[s+60>>2]=0,Z[s+64>>2]=o.mtime.getTime()/1e3|0,Z[s+68>>2]=0,Z[s+72>>2]=o.ctime.getTime()/1e3|0,Z[s+76>>2]=0,fe=[o.ino>>>0,(ge=o.ino,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],Z[s+80>>2]=fe[0],Z[s+84>>2]=fe[1],0},doMsync:function(e,t,s,o,n){var a=L.slice(e,e+s);Le.msync(t,a,n,s,o)},doMkdir:function(e,t){return"/"===(e=Ae.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Le.mkdir(e,t,0),0},doMknod:function(e,t,s){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Le.mknod(e,t,s),0},doReadlink:function(e,t,s){if(s<=0)return-28;var o=Le.readlink(e),n=Math.min(s,H(o)),a=O[t+n];return W(o,t,s+1),O[t+n]=a,n},doAccess:function(e,t){if(-8&t)return-28;var s=Le.lookupPath(e,{follow:!0}).node;if(!s)return-44;var o="";return 4&t&&(o+="r"),2&t&&(o+="w"),1&t&&(o+="x"),o&&Le.nodePermissions(s,o)?-2:0},doReadv:function(e,t,s,o){for(var n=0,a=0;a<s;a++){var i=Z[t+8*a>>2],r=Z[t+(8*a+4)>>2],l=Le.read(e,O,i,r,o);if(l<0)return-1;if(n+=l,l<r)break}return n},doWritev:function(e,t,s,o){for(var n=0,a=0;a<s;a++){var i=Z[t+8*a>>2],r=Z[t+(8*a+4)>>2],l=Le.write(e,O,i,r,o);if(l<0)return-1;n+=l}return n},varargs:void 0,get:function(){return P(null!=Re.varargs),Re.varargs+=4,Z[Re.varargs-4>>2]},getStr:function(e){return F(e)},getStreamFromFD:function(e){var t=Le.getStream(e);if(!t)throw new Le.ErrnoError(8);return t},get64:function(e,t){return P(e>=0?0===t:-1===t),e}};function Ze(e){return e%4==0&&(e%100!=0||e%400==0)}var Ue=[31,29,31,30,31,30,31,31,30,31,30,31],ze=[31,28,31,30,31,30,31,31,30,31,30,31];function Ve(e,t,s,o){var n=Z[o+40>>2],a={tm_sec:Z[o>>2],tm_min:Z[o+4>>2],tm_hour:Z[o+8>>2],tm_mday:Z[o+12>>2],tm_mon:Z[o+16>>2],tm_year:Z[o+20>>2],tm_wday:Z[o+24>>2],tm_yday:Z[o+28>>2],tm_isdst:Z[o+32>>2],tm_gmtoff:Z[o+36>>2],tm_zone:n?F(n):""},i=F(s),r={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in r)i=i.replace(new RegExp(l,"g"),r[l]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(e,t,s){for(var o="number"==typeof e?e.toString():e||"";o.length<t;)o=s[0]+o;return o}function u(e,t){return p(e,t,"0")}function m(e,t){function s(e){return e<0?-1:e>0?1:0}var o;return 0===(o=s(e.getFullYear()-t.getFullYear()))&&0===(o=s(e.getMonth()-t.getMonth()))&&(o=s(e.getDate()-t.getDate())),o}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var t=function(e,t){for(var s=new Date(e.getTime());t>0;){var o=Ze(s.getFullYear()),n=s.getMonth(),a=(o?Ue:ze)[n];if(!(t>a-s.getDate()))return s.setDate(s.getDate()+t),s;t-=a-s.getDate()+1,s.setDate(1),n<11?s.setMonth(n+1):(s.setMonth(0),s.setFullYear(s.getFullYear()+1))}return s}(new Date(e.tm_year+1900,0,1),e.tm_yday),s=new Date(t.getFullYear(),0,4),o=new Date(t.getFullYear()+1,0,4),n=h(s),a=h(o);return m(n,t)<=0?m(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return d[e.tm_mon].substring(0,3)},"%B":function(e){return d[e.tm_mon]},"%C":function(e){return u((e.tm_year+1900)/100|0,2)},"%d":function(e){return u(e.tm_mday,2)},"%e":function(e){return p(e.tm_mday,2," ")},"%g":function(e){return g(e).toString().substring(2)},"%G":function(e){return g(e)},"%H":function(e){return u(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),u(t,2)},"%j":function(e){return u(e.tm_mday+function(e,t){for(var s=0,o=0;o<=t;s+=e[o++]);return s}(Ze(e.tm_year+1900)?Ue:ze,e.tm_mon-1),3)},"%m":function(e){return u(e.tm_mon+1,2)},"%M":function(e){return u(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return u(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return u(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var s=(e.tm_wday+371-e.tm_yday)%7;4==s||3==s&&Ze(e.tm_year)||(t=1)}}else{t=52;var o=(e.tm_wday+7-e.tm_yday-1)%7;(4==o||5==o&&Ze(e.tm_year%400-1))&&t++}return u(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return u(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,s=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(s?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var l in i=i.replace(/%%/g,"\0\0"),f)i.includes(l)&&(i=i.replace(new RegExp(l,"g"),f[l](a)));var y=$e(i=i.replace(/\0\0/g,"%"),!1);return y.length>t?0:(Y(y,e),y.length-1)}var Be=function(e,t,s,o){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Le.nextInode++,this.name=t,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=o},Ge=365,Fe=146;function $e(e,t,s){var o=s>0?s:H(e)+1,n=new Array(o),a=$(e,n,0,n.length);return t&&(n.length=a),n}Object.defineProperties(Be.prototype,{read:{get:function(){return(this.mode&Ge)===Ge},set:function(e){e?this.mode|=Ge:this.mode&=-366}},write:{get:function(){return(this.mode&Fe)===Fe},set:function(e){e?this.mode|=Fe:this.mode&=-147}},isFolder:{get:function(){return Le.isDir(this.mode)}},isDevice:{get:function(){return Le.isChrdev(this.mode)}}}),Le.FSNode=Be,Le.staticInit(),Oe={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var We,He={__cxa_allocate_exception:function(e){return Ye(e+16)+16},__cxa_throw:function(e,t,s){throw new ke(e).init(t,s),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."},abort:function(){ue("native code called abort()")},emscripten_memcpy_big:function(e,t,s){L.copyWithin(e,t,t+s)},emscripten_resize_heap:function(e){var t=L.length;P((e>>>=0)>t);var s,o,n=2147483648;if(e>n)return T("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+n+" bytes!"),!1;for(var a=1;a<=4;a*=2){var i=t*(1+.2/a);i=Math.min(i,e+100663296);var r=Math.min(n,(s=Math.max(e,i))+((o=65536)-s%o)%o);if(Ce(r))return!0}return T("Failed to grow the heap from "+t+" bytes to "+r+" bytes, not enough memory!"),!1},environ_get:function(e,t){var s=0;return Se().forEach((function(o,n){var a=t+s;Z[e+4*n>>2]=a,function(e,t,s){for(var o=0;o<e.length;++o)P(e.charCodeAt(o)===(255&e.charCodeAt(o))),O[t++>>0]=e.charCodeAt(o);s||(O[t>>0]=0)}(o,a),s+=o.length+1})),0},environ_sizes_get:function(e,t){var s=Se();Z[e>>2]=s.length;var o=0;return s.forEach((function(e){o+=e.length+1})),Z[t>>2]=o,0},fd_close:function(e){try{var t=Re.getStreamFromFD(e);return Le.close(t),0}catch(e){if(void 0===Le||!(e instanceof Le.ErrnoError))throw e;return e.errno}},fd_read:function(e,t,s,o){try{var n=Re.getStreamFromFD(e),a=Re.doReadv(n,t,s);return Z[o>>2]=a,0}catch(e){if(void 0===Le||!(e instanceof Le.ErrnoError))throw e;return e.errno}},fd_seek:function(e,t,s,o,n){try{var a=Re.getStreamFromFD(e),i=4294967296*s+(t>>>0),r=9007199254740992;return i<=-r||i>=r?-61:(Le.llseek(a,i,o),fe=[a.position>>>0,(ge=a.position,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],Z[n>>2]=fe[0],Z[n+4>>2]=fe[1],a.getdents&&0===i&&0===o&&(a.getdents=null),0)}catch(e){if(void 0===Le||!(e instanceof Le.ErrnoError))throw e;return e.errno}},fd_write:function(e,t,s,o){try{var n=Re.getStreamFromFD(e),a=Re.doWritev(n,t,s);return Z[o>>2]=a,0}catch(e){if(void 0===Le||!(e instanceof Le.ErrnoError))throw e;return e.errno}},setTempRet0:function(e){},strftime_l:function(e,t,s,o){return Ve(e,t,s,o)}},Ye=(function(){var t={env:He,wasi_snapshot_preview1:He};function s(t,s){var o,n=t.exports;e.asm=n,P(A=e.asm.memory,"memory not found in wasm exports"),X(A.buffer),P(J=e.asm.__indirect_function_table,"table not found in wasm exports"),o=e.asm.__wasm_call_ctors,se.unshift(o),pe("wasm-instantiate")}de("wasm-instantiate");var o=e;function a(t){P(e===o,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),o=null,s(t.instance)}function i(e){return function(){if(!_&&(d||p)){if("function"==typeof fetch&&!ve(me))return fetch(me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+me+"'";return e.arrayBuffer()})).catch((function(){return we(me)}));if(g)return new Promise((function(e,t){g(me,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return we(me)}))}().then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(e,(function(e){T("failed to asynchronously prepare wasm: "+e),ve(me)&&T("warning: Loading from a file URI ("+me+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),ue(e)}))}if(e.instantiateWasm)try{return e.instantiateWasm(t,s)}catch(e){return T("Module.instantiateWasm callback failed with error: "+e),!1}(_||"function"!=typeof WebAssembly.instantiateStreaming||xe(me)||ve(me)||"function"!=typeof fetch?i(a):fetch(me,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(a,(function(e){return T("wasm streaming compile failed: "+e),T("falling back to ArrayBuffer instantiation"),i(a)}))}))).catch(n)}(),e.___wasm_call_ctors=be("__wasm_call_ctors"),e._malloc=be("malloc")),Xe=(e._free=be("free"),e.___errno_location=be("__errno_location"),e._get_glyph_count=be("get_glyph_count"),e._get_vertex_shader=be("get_vertex_shader"),e._get_fragment_shader=be("get_fragment_shader"),e._get_textures_for_font=be("get_textures_for_font"),e._build_slug=be("build_slug"),e._build_slug_multiline=be("build_slug_multiline"),e._build_fill=be("build_fill"),e._build_stroke=be("build_stroke"),e._get_font_metrics=be("get_font_metrics"),e._get_font_outline=be("get_font_outline"),e.___stdio_exit=be("__stdio_exit")),qe=e._emscripten_stack_init=function(){return(qe=e._emscripten_stack_init=e.asm.emscripten_stack_init).apply(null,arguments)},Je=(e._emscripten_stack_get_free=function(){return(e._emscripten_stack_get_free=e.asm.emscripten_stack_get_free).apply(null,arguments)},e._emscripten_stack_get_base=function(){return(e._emscripten_stack_get_base=e.asm.emscripten_stack_get_base).apply(null,arguments)},e._emscripten_stack_get_end=function(){return(Je=e._emscripten_stack_get_end=e.asm.emscripten_stack_get_end).apply(null,arguments)}),Ke=e.stackSave=be("stackSave"),Qe=e.stackRestore=be("stackRestore"),et=e.stackAlloc=be("stackAlloc");function tt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function st(s){function o(){We||(We=!0,e.calledRun=!0,M||(ee(),P(!ne),ne=!0,e.noFSInit||Le.init.initialized||Le.init(),Le.ignorePermissions=!1,Pe.init(),_e(se),t(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),P(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(ee(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),oe.unshift(t);var t;_e(oe)}()))}s=s||i,ae>0||(qe(),Q(),function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),te.unshift(t);var t;_e(te)}(),ae>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),o()}),1)):o(),ee()))}if(e.dynCall_jiji=be("dynCall_jiji"),e.dynCall_viijii=be("dynCall_viijii"),e.dynCall_iiiiij=be("dynCall_iiiiij"),e.dynCall_iiiiijj=be("dynCall_iiiiijj"),e.dynCall_iiiiiijj=be("dynCall_iiiiiijj"),S("intArrayFromString",!1),S("intArrayToString",!1),e.ccall=N,e.cwrap=function(e,t,s,o){return function(){return N(e,t,s,arguments)}},S("setValue",!1),e.getValue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch("*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return O[e>>0];case"i16":return R[e>>1];case"i32":case"i64":return Z[e>>2];case"float":return z[e>>2];case"double":return Number(V[e>>3]);default:ue("invalid type for getValue: "+t)}return null},S("allocate",!1),S("UTF8ArrayToString",!1),S("UTF8ToString",!1),S("stringToUTF8Array",!1),S("stringToUTF8",!1),S("lengthBytesUTF8",!1),S("stackTrace",!1),S("addOnPreRun",!1),S("addOnInit",!1),S("addOnPreMain",!1),S("addOnExit",!1),S("addOnPostRun",!1),S("writeStringToMemory",!1),S("writeArrayToMemory",!1),S("writeAsciiToMemory",!1),S("addRunDependency",!0),S("removeRunDependency",!0),S("FS_createFolder",!1),S("FS_createPath",!0),S("FS_createDataFile",!0),S("FS_createPreloadedFile",!0),S("FS_createLazyFile",!0),S("FS_createLink",!1),S("FS_createDevice",!0),S("FS_unlink",!0),S("getLEB",!1),S("getFunctionTables",!1),S("alignFunctionTables",!1),S("registerFunctions",!1),S("addFunction",!1),S("removeFunction",!1),S("getFuncWrapper",!1),S("prettyPrint",!1),S("dynCall",!1),S("getCompilerSetting",!1),S("print",!1),S("printErr",!1),S("getTempRet0",!1),S("setTempRet0",!1),S("callMain",!1),S("abort",!1),S("keepRuntimeAlive",!1),S("zeroMemory",!1),S("stringToNewUTF8",!1),S("emscripten_realloc_buffer",!1),S("ENV",!1),S("ERRNO_CODES",!1),S("ERRNO_MESSAGES",!1),S("setErrNo",!1),S("inetPton4",!1),S("inetNtop4",!1),S("inetPton6",!1),S("inetNtop6",!1),S("readSockaddr",!1),S("writeSockaddr",!1),S("DNS",!1),S("getHostByName",!1),S("Protocols",!1),S("Sockets",!1),S("getRandomDevice",!1),S("traverseStack",!1),S("UNWIND_CACHE",!1),S("convertPCtoSourceLocation",!1),S("readAsmConstArgsArray",!1),S("readAsmConstArgs",!1),S("mainThreadEM_ASM",!1),S("jstoi_q",!1),S("jstoi_s",!1),S("getExecutableName",!1),S("listenOnce",!1),S("autoResumeAudioContext",!1),S("dynCallLegacy",!1),S("getDynCaller",!1),S("dynCall",!1),S("handleException",!1),S("runtimeKeepalivePush",!1),S("runtimeKeepalivePop",!1),S("callUserCallback",!1),S("maybeExit",!1),S("safeSetTimeout",!1),S("asmjsMangle",!1),S("asyncLoad",!1),S("alignMemory",!1),S("mmapAlloc",!1),S("reallyNegative",!1),S("unSign",!1),S("reSign",!1),S("formatString",!1),S("PATH",!1),S("PATH_FS",!1),S("SYSCALLS",!1),S("getSocketFromFD",!1),S("getSocketAddress",!1),S("JSEvents",!1),S("registerKeyEventCallback",!1),S("specialHTMLTargets",!1),S("maybeCStringToJsString",!1),S("findEventTarget",!1),S("findCanvasEventTarget",!1),S("getBoundingClientRect",!1),S("fillMouseEventData",!1),S("registerMouseEventCallback",!1),S("registerWheelEventCallback",!1),S("registerUiEventCallback",!1),S("registerFocusEventCallback",!1),S("fillDeviceOrientationEventData",!1),S("registerDeviceOrientationEventCallback",!1),S("fillDeviceMotionEventData",!1),S("registerDeviceMotionEventCallback",!1),S("screenOrientation",!1),S("fillOrientationChangeEventData",!1),S("registerOrientationChangeEventCallback",!1),S("fillFullscreenChangeEventData",!1),S("registerFullscreenChangeEventCallback",!1),S("registerRestoreOldStyle",!1),S("hideEverythingExceptGivenElement",!1),S("restoreHiddenElements",!1),S("setLetterbox",!1),S("currentFullscreenStrategy",!1),S("restoreOldWindowedStyle",!1),S("softFullscreenResizeWebGLRenderTarget",!1),S("doRequestFullscreen",!1),S("fillPointerlockChangeEventData",!1),S("registerPointerlockChangeEventCallback",!1),S("registerPointerlockErrorEventCallback",!1),S("requestPointerLock",!1),S("fillVisibilityChangeEventData",!1),S("registerVisibilityChangeEventCallback",!1),S("registerTouchEventCallback",!1),S("fillGamepadEventData",!1),S("registerGamepadEventCallback",!1),S("registerBeforeUnloadEventCallback",!1),S("fillBatteryEventData",!1),S("battery",!1),S("registerBatteryEventCallback",!1),S("setCanvasElementSize",!1),S("getCanvasElementSize",!1),S("demangle",!1),S("demangleAll",!1),S("jsStackTrace",!1),S("stackTrace",!1),S("getEnvStrings",!1),S("checkWasiClock",!1),S("writeI53ToI64",!1),S("writeI53ToI64Clamped",!1),S("writeI53ToI64Signaling",!1),S("writeI53ToU64Clamped",!1),S("writeI53ToU64Signaling",!1),S("readI53FromI64",!1),S("readI53FromU64",!1),S("convertI32PairToI53",!1),S("convertU32PairToI53",!1),S("setImmediateWrapped",!1),S("clearImmediateWrapped",!1),S("polyfillSetImmediate",!1),S("uncaughtExceptionCount",!1),S("exceptionLast",!1),S("exceptionCaught",!1),S("ExceptionInfo",!1),S("CatchInfo",!1),S("exception_addRef",!1),S("exception_decRef",!1),S("Browser",!1),S("funcWrappers",!1),S("getFuncWrapper",!1),S("setMainLoop",!1),S("wget",!1),S("FS",!1),S("MEMFS",!1),S("TTY",!1),S("PIPEFS",!1),S("SOCKFS",!1),S("_setNetworkCallback",!1),S("tempFixedLengthArray",!1),S("miniTempWebGLFloatBuffers",!1),S("heapObjectForWebGLType",!1),S("heapAccessShiftForWebGLHeap",!1),S("GL",!1),S("emscriptenWebGLGet",!1),S("computeUnpackAlignedImageSize",!1),S("emscriptenWebGLGetTexPixelData",!1),S("emscriptenWebGLGetUniform",!1),S("webglGetUniformLocation",!1),S("webglPrepareUniformLocationsBeforeFirstUse",!1),S("webglGetLeftBracePos",!1),S("emscriptenWebGLGetVertexAttrib",!1),S("emscriptenWebGLGetBufferBinding",!1),S("emscriptenWebGLValidateMapBufferTarget",!1),S("writeGLArray",!1),S("AL",!1),S("SDL_unicode",!1),S("SDL_ttfContext",!1),S("SDL_audio",!1),S("SDL",!1),S("SDL_gfx",!1),S("GLUT",!1),S("EGL",!1),S("GLFW_Window",!1),S("GLFW",!1),S("GLEW",!1),S("IDBStore",!1),S("runAndAbortIfError",!1),S("emscriptenWebGLGetIndexed",!1),S("warnOnce",!1),S("stackSave",!1),S("stackRestore",!1),S("stackAlloc",!1),S("AsciiToString",!1),S("stringToAscii",!1),S("UTF16ToString",!1),S("stringToUTF16",!1),S("lengthBytesUTF16",!1),S("UTF32ToString",!1),S("stringToUTF32",!1),S("lengthBytesUTF32",!1),S("allocateUTF8",!1),S("allocateUTF8OnStack",!1),e.writeStackCookie=Q,e.checkStackCookie=ee,E("ALLOC_NORMAL",!1),E("ALLOC_STACK",!1),re=function e(){We||st(),We||(re=e)},e.run=st,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return st(),e.ready}),d=e=>{const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(e),new Float32Array(t)},p=e=>{const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(e),new Uint16Array(t)};var u=s("./node_modules/@sentry/core/esm/exports.js"),m=s("./app/gl2d/shaders/render_slug_shape.frag"),h=s.n(m),g=s("./app/gl2d/shaders/render_slug_shape.vert"),f=s.n(g),y=s("./app/gl2d/shaders/render_slug_text.frag"),x=s.n(y),v=s("./app/gl2d/shaders/render_slug_text.vert"),b=s.n(v);let w=function(e){return e[e.FLAT=0]="FLAT",e[e.SQAURE=1]="SQAURE",e[e.ROUND=2]="ROUND",e}({});const _=a()();class I{static instance=null;readyPromise;Module;build_slug;build_fill;build_stroke;ready=!1;constructor(){this.readyPromise=this.setup()}async setup(){try{this.Module=await(0,i.XD)((()=>c()),{retries:5}),this.build_slug=this.Module.cwrap("build_slug_multiline","number",["number","number","number","number","number","number"]),this.build_fill=this.Module.cwrap("build_fill","number",["number","number","number"]),this.build_stroke=this.Module.cwrap("build_stroke","number",["number","number","number"]),this.ready=!0}catch(e){(0,u.Tb)("Slug: Error Loading",e)}}async onReady(e){await this.readyPromise,e()}allocateBuffer(e){const t=this.Module._malloc(e.byteLength);return new Uint8Array(this.Module.HEAPU8.buffer,t,e.byteLength).set(new Uint8Array(e)),[t,e.length]}allocateMsgPackBuffer(e){const t=(new(a())).encode(e);return this.allocateBuffer(t)}async getShaders(){await this.readyPromise;const{Module:e}=this;let t=e.ccall("get_vertex_shader","string",[],[]),s=e.ccall("get_fragment_shader","string",[],[]);return t=t.replace("#version 330","#version 300 es"),t+=b(),s=s.replace("#version 330","#version 300 es"),s+=x(),{vertexShaderSource:t,fragmentShaderSource:s}}async getShapeShaders(){await this.readyPromise;const{Module:e}=this;let t=e.ccall("get_vertex_shader","string",[],[]),s=e.ccall("get_fragment_shader","string",[],[]);return t=t.replace("#version 330","#version 300 es"),t+=f(),s=s.replace("#version 330","#version 300 es"),s+=h(),{vertexShaderSource:t,fragmentShaderSource:s}}async getTextures(e){await this.readyPromise;const{Module:t}=this,s=t.cwrap("get_textures_for_font","number",["number","number"]),o=t._malloc(8),n=s(e,o),a=t.getValue(o,"i64"),i=new Uint8Array(t.HEAPU8.subarray(n,n+a));t._free(n);try{const e=_.decode(i);return e.bandTextureData=p(e.bandTextureData),e.curveTextureData=p(e.curveTextureData),e}catch(e){throw(0,u.Tb)("Slug: Error decoding slugData (textures)",e),e}}buildFill(e){if(!this.ready)throw Error("Cannot build fill before ready");const{Module:t}=this,[s,o]=this.allocateMsgPackBuffer(e),n=t._malloc(8),a=this.build_fill(s,o,n),i=t.getValue(n,"i64"),r=new Uint8Array(t.HEAPU8.subarray(a,a+i));t._free(a);try{const e=_.decode(r);return e.vertexBuffer_position=d(e.vertexBuffer_position),e.vertexBuffer_texcoord=d(e.vertexBuffer_texcoord),e.vertexBuffer_jacobian=d(e.vertexBuffer_jacobian),e.vertexBuffer_banding=d(e.vertexBuffer_banding),e.triangleBuffer=p(e.triangleBuffer),e.bandTextureData=p(e.bandTextureData),e.curveTextureData=p(e.curveTextureData),e}catch(e){throw(0,u.Tb)("Slug: Error decoding slugData (buildFill)",e),e}}buildStroke(e){if(!this.ready)throw Error("Cannot build fill before ready");const{Module:t}=this,[s,o]=this.allocateMsgPackBuffer(e),n=t._malloc(8),a=this.build_stroke(s,o,n),i=t.getValue(n,"i64"),r=new Uint8Array(t.HEAPU8.subarray(a,a+i));t._free(a);try{const e=_.decode(r);return e.vertexBuffer_position=d(e.vertexBuffer_position),e.vertexBuffer_texcoord=d(e.vertexBuffer_texcoord),e.vertexBuffer_jacobian=d(e.vertexBuffer_jacobian),e.vertexBuffer_banding=d(e.vertexBuffer_banding),e.triangleBuffer=p(e.triangleBuffer),e.bandTextureData=p(e.bandTextureData),e.curveTextureData=p(e.curveTextureData),e}catch(e){throw(0,u.Tb)("Slug: Error decoding slugData (buildStroke)",e),e}}async buildSlug(e,t){const{fontBuffer:s,...o}=t;await this.readyPromise;const{Module:n}=this,[a]=this.allocateBuffer((e=>{const t=unescape(encodeURIComponent(e)),s=new ArrayBuffer(t.length+1),o=new Uint8Array(s);for(let e=0,s=t.length;e<s;e++)o[e]=t.charCodeAt(e);return o[t.length]=0,o})(e)),[i,r]=this.allocateMsgPackBuffer(o),l=n._malloc(8),c=this.build_slug(s,a,o.maxSpan,i,r,l),m=n.getValue(l,"i64"),h=new Uint8Array(n.HEAPU8.subarray(c,c+m));n._free(c);try{const e=_.decode(h);return e.vertexBuffer_position=d(e.vertexBuffer_position),e.vertexBuffer_texcoord=d(e.vertexBuffer_texcoord),e.vertexBuffer_jacobian=d(e.vertexBuffer_jacobian),e.vertexBuffer_banding=d(e.vertexBuffer_banding),e.triangleBuffer=p(e.triangleBuffer),e}catch(e){throw(0,u.Tb)("Slug: Error decoding slugData (buildSlug)",e),e}}async getFontMetrics(e){await this.readyPromise;const{Module:t}=this,s=t._malloc(8),o=t.cwrap("get_font_metrics","number",["number","number"])(e,s),n=t.getValue(s,"i64"),a=new Uint8Array(t.HEAPU8.subarray(o,o+n));t._free(o);try{return _.decode(a)}catch(e){throw(0,u.Tb)("Slug: Error decoding slugData (metrics)",e),e}}async getFontOutline(e){await this.readyPromise;const{Module:t}=this,s=t._malloc(8),o=t.cwrap("get_font_outline","number",["number","number"])(e,s),n=t.getValue(s,"i64"),a=new Uint8Array(t.HEAPU8.subarray(o,o+n));t._free(o);try{return _.decode(a)}catch(e){throw(0,u.Tb)("Slug: Error decoding slugData (outline)",e),e}}static singleton(){return I.instance||(I.instance=new I),I.instance}}const T=I},"./app/gl2d/utils.ts":(e,t,s)=>{"use strict";s.d(t,{DO:()=>g,DS:()=>f,Ht:()=>l,Ud:()=>d,ZJ:()=>p,am:()=>y,fY:()=>h,fw:()=>m,oo:()=>u,rc:()=>r,vi:()=>c});var o=s("./node_modules/framesync/dist/es/index.mjs"),n=s("./node_modules/lodash/lodash.js"),a=s.n(n),i=s("./app/gl2d/constants.ts");const r=a().memoize((e=>{const t=document.createElement("div");t.style.color=e,document.body.appendChild(t);const s=window.getComputedStyle(t).color;document.body.removeChild(t);const o=s.replace(/[^\d,.%]/g,"").split(",").map(parseFloat);return 3===o.length&&o.push(1),[o[0]/255,o[1]/255,o[2]/255,o[3]]})),l=e=>e*(Math.PI/180),c=e=>e*(180/Math.PI),d=(e,t)=>{const s=l(e);return{x:t*Math.cos(s),y:t*Math.sin(s)}},p=e=>[(e>>0&255)/255,(e>>8&255)/255,(e>>16&255)/255],u=(e,t)=>[e,t,0,t,e,0,0,0];class m{callback;_active=!1;constructor(e){this.callback=e}start(){if(this._active)return;this._active=!0;let e=null;const t=()=>{if(!this._active)return;o.ZP.read(t);const s=performance.now(),n=e?s-e:0;e=s,this.callback({timeDiff:n})};t()}stop(){this._active=!1}}const h=e=>e&&void 0!==e.clientX&&void 0!==e.clientY?{x:e.clientX,y:e.clientY}:e?.touches&&e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:null,g=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=["children","ref","key","style","forwardedRef"];for(const[o,n]of Object.entries(s)){if("on"===o.slice(0,2)){const t=o.substr(2).toLowerCase();i.dx.includes(t)&&e.off(t,n)}else Object.keys(t).includes(o)||e.setAttribute(o,void 0)}for(const[n,a]of Object.entries(t)){if("on"===n.slice(0,2)){const t=n.substr(2).toLowerCase();i.dx.includes(t)&&e.on(t,a)}else if(!o.includes(n)){if(s[n]===t[n])continue;e.setAttribute(n,a)}}},f=(e,t,s,o,n,a)=>{const i=s-e,r=o-t,l=n-e,c=a-t;return Math.atan2(i*c-r*l,i*l+r*c)},y=e=>{const t=e[0],s=e[1],o=e[3],n=e[4],a=e[6],i=e[7],r=t*n-s*o;if(0!=t||0!=s){const e=Math.sqrt(t*t+s*s);return{x:a,y:i,rotation:s>0?Math.acos(t/e):-Math.acos(t/e),scaleX:e,scaleY:r/e}}if(0!=o||0!=n){const e=Math.sqrt(o*o+n*n);return{x:a,y:i,rotation:Math.PI/2-(n>0?Math.acos(-o/e):-Math.acos(o/e)),scaleX:r/e,scaleY:e}}return{x:a,y:i,rotation:0,scaleX:1,scaleY:1}}},"./app/hooks/useBulkInviteFromEmailsList.ts":(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var o=s("./app/utils/validateEmail.ts"),n=s("./node_modules/react/index.js");const a=e=>{let{emails:t,initRole:s}=e;const[a,i]=(0,n.useState)(s),r=t.map((e=>({email:e,role:a}))),l=r.filter((e=>(0,o.o)(e.email)));return{bulkInviteRole:a,setBulkInviteRole:i,bulkInviteMembersList:r,validMembers:l}}},"./app/hooks/useDisableAddingMoreCollaborators.ts":(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var o=s("./app/constants/teams.ts"),n=s("./app/types/features.ts"),a=s("./app/utils/hooks/useFeature_DEPRECATED.ts");const i=e=>{let{numExistingMembers:t=1,numInvitedMembers:s}=e;let i=!1;return(0,a.f7)({feature:n.G.InviteMoreTeamMembers,suspense:!0})||(i=t+s>o.Re),i}},"./app/hooks/useShouldShowInviteRoleByLink.tsx":(e,t,s)=>{"use strict";s.d(t,{e:()=>r});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/api/hooks/useSubscription.ts"),a=s("./app/types/features.ts"),i=s("./app/utils/hooks/useFeatures.ts");function r(e){const t=(0,i.h)(e).data.permitted[a.G.InviteByLink],s=(0,o.yG)(e||void 0,{suspense:!0}),r=(0,n.m)(e);return!!t&&("Enterprise"===s?.name&&"manual"===r?.paymentProcessor)}},"./app/hooks/useTeamInviteEmails.ts":(e,t,s)=>{"use strict";s.d(t,{r:()=>n});var o=s("./node_modules/react/index.js");const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,s]=(0,o.useState)(e),n=(0,o.useCallback)((e=>{let{newEmailsList:o,existingMemberEmails:n=[],notifyOnDiscrepancy:a=(()=>{})}=e;const i=[...new Set(o)].filter((e=>!t.includes(e))),r=i.filter((e=>!n.includes(e)));r.length<i.length&&a("existing"),s((e=>[...e,...r]))}),[t]);return{emails:t,setEmails:s,verifyListAndAddEmails:n}}},"./app/index.tsx":(e,t,s)=>{"use strict";var o={};s.r(o),s.d(o,{hideResponsiveSideBar:()=>re,showResponsiveSideBar:()=>ie});var n=s("./node_modules/react/index.js");var a=s("./app/api/mixpanel.ts");const i={referrer:window.location.pathname,firstContentfulPaint:null,largestContentfulPaint:null,navigation:{tcpHandshakeTime:null,domainLookupTime:null,redirectionTime:null,requestTime:null,isDataCompressed:!1,localCacheHit:!1,nextHopProtocol:null}};try{new PerformanceObserver((e=>{const t=e.getEntries();!function(e){"first-contentful-paint"===e.name&&(i.firstContentfulPaint=e.startTime);switch(e.entryType){case"largest-contentful-paint":i.largestContentfulPaint=e.startTime;break;case"navigation":const t=i.navigation,s=e;t.tcpHandshakeTime=s.connectEnd-s.connectStart,t.domainLookupTime=s.connectEnd-s.connectStart,t.redirectionTime=s.redirectEnd-s.redirectStart,t.requestTime=s.responseStart-s.requestStart,t.isDataCompressed=s.decodedBodySize!==s.encodedBodySize,t.nextHopProtocol=s.nextHopProtocol,t.localCacheHit=0===s.transferSize}}(t[t.length-1])})).observe({entryTypes:["paint","largest-contentful-paint","navigation"],buffered:!0})}catch{}window.addEventListener("beforeunload",(()=>{(0,a.bc)({eventName:"Global App Peformance Metrics",properties:{...i}})}));var r=s("./node_modules/@sentry/browser/esm/sdk.js"),l=s("./node_modules/@sentry/core/esm/exports.js"),c=s("./node_modules/@sentry/tracing/esm/index.js"),d=s("./node_modules/react-dnd/dist/esm/common/DndProvider.js"),p=s("./node_modules/react-dnd-html5-backend/dist/esm/index.js"),u=s("./node_modules/react-dom/index.js"),m=s("./node_modules/styled-components/dist/styled-components.browser.esm.js"),h=s("./app/components/Prefabs/SWRWrapper.tsx"),g=s("./node_modules/@react-aria/utils/dist/import.mjs"),f=s("./node_modules/react-router/esm/react-router.js"),y=s("./node_modules/react/jsx-runtime.js");const x=e=>{let{children:t}=e;const s=(0,f.k6)();return(0,y.jsx)(g.pG,{navigate:s.push,children:t})};var v=s("./app/utils/hooks/useSetDocumentHeight.ts"),b=s("./node_modules/connected-react-router/esm/index.js"),w=s("./node_modules/react-redux/es/index.js"),_=s("./node_modules/redux-persist/es/index.js"),I=s("./node_modules/redux-persist/es/integration/react.js"),T=s("./node_modules/@radix-ui/react-tooltip/dist/index.mjs"),j=s("./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js"),k=s("./node_modules/@stripe/stripe-js/dist/stripe.esm.js"),C=s("./app/actions/settings.ts"),E=s("./app/api/hooks/useTeams.ts"),S=s("./app/components/BuyCredits/BuyCreditsContext.tsx"),A=s("./app/components/CreateTeam/index.tsx"),M=s("./app/components/Prefabs/Block.tsx"),P=s("./app/components/Prefabs/LoadingEllipsis/LoadingEllipsis.tsx"),N=s("./app/components/Prefabs/Text.tsx");const D=()=>(0,y.jsx)(M.JX,{size:12,span:12,children:(0,y.jsx)(M.X2,{size:12,span:12,alignCenterHorizontal:!0,alignCenterVertical:!0,children:(0,y.jsxs)(N.Z,{center:!0,lg:!0,children:["Please wait",(0,y.jsx)(P.Z,{})]})})}),O=()=>((0,n.useEffect)((()=>{const e=window.location.hash.substring(1),t=new URLSearchParams(e).get("error"),s=new URLSearchParams(e).get("id_token");window.opener&&(window.opener.postMessage({idToken:s,error:t,fromGoogleSignInDirect:!0},window.location.origin),window.close())}),[]),(0,y.jsx)(M.JX,{size:12,span:12,children:(0,y.jsx)(M.X2,{size:12,span:12,alignCenterHorizontal:!0,alignCenterVertical:!0,children:(0,y.jsxs)(N.Z,{center:!0,lg:!0,children:["Please wait",(0,y.jsx)(P.Z,{})]})})}));var L=s("./app/components/Prefabs/Authentication/Captcha/Captcha.tsx"),R=s("./app/components/Prefabs/ErrorBoundary/ErrorBoundary.tsx"),Z=s("./app/components/Prefabs/FullPageLoaderContainer.tsx"),U=s("./app/components/Prefabs/Loader/Loader.tsx"),z=s("./app/components/UI/Base.tsx"),V=s("./app/devoe/themeBase.ts"),B=s("./app/utils/hooks/useMediaQuery.ts"),G=s("./app/utils/openInCurrentOrNewWindow.ts"),F=s("./app/devoe/assets/logos/runway-with-logo.svg"),$=s("./app/components/Prefabs/Button.tsx"),W=s("./app/components/Prefabs/Icon/Icon.tsx");s("./app/components/Prefabs/TextAction.tsx");const H=e=>{let{children:t}=e;return(0,y.jsx)(Y,{span:12,gutter:0,pad:[16,16],alignCenterHorizontal:!0,children:t})},Y=(0,m.ZP)(M.X2).withConfig({displayName:"TopBanner__StyledBanner",componentId:"sc-54dxu9-0"})(["background:",";"],(e=>e.theme.colors.primary)),X=()=>{const e=(0,w.I0)(),t=(0,f.TH)().pathname,s=(0,n.useCallback)((t=>{e({type:"SHOW_SIGNIN_MODAL",signinType:t,title:"Sign in to Runway"})}),[e]),o=["/watch/:watchId","/video-tools/assets/:assetId","/creation/:creationId"],a=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),i=(0,B.ac)(`(min-width: ${V.u.breakpoints.sm})`),r=(e=>!!(0,f.LX)(e,{path:o,exact:!0,strict:!0}))(t),l=a||r;return(0,y.jsx)(H,{children:(0,y.jsxs)(J,{justifyContent:l?"space-between":"flex-end",flexDirection:"row",children:[l&&(i?(0,y.jsx)(q,{src:F.Z,onClick:()=>(0,G.o)("https://runwayml.com/")}):(0,y.jsx)("div",{children:(0,y.jsx)(W.Z,{size:24,icon:"logo",color:"white"})})),(0,y.jsxs)(z.x,{children:[(0,y.jsx)(K,{borderRadius:25,onClick:()=>s("LOGIN"),message:"Login"}),(0,y.jsx)(Q,{borderRadius:25,onClick:()=>s("SIGNUP"),message:"Sign up for free"})]})]})})},q=m.ZP.img.withConfig({displayName:"TopBanner__StyledLogo",componentId:"sc-54dxu9-1"})(["height:24px;cursor:pointer;padding:0px 8px;"]);var J=(0,m.ZP)(z.x).withConfig({displayName:"TopBanner___StyledBox",componentId:"sc-54dxu9-2"})(["width:100%;align-items:center;"]),K=(0,m.ZP)($.z).withConfig({displayName:"TopBanner___StyledButton",componentId:"sc-54dxu9-3"})(["max-width:80px;margin-right:8px;height:36px;background:",";> div > span{color:",";text-align:right;font-size:14px;font-style:normal;font-weight:600;line-height:20px;padding:8px 20px;}"],(e=>e.theme.colors.black),(e=>e.theme.colors.white)),Q=(0,m.ZP)($.z).withConfig({displayName:"TopBanner___StyledButton2",componentId:"sc-54dxu9-4"})(["max-width:125px;height:36px;background:",";> div > span{color:",";text-align:right;font-size:14px;font-style:normal;font-weight:600;line-height:20px;padding:0px 20px;}"],(e=>e.theme.colors.white),(e=>e.theme.colors.black)),ee=s("./app/components/UpgradeDialog/UpgradeDialogContext.tsx"),te=s("./app/components/Views/AssetsV2/index.tsx"),se=s("./app/components/Views/AssetsV2/Loading.tsx"),oe=s("./app/components/Views/MagicTools/ToolsLinker/ToolsLinkerContext.tsx"),ne=s("./app/components/Views/Teamspace/index.tsx"),ae=s("./app/actions/popup.ts");const ie=()=>({type:"SHOW_RESPONSIVESIDEBAR"}),re=()=>({type:"HIDE_RESPONSIVESIDEBAR"});var le=s("./app/actions/user.ts"),ce=s("./node_modules/redux/es/redux.js"),de=s("./app/constants/z-indexes.ts"),pe=s("./app/utils/urls.ts"),ue=s("./node_modules/classnames/bind.js"),me=s.n(ue),he=s("./node_modules/lodash/lodash.js"),ge=s("./node_modules/react-tooltip/dist/index.js"),fe=s.n(ge),ye=s("./app/utils/environment.ts"),xe=s("./node_modules/react-router-dom/esm/react-router-dom.js");const ve={Container:"Flash__Container__uTP9A",Flash:"Flash__Flash__KitQZ",Clickable:"Flash__Clickable__D7dkj",Warning:"Flash__Warning__RQKpI",Success:"Flash__Success__I4b7F",SuccessREMOTE:"Flash__SuccessREMOTE__Kc4zB","moving-gradient":"Flash__moving-gradient__Ytb4Z",pulse:"Flash__pulse__WXm15",gradient:"Flash__gradient__A0krJ",blink:"Flash__blink__EP5HJ"},be=me().bind(ve);class we extends n.Component{props;UNSAFE_componentWillReceiveProps=e=>{"SHOW"===e.flash.status&&setTimeout((()=>this.props.hideFlash()),5e3)};handleClick=()=>{const{hideFlash:e}=this.props,{onClick:t}=this.props.flash;t&&t(),(0,ye.tb)()||e()};render(){const{flash:e}=this.props,t=be({Flash:!0,Warning:"WARNING"===e.type,Success:"SUCCESS"===e.type,SuccessREMOTE:"SUCCESSREMOTE"===e.type,Clickable:e.onClick||e.to});return(0,y.jsx)("div",{className:ve.Container,children:(0,y.jsx)("button",{className:t,onClick:this.handleClick,tabIndex:-1,children:e.to?(0,y.jsx)(xe.rU,{to:e.to,tabIndex:-1,children:e.message}):e.message})})}}const _e=we;var Ie=s("./app/actions/flash.ts");const Te=(0,w.$j)((e=>({flash:e.flash})),(e=>(0,ce.DE)(Ie,e)))(_e);var je=s("./node_modules/react-markdown/lib/react-markdown.js"),ke=s.n(je),Ce=s("./app/utils/links.ts");const Ee={Container:"LegacyButton__Container__tVHfL",WithOption:"LegacyButton__WithOption__ux0vB",IconAndText:"LegacyButton__IconAndText__uKKjx",OptionName:"LegacyButton__OptionName__ZHKRp",Btn:"LegacyButton__Btn__znsfU",Primary:"LegacyButton__Primary__w4AtZ",PrimaryREMOTE:"LegacyButton__PrimaryREMOTE__BnSbz",LoadingREMOTE:"LegacyButton__LoadingREMOTE__M_IZC","moving-gradient":"LegacyButton__moving-gradient__Q12WS",LoadingLOCAL:"LegacyButton__LoadingLOCAL__kzJrP",Secondary:"LegacyButton__Secondary__wDlqJ",Inactive:"LegacyButton__Inactive__kw18N",Outside:"LegacyButton__Outside__g2u1Y",OutlinePrimary:"LegacyButton__OutlinePrimary__PCoBa",Warning:"LegacyButton__Warning__DS51F",WarningSecondary:"LegacyButton__WarningSecondary__P5r_x",Name:"LegacyButton__Name__D7vRY",Disabled:"LegacyButton__Disabled__rG5Lf",IconRight:"LegacyButton__IconRight__YI1_G",Icon:"LegacyButton__Icon__XiFVg",Large:"LegacyButton__Large__erPT7",Centered:"LegacyButton__Centered__YVN2U",NoBorder:"LegacyButton__NoBorder__aUCmL",NoMaxWidth:"LegacyButton__NoMaxWidth__R5xO_",pulse:"LegacyButton__pulse__qBFR6",gradient:"LegacyButton__gradient__CHf_R",blink:"LegacyButton__blink__bNJKf"},Se=me().bind(Ee);class Ae extends n.Component{props;static defaultProps={to:void 0,option:void 0,icon:void 0,iconHover:void 0,disabled:!1,onClick:()=>null,type:void 0,noStyle:!1,customStyleClass:void 0,datatip:void 0,useIconAndText:!1,loading:!1,large:!1,iconWidth:void 0,iconHeight:void 0,opacity:null,noIconNoName:!1,noMaxWidth:!1,label:void 0};state={isHover:!1};componentDidMount(){this.props.datatip&&fe().rebuild()}handleMouseOver=()=>this.setState({isHover:!0});handleMouseLeave=()=>this.setState({isHover:!1});render(){const{to:e,onClick:t,name:s,icon:o,iconHover:n,disabled:a,option:i,type:r,noStyle:l,customStyleClass:c,centered:d,datatip:p,useIconAndText:u,large:m,iconWidth:h,iconHeight:g,formType:f,loading:x,opacity:v,noIconNoName:b,noBorder:w,noMaxWidth:_,label:I,"data-testid":T}=this.props,{isHover:j}=this.state,k=Se({Btn:!l,Primary:"PRIMARY"===r,PrimaryREMOTE:"PRIMARYREMOTE"===r,Secondary:"SECONDARY"===r,Inactive:"INACTIVE"===r,Warning:"WARNING"===r,WarningSecondary:"WARNING-SECONDARY"===r,Outside:"OUTSIDE"===r,OutlinePrimary:"OUTLINEPRIMARY"===r,LoadingREMOTE:"LOADING_REMOTE"===r,LoadingLOCAL:"LOADING_LOCAL"===r,Disabled:a,[c]:!0,Large:m,NoBorder:w}),C=Se({Container:!0,Centered:d,NoMaxWidth:_});let E;E=o&&u?(0,y.jsxs)("div",{className:Ee.IconAndText,children:[(0,y.jsx)("img",{src:n&&j?n:o,alt:"buttonIcon",className:Ee.Icon,style:{width:h,height:g}}),(0,y.jsx)("div",{className:Ee.Name,children:s})]}):o&&!u?(0,y.jsx)("img",{src:n&&j?n:o,alt:"buttonIcon",style:{width:h,height:g}}):b?(0,y.jsx)("div",{className:Ee.Name}):(0,y.jsx)("div",{className:Ee.Name,children:s}),x&&(E=(0,y.jsxs)("div",{className:Ee.IconAndText,children:[(0,y.jsx)(U.Z,{width:16,height:16}),u&&(0,y.jsx)("div",{className:Ee.Name,children:s})]}));let S=(0,y.jsx)("button",{"data-testid":T,disabled:a,className:k,onClick:t,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onBlur:this.handleMouseLeave,"data-tip":p,type:f,"aria-label":I,children:E});return i&&(S=(0,y.jsxs)("div",{className:Ee.WithOption,children:[(0,y.jsx)("div",{className:Ee.OptionName,children:(0,y.jsxs)("p",{children:[" ",i," "]})}),S]})),e&&(S=(0,y.jsx)(xe.rU,{replace:!0,to:e,onClick:t,children:S})),(0,y.jsx)("div",{className:C,style:{opacity:v||null},children:S})}}const Me=Ae,Pe={Container:"Popup__Container__lBhEl",ContentPopUp_Changelog:"Popup__ContentPopUp_Changelog__YCe78",TopBar:"Popup__TopBar__Un8y_",ContentPopUp:"Popup__ContentPopUp__oWp0j",TopBarError:"Popup__TopBarError__T4Wm_",TopBarWarning:"Popup__TopBarWarning__i2j7m",Image:"Popup__Image__gzj5V",Message:"Popup__Message__beQn5",MessageLink:"Popup__MessageLink__Nhtlu",BodyCostContainer:"Popup__BodyCostContainer__LIqYk",Title:"Popup__Title__que78",TableContainer:"Popup__TableContainer__cKrgl",Symbol:"Popup__Symbol__sSfDJ",NumberTotal:"Popup__NumberTotal__RSFIV",Number:"Popup__Number__ViNm5",Unit:"Popup__Unit__o9QNt",UnitTotal:"Popup__UnitTotal__bs9aj",Balance:"Popup__Balance__eiabU",BalanceNumber:"Popup__BalanceNumber__XmyVe",Footer:"Popup__Footer__p7wOp",FooterLink:"Popup__FooterLink__wqM_0",ProgressBarContainer:"Popup__ProgressBarContainer__bA4bm",ProgressBar:"Popup__ProgressBar__uk0V4",Buttons:"Popup__Buttons__fSM3k",Left:"Popup__Left__uoLFj",Right:"Popup__Right__MZM83",TextInput:"Popup__TextInput__KctHC",Text:"Popup__Text__DqjQA",Input:"Popup__Input__lFRQj","moving-gradient":"Popup__moving-gradient__bSnzc",pulse:"Popup__pulse__HOYld",gradient:"Popup__gradient__q45yB",blink:"Popup__blink__uEU0H"},Ne="SlimPopup__Container__A17MA",De="SlimPopup__Top__wZWK0",Oe="SlimPopup__ContentTop__rDeA2",Le="SlimPopup__Bottom__aAKoe",Re="SlimPopup__BottomContent__NMGfb",Ze="SlimPopup__BottomContentInfo__arDXX",Ue="SlimPopup__BottomContentTitle__PDvvN",ze="SlimPopup__BottomContentMessage__zjmxY";var Ve=s("./app/utils/hooks/useOnClickOutside.ts");const Be=e=>{let{title:t,message:s,acceptBtn:o,image:a,handleAccept:i,onClickOutside:r}=e;const l=(0,n.useRef)(null);return(0,Ve.t)(l,r),(0,y.jsxs)("div",{className:Ne,ref:l,children:[(0,y.jsx)("div",{className:De,children:(0,y.jsx)("div",{className:Oe,children:(0,y.jsx)("img",{src:a,alt:"Image"})})}),(0,y.jsx)("div",{className:Le,children:(0,y.jsxs)("div",{className:Re,children:[(0,y.jsxs)("div",{className:Ze,children:[(0,y.jsx)("p",{className:Ue,children:t}),(0,y.jsx)("p",{className:ze,children:s})]}),(0,y.jsx)(Me,{name:o,type:"PRIMARY",onClick:i})]})})]})},Ge=me().bind(Pe);class Fe extends n.Component{props;Container;Input;state={inputValue:"",pos1:0,pos2:0,pos3:0,pos4:0,top:window.innerHeight/2-160,left:window.innerWidth/2-200};UNSAFE_componentWillMount(){const{status:e,inputDefault:t}=this.props.popup;"SHOW"===e&&t&&this.setState({inputValue:t})}componentDidMount(){this.Container.focus()}handleCancel=()=>{const{popup:e,hidePopup:t}=this.props;t(),e.onCancel&&e.onCancel()};handleContinue=()=>{const{popup:e,hidePopup:t}=this.props;t(),e.onContinue&&e.onContinue()};handleAccept=()=>{const{popup:e,hidePopup:t}=this.props,{inputValue:s}=this.state;t(),e.onAccept&&e.onAccept(s)};handleMouseDown=e=>{e.preventDefault(),this.setState({pos3:e.nativeEvent.clientX,pos4:e.nativeEvent.clientY}),document.onmouseup=this.handleMouseUp,document.onmousemove=this.handleDrag};handleDrag=e=>{e.preventDefault(e),this.setState({pos1:this.state.pos3-e.clientX,pos2:this.state.pos4-e.clientY,pos3:e.clientX,pos4:e.clientY,top:this.Container.offsetTop,left:this.Container.offsetLeft})};handleMouseUp=()=>{document.onmouseup=null,document.onmousemove=null};handleKeyPress=e=>{e.stopPropagation();const{popup:t,hidePopup:s}=this.props;"Enter"===e.key?(s(),t.onAccept&&t.onAccept(this.state.inputValue)):"Escape"===e.key&&(s(),t.onCancel&&t.onCancel())};onFocus=()=>{this.Input.select()};render(){const{title:e,subtitle:t,message:s,inputMessage:o,inputType:n,acceptBtn:a,cancelBtn:i,acceptBtnType:r,continueBtn:l,progress:c,isErrorPopup:d,isWarningPopup:p,isChangeLog:u,type:m,link:h,image:g,imageWidth:f,body:x,height:v,width:b}=this.props.popup,{inputValue:w,pos1:_,pos2:I,top:T,left:j}=this.state,k=m,C=Ge({TopBar:!0,TopBarError:d,TopBarWarning:p}),E=Ge({ContentPopUp:!0,ContentPopUp_Changelog:u||"CHANGELOG"===m,ContentPopUp_News:"NEWS"===m}),S=Ge({Container:!0});let A=b;u||"CHANGELOG"===m?A="700px":"NEWS"===m&&(A="600px");let M=v;return(u||"CHANGELOG"===m||"NEWS"===m)&&(M="600px"),"CUSTOM"===k?(0,y.jsx)("div",{ref:e=>{this.Container=e},children:(0,y.jsx)(Be,{title:e,message:s,acceptBtn:a,image:g,handleAccept:this.handleAccept,onClickOutside:()=>{this.props.hidePopup()}})}):(0,y.jsx)("div",{className:S,style:{top:T-I+"px",left:j-_+"px",width:A,height:M},ref:e=>{this.Container=e},onKeyDown:this.handleKeyPress,onKeyUp:e=>e.stopPropagation(),role:"button",tabIndex:0,children:(0,y.jsxs)("div",{className:E,children:[(0,y.jsxs)("div",{role:"button",tabIndex:0,className:C,onMouseDown:this.handleMouseDown,children:[e,(0,y.jsx)("span",{role:"button",tabIndex:0,onClick:this.handleCancel})]}),u&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("svg",{width:"45",height:"45",viewBox:"0 0 90 90",style:{margin:"0.5em 0"},fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M45 0C20.1 0 0 20.1 0 45C0 69.9 20.1 90 45 90C69.9 90 90 69.9 90 45C90 20.1 69.9 0 45 0Z",fill:"#1287F8"}),(0,y.jsx)("path",{d:"M49.4524 25C47.461 25 45.7161 26.135 44.8229 27.8007C43.9347 26.6051 42.5331 25.8222 40.9524 25.8222C38.2795 25.8222 36.0952 28.0407 36.0952 30.7556C36.0952 33.4704 38.2795 35.6889 40.9524 35.6889H49.4524C52.3489 35.6889 54.7143 33.2864 54.7143 30.3444C54.7143 27.4025 52.3489 25 49.4524 25ZM49.4524 26.6444C51.4738 26.6444 53.0952 28.2913 53.0952 30.3444C53.0952 32.3976 51.4738 34.0444 49.4524 34.0444H45.8095V30.3444C45.8095 28.2913 47.4309 26.6444 49.4524 26.6444ZM40.9524 27.4667C42.7503 27.4667 44.1905 28.9294 44.1905 30.7556V34.0444H40.9524C39.1545 34.0444 37.7143 32.5817 37.7143 30.7556C37.7143 28.9294 39.1545 27.4667 40.9524 27.4667ZM28 36.5111V43.0889H40.9524V36.5111H28ZM42.5714 36.5111V43.0889H47.4286V36.5111H42.5714ZM49.0476 36.5111V43.0889H62V36.5111H49.0476ZM30.4286 44.7333V62H40.9524V44.7333H30.4286ZM42.5714 44.7333V62H47.4286V44.7333H42.5714ZM49.0476 44.7333V62H59.5714V44.7333H49.0476Z",fill:"white"})]}),(0,y.jsx)("h1",{style:{fontSize:"2em",lineHeight:"1.2em",fontWeight:"bold"},children:"What's new?"})]}),"NEWS"===m&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("svg",{width:"45",height:"45",viewBox:"0 0 90 90",style:{margin:"1.2em 0"},fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M45 0C20.1 0 0 20.1 0 45C0 69.9 20.1 90 45 90C69.9 90 90 69.9 90 45C90 20.1 69.9 0 45 0Z",fill:"#1287F8"}),(0,y.jsx)("path",{d:"M34.9192 37.4545H32.1209V47.206H32.0002L26.0485 37.4545H23.2786V52H26.084V42.2699H26.2047L32.1706 52H34.9192V37.4545ZM46.8137 49.642H40.166V45.8991H45.8691V43.5483H40.166V39.8125H46.7782V37.4545H37.3606V52H46.8137V49.642ZM51.1799 37.4545H48.5804L52.3588 52H55.2211L57.8915 42.0923H58.0051L60.6756 52H63.5378L67.3233 37.4545H64.7168L62.089 47.9091H61.9611L59.2551 37.4545H56.6486L53.9355 47.8878H53.8148L51.1799 37.4545Z",fill:"white"})]}),(0,y.jsx)("h1",{style:{fontSize:"2em",lineHeight:"1.2em",fontWeight:"bold"},children:t})]}),g&&""!==g?(0,y.jsx)("img",{src:g,alt:"Image",width:f||"50%",height:"70%",style:{margin:"5px 20px"}}):null,s?(0,y.jsxs)("div",{className:Pe.Message,style:{margin:"NEWS"===m?"0px 20px":null},children:[(0,y.jsx)(ke(),{source:s}),h&&""!==h?(0,y.jsx)("span",{className:Pe.MessageLink,onClick:()=>(0,Ce.n)(h),children:"Read More"}):null]}):null,x,void 0!==c&&(0,y.jsx)("div",{className:Pe.ProgressBarContainer,children:(0,y.jsx)("div",{style:{width:100*c+"%"},className:Pe.ProgressBar})}),o?(0,y.jsx)("div",{className:Pe.TextInput,children:(0,y.jsx)("input",{type:n||"text",value:w,onChange:e=>this.setState({inputValue:e.target.value}),onKeyPress:this.handleKeyPress,onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),ref:e=>{this.Input=e},"aria-label":o,onFocus:this.onFocus})}):null,(0,y.jsxs)("div",{className:Pe.Buttons,style:{padding:"NEWS"===m?"0em 1em 2em 1em":null},children:[i&&(0,y.jsx)("div",{className:Pe.Right,children:(0,y.jsx)(Me,{name:i,onClick:this.handleCancel,type:"SECONDARY",label:"Cancel"})}),a&&(0,y.jsx)("div",{className:Pe.Left,children:(0,y.jsx)(Me,{"data-testid":"accept-button",name:a,onClick:this.handleAccept,type:r||"PRIMARY"})}),l&&(0,y.jsx)("div",{className:Pe.Left,children:(0,y.jsx)(Me,{name:l,onClick:this.handleContinue,type:"SECONDARY",label:"Continue"})})]}),u&&(0,y.jsxs)("p",{style:{fontSize:"0.8em",marginBottom:"2em",color:"grey"},children:["For more info visit our",(0,y.jsx)("span",{style:{textDecoration:"underline",marginLeft:"5px",cursor:"pointer"},onClick:()=>(0,Ce.n)("https://runwayml.com/release-notes"),children:"release notes"})]})]})})}}const $e=Fe,We=(0,w.$j)((e=>({popup:e.popup})),(e=>(0,ce.DE)(ae,e)))($e);var He=s("./app/utils/auth.ts"),Ye=s("./app/utils/hooks/useSelector.ts"),Xe=s("./app/utils/trackEvent.ts"),qe=s("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),Je=s("./app/components/Prefabs/Divider.tsx"),Ke=s("./app/utils/hooks/useFeature_DEPRECATED.ts"),Qe=s("./node_modules/framer-motion/dist/framer-motion.es.js"),et=s("./app/components/Views/Dashboard/hooks/useSubPageQuery.ts"),tt=s("./app/components/Views/MagicTools/hooks/useMagicToolQuery.ts"),st=s("./app/api/hooks/useTasks.ts"),ot=s("./app/devoe/themeDark.ts"),nt=s("./app/utils/constants.ts"),at=s("./app/utils/hooks/useUserProperties.ts"),it=s("./node_modules/lucide-react/dist/esm/icons/tv.js"),rt=s("./app/api/hooks/useCurrentTeamPlan.ts"),lt=s("./app/types/features.ts"),ct=s("./app/utils/features.ts"),dt=s("./app/utils/hooks/useFeatures.ts"),pt=s("./app/utils/hooks/useHasWorkflowsAccess.ts"),ut=(s("./app/api/hooks/usePendingAssets.ts"),s("./app/components/ErrorBoundary.tsx")),mt=s("./app/components/Prefabs/AmountOfRunningTasksBadge.tsx"),ht=s("./app/utils/hooks/useNumVideoProjects.tsx"),gt=s("./app/api/hooks/useBillingProducts.ts"),ft=s("./app/components/Prefabs/ShortcutTooltip.tsx");const yt=e=>{let{asTeamId:t}=e;const s=(0,ht.d)(t,{suspense:!0}),{data:o}=(0,gt.z)({teamPlans:!0}),n=(0,rt.yG)(t,{suspense:!0}),a=(0,rt.K$)(t,{suspense:!0}),i=(0,ee.rz)();if(!s||!o)return null;if(!n||!(0,rt.Vz)(n))return null;const r=o.freeProduct.features,l=r.numVideoProjects??r.numTeamVideoProjects,c=s.permitted>l||s.used>l;return(0,y.jsxs)(bt,{children:[(0,y.jsxs)(wt,{children:[`${n.name} Plan`,(0,y.jsx)(ft.ZP,{delayDuration:300,message:(0,y.jsx)(kt,{xs:!0,center:!0,children:"You are limited to 3 projects per workspace on the Free Plan. Upgrade for more projects."}),children:(0,y.jsx)(W.Z,{icon:"pricing/information"})})]}),(0,y.jsx)(M.JX,{pad:[0,8,0,8],gutter:8,alignCenterHorizontal:!0,children:c?(0,y.jsx)(xt,{used:s.used,permitted:s.permitted,freeProductsAllowed:l}):(0,y.jsx)(vt,{used:s.used,permitted:s.permitted,freeProductsAllowed:l})}),(0,y.jsx)(M.ZP,{pad:[0,8,16,8],children:(0,y.jsx)(jt,{onClick:()=>i({uiContext:"button: manage plan"}),children:a?`Upgrade to ${a.name}`:"Manage plan"})})]})},xt=e=>{let{permitted:t,used:s,freeProductsAllowed:o}=e;const n=(0,he.clamp)(t-s,0,o),a=Math.max(o,n),i=[],r=-n+o;for(let e=0;e<r;e++){const t=100/a,s=0===e?"-2px":t*e+"%";i.push((0,y.jsx)(Tt,{"data-testid":"progress-bar-block",$first:0===e,$last:e===r-1,$full:e===a-1,style:{width:`${t}%`,left:s}},e))}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(_t,{children:[i,(0,y.jsx)(It,{children:n})]}),(0,y.jsx)(N.Z,{noWrap:!0,children:`${n} of ${o} New Projects Left`})]})},vt=e=>{let{used:t,permitted:s}=e;const o=Math.min(t,s),n=[];for(let e=0;e<o;e++){const o=100/s,a=0===e?"-2px":o*e+"%";n.push((0,y.jsx)(Tt,{"data-testid":"progress-bar-block",$first:0===e,$last:e===t-1,$full:e===s-1,style:{width:`${o}%`,left:a}},e))}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(_t,{children:[n,(0,y.jsx)(It,{children:o})]}),(0,y.jsx)(N.Z,{noWrap:!0,children:`${t} of ${s} Projects Created`})]})},bt=m.ZP.div.withConfig({displayName:"UpgradeBox__Container",componentId:"sc-1xls73u-0"})(["border-radius:6px;background-color:",";display:flex;flex-direction:column;gap:8px 16px;"],(e=>e.theme.colors.uiLevel1)),wt=m.ZP.div.withConfig({displayName:"UpgradeBox__PlanTitle",componentId:"sc-1xls73u-1"})(["display:flex;justify-content:center;gap:8px;color:",";font-size:",";line-height:",";padding:16px 0 8px 0;border-bottom:1px solid ",";& path{fill:",";}"],(e=>e.theme.colors.primaryLight),(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md),(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.primaryLight)),_t=m.ZP.div.withConfig({displayName:"UpgradeBox__ProgressBarContainer",componentId:"sc-1xls73u-2"})(["box-sizing:border-box;position:relative;border-radius:12px;height:20px;width:100%;background-color:",";border:2px solid ",";"],(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.uiLevel3)),It=m.ZP.div.withConfig({displayName:"UpgradeBox__ProgressIndicator",componentId:"sc-1xls73u-3"})(["position:absolute;top:-2px;left:-2px;bottom:-2px;border-radius:100%;width:20px;height:20px;background-color:#d7d8f4;color:",";font-size:",";display:flex;justify-content:center;align-items:center;"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.size.xxs)),Tt=m.ZP.div.withConfig({displayName:"UpgradeBox__ProgressBarBlock",componentId:"sc-1xls73u-4"})(["position:absolute;top:-2px;bottom:-2px;background-color:",";border:2px solid #d7d8f4;border-right:",";border-top-left-radius:","px;border-bottom-left-radius:","px;border-top-right-radius:","px;border-bottom-right-radius:","px;"],(e=>e.theme.colors.primary),(e=>e.$last?"2px solid #d7d8f4":"none"),(e=>e.$first?12:0),(e=>e.$first?12:0),(e=>e.$full?12:0),(e=>e.$full?12:0)),jt=m.ZP.button.withConfig({displayName:"UpgradeBox__Button",componentId:"sc-1xls73u-5"})(["background-color:",";border-radius:6px;border:none;height:32px;width:100%;color:white;font-size:",";cursor:pointer;transition:background-color 0.2s ease-in-out;&:hover{background-color:",";}"],(e=>e.theme.colors.primary),(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.primaryDark));var kt=(0,m.ZP)(N.Z).withConfig({displayName:"UpgradeBox___StyledText",componentId:"sc-1xls73u-6"})(["max-width:150px"]),Ct=s("./app/components/Views/AssetsV2/hooks/useCanEdit.ts"),Et=s("./node_modules/lucide-react/dist/esm/icons/chevron-up.js"),St=s("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),At=s("./node_modules/lucide-react/dist/esm/icons/heart.js"),Mt=s("./node_modules/lucide-react/dist/esm/icons/tv-2.js"),Pt=s("./node_modules/react-aria-components/dist/import.mjs");const Nt="AssetsItem__container__geO4T",Dt="AssetsItem__toggle__U4oTR",Ot="AssetsItem__icon__wdb8b",Lt="AssetsItem__text__WwmLp",Rt="AssetsItem__item__iyjs2";function Zt(e){let{team:t}=e;const[s,o]=(0,n.useState)(!1),a=(0,f.TH)();return(0,y.jsxs)("div",{className:Nt,children:[(0,y.jsxs)(Pt.zx,{className:Dt,onPress:function(){o(!s)},children:[s?(0,y.jsx)(Et.Z,{className:Ot}):(0,y.jsx)(St.Z,{className:Ot}),(0,y.jsx)("span",{className:Lt,children:"Assets"})]}),s?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(xe.rU,{to:`/video-tools/teams/${t.username}/assets/favorites`,className:Rt,"data-active":a.pathname.endsWith(`${t.username}/assets/favorites`),children:[(0,y.jsx)(At.Z,{className:Ot}),(0,y.jsx)("span",{className:Lt,children:"Favorites"})]}),(0,y.jsxs)(xe.rU,{to:`/video-tools/teams/${t.username}/assets`,className:Rt,"data-active":a.pathname.endsWith(`${t.username}/assets`),children:[(0,y.jsx)(Mt.Z,{className:Ot}),(0,y.jsx)("span",{className:Lt,children:"All"})]})]}):null]})}var Ut=s("./app/components/CreateTeam/CreateWorkspaceDialog/events/CreateTeamDialogEvents.ts"),zt=s("./app/components/CreateTeam/CreateWorkspaceDialog/events/createTeamDialogEventUtils.ts"),Vt=s("./app/components/Prefabs/AriaModal.tsx"),Bt=s("./app/components/Teams/EnterpriseInviteToTeamDialog/index.tsx"),Gt=s("./app/components/Teams/InviteToTeamDialog/index.tsx"),Ft=s("./app/components/Teams/InviteToTeamDialog/Error.tsx"),$t=s("./app/components/Teams/InviteToTeamDialog/Loader.tsx"),Wt=s("./app/reducers/create-team.ts"),Ht=s("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),Yt=s("./app/components/Prefabs/Avatar/Avatar.tsx");const Xt=(0,n.forwardRef)(((e,t)=>{const{data:s}=(0,E.y2)({suspense:!0}),o=(0,w.I0)(),a=(0,Ye.Z)((e=>e.user.id)),i=(0,Ye.Z)((e=>e.user.email)),[r,l]=(0,n.useState)(!1),c=(()=>{const e=(0,E.I7)({suspense:!0}),t=(0,E.Je)({suspense:!0});if(e)return e;if(!t)throw new Error("A fallback team could not be found while rendering the account picker.");return t})(),d=(0,E.l_)(c.id),p=(0,E.Z5)(c?.id,{suspense:!0}),u="owner"===p||"admin"===p,m=(0,n.useMemo)((()=>s.reduce(((e,t)=>t.id===a?[t,...e]:[...e,t]),[])),[s,a]),h=c.teamName,g=c.teamPicture;return(0,y.jsxs)(Ht.fC,{open:r,onOpenChange:l,children:[(0,y.jsxs)(Qt,{"data-testid":"account-switcher",$_css:d?"border-bottom-left-radius: 0px; border-bottom-right-radius: 0px;":"",$_css2:"cursor: pointer;",children:[(0,y.jsxs)(os,{children:[(0,y.jsx)(Yt.Z,{image:g,user:h,size:"small",style:{borderRadius:"2px",flexShrink:0}}),(0,y.jsx)(Jt,{name:h,activeTeam:c})]}),(0,y.jsx)(qt,{children:(0,y.jsx)(gs,{icon:"caret-up-down"})})]}),d&&(0,y.jsx)(ts,{teamId:c.id}),(0,y.jsxs)(ns,{ref:t,align:"start",sideOffset:-8,alignOffset:16,children:[(0,y.jsx)(ds,{children:i}),m.map((e=>{const t=`/video-tools/teams/${e.username}/dashboard`;return(0,y.jsx)(xe.rU,{to:t,children:(0,y.jsxs)(as,{"data-active":c.username===e.username,children:[(0,y.jsxs)(os,{children:[(0,y.jsx)(Yt.Z,{image:e.teamPicture,user:e.teamName,size:"x-small",style:{borderRadius:"2px",flexShrink:0}}),(0,y.jsx)(rs,{children:e.teamName})]}),(0,y.jsx)(W.Z,{icon:"check",color:"#fff"})]})},e.id)})),(0,y.jsxs)(is,{onClick:()=>{(0,w.dC)((()=>{o(re()),(0,zt.C)({event:Ut.I.CreateTeamStart,teamType:Wt.f.Workspace}),o({type:"SHOW_CREATE_TEAM_MODAL"})}))},children:[(0,y.jsx)(ls,{children:(0,y.jsx)(W.Z,{icon:"add",size:16,color:"#fff"})}),(0,y.jsx)(rs,{children:"Create New Workspace"})]}),(0,y.jsx)(cs,{}),(0,y.jsx)(ds,{children:h}),(0,y.jsx)(xe.rU,{to:`/teams/${c.username}/settings`,onClick:()=>o(re()),children:(0,y.jsxs)(ps,{children:[(0,y.jsx)(us,{children:(0,y.jsx)(W.Z,{icon:"editor/ui/timeline/settings",size:14})}),(0,y.jsxs)(hs,{children:[(0,y.jsx)(rs,{children:"Workspace Settings"}),(0,y.jsx)(ms,{children:"Edit workspace"})]})]})}),c&&u&&(0,y.jsx)(xe.rU,{to:`/teams/${c.username}/settings?tab=billing`,onClick:()=>o(re()),children:(0,y.jsxs)(ps,{children:[(0,y.jsx)(us,{children:(0,y.jsx)(W.Z,{icon:"editor/ui/timeline/settings",size:14})}),(0,y.jsxs)(hs,{children:[(0,y.jsx)(rs,{children:"Manage your plan"}),(0,y.jsx)(ms,{children:"Plans and billing"})]})]})}),(0,y.jsx)(xe.rU,{to:`/teams/${c.username}/settings?tab=members`,onClick:()=>o(re()),children:(0,y.jsxs)(ps,{children:[(0,y.jsx)(us,{children:(0,y.jsx)(W.Z,{icon:"sidebar_menu/user-add",size:14})}),(0,y.jsxs)(hs,{children:[(0,y.jsx)(rs,{children:"Account Members"}),(0,y.jsx)(ms,{children:"Invite and manage collaborators"})]})]})})]})]})})),qt=m.ZP.div.withConfig({displayName:"AccountSwitcher__CaretContainer",componentId:"sc-1itgn85-0"})(["padding:6px;background:",";border-radius:6px;transition:background 0.2s ease;&:hover{background:",";}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiOverlay)),Jt=e=>{let{name:t,activeTeam:s}=e;const{data:o=[]}=(0,E.lU)(s?.id);return(0,y.jsxs)(hs,{children:[(0,y.jsx)(es,{weight:500,md:!0,color:"white",children:t}),(0,y.jsx)(N.Z,{color:"textSecondary",xs:!0,children:o.length>0?`${o.length} member${1===o.length?"":"s"}`:""})]})},Kt=(0,m.ZP)(Ht.xz).withConfig({displayName:"AccountSwitcher__StyledTrigger",componentId:"sc-1itgn85-1"})(["width:100%;height:64px;padding:16px 8px 16px 16px;border-radius:4px;background-color:",";border:none;border-radius:6px;gap:8px;color:#fff;display:flex;justify-content:space-between;align-items:center;"],(e=>e.theme.colors.uiInactive));var Qt=(0,m.ZP)(Kt).withConfig({displayName:"AccountSwitcher___StyledStyledTrigger",componentId:"sc-1itgn85-2"})([""," ",""],(e=>e.$_css),(e=>e.$_css2));const es=(0,m.ZP)(N.Z).withConfig({displayName:"AccountSwitcher__StyledTriggerText",componentId:"sc-1itgn85-3"})(["white-space:pre;overflow:hidden;text-overflow:ellipsis;text-align:left;"]),ts=e=>{let{teamId:t}=e;const s=(0,rt.yG)(t),[o,a]=(0,n.useState)(!1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)("div",{style:{height:32}}),children:(0,y.jsx)(ss,{onClick:()=>{(0,Xe.L)({event:"Click",section:"SideBar",name:"Open Team Members Invite"}),a(!0)},children:"+ Invite Collaborators"})}),o&&(0,rt.gG)(s)?(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(Bt.k8,{teamId:t,open:!0,onOpenChange:a,onClose:()=>{a(!1)}})}):null,(0,rt.gG)(s)?null:(0,y.jsx)(Vt.u,{isOpen:o,onOpenChange:a,children:(0,y.jsx)(ut.S,{fallback:(0,y.jsx)(Ft._,{}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)($t.n,{}),children:(0,y.jsx)(Gt.YZ,{teamId:t,onClose:()=>{a(!1)}})})})})]})},ss=m.ZP.button.withConfig({displayName:"AccountSwitcher__StyledInviteMembersButton",componentId:"sc-1itgn85-4"})(["border:none;color:#fff;cursor:pointer;background-color:",";border-bottom-left-radius:6px;border-bottom-right-radius:6px;display:flex;justify-content:center;flex-shrink:0;align-items:center;font-size:",";height:32px;transition:all 100ms ease-in-out;&:hover{background-color:",";}"],(e=>e.theme.colors.uiLevel1),(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.primary)),os=m.ZP.div.withConfig({displayName:"AccountSwitcher__StyledLeft",componentId:"sc-1itgn85-5"})(["display:flex;align-items:center;justify-content:flex-start;gap:8px;overflow:hidden;"]),ns=(0,m.ZP)(Ht.VY).withConfig({displayName:"AccountSwitcher__StyledContent",componentId:"sc-1itgn85-6"})(["box-sizing:border-box;background-color:",";min-width:240px;max-width:320px;padding:16px 8px;border-radius:4px;will-change:transform opacity;animation-duration:500ms;animation-timing-function:cubic-bezier(0.16,1,0.3,1);animation-name:slideUpAndFade;overflow:scroll;max-height:500px;box-shadow:rgb(0 0 0 / 50%) 0px 16px 70px;::-webkit-scrollbar{display:none;}@keyframes slideUpAndFade{0%{opacity:0;transform:translateY(2px);}100%{opacity:1;transform:translateY(0);}}"],(e=>e.theme.colors.uiLevel1)),as=(0,m.ZP)(Ht.ck).withConfig({displayName:"AccountSwitcher__StyledTeamItem",componentId:"sc-1itgn85-7"})(["box-sizing:border-box;padding:8px;height:40px;display:flex;align-items:center;justify-content:space-between;border-radius:4px;gap:8px;& svg{opacity:0;}&[data-active='true']{& svg{opacity:1;}& path{fill:",";}}&:hover,&:focus{background-color:","59;& svg{opacity:1;}& path{fill:",";}}"],(e=>e.theme.colors.primary),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.black)),is=(0,m.ZP)(Ht.ck).withConfig({displayName:"AccountSwitcher__StyledItem",componentId:"sc-1itgn85-8"})(["cursor:pointer;box-sizing:border-box;padding:8px;height:40px;display:flex;align-items:center;justify-content:flex-start;gap:8px;border-radius:4px;&:hover,&:focus{background-color:","59;}"],(e=>e.theme.colors.uiHoverable)),rs=m.ZP.span.withConfig({displayName:"AccountSwitcher__StyledItemText",componentId:"sc-1itgn85-9"})(["font-size:",";line-height:",";color:#fff;white-space:pre;overflow:hidden;text-overflow:ellipsis;"],(e=>e.theme.fonts.size.sm),(e=>e.theme.fonts.lineHeight.sm)),ls=m.ZP.div.withConfig({displayName:"AccountSwitcher__StyledCreateTeamButton",componentId:"sc-1itgn85-10"})(["height:24px;width:24px;display:flex;justify-content:center;align-items:center;background-color:",";border-radius:2px;"],(e=>e.theme.colors.primary)),cs=(0,m.ZP)(Ht.Z0).withConfig({displayName:"AccountSwitcher__StyledSeparator",componentId:"sc-1itgn85-11"})(["height:1px;background-color:",";margin:16px 0;"],(e=>e.theme.colors.uiLevel2)),ds=(0,m.ZP)(Ht.__).withConfig({displayName:"AccountSwitcher__StyledLabel",componentId:"sc-1itgn85-12"})(["height:24px;padding:0 16px;color:",";font-size:",";line-height:",";white-space:pre;overflow:hidden;text-overflow:ellipsis;"],(e=>e.theme.colors.textSecondary),(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs)),ps=(0,m.ZP)(Ht.ck).withConfig({displayName:"AccountSwitcher__StyledSettingsItem",componentId:"sc-1itgn85-13"})(["box-sizing:border-box;padding:11px 16px;display:flex;gap:14px;align-items:stretch;border-radius:4px;&:hover,&:focus{background-color:","59;}"],(e=>e.theme.colors.uiHoverable)),us=m.ZP.div.withConfig({displayName:"AccountSwitcher__StyledSettingsIconContainer",componentId:"sc-1itgn85-14"})(["display:flex;align-items:flex-start;color:#a5b4c7;"]),ms=m.ZP.span.withConfig({displayName:"AccountSwitcher__StyledSubText",componentId:"sc-1itgn85-15"})(["font-size:",";line-height:",";color:",";"],(e=>e.theme.fonts.size.xs),(e=>e.theme.fonts.lineHeight.xs),(e=>e.theme.colors.textSecondary)),hs=m.ZP.div.withConfig({displayName:"AccountSwitcher__StyledTextContainer",componentId:"sc-1itgn85-16"})(["display:flex;flex-direction:column;gap:2px;overflow:hidden;"]);var gs=(0,m.ZP)(W.Z).withConfig({displayName:"AccountSwitcher___StyledIcon",componentId:"sc-1itgn85-17"})(["cursor:pointer;"]),fs=s("./node_modules/lucide-react/dist/esm/icons/gallery-thumbnails.js");const ys=m.ZP.div.withConfig({displayName:"shared__StyledMenuItemContainer",componentId:"sc-1lvdfis-0"})(["cursor:pointer;width:100%;border:none;background-color:transparent;display:flex;align-items:center;gap:8px;border-radius:4px;box-sizing:border-box;height:",";padding:12px 16px;margin-bottom:",";transition:all 0.2s ease-in-out;&[data-icon-fill='true'] path{fill:",";}&[data-icon-color='true'] svg{color:",";}&[data-icon-stroke='true'] path{stroke:",";}& span{color:",";}&:hover,&[data-active='true']{background-color:",";border-radius:6px;&[data-icon-fill='true'] path{fill:#fff;}&[data-icon-color='true'] svg{color:",";}&[data-icon-stroke='true'] path{stroke:#fff;}& span{color:#fff;font-weight:",";}& svg{color:",";}}"],(e=>e.drawer?"32px":"36px"),(e=>e.drawer?"0":"2px"),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.uiHoverable),(e=>e.theme.colors.textSecondary),(e=>e.drawer?"unset":e.theme.colors.uiLevel1),(e=>e.theme.colors.white),(e=>e.drawer?"600":"500"),(e=>e.theme.colors.white));function xs(e){let{asTeamId:t,routePrefix:s,pathname:o}=e;const n=(0,dt.h)(t);return(0,ct.z8)(n.data.permitted)?(0,y.jsxs)(ys,{as:xe.rU,to:`${s}/storyboards`,"data-icon-color":"true","data-active":o.includes("storyboards"),children:[(0,y.jsx)(fs.Z,{size:16}),(0,y.jsx)(Bs,{children:"Storyboard"})]}):null}var vs=s("./app/api/hooks/useTeamspaces.ts");const bs=`\n  color: ${ot.Z.colors.textInactive};\n  &:hover {\n    color: ${ot.Z.colors.white};\n  }\n  flex-shrink: 0;\n`;var ws=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceEvents.ts"),_s=s("./app/components/@SideBar/TeamspacesWithoutFavorites/TeamspaceIcon.tsx");const Is={container:"TeamspaceItem__container__qtbs7",item:"TeamspaceItem__item__VZ85C",name:"TeamspaceItem__name__m1aH3",child:"TeamspaceItem__child__Qv5_d",icon:"TeamspaceItem__icon__s2oK4",text:"TeamspaceItem__text__fwU0d"};function Ts(e){let{teamspace:t,team:s}=e;const o=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),a=(0,w.I0)(),i=(0,f.TH)(),[r,l]=(0,n.useState)(!1);function c(){(0,Xe.L)({event:"Click",name:ws.Ji.ChooseTeamspace,section:"Teamspaces",otherProperties:{teamspaceId:t.id,teamspaceName:t.name}}),o&&a(re())}return(0,y.jsxs)("div",{className:Is.container,children:[(0,y.jsxs)(Pt.zx,{className:Is.item,onPress:function(){l(!r)},children:[(0,y.jsx)(_s._J,{teamspace:t}),(0,y.jsxs)("span",{className:Is.name,children:[t.name," Assets"]})]}),r?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(xe.rU,{to:`/video-tools/teams/${s.username}/teamspace/${t.id}/assets/favorites`,className:Is.child,onClick:c,"data-active":i.pathname.endsWith(`${s.username}/teamspace/${t.id}/assets/favorites`),children:[(0,y.jsx)(At.Z,{className:Is.icon}),(0,y.jsx)("span",{className:Is.text,children:"Favorites"})]}),(0,y.jsxs)(xe.rU,{to:`/video-tools/teams/${s.username}/teamspace/${t.id}/assets`,className:Is.child,onClick:c,"data-active":i.pathname.endsWith(`${s.username}/teamspace/${t.id}/assets`),children:[(0,y.jsx)(Mt.Z,{className:Is.icon}),(0,y.jsx)("span",{className:Is.text,children:"All"})]})]}):null]})}const js="index__divider__FJlrE";function ks(e){let{team:t}=e;const{data:s}=(0,vs.gb)(t.id,{suspense:!0}),o=(0,dt.h)(t.id),n=(0,w.I0)(),a=(0,E.Z5)(t.id,{suspense:!0}),i=(0,ct.wy)(o.data.permitted),r="owner"===a||"admin"===a||"editor"===a&&i;return!r&&(0,he.isEmpty)(s)?null:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:js}),(0,y.jsx)(ys,{drawer:!0,onClick:()=>{},children:(0,y.jsxs)(M.X2,{grow:!0,children:[(0,y.jsx)(M.JX,{grow:!0,children:(0,y.jsx)(Fs,{children:"Teamspaces"})}),r&&(0,y.jsx)(Es,{onClick:()=>{(0,w.dC)((()=>{n(re()),(0,zt.C)({event:Ut.I.CreateTeamStart,teamType:Wt.f.Teamspace}),n({type:"SHOW_CREATE_TEAM_MODAL",teamType:Wt.f.Teamspace})}))},"aria-label":"Create teamspace"})]})}),s?.map((e=>(0,y.jsx)(Ts,{teamspace:e,team:t},e.id)))]})}function Cs(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:js}),(0,y.jsx)(ys,{drawer:!0,onClick:()=>{},children:(0,y.jsx)(M.X2,{grow:!0,children:(0,y.jsxs)(M.JX,{grow:!0,children:[(0,y.jsx)(Fs,{children:"TEAMSPACES"}),(0,y.jsx)(Fs,{children:"An unexpected error occurred"})]})})})]})}var Es=(0,m.ZP)(qe.pOD).withConfig({displayName:"TeamspacesWithFavorites___StyledPlusIcon",componentId:"sc-g4u3n-0"})(["",""],bs),Ss=s("./app/utils/hooks/flags/useHasTeamspaces.ts");const As=e=>{let{teamspace:t}=e;const s=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),o=(0,w.I0)(),{pathname:n}=(0,f.TH)(),a=`/video-tools/teams/${(0,E.Qt)({suspense:!0}).username}`;return(0,y.jsx)(M.JX,{gutter:2,children:(0,y.jsxs)(ys,{as:xe.rU,to:`${a}/teamspace/${t.id}/assets`,onClick:()=>{(0,Xe.L)({event:"Click",name:ws.Ji.ChooseTeamspace,section:"Teamspaces",otherProperties:{teamspaceId:t.id,teamspaceName:t.name}}),s&&o(re())},"data-icon-stroke":"true","data-active":n.includes("assets")&&n.includes(`teamspace/${t.id}`),children:[(0,y.jsx)(_s._J,{teamspace:t}),(0,y.jsxs)(Ms,{children:[t.name," Assets"]})]})})},Ms=m.ZP.span.withConfig({displayName:"TeamspaceDrawer__TeamspaceName",componentId:"sc-wlwe1x-0"})(["text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;max-height:36px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;font-size:",";line-height:16px;font-weight:500;"],(e=>e.theme.fonts.size.md)),Ps=e=>{let{team:t}=e;const{data:s}=(0,vs.gb)(t.id,{suspense:!0}),o=(0,dt.h)(t.id),n=(0,w.I0)(),a=(0,E.Z5)(t.id,{suspense:!0}),i=(0,ct.wy)(o.data.permitted),r="owner"===a||"admin"===a||"editor"===a&&i;return!r&&(0,he.isEmpty)(s)?null:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Je.Z,{line:!0,lineColor:ot.Z.colors.uiLevel1}),(0,y.jsx)(ys,{drawer:!0,onClick:()=>{},children:(0,y.jsxs)(M.X2,{grow:!0,children:[(0,y.jsx)(M.JX,{grow:!0,children:(0,y.jsx)(Fs,{children:"Teamspaces"})}),r&&(0,y.jsx)(Os,{onClick:()=>{(0,w.dC)((()=>{n(re()),(0,zt.C)({event:Ut.I.CreateTeamStart,teamType:Wt.f.Teamspace}),n({type:"SHOW_CREATE_TEAM_MODAL",teamType:Wt.f.Teamspace})}))},"aria-label":"Create teamspace"})]})}),(0,y.jsx)(M.JX,{gutter:2,children:s?.map((e=>(0,y.jsx)(As,{teamspace:e},e.id)))})]})},Ns=e=>{let{team:t}=e;return(0,Ss.Y)(t.id)?(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(ut.S,{FallbackComponent:Ds,children:(0,y.jsx)(Ps,{team:t})})}):null},Ds=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Je.Z,{line:!0,lineColor:ot.Z.colors.uiLevel1}),(0,y.jsx)(ys,{drawer:!0,onClick:()=>{},children:(0,y.jsx)(M.X2,{grow:!0,children:(0,y.jsxs)(M.JX,{grow:!0,children:[(0,y.jsx)(Fs,{children:"TEAMSPACES"}),(0,y.jsx)(Fs,{children:"An unexpected error occurred"})]})})})]});var Os=(0,m.ZP)(qe.pOD).withConfig({displayName:"TeamspacesNav___StyledPlusIcon",componentId:"sc-ta8myd-0"})(["",""],bs),Ls=s("./node_modules/lucide-react/dist/esm/icons/blocks.js");const Rs=e=>{let{routePrefix:t,pathname:s}=e;return(0,y.jsxs)(ys,{as:xe.rU,to:`${t}/workflows`,"data-icon-color":"true","data-active":s.includes("workflows"),children:[(0,y.jsx)(Ls.Z,{size:16}),(0,y.jsx)(Bs,{children:"Custom Workflows"})]})},Zs=()=>{const{pathname:e,search:t}=(0,f.TH)(),s=(0,w.I0)(),o=(0,E.I7)({suspense:!0}),a=(0,E.Je)({suspense:!0}),i=o||a,r=(0,Ct.o)(i.id),l=`/video-tools/teams/${i.username}`,c=(0,rt.yG)(i.id,{suspense:!0}),d=(0,dt.h)(i.id),p=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),u=(0,n.useCallback)((()=>{p&&s(re())}),[s,p]),[m,,h]=(0,at.Z)("hasSeenWatchNudge",!1),g=(0,pt.S)(i.id);return(0,y.jsx)(zs,{onClick:e=>{e.stopPropagation()},children:(0,y.jsxs)(Vs,{children:[(0,y.jsx)(Je.Z,{pad:[8,0]}),(0,y.jsx)(Xt,{}),(0,y.jsx)(Je.Z,{pad:[8,0]}),(0,y.jsxs)(ys,{as:xe.rU,to:`${l}`,onClick:()=>{u(),(0,Xe.L)({event:"Click",name:"Open magic tools from sidebar",section:"AI Magic Tools"})},"data-active":e.includes("/dashboard")&&""===t,children:[(0,y.jsx)(Xs,{}),(0,y.jsx)(Bs,{children:"Home"})]}),(0,y.jsxs)(ys,{as:xe.rU,to:`${l}/watch`,"data-icon-stroke":"true","data-active":e.includes("watch"),onClick:()=>{u(),(0,Xe.L)({event:"Click",name:"Open watch page from sidebar",section:"AI Magic Tools"}),h([{path:"/hasSeenWatchNudge",op:"replace",value:!0}])},children:[(0,ct.iM)(d.data.permitted)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(qs,{size:15}),(0,y.jsx)(Bs,{children:"Runway Watch"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(W.Z,{icon:"sidebar_menu/watch",size:16}),(0,y.jsx)(Bs,{children:"Watch"})]}),!m&&(0,y.jsx)($s,{children:"New"})]}),(0,ct.$5)(d.data.permitted)&&(0,y.jsxs)(ys,{as:xe.rU,to:`${l}/explore`,"data-active":e.includes("/explore"),onClick:u,children:[(0,y.jsx)(Js,{}),(0,y.jsx)(Bs,{children:"Explore"})]}),(0,ct.Ak)(c,d.data.permitted)&&!d.data.permitted[lt.G.FavoriteAssets]&&(0,y.jsx)(Ns,{team:i}),(0,ct.Ak)(c,d.data.permitted)&&d.data.permitted[lt.G.FavoriteAssets]&&(0,y.jsx)(ut.S,{fallback:(0,y.jsx)(Cs,{}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)("div",{}),children:(0,y.jsx)(ks,{team:i})})}),(0,y.jsx)(Je.Z,{line:!0,lineColor:ot.Z.colors.uiLevel1}),(0,y.jsxs)(y.Fragment,{children:[d.data.permitted[lt.G.FavoriteAssets]&&r&&i?(0,y.jsx)(Zt,{team:i}):(0,y.jsx)(Ks,{as:xe.rU,to:`${l}/assets`,"data-icon-stroke":"true","data-active":e.endsWith(`${o?.username}/assets`),onClick:u,children:(0,y.jsxs)(M.X2,{gutter:8,alignCenterVertical:!0,children:[(0,y.jsx)(W.Z,{icon:"sidebar_menu/assets-outline",size:16}),(0,y.jsx)(Bs,{children:(0,ct.Ak)(c,d.data.permitted)?"All Assets":"Assets"})]})}),(0,y.jsxs)(ys,{as:xe.rU,to:`${l}/projects`,"data-icon-stroke":"true","data-active":e.includes("projects"),onClick:u,children:[(0,y.jsx)(W.Z,{icon:"sidebar_menu/projects",size:16}),(0,y.jsx)(Bs,{children:"Video Editor Projects"})]}),(0,y.jsx)(ys,{as:xe.rU,to:`${l}/shared-with-me`,"data-icon-stroke":"true","data-active":e.includes("shared-with-me"),onClick:u,children:(0,y.jsx)(Gs,{children:"Shared with me"})}),o?(0,y.jsx)(xs,{routePrefix:l,pathname:e,asTeamId:o.id}):null]}),(0,y.jsx)(Je.Z,{line:!0,lineColor:ot.Z.colors.uiLevel1}),g&&(0,y.jsx)(Rs,{routePrefix:l,pathname:e}),(0,y.jsx)(no,{}),(0,y.jsxs)("div",{style:{marginTop:"auto"},children:[o&&(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(yt,{asTeamId:o.id})}),(0,y.jsx)(Ws,{})]})]})})},Us=e=>{let{asTeamId:t}=e;const{data:s}=(0,st.Xi)({asTeamId:t,taskTypes:["dreambooth","lora"],statuses:["PENDING","RUNNING"]});return void 0===s||s.length<1?null:(0,y.jsx)(mt.U,{children:s.length})},zs=m.ZP.div.withConfig({displayName:"DashboardSideBar__StyledContainer",componentId:"sc-1a3u6wj-0"})(["display:flex;flex-direction:column;height:100%;width:100%;box-sizing:border-box;background-color:",";border-right:1px solid ",";"],(e=>e.theme.colors.black),(e=>e.theme.colors.uiLevel1)),Vs=(0,m.ZP)(z.x).withConfig({displayName:"DashboardSideBar__ScrollContainer",componentId:"sc-1a3u6wj-1"})(["flex-direction:column;flex-grow:1;width:100%;overflow-y:auto;padding:0 16px 16px 16px;"]),Bs=m.ZP.span.withConfig({displayName:"DashboardSideBar__StyledMenuItemText",componentId:"sc-1a3u6wj-2"})(["font-size:",";line-height:16px;font-weight:500;"],(e=>e.theme.fonts.size.md));var Gs=(0,m.ZP)(Bs).withConfig({displayName:"DashboardSideBar___StyledStyledMenuItemText",componentId:"sc-1a3u6wj-3"})(["margin-left:24px;"]);const Fs=m.ZP.span.withConfig({displayName:"DashboardSideBar__StyledCategoryText",componentId:"sc-1a3u6wj-4"})(["font-size:",";line-height:16px;font-weight:600;color:",";"],(e=>e.theme.fonts.size.md),(e=>e.theme.colors.textInactive)),$s=m.ZP.div.withConfig({displayName:"DashboardSideBar__NewIndicator",componentId:"sc-1a3u6wj-5"})(["display:flex;justify-content:center;align-items:center;min-width:48px;min-height:24px;margin-left:auto;border-radius:12px;background-color:",";font-size:",";line-height:",";font-weight:600;text-transform:uppercase;"],(e=>{let{theme:t}=e;return t.colors.primary}),(e=>{let{theme:t}=e;return t.fonts.size.xs}),(e=>{let{theme:t}=e;return t.fonts.lineHeight.md}));const Ws=e=>{let{}=e;return(0,y.jsx)(Qs,{children:(0,y.jsxs)(Hs,{children:[(0,y.jsx)(Ys,{href:nt.lQ,target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," and ",(0,y.jsx)(Ys,{href:nt.hO,target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})]})})},Hs=m.ZP.span.withConfig({displayName:"DashboardSideBar__TextSpan",componentId:"sc-1a3u6wj-6"})(["color:",";font-size:",";line-height:",";text-align:center;"],(e=>{let{theme:t}=e;return t.colors.textInactive}),(e=>{let{theme:t}=e;return t.fonts.size.xxs}),(e=>{let{theme:t}=e;return t.fonts.lineHeight.xxs})),Ys=m.ZP.a.withConfig({displayName:"DashboardSideBar__InlineLink",componentId:"sc-1a3u6wj-7"})(["color:",";cursor:pointer;font-size:inherit;line-height:inherit;&:hover{text-decoration:underline;}"],(e=>{let{theme:t}=e;return t.colors.white}));var Xs=(0,m.ZP)(qe.tvw).withConfig({displayName:"DashboardSideBar___StyledHomeIcon",componentId:"sc-1a3u6wj-8"})(["color:",";&[data-active='true'],&:hover{color:",";}"],(e=>e.theme.colors.textInactive),(e=>e.theme.colors.white)),qs=(0,m.ZP)(it.Z).withConfig({displayName:"DashboardSideBar___StyledTv",componentId:"sc-1a3u6wj-9"})(["color:",";&[data-active='true'],&:hover{color:",";}"],(e=>e.theme.colors.textInactive),(e=>e.theme.colors.white)),Js=(0,m.ZP)(qe.n9J).withConfig({displayName:"DashboardSideBar___StyledGlobeIcon",componentId:"sc-1a3u6wj-10"})(["color:",";&[data-active='true'],&:hover{color:",";}"],(e=>e.theme.colors.textInactive),(e=>e.theme.colors.white)),Ks=(0,m.ZP)(ys).withConfig({displayName:"DashboardSideBar___StyledStyledMenuItemContainer",componentId:"sc-1a3u6wj-11"})(["justify-content:space-between;"]),Qs=(0,m.ZP)("div").withConfig({displayName:"DashboardSideBar___StyledDiv",componentId:"sc-1a3u6wj-12"})(["margin-top:8px;"]);const eo=m.ZP.div.withConfig({displayName:"AIMagicToolsDrawer__IconGap",componentId:"sc-1cqc7zy-0"})(["width:16px;"]),to=e=>{let{item:t}=e;const[s]=(0,tt.yp)(),o=(0,n.useContext)(m.Ni),{pathname:a}=(0,f.TH)(),i=(0,et.c)(),r=(0,E.I7)({suspense:!0}),l=(0,E.Je)({suspense:!0}),c=`/video-tools/teams/${(r||l).username}`,d="dashboard",[p,u]=(0,n.useState)(!0),h=(0,Ke.f7)({feature:"dreamBoothAccess",suspense:!0}),g=t.subItems.map((e=>e.tab)),x=(0,n.useMemo)((()=>s.tabs.some((e=>g.includes(e)||"misc"===t.type&&a.includes("/custom-ai-tools")))),[t.type,a,s.tabs,g]),v=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),b=(0,w.I0)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ys,{drawer:!0,as:t.subItems?void 0:xe.rU,to:t.subItems?"/":`${c}/${d}?tab=${t.tab}`,onClick:t.subItems?()=>{u((e=>!e))}:()=>{po({subPage:t.tab,source:i})},"data-icon-stroke":"true","data-icon-fill":"true","data-active":x,children:(0,y.jsxs)(M.X2,{children:[(0,y.jsx)(M.JX,{alignCenter:!0,children:t.subItems&&(0,y.jsx)(so,{size:8,icon:"arrow-back",color:o.colors.white,style:{marginRight:6,marginLeft:2},$_css:p?"90":"-90"})}),(0,y.jsx)(M.JX,{style:{width:100},children:t.subItems?(0,y.jsx)(Fs,{children:t.label}):(0,y.jsx)(Bs,{children:t.label})})]})},t.type),t.subItems&&p&&(0,y.jsxs)(Qe.M_,{children:[t.subItems.map((e=>(0,y.jsxs)(ys,{as:xe.rU,to:`${c}/${d}?tab=${e.tab}`,"data-icon-stroke":"true","data-active":s.tabs.includes(e.tab),onClick:()=>{v&&b(re()),po({subPage:e.tab,source:i})},children:[(0,y.jsx)(eo,{}),(0,y.jsx)(Bs,{children:e.label})]},e.type))),"misc"===t.type&&h&&(0,y.jsxs)(ys,{as:xe.rU,to:`${c}/custom-ai-tools`,onClick:()=>{v&&b(re()),po({subPage:"ai-training",source:i})},"data-icon-fill":"true","data-active":a.includes("/custom-ai-tools"),children:[(0,y.jsx)(eo,{}),(0,y.jsx)(Bs,{children:"AI Training"}),r&&(0,y.jsx)(Us,{asTeamId:r.id})]})]})]})};var so=(0,m.ZP)(W.Z).withConfig({displayName:"AIMagicToolsDrawer___StyledIcon",componentId:"sc-1cqc7zy-1"})(["transform:rotate(","deg);"],(e=>e.$_css));const oo=[{type:"video",label:"Videos",tab:"video",subItems:[{type:"video-generate",label:"Generate Videos",tab:"video-generate"},{type:"video-edit",label:"Edit Videos",tab:"video-edit"},{type:"audio-subtitles",label:"Generate Audio",tab:"audio-subtitles"}]},{type:"image",label:"Images",tab:"image",subItems:[{type:"image-generate",label:"Generate Images",tab:"image-generate"},{type:"image-edit",label:"Edit Images",tab:"image-edit"}]},{type:"misc",label:"More",tab:"more",subItems:[{type:"3d",label:"3D",tab:"3d"}]}],no=()=>(0,y.jsx)(y.Fragment,{children:oo.map((e=>(0,y.jsx)(to,{item:e},`drawer-${e.type}`)))}),ao=()=>(0,y.jsxs)(ro,{children:[(0,y.jsxs)(io,{children:[(0,y.jsx)(uo,{}),(0,y.jsx)(lo,{children:"Home"})]}),(0,y.jsxs)(io,{"data-icon-stroke":"true",children:[(0,y.jsx)(W.Z,{icon:"sidebar_menu/watch",size:16}),(0,y.jsx)(lo,{children:"Watch"})]}),(0,y.jsx)(Je.Z,{}),oo.map((e=>(0,y.jsxs)("div",{children:[(0,y.jsx)(lo,{children:e.label}),(0,y.jsx)("ul",{style:{margin:"8px 0"},children:e.subItems.map((e=>(0,y.jsx)(co,{children:e.label},e.label)))})]},e.label)))]}),io=m.ZP.div.withConfig({displayName:"AIMagicToolsNav__Row",componentId:"sc-clzqaz-0"})(["display:flex;align-items:center;gap:2px;padding:4px 8px;border-radius:4px;width:100%;flex-grow:1;&:hover{color:",";background-color:",";> h1{color:",";}}&[data-icon-fill='true'] path{fill:",";}&[data-icon-stroke='true'] path{stroke:",";}"],(e=>{let{theme:t}=e;return t.colors.white}),(e=>{let{theme:t}=e;return t.colors.uiLevel1}),(e=>{let{theme:t}=e;return t.colors.white}),(e=>e.theme.colors.white),(e=>e.theme.colors.white)),ro=m.ZP.div.withConfig({displayName:"AIMagicToolsNav__GuestContainer",componentId:"sc-clzqaz-1"})(["cursor:pointer;padding:16px;width:100%;"]),lo=m.ZP.h1.withConfig({displayName:"AIMagicToolsNav__Title",componentId:"sc-clzqaz-2"})(["font-size:14px;line-height:16px;font-weight:500;color:rgb(124,131,156);padding:8px;color:",";"],(e=>{let{theme:t}=e;return t.colors.white})),co=m.ZP.li.withConfig({displayName:"AIMagicToolsNav__Items",componentId:"sc-clzqaz-3"})(["font-size:16px;line-height:16px;font-weight:500;color:rgb(124,131,156);padding:12px 24px;border-radius:4px;&:hover{color:",";background-color:",";}"],(e=>{let{theme:t}=e;return t.colors.white}),(e=>{let{theme:t}=e;return t.colors.uiLevel1}));function po(e){let{subPage:t,source:s}=e;(0,Xe.L)({event:"Click",name:"Open magic tool category via navigation menu",section:"AI Magic Tools",otherProperties:{subPage:t,source:s}})}var uo=(0,m.ZP)(qe.tvw).withConfig({displayName:"AIMagicToolsNav___StyledHomeIcon",componentId:"sc-clzqaz-4"})(["color:",";"],(e=>e.theme.colors.white));const mo=[[{height:100,mb:40},{height:20,mb:40},{height:20,mb:20},{height:20,mb:20},{height:20,mb:40},{height:20,mb:20},{height:20,mb:40},{height:20,mb:20}],[{height:80,mb:20},{height:20,mb:40},{height:32,mb:0}]],ho=()=>(0,y.jsxs)(go,{children:[(0,y.jsx)(fo,{children:(0,y.jsx)(yo,{src:F.Z})}),(0,y.jsx)(M.JX,{spaceBetween:!0,grow:!0,children:mo.map(((e,t)=>(0,y.jsx)("div",{children:e.map(((e,t)=>(0,y.jsx)(xo,{$height:e.height,$mb:e.mb},t)))},t)))})]}),go=m.ZP.div.withConfig({displayName:"SkeletonSidebar__StyledContainer",componentId:"sc-pz6wwa-0"})(["display:flex;flex-direction:column;height:100%;width:100%;padding:0 16px 16px 16px;box-sizing:border-box;background-color:",";border-right:1px solid ",";"],(e=>e.theme.colors.uiBackground),(e=>e.theme.colors.uiLevel1)),fo=m.ZP.div.withConfig({displayName:"SkeletonSidebar__StyledLogoContainer",componentId:"sc-pz6wwa-1"})(["flex-shrink:0;height:56px;padding-left:16px;display:flex;align-items:center;"]),yo=m.ZP.img.withConfig({displayName:"SkeletonSidebar__StyledLogo",componentId:"sc-pz6wwa-2"})(["height:18px;"]),xo=m.ZP.div.withConfig({displayName:"SkeletonSidebar__SkeletonBlock",componentId:"sc-pz6wwa-3"})(["width:100%;height:","px;margin-bottom:","px;border-radius:6px;background-color:",";animation:changeBackground 1400ms infinite;@keyframes changeBackground{0%{background-color:",";}50%{background-color:",";}100%{background-color:",";}}"],(e=>e.$height),(e=>e.$mb),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiLevel1),(e=>e.theme.colors.uiLevel2),(e=>e.theme.colors.uiLevel1)),vo={ResponsiveSideBarWrapper:"AnonymousSideBar__ResponsiveSideBarWrapper__xIkAJ",DetachedWrapper:"AnonymousSideBar__DetachedWrapper__p1heD",Hidden:"AnonymousSideBar__Hidden__mAQSF",MenuContainer:"AnonymousSideBar__MenuContainer__Bv1HZ",Detached:"AnonymousSideBar__Detached__M6nfw","moving-gradient":"AnonymousSideBar__moving-gradient__SWRk6",pulse:"AnonymousSideBar__pulse__X7XaA",gradient:"AnonymousSideBar__gradient__bKD9Y",blink:"AnonymousSideBar__blink__bEDUr"},bo=me().bind(vo),wo=()=>{const e=(0,w.I0)(),t=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),s=(0,Ye.Z)((e=>e.responsiveSideBar));(0,n.useEffect)((()=>{t&&"HIDE"!==s.status?e(ie()):e(re())}),[e,s.status,t]);const o=()=>{"SHOW"===s.status&&e(re())};return t?(0,y.jsx)("div",{className:bo(vo.ResponsiveSideBarWrapper,vo.DetachedWrapper,{[vo.Hidden]:"SHOW"!==s.status,[vo.Visible]:"SHOW"===s.status}),style:{zIndex:de.I.ResponsiveSideBarWrapper},onClick:o,children:(0,y.jsx)("div",{className:bo(vo.MenuContainer,vo.Detached,{[vo.Hidden]:"SHOW"!==s.status}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(ho,{}),children:(0,y.jsx)(Io,{})})})}):(0,y.jsx)("div",{className:vo.ResponsiveSideBarWrapper,children:(0,y.jsx)("div",{className:bo(vo.MenuContainer,vo.Attached),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(ho,{}),children:(0,y.jsx)(Io,{})})})})},_o=m.ZP.img.withConfig({displayName:"AnonymousSideBar__StyledLogo",componentId:"sc-l9dqfo-0"})(["height:24px;cursor:pointer;padding:0px 8px;"]),Io=()=>{const e=(0,w.I0)(),t=(0,n.useCallback)((t=>{e({type:"SHOW_SIGNIN_MODAL",signinType:t,title:"Sign in to Runway"})}),[e]);return(0,y.jsxs)(ko,{children:[(0,y.jsx)(To,{children:(0,y.jsx)(_o,{src:F.Z,onClick:()=>(0,G.o)("https://runwayml.com/")})}),(0,y.jsx)(jo,{onClick:()=>t("SIGNUP"),children:(0,y.jsx)(ao,{})})]})},To=m.ZP.div.withConfig({displayName:"AnonymousSideBar__LogoContainer",componentId:"sc-l9dqfo-1"})(["background-color:",";width:100%;padding:22px 0px 22px 16px;display:flex;justify-content:flex-start;"],(e=>e.theme.colors.primary)),jo=m.ZP.button.withConfig({displayName:"AnonymousSideBar__NavSignUpButtpn",componentId:"sc-l9dqfo-2"})(["background-color:#000;border:none;display:flex;justify-content:flex-start;text-align:left;"]),ko=m.ZP.div.withConfig({displayName:"AnonymousSideBar__Container",componentId:"sc-l9dqfo-3"})(["background-color:",";display:flex;flex-direction:column;align-items:flex-start;"],(e=>e.theme.colors.black)),Co={ResponsiveSideBarWrapper:"ResponsiveSideBar__ResponsiveSideBarWrapper__wygB3",DetachedWrapper:"ResponsiveSideBar__DetachedWrapper__I1GOz",Hidden:"ResponsiveSideBar__Hidden__RGxpp",MenuContainer:"ResponsiveSideBar__MenuContainer__G_eJj",Detached:"ResponsiveSideBar__Detached__rSeVy","moving-gradient":"ResponsiveSideBar__moving-gradient__oKotL",pulse:"ResponsiveSideBar__pulse__GlWwZ",gradient:"ResponsiveSideBar__gradient___4sGm",blink:"ResponsiveSideBar__blink__jWU6s"},Eo=me().bind(Co),So=()=>{const e=(0,w.I0)(),t=(0,B.ac)(`(max-width: ${V.u.breakpoints.sm})`),s=(0,Ye.Z)((e=>e.responsiveSideBar));(0,n.useEffect)((()=>{t&&"HIDE"!==s.status?e(ie()):e(re())}),[e,s.status,t]);const o=()=>{"SHOW"===s.status&&e(re())};return t?(0,y.jsx)("div",{className:Eo(Co.ResponsiveSideBarWrapper,Co.DetachedWrapper,{[Co.Hidden]:"SHOW"!==s.status,[Co.Visible]:"SHOW"===s.status}),style:{zIndex:de.I.ResponsiveSideBarWrapper},onClick:o,children:(0,y.jsx)("div",{className:Eo(Co.MenuContainer,Co.Detached,{[Co.Hidden]:"SHOW"!==s.status}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(ho,{}),children:(0,y.jsx)(Zs,{})})})}):(0,y.jsx)("div",{className:Co.ResponsiveSideBarWrapper,children:(0,y.jsx)("div",{className:Eo(Co.MenuContainer,Co.Attached),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(ho,{}),children:(0,y.jsx)(Zs,{})})})})},Ao={App:"App__App__Re0wi",ShowPopup:"App__ShowPopup__Bv6Jo",Popup:"App__Popup__L4Koe",Desktop:"App__Desktop__Cp3xQ",Flash:"App__Flash__ebg2c",ShowFlash:"App__ShowFlash__opkcG",show:"App__show__bTbh0",HideFlash:"App__HideFlash__BjerG",hide:"App__hide__Xow3Z",HidePopup:"App__HidePopup__P7lzI",NewModel:"App__NewModel__M9fKJ",NotificationBar:"App__NotificationBar__VmL2b",ShowNewModel:"App__ShowNewModel__ogU7t",MainWrapper:"App__MainWrapper__tmEVx",Main:"App__Main__TSFGI",DesktopWithoutStatusBar:"App__DesktopWithoutStatusBar__JZWZJ",WithNotificationBar:"App__WithNotificationBar__Ow7t7",MainMenu:"App__MainMenu__ftFyg",SideBar:"App__SideBar__MEkEB",MainContent:"App__MainContent__Jv7H0",GlobalTooltip:"App__GlobalTooltip__J6Kzg","moving-gradient":"App__moving-gradient__ZFVPA",pulse:"App__pulse__VXe63",gradient:"App__gradient__YTByO",blink:"App__blink__lMPo3"};var Mo=s("./app/components/Prefabs/Modal.tsx"),Po=s("./app/components/Prefabs/ModalWrapper/ModalWrapper.tsx"),No=s("./node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js"),Do=s("./app/utils/video-editor/store.ts"),Oo=s("./app/utils/assets.ts"),Lo=s("./app/actions/video-editor/layers.ts"),Ro=s("./node_modules/react-dnd/dist/esm/hooks/useDrop.js"),Zo=s("./app/utils/filenames.ts"),Uo=s("./app/components/Views/VideoTools/VideoEditor/Assets/default-assets.ts"),zo=s("./app/components/Prefabs/Pic.tsx");const Vo=(0,m.ZP)(Mo.Z).withConfig({displayName:"EffectsModal__ModalContainer",componentId:"sc-7gv087-0"})(["background:",";width:min-content;justify-content:space-between;padding:24px;display:grid;"],(e=>e.theme.colors.grayscale.white)),Bo=(0,m.ZP)(M.JX).withConfig({displayName:"EffectsModal__WrapperInner",componentId:"sc-7gv087-1"})(["pointer-events:none;"]),Go=(0,m.ZP)(M.JX).withConfig({displayName:"EffectsModal__ModalContents",componentId:"sc-7gv087-2"})(["color:",";display:grid;grid-template-rows:auto 4fr auto 130px;grid-gap:1rem;"],(e=>e.theme.colors.black)),Fo=(0,m.ZP)(M.X2).withConfig({displayName:"EffectsModal__ModalHeader",componentId:"sc-7gv087-3"})(["font-size:20px;padding:12px 0px;"]),$o=(0,m.ZP)(M.X2).withConfig({displayName:"EffectsModal__DragTarget",componentId:"sc-7gv087-4"})(["display:grid;grid-template-rows:auto auto;justify-content:center;justify-items:center;align-content:center;align-items:center;grid-gap:1rem;background:",";border-radius:4px;border:",";& :hover{border:1px dashed ",";}"],(e=>e.theme.colors.uiInactiveLight),(e=>e.active?`1px dashed ${e.theme.colors.primary}`:`1px dashed ${e.theme.colors.uiHoverable}`),(e=>e.theme.colors.primary)),Wo=(0,m.ZP)(M.X2).withConfig({displayName:"EffectsModal__StockVideos",componentId:"sc-7gv087-5"})(["display:flex;justify-content:space-between;"]),Ho=(0,m.ZP)(M.X2).withConfig({displayName:"EffectsModal__HeaderMessage",componentId:"sc-7gv087-6"})(["font-size:24px;"]),Yo=(0,m.ZP)(M.X2).withConfig({displayName:"EffectsModal__BodyMessage",componentId:"sc-7gv087-7"})(["font-size:19px;color:",";"],(e=>e.theme.colors.textSecondary)),Xo=m.ZP.span.withConfig({displayName:"EffectsModal__Clickable",componentId:"sc-7gv087-8"})(["color:",";text-decoration:underline;cursor:pointer;"],(e=>e.theme.colors.primary)),qo=()=>{const e=(0,w.I0)(),t=(0,Ye.Z)((e=>e.effectsModal)),s=t.effect,o=t.title,a=(0,n.useCallback)((()=>{e({type:"HIDE_EFFECTS_MODAL"})}),[e]),i=(0,n.useCallback)((t=>{const o=(0,Do.GW)(s);e({type:"composition/ADD_EFFECT",effect:o,layerId:t.id})}),[s,e]),r=(0,n.useCallback)((t=>{e((0,Lo.dG)(t,{undoable:!0},i)),a()}),[e,a,i]),[{isDraggingFileOver:l},c]=(0,Ro.L)({accept:[No.FILE],canDrop:()=>!0,drop:async(e,t)=>{if(!t.isOver())return!1;"files"in e&&((0,Oo.ce)(e.files,{createLayerCallback:i}),a())},collect:e=>({isDraggingFileOver:e.isOver()&&e.getItemType()===No.FILE,canDrop:e.canDrop()})}),d=(0,n.useCallback)((()=>{(0,Oo.bx)({multiple:!1,acceptExtensions:Zo.Ks.video}).then((e=>{(0,Oo.ce)(e,{createLayerCallback:i}),a()}))}),[a,i]);return"SHOW"===t.status&&(0,He.Pc)()?(0,y.jsx)(Qe.M_,{children:(0,y.jsx)(Po.Z,{onHide:a,backgroundColor:ot.Z.colors.modalBackground,align:"centered",children:(0,y.jsx)(Bo,{size:12,pad:24,alignCenter:!0,"aria-label":"Use an effect",children:(0,y.jsx)(Vo,{grow:!0,size:12,minHeight:350,gutter:0,children:(0,y.jsxs)(Go,{minHeight:625,minWidth:725,children:[(0,y.jsxs)(Fo,{children:["Upload a video to use ",o]}),(0,y.jsxs)($o,{ref:c,active:l,children:[(0,y.jsx)(Ho,{children:l?"Drop your file here":"Drag and Drop or"}),!l&&(0,y.jsxs)(Yo,{children:[(0,y.jsx)("div",{children:"Click to "}),(0,y.jsx)(Xo,{onClick:d,children:"browse"}),(0,y.jsx)("div",{children:"your files here"})]})]}),(0,y.jsx)(Yo,{children:"Or use a demo video"}),(0,y.jsx)(Wo,{children:(0,y.jsx)(n.Suspense,{fallback:null,children:Uo.f5.map((e=>(0,y.jsx)(zo.Z,{src:e.previewUrls[0],cover:!0,onClick:()=>r(e),borderRadius:"4px"},e.id)))})})]})})})})}):null};var Jo=s("./app/containers/Login.tsx"),Ko=s("./app/containers/Signup.tsx"),Qo=s("./app/utils/hooks/useAuthentication.ts"),en=s("./app/components/Prefabs/DisableKeyboardEvents.tsx");const tn=m.ZP.div.withConfig({displayName:"SigninModal__WrapperIcon",componentId:"sc-b7k903-0"})(["background-color:",";opacity:0.2;height:24px;width:24px;border-radius:100%;display:flex;justify-content:center;align-items:center;"],(e=>e.theme.colors.uiHoverable)),sn=(0,m.ZP)(Mo.Z).withConfig({displayName:"SigninModal__ModalContainer",componentId:"sc-b7k903-1"})(["background:",";width:min-content;justify-content:space-between;padding:24px;position:relative;"],(e=>e.theme.colors.grayscale.white)),on=(0,m.ZP)(M.JX).withConfig({displayName:"SigninModal__WrapperInner",componentId:"sc-b7k903-2"})(["pointer-events:none;"]),nn=()=>{const e=(0,w.I0)(),t=(0,Ye.Z)((e=>e.signinModal)),{pathname:s}=(0,f.TH)(),o=(0,n.useCallback)((()=>{e({type:"HIDE_SIGNIN_MODAL"})}),[e]),[,a]=(0,Qo.J)();return(0,He.Pc)()||"SHOW"!==t.status||"/login"===s||"/signup"===s?null:(0,y.jsx)(Qe.M_,{children:(0,y.jsxs)(Po.Z,{onHide:o,backgroundColor:ot.Z.colors.modalBackground,align:"centered",children:[(0,y.jsx)(en.Z,{permittedKeys:["Escape"]}),(0,y.jsx)(on,{size:12,pad:0,alignCenter:!0,"aria-label":"Sign in to Runway",children:(0,y.jsxs)(sn,{grow:!0,size:12,minHeight:350,gutter:0,children:[(0,y.jsx)(M.X2,{style:{justifyContent:"flex-end",display:"flex",position:"absolute",top:0,right:0,zIndex:200},overflowHidden:!0,pad:[16],children:(0,y.jsx)(tn,{children:(0,y.jsx)(W.Z,{icon:"close",color:ot.Z.colors.black,onClick:o,size:10,hoverColor:"black"})})}),"LOGIN"===t.signinType?(0,y.jsx)(Jo.default,{onLogin:a}):(0,y.jsx)(Ko.default,{onSignup:a})]})})]})})};var an=s("./node_modules/react-use-measure/dist/web.js"),rn=s("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),ln=s("./app/utils/merge-refs.ts"),cn=s("./app/components/Prefabs/RequestRoleUpgradeDialog.tsx"),dn=s("./app/utils/hooks/useCanCreateProjects.ts"),pn=s("./node_modules/lucide-react/dist/esm/icons/folder.js"),un=s("./node_modules/moment/moment.js"),mn=s.n(un);const hn={container:"AssetGroupItem__container__TwVys",folderContainer:"AssetGroupItem__folderContainer__wiFnW",detailsContainer:"AssetGroupItem__detailsContainer__TX8J_",nameText:"AssetGroupItem__nameText__quZdT",detailsText:"AssetGroupItem__detailsText__q1EuQ"};var gn=s("./node_modules/lucide-react/dist/esm/icons/corner-down-left.js");const fn={item:"Item__item__sq5HT",icon:"Item__icon__GJJfB"};function yn(e){let{children:t,...s}=e;return(0,y.jsxs)(xe.rU,{...s,className:fn.item,children:[t,(0,y.jsx)(gn.Z,{size:16,className:fn.icon})]})}function xn(e){let{children:t,...s}=e;return(0,y.jsxs)("div",{...s,className:fn.item,children:[t,(0,y.jsx)(gn.Z,{size:16,className:fn.icon})]})}function vn(e){let{assetGroup:t,team:s,activeElement:o,setActiveElement:n,onClose:a}=e;return(0,y.jsx)(yn,{to:`/video-tools/teams/${s.username}/assets?parentId=${t.id}`,"data-active":o===t.id,onMouseMove:()=>n(t.id),onMouseLeave:()=>n(null),onClick:a,children:(0,y.jsxs)("div",{className:hn.container,children:[(0,y.jsx)("div",{className:hn.folderContainer,children:(0,y.jsx)(pn.Z,{stroke:"#A5B4C7",fill:"#A5B4C7",height:24,width:24})}),(0,y.jsxs)("div",{className:hn.detailsContainer,children:[(0,y.jsx)("div",{className:hn.nameText,children:t.name}),(0,y.jsxs)("div",{className:hn.detailsText,children:["Folder • In ",t.parentAssetGroupName||"Assets"," •"," ",mn()(t.updatedAt).fromNow()]})]})]})})}var bn=s("./app/components/Views/Assets/shared.tsx");const wn={container:"AssetItem__container__X8Hs5",detailsContainer:"AssetItem__detailsContainer__jrirP",nameRow:"AssetItem__nameRow__xJC2X",nameText:"AssetItem__nameText__dYAWl",typeLabel:"AssetItem__typeLabel__kyHJm",detailsText:"AssetItem__detailsText__DRZhL"},_n={container:"FallbackThumbnail__container__kyfL7"};function In(){return(0,y.jsx)("div",{className:_n.container,children:(0,y.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M11.9599 14.2803C10.1467 14.4381 8.63063 12.4162 7.46844 11.3908C6.88078 15.4199 0.482144 15.038 0.486513 10.9507C0.488698 9.23403 0.486513 5.03883 0.486513 3.37611C0.486513 2.77828 0.659095 2.1763 0.982413 1.66565C1.59628 0.675496 2.78251 0.0361486 3.99058 0.0486034C5.81034 0.0506792 10.1926 0.0465276 11.9599 0.0486034C16.2592 0.0486034 16.6677 6.13486 12.4187 6.68287L14.4351 8.59883C16.6502 10.5812 14.9878 14.3675 11.9599 14.2803ZM10.9834 11.8828C12.233 13.1075 14.2275 11.2102 12.9408 10.0228L9.44548 6.70155H7.49028C7.49028 6.88215 7.49028 8.43069 7.49028 8.56147L10.5116 11.4323L10.9834 11.8828ZM2.60337 10.9528C2.57497 12.655 5.39964 12.6612 5.37124 10.9528V3.37611C5.39527 2.52711 4.45153 1.85248 3.59954 2.11403C3.5624 2.12441 3.52745 2.13478 3.49468 2.14724C2.95946 2.33614 2.58808 2.85716 2.60337 3.40102V10.9528ZM11.9599 4.6901C13.7557 4.71708 13.7535 2.03307 11.9599 2.06006H7.21284C7.5733 2.78244 7.48154 3.90752 7.4881 4.6901C7.74588 4.6901 11.8332 4.6901 11.9599 4.6901Z",fill:"#414550"})})})}const Tn={container:"PreviewImageWithFallback__container__VegGl",image:"PreviewImageWithFallback__image__uEhjU"};function jn(e){let{preview:t,children:s}=e;return t?(0,y.jsx)("div",{className:Tn.container,children:(0,y.jsx)("object",{className:Tn.image,data:t,children:s})}):(0,y.jsx)("div",{className:Tn.container,children:s})}const kn=192,Cn=126,En=3;function Sn(e){let{asset:t,team:s,activeElement:o,setActiveElement:n,onClose:a}=e;return(0,y.jsx)(yn,{to:`/video-tools/teams/${s.username}/assets/${t.id}`,"data-active":o===t.id,onMouseMove:()=>n(t.id),onMouseLeave:()=>n(null),onClick:a,children:(0,y.jsxs)("div",{className:wn.container,children:[(0,y.jsx)(jn,{preview:(0,bn.lR)(t,{width:kn,height:Cn}),children:(0,y.jsx)(In,{})}),(0,y.jsxs)("div",{className:wn.detailsContainer,children:[(0,y.jsxs)("div",{className:wn.nameRow,children:[(0,y.jsx)("div",{className:wn.nameText,children:t.name}),(0,y.jsx)("div",{className:wn.typeLabel,children:t.isUserUpload?"Upload":"Export"})]}),(0,y.jsxs)("div",{className:wn.detailsText,children:[(0,he.capitalize)(t.mediaType)," • In"," ",t.parentAssetGroupName||"Assets"," •"," ",mn()(t.updatedAt).fromNow()]})]})]})},t.id)}const An={container:"CompositionItem__container__eKMIQ",detailsContainer:"CompositionItem__detailsContainer__wD74m",nameRow:"CompositionItem__nameRow__D21Qo",nameText:"CompositionItem__nameText__RBnqe",detailsText:"CompositionItem__detailsText__K56Xj"};function Mn(e){let{composition:t,activeElement:s,setActiveElement:o,onClose:n}=e;return(0,y.jsx)(yn,{to:`/video-tools/projects/${t.metadata.id}`,"data-active":s===t.metadata.id,onMouseMove:()=>o(t.metadata.id),onMouseLeave:()=>o(null),onClick:n,children:(0,y.jsxs)("div",{className:An.container,children:[(0,y.jsx)(jn,{preview:t.jsonPathResults.previewUrl,children:(0,y.jsx)(In,{})}),(0,y.jsxs)("div",{className:An.detailsContainer,children:[(0,y.jsx)("div",{className:An.nameText,children:t.metadata.name}),(0,y.jsxs)("div",{className:An.detailsText,children:["Project • Edited ",mn()(t.metadata.updatedAt).fromNow()]})]})]})})}const Pn={container:"EmptyListView__container__mZFe9"};function Nn(){return(0,y.jsx)("div",{className:Pn.container,children:"No tools, assets or projects found."})}const Dn={container:"ListView__container__Nru1c"};var On=s("./app/components/Views/Dashboard/Components/Cards/hooks.ts");const Ln={container:"MagicToolItem__container__M4akK",detailsContainer:"MagicToolItem__detailsContainer__lhZEV",nameText:"MagicToolItem__nameText__uI5LQ",detailsText:"MagicToolItem__detailsText__KrKJz"};function Rn(e){let{tool:t,asTeamId:s,activeElement:o,setActiveElement:n,setRequestRoleDialog:a,onClose:i}=e;const r=(0,E.Z5)(s),l=(0,ee.rz)(),c=(0,dn.R)(s,{suspense:!0}),d=(0,On.n)({tool:t,asTeamId:s,canCreateProjects:c,needRequestRoleUpgrade:"viewer"===r,setShowUpgradeDialog:()=>{l({uiContext:"search: magic tool item"})},setRequestRoleDialog:a});let p;return p="MAGIC_TOOL"===t.type?t.image:t.card.image,(0,y.jsx)(xn,{"data-active":o===t.name,onMouseMove:()=>{n(t.name)},onMouseLeave:()=>{n(null)},onClick:e=>{i(),d(e)},children:(0,y.jsxs)("div",{className:Ln.container,children:[(0,y.jsx)(jn,{preview:p,children:(0,y.jsx)(In,{})}),(0,y.jsxs)("div",{className:Ln.detailsContainer,children:[(0,y.jsx)("div",{className:Ln.nameText,children:t.name}),(0,y.jsx)("div",{className:Ln.detailsText,children:"AI Magic Tool"})]})]})})}const Zn={section:"SectionEmpty__section__KtSgR"};function Un(e){let{children:t}=e;return(0,y.jsx)("div",{className:Zn.section,children:t})}const zn={header:"SectionHeader__header__RYrOb"};function Vn(e){let{children:t}=e;return(0,y.jsx)("div",{className:zn.header,children:t})}const Bn={list:"SectionList__list__RDaIj"};function Gn(e){let{children:t}=e;return(0,y.jsx)("div",{className:Bn.list,children:t})}var Fn=s("./node_modules/lucide-react/dist/esm/icons/arrow-up-down.js"),$n=s("./node_modules/lucide-react/dist/esm/icons/command.js");const Wn={container:"ShortcutSection__container__WN4pL",itemRow:"ShortcutSection__itemRow__TIr0J"};function Hn(){return(0,y.jsxs)("div",{className:Wn.container,children:[(0,y.jsxs)("div",{className:Wn.itemRow,children:[(0,y.jsx)(Fn.Z,{size:12}),(0,y.jsx)("div",{children:"Navigate"})]}),(0,y.jsxs)("div",{className:Wn.itemRow,children:[(0,y.jsx)(gn.Z,{size:12}),(0,y.jsx)("div",{children:"Open"})]}),(0,y.jsxs)("div",{className:Wn.itemRow,children:[(0,y.jsx)($n.Z,{size:12}),(0,y.jsx)("div",{className:Wn.plusText,children:"+"}),(0,y.jsx)(gn.Z,{size:12}),(0,y.jsx)("div",{children:"Open in a new window"})]})]})}var Yn=s("./app/utils/sort.ts");const Xn=e=>e.toLowerCase().replace(/\s+/g,""),qn=(e,t)=>{const s=Xn(t);return e.filter((e=>Xn(e.name).includes(s))).slice(0,En)},Jn=(e,t)=>{if(!e)return[];const s=Xn(t);return e.filter((e=>Xn(e.metadata.name).includes(s))).sort(((e,t)=>(0,Yn.C)(new Date(e.metadata.updatedAt),new Date(t.metadata.updatedAt),"descending"))).slice(0,En)},Kn=(e,t)=>{const s=Xn(t);return e.filter((e=>Xn(e.value.name).includes(s))).sort(((e,t)=>(0,Yn.C)(new Date(e.value.updatedAt),new Date(t.value.updatedAt),"descending"))).slice(0,En).sort(((e,t)=>"AssetGroup"!==e.type&&"AssetGroup"!==t.type?e.value.metadata?.taskId&&t.value.metadata?.taskId?0:e.value.metadata?.taskId?-1:t.value.metadata?.taskId?1:e.value.isUserUpload||t.value.isUserUpload?e.value.isUserUpload?t.value.isUserUpload?0:1:-1:0:0))};var Qn=s("./app/api/hooks/useAssetsAndAssetGroups_V2.ts");var ea=s("./app/utils/video-editor/hooks/useCompositions.ts"),ta=s("./app/utils/video-editor/hooks/useSharedCompositions.ts");var sa=s("./app/components/Views/MagicTools/MagicToolsMetadata.ts");const oa=4;var na=s("./app/components/Views/MagicTools/UseCaseMetaData.tsx");var aa=s("./app/api/text-to-speech.ts"),ia=s("./node_modules/swr/dist/index.mjs");function ra(e,t){const s=function(e){const t=(0,ea.x)({asTeamId:e},{suspense:!0}),s=(0,ta.L)({asTeamId:e},{suspense:!0});return(0,n.useMemo)((()=>{const e=[];for(const s of t.data||[])e.push(s);for(const t of s.data||[])e.push(t);return e}),[t.data,s.data])}(t),o=function(e){const t=(0,Qn.wQ)(e,!1),s=(0,Qn.wQ)(e,!0);return(0,n.useMemo)((()=>{const e=[];for(const s of t.data)e.push(s);for(const t of s.data)e.push(t);return e}),[s.data,t.data])}(t),a=function(e){const t=(0,dt.h)(e),s=t.data.permitted[lt.G.UpscaleVideoAcccess],o=t.data.permitted[lt.G.TextToSpeechAccess];return(0,n.useMemo)((()=>sa.Z.filter((e=>e.id===sa.W.UPSCALE_VIDEO?s:e.id===sa.W.TEXT_TO_SPEECH?o:e.version<=oa))),[s,o])}(t),i=function(e){return(0,dt.h)(e).data.permitted[lt.G.CustomAITrainingV2]?na.Rs:na.Hr}(t),r=function(e,t){const{data:s}=(0,ia.ZP)(e?["searchTranscripts",e,t]:null,(()=>(0,aa.y4)({query:e,asTeamId:t})),{suspense:!0});return s||[]}(e,t);return(0,n.useMemo)((()=>{const t=[];for(const e of a)t.push(e);for(const e of i)t.push(e);return{magicTools:qn(t,e),compositions:Jn(s,e),assets:Kn(o,e),transcribedAssets:r}}),[e,s,o,r,a,i])}const la=(e,t)=>e.length>t?`...${e.slice(e.length-t+3)}`:e;function ca(e){let{asset:t,team:s,activeElement:o,transcript:n,query:a,setActiveElement:i,onClose:r}=e;const l=n.toLowerCase().indexOf(a.toLowerCase()),c=n.slice(0,l),d=n.slice(l,l+a.length),p=n.slice(l+a.length);return(0,y.jsx)(yn,{to:`/video-tools/teams/${s.username}/assets/${t.id}`,"data-active":o===t.id,onMouseMove:()=>i(t.id),onMouseLeave:()=>i(null),onClick:r,children:(0,y.jsxs)("div",{className:wn.container,children:[(0,y.jsx)(jn,{preview:(0,bn.lR)(t,{width:kn,height:Cn}),children:(0,y.jsx)(In,{})}),(0,y.jsxs)("div",{className:wn.detailsContainer,children:[(0,y.jsxs)("div",{className:wn.nameRow,children:[(0,y.jsxs)("div",{className:wn.nameText,children:[la(c,10),(0,y.jsx)("mark",{children:d}),p]}),(0,y.jsx)("div",{className:wn.typeLabel,children:t.isUserUpload?"Upload":"Export"})]}),(0,y.jsxs)("div",{className:wn.detailsText,children:[(0,he.capitalize)(t.mediaType)," • In"," ",t.parentAssetGroupName||"Assets"," •"," ",mn()(t.updatedAt).fromNow()]})]})]})},t.id)}function da(e){let{listRef:t,query:s,team:o,role:a,onClose:i,setRequestRoleDialog:r}=e;const l=ra(s,o.id),[c,d]=(0,n.useState)(null);!function(e,t,s){(0,n.useEffect)((()=>{if(null!==e){for(const t of s.compositions)if(t.metadata.id===e)return;for(const t of s.assets)if(t.value.id===e)return;for(const t of s.magicTools)if(t.name===e)return;t(null)}}),[e,s,t])}(c,d,l);const p=(0,ee.rz)(),u=(0,rt.yG)(o.id,{suspense:!0}),m=(0,dn.R)(o.id,{suspense:!0});(0,n.useImperativeHandle)(t,(()=>({selectPrevious(){if(!c)return void d(null);const e=[...l.magicTools.map((e=>e.name)),...l.assets.map((e=>e.value.id)),...l.compositions.map((e=>e.metadata.id))],t=e.indexOf(c);d(-1!==t&&0!==t?e[t-1]:null)},selectNext(){const e=[...l.magicTools.map((e=>e.name)),...l.assets.map((e=>e.value.id)),...l.compositions.map((e=>e.metadata.id))];if(!c)return void d(e[0]);const t=e.indexOf(c);t!==e.length-1?d(-1!==t?e[t+1]:e[0]):d(null)},selectCurrent(){!function(){if(!c)return null;const e=l.magicTools.find((e=>e.name===c));if(!e)return;const t="MAGIC_TOOL"!==e.type||!u||!(0,rt.Vz)(u)||!e.requiresPaidPlan,s="MAGIC_TOOL"===e.type&&e.createsProject&&!m||!t,n="MAGIC_TOOL"===e.type&&e.createsProject&&"viewer"===a,i="MAGIC_TOOL"===e.type?`/video-tools/teams/${o.username}/ai-tools/${e.id}`:`/video-tools/teams/${o.username}/ai-training/${e.id}`;if(s)return void p({uiContext:"search: magic tool item"});if(n)return void r(!0);if(!t)return void p({uiContext:"search: magic tool item"});if("MAGIC_TOOL"===e.type&&e.onClick)return void e.onClick(o.id,i);(0,G.w)(i)}();const e=function(){if(!c)return null;const e=l.compositions.find((e=>e.metadata.id===c));if(e)return`/video-tools/projects/${e.metadata.id}`;const t=l.assets.find((e=>e.value.id===c));if(t){if(o){if("Asset"===t.type)return`/video-tools/teams/${o.username}/assets/${t.value.id}`;if("AssetGroup"===t.type)return`/video-tools/teams/${o.username}/assets?parentId=${t.value.id}`}return"Asset"===t.type?`/video-tools/assets/${t.value.id}`:"AssetGroup"===t.type?`/video-tools/assets?parentId=${t.value.id}`:null}}();e&&(0,G.w)(e)}})));const h=[...l.assets,...l.transcribedAssets];return 0===l.magicTools.length&&0===l.assets.length&&0===l.compositions.length&&0===l.transcribedAssets.length?(0,y.jsx)(Nn,{}):(0,y.jsxs)("div",{className:Dn.container,children:[(0,y.jsx)(Vn,{children:"AI Magic Tools"}),l.magicTools&&l.magicTools.length>0?(0,y.jsx)(Gn,{children:l.magicTools.slice(0,En).map((e=>(0,y.jsx)(Rn,{tool:e,asTeamId:o.id,activeElement:c,setActiveElement:d,setRequestRoleDialog:r,onClose:i},e.name)))}):(0,y.jsx)(Un,{children:"No tools found"}),(0,y.jsx)(Vn,{children:"Assets"}),h.length>0?(0,y.jsx)(Gn,{children:h.slice(0,En).map((e=>"transcript"in e?(0,y.jsx)(ca,{asset:e.asset,transcript:e.transcript,team:o,query:s,activeElement:c,setActiveElement:d,onClose:i},e.asset.id):"Asset"===e.type?(0,y.jsx)(Sn,{asset:e.value,team:o,activeElement:c,setActiveElement:d,onClose:i},e.value.id):(0,y.jsx)(vn,{assetGroup:e.value,team:o,activeElement:c,setActiveElement:d,onClose:i},e.value.id)))}):(0,y.jsx)(Un,{children:"No assets found"}),(0,y.jsx)(Vn,{children:"Projects"}),l.compositions.length>0?(0,y.jsx)(Gn,{children:l.compositions.slice(0,En).map((e=>(0,y.jsx)(Mn,{composition:e,activeElement:c,setActiveElement:d,onClose:i},e.metadata.id)))}):(0,y.jsx)(Un,{children:"No projects found"}),(0,y.jsx)(Hn,{})]})}const pa={container:"LoadingView__container__MiCs8",item:"LoadingView__item__WeAgL",row:"LoadingView__row__X5Mqb",block:"LoadingView__block__a3ery",loading:"LoadingView__loading__IfS4O"};function ua(){return(0,y.jsxs)("div",{className:pa.container,children:[(0,y.jsx)(ma,{}),(0,y.jsx)(ma,{}),(0,y.jsx)(ma,{})]})}function ma(){return(0,y.jsxs)("div",{className:pa.item,children:[(0,y.jsx)("div",{className:pa.block,style:{height:24,width:36}}),(0,y.jsxs)("div",{className:pa.row,children:[(0,y.jsx)("div",{className:pa.block,style:{height:10,width:71}}),(0,y.jsx)("div",{className:pa.block,style:{height:10,width:71}})]}),(0,y.jsx)("div",{className:pa.block,style:{height:10,width:237}})]})}const ha={input:"index__input__eaTkT",dropdown:"index__dropdown__C1jsK"};function ga(e){let{team:t}=e;const s=(0,n.useRef)(null),o=(0,n.useRef)(null),a=(0,n.useRef)(null),[i,r]=(0,an.Z)({polyfill:rn.Z}),[l,c]=(0,n.useState)(""),[d,p]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),g=(0,E.Z5)(t.id,{suspense:!0});!function(e,t,s){(0,n.useEffect)((()=>{function o(o){if("f"===o.key&&(o.metaKey||o.ctrlKey)){if(e)return t(!1),void s.current?.blur();t(!0),s.current?.focus(),o.preventDefault()}}return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}),[s,e,t])}(d,p,a);const f=(0,n.useCallback)((()=>{p(!1),a.current?.blur()}),[]);!function(e,t,s){(0,n.useEffect)((()=>{function o(o){e?.current?.contains(o.target)||t?.current?.contains(o.target)||s()}return document.addEventListener("click",o),()=>document.removeEventListener("click",o)}),[s,e,t])}(o,a,f);const x=r.bottom+8,v=window.innerHeight-x,b=r?.width>200?"Search for tools, assets and projects":"Search",w={"--left":`${r.left}px`,"--width":`${r.width}px`,"--top":`${x}px`,"--max-height":`${v}px`};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("input",{type:"search",spellCheck:!1,autoComplete:"off",ref:(0,ln.l)(a,i),onFocus:()=>p(!0),placeholder:b,"data-active":d,value:l,onChange:function(e){c(e.currentTarget.value)},onKeyDown:function(e){return"Escape"===e.key?(e.preventDefault(),void f()):"ArrowDown"===e.key?(e.preventDefault(),void s.current?.selectNext()):"ArrowUp"===e.key?(e.preventDefault(),void s.current?.selectPrevious()):"Enter"===e.key?(e.preventDefault(),f(),void s.current?.selectCurrent()):void("Tab"!==e.key||f())},className:ha.input}),(0,u.createPortal)((0,y.jsx)("div",{className:ha.dropdown,ref:o,"data-open":d,style:w,children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(ua,{}),children:(0,y.jsx)(da,{listRef:s,team:t,query:l,role:g,setRequestRoleDialog:h,onClose:f})})}),document.body),"viewer"===g&&m&&(0,y.jsx)(cn.NG,{open:m,onOpenChange:h})]})}var fa=s("./app/components/PageHeader/AccountDropdown.tsx"),ya=s("./app/api/hooks/useAssetsAndAssetsGroups.ts");function xa(e){let{asTeamId:t}=e;return(0,ya.s)({asTeamId:t,privateInTeam:!1}),(0,ya.s)({asTeamId:t,privateInTeam:!0}),null}var va=s("./app/api-client.ts"),ba=s("./app/api/user-properties.ts"),wa=s("./node_modules/@radix-ui/react-dialog/dist/index.module.js");function _a(e){const{data:t}=(0,gt.z)({teamPlans:!0},{suspense:!0});if(!t)return null;const s=t.products.find((t=>t.billingPlans.monthly===e.profile.plans?.[0]||t.billingPlans.yearly===e.profile.plans?.[0]));return(0,y.jsxs)(Ia,{$selected:e.selected,role:"link",onClick:e.onClick,children:[(0,y.jsx)(Yt.Z,{image:e.profile.teamPicture,user:e.profile.teamName||"",size:"small",type:"circle"}),(0,y.jsxs)(z.x,{flexDirection:"column",flex:1,children:[(0,y.jsx)(Ta,{children:e.profile.teamName}),(0,y.jsx)(ja,{children:s?s.name:t.freeProduct.name})]}),(0,y.jsx)(qe.QUb,{width:"24px",height:"24px"})]})}const Ia=m.ZP.button.withConfig({displayName:"TeamButton__Container",componentId:"sc-103ry49-0"})(["color:inherit;cursor:pointer;text-align:unset;border-radius:8px;padding:16px 8px;gap:12px;display:flex;align-items:center;border:1px solid ",";background-color:",";transition:all 0.1s ease-in-out;&:hover{background-color:",";}"],(e=>e.$selected?e.theme.colors.primaryLight:e.theme.colors.grayscale.gray600),(e=>e.$selected?e.theme.colors.grayscale.gray600:"transparent"),(e=>e.theme.colors.grayscale.gray600)),Ta=m.ZP.p.withConfig({displayName:"TeamButton__Title",componentId:"sc-103ry49-1"})(["color:",";font-size:14px;font-weight:500;line-height:20px;text-overflow:ellipsis;overflow:hidden;"],(e=>e.theme.colors.white)),ja=m.ZP.p.withConfig({displayName:"TeamButton__PlanName",componentId:"sc-103ry49-2"})(["color:",";font-size:12px;font-weight:500;line-height:16px;"],(e=>e.theme.colors.textSecondary));var ka=s("./node_modules/lucide-react/dist/esm/icons/check.js");function Ca(e){const t=(0,n.useRef)(null),{scrollYProgress:s}=(0,Qe.BO)(t),[o,a]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1);return(0,n.useLayoutEffect)((()=>{const e=t.current;e&&e.scrollHeight>e.clientHeight&&a(!0)}),[]),(0,n.useEffect)((()=>s.onChange((e=>{r(e>.9)}))),[s]),(0,y.jsxs)(Ea,{flexDirection:"column",overflowY:"hidden",children:[(0,y.jsx)(z.x,{flexDirection:"column",overflowY:"auto",ref:t,children:e.children}),e.renderShadow(o&&!i)]})}var Ea=(0,m.ZP)(z.x).withConfig({displayName:"ScrollShadowContainer___StyledBox",componentId:"sc-1xxq6pi-0"})(["position:relative;"]),Sa=s("./app/utils/mixpanel.ts"),Aa=s("./app/components/PageHeader/useShouldShowInitialPlanDialog.ts");function Ma(){return(0,y.jsx)(ut.S,{FallbackComponent:()=>null,children:(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(Pa,{})})})}function Pa(){const e=(0,E.Qt)({suspense:!0}),t=function(){const e=(0,E.Qt)({suspense:!0}),[t]=(0,at.Z)(ba.Fe.showSwitchWorkspaceDialog,!0,{suspense:!0},{asTeamId:e.id}),{data:s}=La(),o=s?.find((t=>t.id===e.id));if(o?.plans?.length)return!1;const n=s.filter((t=>t.id!==e.id)).some((e=>e.plans?.length));return t&&n}(),s=(0,Aa.d)(e.id);return t?s?null:(0,y.jsx)(Na,{}):null}function Na(){const e=(0,E.Qt)({suspense:!0}),[,t]=(0,at.Z)(ba.Fe.showSwitchWorkspaceDialog,!0,{suspense:!0},{asTeamId:e.id}),{data:s}=La(),[o,i]=(0,n.useState)(!1),r=()=>{o&&t(!1,{asTeamId:e.id})},l=(0,f.k6)();return s?(0,y.jsx)(wa.fC,{defaultOpen:!0,onOpenChange:e=>{e?(0,a.bc)({eventName:"Switch Workspace Dialog Opened",properties:{...(0,ye.Zj)(),...(0,Sa.l)()}}):r()},children:(0,y.jsxs)(wa.h_,{children:[(0,y.jsx)(Va,{}),(0,y.jsxs)(Ba,{children:[(0,y.jsx)(Ua,{children:"Select a Workspace"}),(0,y.jsx)(za,{children:"You have access to paid workspaces. Switch between them anytime using the top left dropdown of your dashboard."}),(0,y.jsx)(Ca,{renderShadow:e=>(0,y.jsx)($a,{$_css:e?1:0}),children:(0,y.jsx)(z.x,{flexDirection:"column",gap:"8px",children:(0,he.sortBy)(s,Oa).map((t=>(0,he.isNil)(t.id)?null:(0,y.jsx)(_a,{profile:t,selected:t.id===e.id,onClick:()=>{r(),(0,a.bc)({eventName:"Click -> Switch Workspace Dialog Workspace Selected",properties:{...(0,ye.Zj)(),...(0,Sa.l)(),workspaceId:t.id}}),l.push(`/video-tools/teams/${t.username}/dashboard`)}},t.id)))})}),(0,y.jsx)(Ga,{}),(0,y.jsx)(Wa,{isSelected:o,onChange:e=>{i(e),(0,a.bc)({eventName:"Click -> Switch Workspace Dialog Dont Show Again",properties:{...(0,ye.Zj)(),...(0,Sa.l)(),toggledTo:e}})},children:e=>{let{isSelected:t}=e;return(0,y.jsxs)(z.x,{gap:"8px",alignItems:"center",children:[(0,y.jsx)(z.x,{padding:"4px",children:(0,y.jsx)(Fa,{children:t&&(0,y.jsx)(ka.Z,{size:16})})}),(0,y.jsx)("p",{children:"Don’t show again"})]})}})]})]})}):null}const Da=["pro-yearly","pro-monthly","unlimited-yearly","unlimited-monthly","creators-yearly","creators-monthly","starter-yearly","starter-monthly"];function Oa(e){const t=e.plans?.[0];return t?Da.indexOf(t):Da.length}function La(){const{data:e}=(0,E.y2)({suspense:!0});return(0,ia.ZP)(e?{key:"useTeamsWithProfiles",teamIds:e.map((e=>e.id))}:null,(()=>e?Promise.all(e.map((e=>(0,va.B3)(e.id)))):[]),{suspense:!0})}const Ra=(0,m.F4)(["from{opacity:0;}to{opacity:1;}"]),Za=(0,m.F4)(["from{opacity:0;transform:translate(-50%,-48%) scale(0.96);}to{opacity:1;transform:translate(-50%,-50%) scale(1);}"]),Ua=(0,m.ZP)(wa.Dx).withConfig({displayName:"SwitchWorkspaceDialog__Title",componentId:"sc-1g1avny-0"})(["color:",";text-align:center;font-size:24px;font-weight:600;line-height:32px;"],(e=>e.theme.colors.white)),za=(0,m.ZP)(wa.dk).withConfig({displayName:"SwitchWorkspaceDialog__Description",componentId:"sc-1g1avny-1"})(["color:",";text-align:center;font-size:14px;font-weight:500;line-height:20px;"],(e=>e.theme.colors.textSecondary)),Va=(0,m.ZP)(wa.aV).withConfig({displayName:"SwitchWorkspaceDialog__Overlay",componentId:"sc-1g1avny-2"})(["background:rgba(0,0,0,0.2);backdrop-filter:blur(10px);position:fixed;inset:0;animation:"," 150ms cubic-bezier(0.16,1,0.3,1);z-index:",";"],Ra,de.I.AlertDialogOverlay),Ba=(0,m.ZP)(wa.VY).withConfig({displayName:"SwitchWorkspaceDialog__Content",componentId:"sc-1g1avny-3"})(["background-color:",";position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90vw;max-width:448px;max-height:615px;animation:"," 150ms cubic-bezier(0.16,1,0.3,1);display:flex;padding:24px;flex-direction:column;justify-content:center;align-items:stretch;gap:16px;border-radius:16px;box-sizing:border-box;z-index:",";"],(e=>e.theme.colors.black),Za,de.I.AlertDialogOverlay),Ga=m.ZP.div.withConfig({displayName:"SwitchWorkspaceDialog__Divider",componentId:"sc-1g1avny-4"})(["height:1px;background:",";"],(e=>e.theme.colors.uiLevel1)),Fa=m.ZP.div.withConfig({displayName:"SwitchWorkspaceDialog__Checkbox",componentId:"sc-1g1avny-5"})(["background:rgba(53,53,53,0.8);border:1px solid rgba(110,94,132,0.35);width:16px;height:16px;border-radius:2px;"]);var $a=(0,m.ZP)(z.x).withConfig({displayName:"SwitchWorkspaceDialog___StyledBox",componentId:"sc-1g1avny-6"})(["position:absolute;bottom:0px;left:0;right:0;top:0;background:black;opacity:",";transition:all 0.2s ease-in-out;pointer-events:none;background:linear-gradient( transparent,transparent 75%,"," 100% );"],(e=>e.$_css),(e=>e.theme.colors.black)),Wa=(0,m.ZP)(Pt.XZ).withConfig({displayName:"SwitchWorkspaceDialog___StyledAriaCheckbox",componentId:"sc-1g1avny-7"})(["align-self:center;"]);function Ha(){const e=(0,E.Qt)({suspense:!0}),t=(0,w.I0)(),s=(0,ee.rz)(),o=(0,Aa.d)(e.id);return(0,n.useEffect)((()=>{o&&s({isInitialChoice:!0,uiContext:"initial plan selection"})}),[o,s]),(0,y.jsxs)(Ya,{children:[(0,y.jsx)(Xa,{onClick:()=>t(ie()),children:(0,y.jsx)(Qa,{icon:"nav",size:32})}),(0,y.jsx)(ut.S,{fallback:(0,y.jsx)("div",{}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)("div",{}),children:(0,y.jsx)(ga,{team:e})})}),(0,y.jsxs)(M.X2,{gutter:10,alignCenterVertical:!0,children:[(0,y.jsx)(qa,{as:"a",href:"https://help.runwayml.com/hc/en-us",target:"_blank",children:(0,y.jsx)(ei,{icon:"page_header/help.svg",size:24})}),(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)("div",{style:{height:"32px",width:"32px"}}),children:(0,y.jsx)(fa.d,{asTeamId:e.id})}),(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(Ma,{})})]}),(0,y.jsx)(ut.S,{fallback:(0,y.jsx)("div",{}),children:(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(xa,{asTeamId:e.id})})})]})}const Ya=m.ZP.div.withConfig({displayName:"PageHeader__StyledContainer",componentId:"sc-1dy3w5q-0"})(["flex-shrink:0;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:0 32px;height:56px;background-color:",";"],(e=>e.theme.colors.black)),Xa=m.ZP.button.withConfig({displayName:"PageHeader__StyledMenuButton",componentId:"sc-1dy3w5q-1"})(["cursor:pointer;border:none;background-color:transparent;padding:0;height:32px;width:32px;display:block;flex-shrink:0;@media (min-width:","){display:none;}& img{height:100%;width:100%;}"],(e=>e.theme.breakpoints.sm)),qa=m.ZP.button.withConfig({displayName:"PageHeader__StyledButton",componentId:"sc-1dy3w5q-2"})(["cursor:pointer;background:none;border:none;"]),Ja=()=>(0,y.jsx)(Ka,{}),Ka=m.ZP.div.withConfig({displayName:"PageHeader__StyledPageHeaderFallback",componentId:"sc-1dy3w5q-3"})(["flex-shrink:0;width:100%;height:56px;"]);var Qa=(0,m.ZP)(W.Z).withConfig({displayName:"PageHeader___StyledIcon",componentId:"sc-1dy3w5q-4"})(["cursor:inherit;"]),ei=(0,m.ZP)(W.Z).withConfig({displayName:"PageHeader___StyledIcon2",componentId:"sc-1dy3w5q-5"})(["cursor:pointer;"]),ti=s("./app/api/hooks/assets/useRecentAssetsGrid.ts"),si=s("./app/utils/date.ts"),oi=s("./app/utils/hooks/useSafeState.ts"),ni=s("./app/types/mixpanel.ts"),ai=s("./app/utils/hooks/useTimeout.ts");const ii=e=>{let{onHide:t,title:s,message:o}=e;return(0,ai.Z)(t,2e3),(0,y.jsxs)(M.JX,{alignCenter:!0,pad:[0,0,40,0],gutter:8,children:[(0,y.jsx)(N.Z,{color:"primary",xxl:!0,bold:!0,center:!0,breakOnNewLine:!0,children:s}),(0,y.jsx)(M.X2,{maxWidth:400,children:(0,y.jsx)(N.Z,{color:"textSecondary",sm:!0,medium:!0,center:!0,children:o})})]})};var ri=s("./app/constants/animations.ts"),li=s("./app/utils/hooks/useHover.ts");const ci=(0,m.ZP)(M.X2).withConfig({displayName:"SurveyAnswer__Container",componentId:"sc-1impy7u-0"})(["width:240px;height:40px;box-shadow:0 4px 10px rgba(0,0,0,0.1);border-radius:6px;span{color:",";}&:hover{background:",";span{color:white;}svg *{fill:white;}}"],(e=>e.theme.colors.uiLevel3),(e=>e.theme.colors.primary)),di=e=>{let{answer:t,handleClick:s}=e;const[o,a]=(0,li.X)(),i=(0,n.useMemo)((()=>a?ot.Z.colors.white:ot.Z.colors.uiLevel3),[a]);return(0,y.jsxs)(ci,{alignCenterVertical:!0,pad:[8,12,8,8],onClick:()=>s(t),spaceBetween:!0,ref:o,children:[(0,y.jsxs)(M.X2,{alignCenter:!0,children:[t?.icon&&(0,y.jsx)(W.Z,{icon:t.icon,size:16,color:i,onClick:()=>{}}),(0,y.jsx)(N.Z,{sm:!0,medium:!0,children:t.title})]}),(0,y.jsx)(W.Z,{icon:"onboarding/arrow-right",size:16,color:i,onClick:()=>{}})]})},pi=Qe.ww.custom(M.JX),ui=e=>{let{question:t,handleSelectAnswer:s}=e;return(0,y.jsxs)(pi,{alignCenter:!0,gutter:8,...ri.z,children:[(0,y.jsx)(N.Z,{color:"primary",xxl:!0,bold:!0,center:!0,breakOnNewLine:!0,children:t.title}),(0,y.jsx)(M.X2,{maxWidth:400,children:(0,y.jsx)(N.Z,{color:"textSecondary",sm:!0,medium:!0,center:!0,children:t.subtitle})}),(0,y.jsx)(M.JX,{pad:[24,0],children:t.answers.map((e=>(0,y.jsx)(di,{answer:e,handleClick:s},e.id)))})]})},mi=m.ZP.button.withConfig({displayName:"SurveyQuestionIndicator__IndicatorCircle",componentId:"sc-5w6t06-0"})(["outline:none;border:none;background:none;padding:0;margin:0;width:8px;height:8px;box-sizing:border-box;border-radius:100%;",""],(e=>{switch(e.state){case"COMPLETED":return(0,m.iv)(["background:",";cursor:pointer;"],e.theme.colors.primaryLight);case"CURRENT":return(0,m.iv)(["pointer-events:none;background:",";"],e.theme.colors.primary);default:return(0,m.iv)(["pointer-events:none;border:1px solid ",";"],e.theme.colors.primary)}})),hi=e=>{let{currentIndex:t,numSections:s,handleSectionClick:o}=e;const a=(0,n.useMemo)((()=>new Array(s).fill("").map(((e,s)=>s<t?{state:"COMPLETED"}:s===t?{state:"CURRENT"}:{state:"PENDING"}))),[t,s]);return(0,y.jsx)(M.X2,{gutter:4,children:a.map(((e,s)=>(0,y.jsx)(mi,{...e,onClick:()=>{s<t&&o(s)}},s)))})},gi="Thank you!\nLet’s get you started.",fi="Your answers will help us prioritize our feature development roadmap and improve your experience.",yi=(0,m.ZP)(M.JX).withConfig({displayName:"Survey__WrapperInner",componentId:"sc-1ilex20-0"})(["pointer-events:none;"]),xi=e=>{let{questions:t,handleHide:s,onClose:o=(()=>{}),onAnswer:i=(()=>{}),onComplete:r=(()=>{}),completedSectionTitle:l=gi,completedSectionMessage:c=fi,ariaLabel:d="",lastSeenMpPropertyKey:p="",setLastSeenPerformanceSurvey:u}=e;const m=(0,n.useRef)(!1),h=(0,w.I0)();(0,n.useEffect)((()=>{const e=new Date;p&&!m.current&&((0,a.kb)({properties:{[p]:e.toISOString()}}),(0,ba.jw)({[p]:e.toISOString()}),h({type:"SET_MIXPANEL_USER_PROPERTY",property:p,value:(0,si.j)(e).toISOString()}),m.current=!0),u&&u(e.toISOString())}),[p,h,u]);const g=(0,n.useCallback)((()=>{s(),o()}),[o,s]),[x,v]=(0,oi.Z)(0),[b,_]=(0,oi.Z)(""),I=(0,n.useMemo)((()=>{if(x>t.length-1)return null;const e=t[x];return b&&e.subQuestions?.[b]?e.subQuestions?.[b]:e}),[x,b,t]),T=(0,f.k6)(),{pathname:j}=(0,f.TH)(),k=(0,n.useCallback)((e=>{if(i(e,I),e?.navigateTo&&(j.startsWith(e.navigateTo)||T.replace(e.navigateTo)),"$END"===e.destination)return r(),v(x+1),void _("");"$NEXT_SECTION"===e.destination?(v(x+1),_("")):_(e.destination)}),[I,x,v,_,T,j,i,r]),C=(0,n.useCallback)((e=>{v(e),_("")}),[v,_]);return(0,y.jsx)(Po.Z,{onHide:g,backgroundColor:ot.Z.colors.modalBackground,align:"centered",children:(0,y.jsx)(yi,{size:12,span:12,pad:24,alignCenter:!0,children:(0,y.jsxs)(Mo.Z,{size:12,pad:24,maxWidth:540,maxHeight:560,gutter:24,alignCenterHorizontal:!0,"aria-label":d,children:[(0,y.jsx)(M.X2,{alignRight:!0,span:12,children:(0,y.jsx)(Mo.o,{onClick:g})}),I?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ui,{question:I,handleSelectAnswer:k},I.id),(0,y.jsx)(hi,{currentIndex:x,numSections:t.length,handleSectionClick:C})]}):(0,y.jsx)(ii,{onHide:s,title:l,message:c})]})})})},vi=[{id:"are-you-satisfied-with-speed",subtitle:"",title:"Are you satisfied with\nRunway's speed?",answers:[{destination:"$NEXT_SECTION",id:"satisfied",title:"Satisfied"},{destination:"$NEXT_SECTION",id:"not-satisfied",title:"Not satisfied"}]},{id:"are-you-satisfied-with-reliability",subtitle:"",title:"Are you satisfied with\nRunway's reliability?",answers:[{destination:"$NEXT_SECTION",id:"satisfied",title:"Satisfied"},{destination:"$NEXT_SECTION",id:"not-satisfied",title:"Not satisfied"}]},{id:"are-you-satisfied-with-results",subtitle:"",title:"Are you satisfied with\nRunway's results?",answers:[{destination:"$NEXT_SECTION",id:"satisfied",title:"Satisfied"},{destination:"$NEXT_SECTION",id:"not-satisfied",title:"Not satisfied"}]}],bi=(e,t)=>{(0,a.bc)({eventName:"Performance Survey Response",properties:{question:t.id,answer:e.id}})},wi=e=>{let{onHide:t,setLastSeenPerformanceSurvey:s}=e;return(0,y.jsx)(xi,{questions:vi,handleHide:t,onAnswer:bi,completedSectionTitle:"Thank you!",lastSeenMpPropertyKey:ni.f.PERFORMANCE_SURVEY_LAST_SEEN,setLastSeenPerformanceSurvey:s})},_i=()=>{const{pendingAssets:e}=(0,ti.ZP)(),[t,s]=(0,oi.Z)(!1),o=(0,n.useRef)(!1),a=(0,Ye.Z)((e=>e.session.startDateString)),i=(0,Ke.ZP)("showPerformanceSurvey"),[r,l]=(0,at.Z)("performance_survey_last_seen",void 0),c=(0,n.useMemo)((()=>{if(r){const e=(0,si.j)(new Date);return mn()(e).diff(r,"minutes")<1440}return!1}),[r]);return(0,n.useEffect)((()=>{if(o.current||!i||c)return;e.filter((e=>new Date(e.createdAt)>new Date(a))).length&&(s(!0),o.current=!0)}),[e,s,a,i,c]),(0,y.jsx)(Qe.M_,{children:t&&(0,y.jsx)(wi,{onHide:()=>s(!1),setLastSeenPerformanceSurvey:l})})};var Ii=s("./app/actions/ui.ts"),Ti=s("./app/utils/hooks/useEventListener.ts");const ji={Container:"InPlaceMenu__Container__sEvmG",Menu:"InPlaceMenu__Menu__SAvgP",Item:"InPlaceMenu__Item__zHGOD",BottomUp:"InPlaceMenu__BottomUp__Csl7m",ContainerFixed:"InPlaceMenu__ContainerFixed__KPPEc",ShowContainer:"InPlaceMenu__ShowContainer__i5mtt","moving-gradient":"InPlaceMenu__moving-gradient__sBF1p",pulse:"InPlaceMenu__pulse__y3s9u",gradient:"InPlaceMenu__gradient__mNC7_",blink:"InPlaceMenu__blink__EPeLU"},ki=me().bind(ji),Ci=e=>{const{items:t,bottomUp:s,bottomDown:o,show:a,asGlobalRightClick:i}=e,[r,l]=(0,oi.Z)({x:0,y:0}),c=(0,Ye.Z)((e=>e.rightClickMenu)),d=(0,w.I0)(),p=(0,n.useCallback)((e=>{i&&(d((0,Ii.Iv)([])),l({x:e.clientX+10,y:e.clientY}))}),[d,c]),u=(0,n.useCallback)((()=>{c.length>0&&d((0,Ii.Iv)([]))}),[d,c]);(0,Ti.Z)("contextmenu",p,!0),(0,Ti.Z)("click",u,!1);const m=ki({Menu:!0,BottomUp:s,BottomDown:o}),h=ki({Container:!0,ContainerFixed:i,ShowContainer:i&&c.length>0||a});let g=[];return g=i?c:t,(0,y.jsx)("div",{className:h,style:{top:r.y,left:r.x},children:(0,y.jsx)("div",{className:m,children:g.map((e=>(0,y.jsx)(xe.rU,{to:e.path?e.path:"",replace:!0,onClick:t=>{e.url?(t.preventDefault(),(0,Xe.L)({event:"InPlaceMenu",name:`Open External -> ${e.name}`,section:e.section}),(0,Ce.n)(e.url)):e.action&&(t.preventDefault(),(0,Xe.L)({event:"InPlaceMenu",name:e.name,section:e.section}),(0,he.isFunction)(e.action)&&e.action())},children:(0,y.jsx)("div",{className:ji.Item,children:e.name})},e.name)))})})},Ei=e=>{let{title:t,message:s,acceptButton:o={message:"Accept",danger:!1},onAccept:n=(()=>{}),onCancel:a=(()=>{})}=e;const i=(0,w.I0)(),r=(0,Ye.Z)((e=>"SHOW"===e.popup.status&&!e.popup.legacy));return(0,y.jsx)(wa.fC,{open:r,onOpenChange:e=>{e||i((0,ae.hidePopup)())},children:(0,y.jsxs)(wa.h_,{children:[(0,y.jsx)(Si,{}),(0,y.jsxs)(Ai,{onKeyPress:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),children:[(0,y.jsx)(Mi,{children:t}),(0,y.jsx)(Pi,{children:s}),(0,y.jsxs)(M.X2,{alignRight:!0,gutter:8,children:[(0,y.jsx)(wa.x8,{asChild:!0,children:(0,y.jsx)(Ni,{type:"button",onClick:a,children:"Cancel"})}),(0,y.jsx)(Di,{message:o.message,type:"submit",onClick:()=>{n(),i((0,ae.hidePopup)())},dangerFirst:o.danger})]})]})]})})},Si=(0,m.ZP)(wa.aV).withConfig({displayName:"NewPopup__DialogOverlay",componentId:"sc-qz78k-0"})(["position:fixed;inset:0;background-color:rgba(0,0,0,0.5);animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes overlayShow{0%{opacity:0;}100%{opacity:1;}}"],1001),Ai=(0,m.ZP)(wa.VY).withConfig({displayName:"NewPopup__DialogContent",componentId:"sc-qz78k-1"})(["box-sizing:border-box;padding:56px 44px 40px 44px;width:388px;background-color:#ffffff;border-radius:6px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1) forwards;z-index:",";@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96);}100%{opacity:1;transform:translate(-50%,-50%) scale(1);}}"],1001),Mi=(0,m.ZP)(wa.Dx).withConfig({displayName:"NewPopup__DialogTitle",componentId:"sc-qz78k-2"})(["color:",";font-size:",";line-height:",";font-weight:700;text-align:center;margin-bottom:24px;"],(e=>e.theme.colors.textWhiteUI),(e=>e.theme.fonts.size.xxl),(e=>e.theme.fonts.size.xxl)),Pi=(0,m.ZP)(wa.dk).withConfig({displayName:"NewPopup__DialogDescription",componentId:"sc-qz78k-3"})(["color:",";font-size:",";line-height:",";margin-bottom:40px;white-space:pre-line;"],(e=>e.theme.colors.textWhiteUI),(e=>e.theme.fonts.size.md),(e=>e.theme.fonts.lineHeight.md)),Ni=m.ZP.button.withConfig({displayName:"NewPopup__CancelButton",componentId:"sc-qz78k-4"})(["cursor:pointer;box-sizing:border-box;background-color:#ffffff;border:1px solid #ebebeb;border-radius:6px;color:",";height:32px;padding:8px;font-size:",";&:focus-visible{outline:2px solid ",";outline-offset:2px;}"],(e=>e.theme.colors.uiHoverable),(e=>e.theme.fonts.size.sm),(e=>e.theme.colors.primary)),Di=(0,m.ZP)($.Z).withConfig({displayName:"NewPopup__AcceptButton",componentId:"sc-qz78k-5"})(["flex:inherit;transition:all 0.3s ease;"]),Oi=()=>{const e=(0,Ye.Z)((e=>e.popup.title)),t=(0,Ye.Z)((e=>e.popup.message)),s=(0,Ye.Z)((e=>({message:e.popup.acceptBtn,danger:"WARNING"===e.popup.acceptBtnType}))),o=(0,Ye.Z)((e=>e.popup.onAccept)),n=(0,Ye.Z)((e=>e.popup.onCancel));return(0,y.jsx)(Ei,{title:e,message:t,acceptButton:s,onAccept:o,onCancel:n})},Li="SystemStatusBar__container__oCi_Y";function Ri(){return(0,Ye.Z)((e=>(0,he.includes)(e.systemStatus,!1)))?(0,y.jsxs)("button",{onClick:()=>(0,Ce.n)(nt.K5),className:Li,children:["Runway is experiencing a service disruption. ",(0,y.jsx)("u",{children:"Click to learn more"}),"."]}):null}var Zi=s("./app/components/UtilElements/HelpWidget.tsx"),Ui=s("./app/components/UtilElements/HelpWidgetContext.tsx"),zi=s("./app/utils/hooks/useHotkeys.ts"),Vi=s("./app/store.ts");const Bi={"`":{down:()=>{Vi.Z.dispatch({type:"TOGGLE_DEBUG_PANEL"})},up:()=>null}},Gi=()=>{const e=(0,Ke.ZP)("devToolAccess");return(0,zi.Z)(e?Bi:{}),(0,ye.mx)()&&e?(0,y.jsx)(Fi,{onPress:()=>{Vi.Z.dispatch({type:"TOGGLE_DEBUG_PANEL"})},children:"Dev tools"}):null};var Fi=(0,m.ZP)(Pt.zx).withConfig({displayName:"DebugHotkeys___StyledButton",componentId:"sc-169zboc-0"})(["position:absolute;top:0;right:0;z-index:1000;"]),$i=s("./app/components/Views/DebugPanel/DebugPanelWrapper.tsx"),Wi=s("./app/streams/utils.ts"),Hi=s("./node_modules/leva/dist/leva.esm.js"),Yi=s("./app/api/hooks/useRemoteStagingBranches.ts"),Xi=s("./app/utils/hooks/useDebugControls.ts"),qi=s("./app/utils/copyToClipboard.ts");const Ji=e=>{let{appUrl:t="",apiStageName:s="",siStageName:o="",devQueue:n=""}=e;if(!window)return"";let a=window.location.toString().replace(window.location.search,"");t&&(a=a.replace(window.location.origin,t));const i=new URLSearchParams(window.location.search);return s&&i.set(nt.Fk.api,s),o&&i.set(nt.Fk["streaming-inference"],o),n&&i.set(nt.Fk.queue,n),`${a}?${i.toString()}`},Ki=()=>((()=>{const e=(0,w.I0)(),[t,s]=(0,n.useState)(window?.location.origin||""),[o,a]=(0,n.useState)(nt.T5),[i,r]=(0,n.useState)((0,Wi.CR)()),l=(0,n.useRef)(""),c=(0,n.useRef)(""),d=(0,n.useRef)("undefined"!=typeof window?new URLSearchParams(window.location.search).get("queue")??"":""),{branches:p}=(0,Yi.Z)("app"),{branches:u}=(0,Yi.Z)("api"),{branches:m}=(0,Yi.Z)("streaming-inference"),h=(0,n.useMemo)((()=>window&&!p.find((e=>e.url===window.location.origin))?[{name:window.location.origin,nameTruncated:window.location.origin,url:window.location.origin},...p]:p),[p]);(0,Xi.Z)("Environment",(0,ye.mx)()?{app:{options:h.map((e=>e.name)),value:h.find((e=>e.url===t))?.name,onChange:e=>{const t=h.find((t=>t.name===e))?.url;t&&s(t)}},api:{options:u.map((e=>e.name)),value:u.find((e=>e.url===o))?.name,onChange:e=>{const t=u.find((t=>t.name===e))?.url;t&&a(t)}},"s-i":{options:m.map((e=>e.name)),value:m.find((e=>e.url===i))?.name,onChange:e=>{const t=m.find((t=>t.name===e))?.url;t&&r(t)}},queue:{value:d.current,onChange:e=>{d.current=e}}}:{},[h,t,s,u,o,a,m,i,r]);const g=(0,n.useCallback)((()=>{const e=u.find((e=>e.url===o))?.name,s=m.find((e=>e.url===i))?.name,n=Ji({appUrl:t,apiStageName:e,siStageName:s,devQueue:d.current});window.location.replace(n)}),[t,o,i,u,m,d]),f=(0,n.useCallback)((()=>{const e=u.find((e=>e.url===o))?.name,s=m.find((e=>e.url===i))?.name,n=Ji({appUrl:t,apiStageName:e,siStageName:s,devQueue:d.current});(0,qi.v)(n),Vi.Z.dispatch((0,Ie.showFlash)({message:"Copied to clipboard!",type:"SUCCESS"}))}),[t,o,i,u,m]);(0,Xi.Z)("Environment",(0,ye.mx)()?{"Load Environment":(0,Hi.LI)(g),"Copy Environment URL":(0,Hi.LI)(f)}:{},[g,f]);const y=(0,n.useCallback)((async()=>{if(!l.current||!c.current)return;const t=await(0,va.NI)(l.current,c.current),s={...await(0,va.Ai)(t.token),token:t.token};(0,w.dC)((()=>{e((0,le.updateUser)(s)),e((0,le.refreshUser)())})),location.reload()}),[e,c,l]);(0,Xi.Z)("User Impersonation",{email:{value:l.current,onChange:e=>{l.current=e}},code:{value:c.current,onChange:e=>{c.current=e}}}),(0,Xi.Z)("User Impersonation",{"Impersonate User":(0,Hi.LI)((async()=>{await y()}))})})(),null),Qi=()=>{const{branches:e}=(0,Yi.Z)("api"),{branches:t}=(0,Yi.Z)("streaming-inference");return e.length&&t.length?(0,y.jsx)(Ki,{}):null},er=()=>{const e=(0,E.Qt)(),{data:t,mutate:s}=(0,at.W)({asTeamId:e.id}),o=Object.keys(t??{}),[a,i]=(0,n.useState)(null),r=(0,n.useCallback)((async()=>{a&&(await(0,ba.bM)({properties:[a]},{asTeamId:e.id}),s(),i(null))}),[a,e.id,s]),l=(0,n.useCallback)((async()=>{await(0,ba.bM)({properties:o},{asTeamId:e.id}),s(),i(null)}),[o,e.id,s]);return(0,n.useEffect)((()=>{}),[t]),(0,Xi.Z)("Reset UserProperty key",{userProperty:{options:o,value:a,onChange:i},"Clear user property":(0,Hi.LI)(r),"Clear ALL user properties":(0,Hi.LI)(l)},[t,a,i,r]),null},tr=n.lazy((()=>Promise.all([s.e(64950),s.e(12377)]).then(s.bind(s,"./app/components/Views/VideoTools/VideoEditor/DebugControls/QuickAccountDebugControls.tsx")))),sr=me().bind(Ao),or=["/login","/signup","/workspaces","/debug","/video-tools/projects/:compositionId","/video-tools/green-screen","/video-tools/create","/video-tools/teams/:teamId/accept","/video-tools/teams/:teamId/ai-tools/:recipeId","/storyboards/new","/video-tools/teams/:teamId/storyboards/new","/video-tools/teams/:teamId/storyboards/:id","/video-tools/teams/:teamId/watch/:assetId","/ai-training/:useCaseId","/video-tools/teams/:teamId/ai-training/:useCaseId","/custom-ai-tools/:taskId","/video-tools/teams/:teamId/custom-ai-tools/:taskId","/onboarding-survey","/workflows/:workflowId","/video-tools/teams/:teamId/workflows/:workflowId","/workflow-editor","/video-tools/teams/:teamId/workflow-editor","/video-tools/:linkId/request"],nr=["/watch"];class ar extends n.Component{props;render(){const{popup:e,flash:t,location:s,systemStatus:o,showDebugPanel:a}=this.props,{pathname:i}=s,r=sr({Flash:!0,ShowFlash:"SHOW"===t.status,HideFlash:"SHOW"!==t.status}),l=sr({MainContent:!0});let c=!0,d=!0,p=!0;const u=(e=>!!(0,f.LX)(e,{path:or,exact:!1,strict:!1}))(i);(0,He.Pc)()&&!u||(c=!1,d=!1),!(0,He.Pc)()&&(e=>!!(0,f.LX)(e,{path:nr,exact:!0}))(i)||(p=!1);const m=(0,he.includes)(o,!1),h=(0,pe.aA)((0,He.bW)()),g=!!h?.impersonatedBy;return(0,y.jsxs)("div",{className:Ao.App,children:[(0,He.Pc)()&&(0,y.jsx)(Gi,{}),a&&(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsxs)($i.Z,{children:[(0,y.jsx)(Qi,{}),(0,y.jsx)(er,{}),(0,y.jsx)(tr,{})]})}),(0,He.Pc)()&&(0,y.jsx)(_i,{}),!(0,He.Pc)()&&(0,y.jsx)(L.KN,{children:(0,y.jsx)(nn,{})}),(0,He.Pc)()&&(0,y.jsx)(qo,{}),(0,y.jsx)("div",{className:sr({[Ao.Popup]:e.legacy,[Ao.ShowPopup]:"SHOW"===e.status&&e.legacy,[Ao.HidePopup]:"SHOW"!==e.status&&e.legacy}),children:"SHOW"===e.status&&e.legacy&&(0,y.jsx)(We,{})}),(0,y.jsx)(Oi,{}),(0,y.jsx)("div",{className:r,children:(0,y.jsx)(Te,{})}),(0,y.jsx)(Ci,{asGlobalRightClick:!0}),(0,y.jsxs)("div",{className:Ao.MainWrapper,children:[(0,y.jsx)(Ri,{}),g&&(0,y.jsx)("div",{onClick:()=>(0,He.If)(null),className:Ao.NotificationBar,style:{zIndex:de.I.NotificationBar},children:(0,y.jsxs)("p",{children:["You are impersonating another user! ",(0,y.jsx)("u",{children:"Logout"})]})}),(0,y.jsxs)(Ui.c,{children:[(0,y.jsxs)("div",{className:sr({Main:!0,Desktop:!1,DesktopWithoutStatusBar:!1,WithNotificationBar:m}),children:[c&&(0,y.jsx)(So,{}),p&&(0,y.jsx)(wo,{}),(0,y.jsxs)("div",{className:l,children:[d?(0,y.jsx)(ut.S,{fallback:(0,y.jsx)(Ja,{}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(Ja,{}),children:(0,y.jsx)(Ha,{})})}):null,(0,y.jsx)(R.ZP,{children:this.props.children})]})]}),(0,y.jsx)(Zi.Z,{})]}),!(0,ye.tq)()&&(0,y.jsx)(fe(),{className:Ao.GlobalTooltip})]})]})}}class ir extends n.Component{props;render(){const{user:e}=this.props;return(0,y.jsx)(ar,{popup:this.props.popup,location:this.props.location,flash:this.props.flash,showPopup:this.props.showPopup,history:this.props.history,systemStatus:this.props.systemStatus,showDebugPanel:this.props.showDebugPanel,...e.isVerified&&e.token&&{user:e},children:this.props.children})}}const rr=(0,f.EN)((0,w.$j)((e=>({popup:e.popup,payment:e.payment,flash:e.flash,responsiveSideBar:e.responsiveSideBar,user:e.user,appIsLoading:e.appIsLoading,newModelWindow:e.newModelWindow,systemStatus:e.systemStatus,showDebugPanel:e.showDebugPanel})),(e=>(0,ce.DE)({...ae,...le,...o},e)))(ir)),lr=n.lazy((()=>s.e(42242).then(s.bind(s,"./app/containers/Views/Creation.tsx"))));function cr(){return(0,He.Pc)()?(0,y.jsx)(Yr,{path:["/creation/:creationId","/teams/:teamName/creation/:creationId"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:(e,t)=>{let{creationId:s}=t;return{path:`/teams/${e}/creation/${s}`}},children:(0,y.jsx)(lr,{})})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Jr,{path:"/teams/:teamName/creation/:creationId",children:(0,y.jsx)(Fr,{generatePublicFallbackRoute:e=>{let{creationId:t}=e;return`/creation/${t}`}})}),(0,y.jsx)(Jr,{path:"/creation/:creationId",component:lr})]})}var dr=s("./app/utils/hooks/useHasUserProfilePageAccess.ts"),pr=s("./app/utils/routes_constants.ts");const ur=n.lazy((()=>s.e(7068).then(s.bind(s,"./app/components/Views/AssetsV2/FeatureGuard.tsx")))),mr=n.lazy((()=>s.e(22942).then(s.bind(s,"./app/components/UserSurveys/UserSegmentationSurvey.tsx")))),hr=n.lazy((()=>Promise.resolve().then(s.bind(s,"./app/containers/Login.tsx")))),gr=n.lazy((()=>Promise.resolve().then(s.bind(s,"./app/containers/Signup.tsx")))),fr=n.lazy((()=>s.e(10748).then(s.bind(s,"./app/components/Login/RequestTeamAccess.tsx")))),yr=n.lazy((()=>s.e(71497).then(s.bind(s,"./app/containers/Views/Asset.tsx")))),xr=n.lazy((()=>Promise.all([s.e(1604),s.e(86855),s.e(19674),s.e(26362)]).then(s.bind(s,"./app/components/Views/Dashboard/Dashboard.tsx")))),vr=n.lazy((()=>Promise.all([s.e(60646),s.e(85121),s.e(79301)]).then(s.bind(s,"./app/components/Views/MagicTools/TrainingDashboard/index.tsx")))),br=n.lazy((()=>s.e(74276).then(s.bind(s,"./app/components/Views/MagicTools/TrainingResultPage/index.tsx")))),wr=n.lazy((()=>Promise.all([s.e(45587),s.e(67380),s.e(52265)]).then(s.bind(s,"./app/components/Views/Settings/Settings.tsx")))),_r=n.lazy((()=>s.e(37308).then(s.bind(s,"./app/components/Views/TeamSettings/TeamSettings.tsx")))),Ir=n.lazy((()=>s.e(79211).then(s.bind(s,"./app/components/Views/Teams/AcceptTeamInvite.tsx")))),Tr=n.lazy((()=>s.e(26918).then(s.bind(s,"./app/components/Views/UserProfile/UserProfile.tsx")))),jr=n.lazy((()=>s.e(37715).then(s.bind(s,"./app/components/Views/WatchPage/WatchPage.tsx")))),kr=n.lazy((()=>s.e(54847).then(s.bind(s,"./app/components/Views/WatchPage/WatchVideoPlayer.tsx")))),Cr=n.lazy((()=>Promise.all([s.e(45587),s.e(67380),s.e(86855),s.e(69065)]).then(s.bind(s,"./app/components/Views/MagicTools/Training/index.tsx")))),Er=n.lazy((()=>s.e(39541).then(s.bind(s,"./app/components/Views/ExplorePage/ExplorePage.tsx")))),Sr=n.lazy((()=>Promise.all([s.e(86855),s.e(49007)]).then(s.bind(s,"./app/components/Views/MagicTools/MagicTool.tsx")))),Ar=n.lazy((()=>Promise.all([s.e(38465),s.e(45587),s.e(76525),s.e(38065),s.e(26789),s.e(30711),s.e(81979),s.e(32915),s.e(67380),s.e(5837),s.e(79348),s.e(60646),s.e(23286),s.e(86637),s.e(90100),s.e(20941)]).then(s.bind(s,"./app/containers/Views/VideoTools/Composition.tsx")))),Mr=n.lazy((()=>Promise.all([s.e(38465),s.e(45587),s.e(76525),s.e(38065),s.e(26789),s.e(30711),s.e(81979),s.e(32915),s.e(67380),s.e(5837),s.e(79348),s.e(60646),s.e(23286),s.e(86637),s.e(90100),s.e(72229)]).then(s.bind(s,"./app/containers/Views/VideoTools/VideoEditor.tsx")))),Pr=n.lazy((()=>Promise.all([s.e(60646),s.e(85121),s.e(16653)]).then(s.bind(s,"./app/components/Views/Library/TeamProjectsLibrary.tsx")))),Nr=n.lazy((()=>Promise.all([s.e(60646),s.e(85121),s.e(20649)]).then(s.bind(s,"./app/components/Views/Library/TeamSharedWithMeLibrary.tsx")))),Dr=n.lazy((()=>Promise.all([s.e(1604),s.e(98604),s.e(55831)]).then(s.bind(s,"./app/components/Views/Storyboards/index.tsx")))),Or=n.lazy((()=>Promise.all([s.e(45587),s.e(1604),s.e(71071),s.e(6292),s.e(67380),s.e(98604),s.e(36018)]).then(s.bind(s,"./app/components/Views/Storyboard/Storyboard.tsx")))),Lr=n.lazy((()=>Promise.all([s.e(76525),s.e(99477),s.e(26789),s.e(33889),s.e(66870),s.e(33289),s.e(86855),s.e(23286),s.e(41563),s.e(63115),s.e(69061)]).then(s.bind(s,"./app/components/Views/MagicTools/MagicTool/NerfMagicTool/index.tsx")))),Rr=n.lazy((()=>Promise.all([s.e(45587),s.e(67380),s.e(86855),s.e(96728)]).then(s.bind(s,"./app/components/Views/MagicTools/MagicTool/NerfMagicTool/CreateNerfCheckpoint.tsx")))),Zr=n.lazy((()=>Promise.all([s.e(99477),s.e(86855),s.e(41563),s.e(27439)]).then(s.bind(s,"./app/components/Views/MagicTools/MagicTool/NerfMagicTool/NerfDashboard/index.tsx")))),Ur=n.lazy((()=>Promise.all([s.e(45587),s.e(1604),s.e(45876),s.e(67380),s.e(79896),s.e(81446),s.e(93895)]).then(s.bind(s,"./app/components/Views/WorkflowEditor/WorkflowEditorPage.tsx")))),zr=n.lazy((()=>Promise.all([s.e(45587),s.e(1604),s.e(67380),s.e(79896),s.e(81446),s.e(51127)]).then(s.bind(s,"./app/components/Views/Workflows/WorkflowPage/WorkflowPage.tsx")))),Vr=n.lazy((()=>s.e(52833).then(s.bind(s,"./app/components/Views/Workflows/WorkflowsPage.tsx")))),Br=e=>{let{children:t,generateFallbackRoute:s,generatePublicFallbackRoute:o}=e;const{search:a}=(0,f.TH)(),i=(0,f.UO)(),r=(0,E.I7)({suspense:!0}),l=(0,E.Je)({suspense:!0}),c=(0,Ye.Z)((e=>e.settings.lastUsedTeam)),d=c?.name,p=(0,w.I0)();if((0,n.useEffect)((()=>{r&&p((0,C.y3)({name:r.username,id:r.id}))}),[r,p]),!r){const e=d||l.username;if(!e)throw new Error("No last used or fallback team was found while redirecting.");if(o){const e=o(i);return(0,y.jsx)(f.l_,{to:{pathname:e,search:a}})}if(s){const{path:t,search:o}=s(e,i),n=o&&o.length>0?[a,o].join("&"):a;return(0,y.jsx)(f.l_,{to:{pathname:t,search:n}})}return(0,y.jsx)(f.l_,{to:{pathname:`/video-tools/teams/${d}/projects`,search:a}})}return t},Gr=e=>{let{children:t}=e;const{recipeId:s}=(0,f.UO)();return s?(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/ai-tools/${s}`}),children:t}):(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/dashboard`}),children:t})},Fr=e=>{let{generatePublicFallbackRoute:t}=e;const s=(0,f.UO)();return(0,y.jsx)(f.l_,{to:{pathname:t(s)}})},$r=e=>{let{children:t}=e;const s=(0,f.LX)(window.location.pathname,{path:["/video-tools/teams/:teamName/ai-training/:useCaseId","/ai-training/:useCaseId"],exact:!1,strict:!1}),o=(0,Ke.f7)({feature:lt.G.CanUseCustomGen1Model,suspense:!0}),{params:n}=s??{},{useCaseId:a}=n??{};return"gen1-generator"!==a||o?t:(0,y.jsx)(f.l_,{to:"/"})},Wr=e=>{let{children:t}=e;return function(){let{suspense:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!0===(0,Ke.f7)({feature:lt.G.ExplorePage,suspense:e})}({suspense:!0})?t:(0,y.jsx)(f.l_,{to:"/"})},Hr=e=>{let{children:t}=e;return(0,dr.a)({suspense:!0})?t:(0,y.jsx)(f.l_,{to:"/"})},Yr=e=>{let{component:t,children:s,...o}=e;const a=(0,Ye.Z)((e=>e.user?.id));return(0,n.useMemo)((()=>!!a&&!!(0,He.bW)()),[a])?s||(0,y.jsx)(f.AW,{...o,component:t}):(0,y.jsx)(f.l_,{to:{pathname:"/login",search:window.location.search,state:{from:o.location.pathname}}})},Xr=e=>{let{from:t,to:s}=e;const{search:o}=(0,f.TH)();return(0,y.jsx)(f.l_,{from:t,to:{pathname:s,search:o}})},qr=["/video-tools/projects/:compositionId/duplicate","/video-tools/projects/:compositionId"],Jr=e=>{let{component:t,...s}=e;const o=(0,Ye.Z)((e=>(0,He.Pc)(e)));return(0,y.jsx)(f.AW,{...s,render:e=>(0,y.jsxs)(y.Fragment,{children:[!o&&!qr.includes(s.path)&&(0,y.jsx)(X,{}),(0,y.jsx)(t,{...e})]})})},Kr=()=>{const e=(0,Ye.Z)((e=>(0,He.Pc)(e)));return(0,y.jsx)(el,{children:(0,y.jsx)(R.ZP,{children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(Z.b,{children:(0,y.jsx)(U.Z,{color:"#fff"})}),children:(0,y.jsx)(rr,{children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(Z.b,{children:(0,y.jsx)(U.Z,{color:"#fff"})}),children:(0,y.jsxs)(f.rs,{children:[(0,y.jsx)(f.l_,{exact:!0,from:"/video-tools/personal",to:"/video-tools/projects"}),(0,y.jsx)(f.l_,{exact:!0,from:"/video-tools",to:"/video-tools/projects"}),(0,y.jsx)(f.l_,{exact:!0,from:"/assets/:assetId",to:"/video-tools/assets/:assetId"}),(0,y.jsx)(f.AW,{path:"/login",component:hr}),(0,y.jsx)(f.AW,{path:"/sso",component:()=>(0,y.jsx)(hr,{initialState:"SSO"})}),(0,y.jsx)(f.AW,{path:"/signup",component:()=>(0,y.jsx)(L.KN,{children:(0,y.jsx)(gr,{})})}),(0,y.jsx)(f.AW,{path:"/google-sign-in-redirect",component:O}),(0,y.jsx)(f.AW,{path:"/apple-sign-in-redirect",component:D}),(0,y.jsx)(f.AW,{path:"/sso-redirect",component:hr}),(0,y.jsx)(Yr,{path:"/settings",component:wr,exact:!0}),(0,y.jsx)(Yr,{path:"/video-tools/green-screen",component:e=>(0,y.jsx)(Mr,{...e,isGreenScreenUrl:!0})}),(0,y.jsx)(f.l_,{from:"/green-screen",to:{pathname:"/video-tools/green-screen"}}),(0,y.jsx)(Jr,{path:"/video-tools/projects/:compositionId/duplicate",component:Ar}),(0,y.jsx)(Jr,{path:"/video-tools/projects/:compositionId",component:Ar}),(0,y.jsx)(f.AW,{path:["/ai-training/:useCaseId","/video-tools/teams/:teamId/ai-training/:useCaseId"],component:()=>(0,y.jsx)($r,{children:(0,y.jsx)(Cr,{})})}),(0,y.jsx)(Yr,{path:["/custom-ai-tools/:checkpointId","/video-tools/teams/:teamId/custom-ai-tools/:checkpointId"],component:br}),(0,y.jsx)(Yr,{path:["/custom-ai-tools","/video-tools/teams/:teamId/custom-ai-tools"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/custom-ai-tools`}),children:(0,y.jsx)(vr,{})})}),(0,y.jsx)(Yr,{path:["/ai-tools/3d-captures/new","/video-tools/teams/:teamId/ai-tools/3d-captures/new"],component:Rr}),(0,y.jsx)(Yr,{path:["/ai-tools/3d-captures/:checkpointId","/video-tools/teams/:teamId/ai-tools/3d-captures/:checkpointId"],component:Lr}),(0,y.jsx)(Yr,{path:["/3d-captures","/video-tools/teams/:teamId/3d-captures"],component:Zr}),(0,y.jsx)(Yr,{path:pr.U,component:()=>(0,y.jsx)(Gr,{children:(0,y.jsx)(Sr,{})})}),(0,y.jsx)(Yr,{path:"/onboarding-survey",component:mr,exact:!0}),(0,y.jsx)(Yr,{path:["/dashboard","/video-tools/teams/:teamId/dashboard"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/dashboard`}),children:(0,y.jsx)(xr,{})})}),e&&(0,y.jsx)(Yr,{path:["/profile/:userId","/video-tools/teams/:teamId/profile/:userId"],component:()=>(0,y.jsx)(Hr,{children:(0,y.jsx)(Br,{generateFallbackRoute:(e,t)=>{let{userId:s}=t;return{path:`/video-tools/teams/${e}/profile/${s}`}},children:(0,y.jsx)(Tr,{})})})}),e&&(0,y.jsx)(Yr,{path:["/watch/:assetId","/video-tools/teams/:teamId/watch/:assetId"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:(e,t)=>{let{assetId:s}=t;return{path:`/video-tools/teams/${e}/watch/${s}`}},children:(0,y.jsx)(kr,{})})}),e&&(0,y.jsx)(Yr,{path:["/watch","/video-tools/teams/:teamId/watch"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/watch`}),children:(0,y.jsx)(jr,{})})}),(0,y.jsx)(Yr,{path:["/explore","/video-tools/teams/:teamId/explore"],component:()=>(0,y.jsx)(Wr,{children:(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/explore`}),children:(0,y.jsx)(Er,{})})})}),(0,y.jsx)(Yr,{path:"/teams/:teamName/settings",component:()=>(0,y.jsx)(Br,{children:(0,y.jsx)(_r,{})})}),(0,y.jsx)(Yr,{path:["/manage-plan"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/teams/${e}/settings`,search:"tab=billing"}),children:(0,y.jsx)(_r,{})})}),(0,y.jsx)(Yr,{path:["/manage-members"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/teams/${e}/settings`,search:"tab=members"}),children:(0,y.jsx)(_r,{})})}),(0,y.jsx)(f.AW,{path:"/video-tools/teams/:teamId/accept",component:Ir}),(0,y.jsx)(f.AW,{path:"/video-tools/:linkId/request",component:fr}),(0,y.jsx)(Yr,{path:"/video-tools/teams/:teamName/assets/favorites",component:e=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/assets`}),children:(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(se.B,{}),children:(0,y.jsx)(te.Q,{...e,onlyFavorites:!0})})})}),(0,y.jsx)(Yr,{path:"/video-tools/teams/:teamName/teamspace/:teamspaceId/assets/favorites",component:e=>(0,y.jsx)(n.Suspense,{fallback:(0,y.jsx)(se.B,{}),children:(0,y.jsx)(ne.M,{...e,onlyFavorites:!0})})}),e&&(0,y.jsx)(Yr,{path:"/video-tools/teams/:teamName/assets/:assetId",component:()=>(0,y.jsx)(Br,{generatePublicFallbackRoute:e=>{let{assetId:t}=e;return`/video-tools/assets/${t}`},children:(0,y.jsx)(yr,{})})}),(0,y.jsx)(Jr,{path:"/video-tools/teams/:teamName/assets/:assetId",component:yr}),(0,y.jsx)(Jr,{path:"/video-tools/assets/:assetId",component:yr}),(0,y.jsx)(f.AW,{path:["/creation/:creationId","/teams/:teamName/creation/:creationId"],component:cr}),(0,y.jsx)(Yr,{path:["/assets","/video-tools/assets","/video-tools/teams/:teamName/assets","/video-tools/teams/:teamName/teamspace/:teamspaceId/assets"],component:e=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/assets`}),children:(0,y.jsx)(ur,{...e})})}),(0,y.jsx)(Yr,{path:["/video-tools/projects","/video-tools/teams/:teamName/projects"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/projects`}),children:(0,y.jsx)(Pr,{})})}),(0,y.jsx)(Yr,{path:["/video-tools/shared-with-me","/video-tools/teams/:teamName/shared-with-me"],component:()=>(0,y.jsx)(Br,{generateFallbackRoute:e=>({path:`/video-tools/teams/${e}/shared-with-me`}),children:(0,y.jsx)(Nr,{})})}),(0,y.jsx)(Yr,{path:"/video-tools/teams/:teamName/storyboards/:id",component:e=>(0,y.jsx)(Br,{children:(0,y.jsx)(Or,{...e})})}),(0,y.jsx)(Yr,{path:["/storyboards","/video-tools/teams/:teamName/storyboards"],component:()=>(0,y.jsxs)(Br,{children:[(0,y.jsx)(Dr,{}),(0,y.jsx)(A.p,{})]})}),(0,y.jsx)(Yr,{path:["/workflow-editor","/video-tools/teams/:teamName/workflow-editor"],component:e=>(0,y.jsx)(Br,{children:(0,y.jsx)(Ur,{...e})})}),(0,y.jsx)(Yr,{path:"/video-tools/teams/:teamName/workflows/:id/edit",component:e=>(0,y.jsx)(Br,{children:(0,y.jsx)(Ur,{...e})})}),(0,y.jsx)(Yr,{path:"/video-tools/teams/:teamName/workflows/:id",component:e=>(0,y.jsx)(Br,{children:(0,y.jsx)(zr,{...e})})}),(0,y.jsx)(Yr,{path:["/workflows","/video-tools/teams/:teamName/workflows"],component:e=>(0,y.jsx)(Br,{children:(0,y.jsx)(Vr,{...e})})}),(0,y.jsx)(f.l_,{exact:!0,from:"/video-tools/teams/:teamName",to:"/video-tools/teams/:teamName/dashboard"}),(0,y.jsx)(f.l_,{exact:!0,from:"/video-tools/teams",to:"/"}),(0,y.jsx)(f.l_,{exact:!0,from:"/video-tools/teams/:teamName/private",to:"/video-tools/teams/:teamName/projects"}),(0,y.jsx)(f.l_,{exact:!0,from:"/video-tools/teams/:teamName/team",to:"/video-tools/teams/:teamName/projects"}),(0,y.jsx)(Xr,{from:"/",to:"/dashboard"})]})})})})})})},Qr=(0,k.J)(nt.Yw),el=e=>{let{children:t}=e;return(0,y.jsx)(j.Elements,{stripe:Qr,children:(0,y.jsx)(T.zt,{skipDelayDuration:0,children:(0,y.jsx)(ee.nC,{children:(0,y.jsx)(S.K,{children:(0,y.jsx)(oe.u,{children:t})})})})})};var tl=s("./app/utils/google-analytics.ts");const sl=n.lazy((()=>Promise.all([s.e(59436),s.e(83871)]).then(s.bind(s,"./app/mocks/NetworkMockingWorker.tsx")))),ol=e=>((0,n.useEffect)(tl.v_,[]),(0,n.useEffect)(tl.jz,[]),(0,v.Z)(),(0,y.jsx)(w.zt,{store:e.store,children:(0,y.jsx)(I.r,{loading:null,persistor:(0,_.p5)(Vi.Z),children:(0,y.jsx)(b.xI,{history:e.history,children:(0,y.jsxs)(x,{children:[(0,y.jsx)(Kr,{}),(0,ye.lE)()&&(0,y.jsx)(n.Suspense,{fallback:null,children:(0,y.jsx)(sl,{})})]})})})}));var nl=s("./app/actions/performance.ts"),al=s("./app/actions/video-editor/notification.tsx"),il=s("./app/streams/SegmentedStreamReader.ts"),rl=s("./app/utils/http.ts"),ll=s("./app/utils/video-editor/hls.ts");const cl="https://streaming-inference.models.stage.runwayml.cloud/streams-server-cpu/raw_video/streams/raw_video/playlist.m3u8?input_video=https%3A%2F%2Frunway-datasets.s3.amazonaws.com%2Fdatasets%2F4398062b-7995-46a4-bd8a-237167a56fed.mp4&output_width=480&output_height=270&output_format=mp4&segment_duration=2.5&hardware=cpu&priority=low",dl=e=>new Promise((t=>setTimeout(t,e))),pl=(e,t)=>new Promise((s=>{const o=setTimeout((()=>{console.info("seeking timeout!"),s()}),3e3),n=()=>{clearTimeout(o),s()},a=()=>{null!==e.read(t)&&(e.off("LOADED_FRAME",a),n())};e.on("LOADED_FRAME",a),null!==e.read(t)&&(e.off("LOADED_FRAME",a),n())})),ul=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[];for(let s=0;s<e;s++){const e=new il.Z(cl);await new Promise((t=>{e.load(),e.on("READY",(()=>{t(null)}))})),t.push(e)}return t},ml=e=>{e.forEach((e=>{e.destroy()}))},hl=e=>e.toFixed(2),gl=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=e.length,o=e.reduce(((e,t)=>e+t),0);if(console.info(`Average time: ${hl(o/s)} ms (${hl(s/(o/1e3))} fps)`),t){const t=o-e[0];console.info(`Average time (w/o first frame): ${hl(t/(s-1))} ms (${hl((s-1)/(t/1e3))} fps)`)}},fl=(e,t,s)=>{const o=1e3/s;console.info(`${e} tracks seeked to ${hl(t)} in ${hl(s)} ms. (${hl(o)} fps)`)},yl=async()=>{await(async()=>{let e;try{e=await(0,rl.XD)((()=>(0,ll.O)(cl)),{retries:3})}catch(e){console.error(e.toString())}const{segments:t}=e;for(let e=0;e<t.length;e++){const{url:s}=t[e];await fetch(s)}console.info("complete prefetching segments!")})()},xl=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;await yl();const s=await ul(e),o=s[0].duration,n=[];for(let a=0;a<t;a++){const t=Math.random()*o,a=performance.now();for(let o=0;o<e;o++)await pl(s[o],t);const i=performance.now()-a;n.push(i),fl(e,t,i),await dl(1e3)}gl(n),ml(s)},vl=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;await yl();const s=await ul(e),o=[];for(let n=0;;n++){const a=.04*n;if(a>=t)break;const i=performance.now();for(let t=0;t<e;t++)await pl(s[t],a);const r=performance.now()-i;o.push(r),fl(e,a,r)}gl(o,!0),ml(s)};var bl=s("./node_modules/events/events.js");const wl="js-profiling";class _l extends bl.EventEmitter{_profiler=null;sampleInterval=0;maxBufferSize=0;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;super(),this.sampleInterval=e,this.maxBufferSize=t}start=(()=>{var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.sampleInterval,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.maxBufferSize;try{return e._profiler=new window.Profiler({sampleInterval:t,maxBufferSize:s}),e._profiler.addEventListener("samplebufferfull",e.onProfilingEnd),!0}catch(e){return!1}}})();onProfilingEnd=async()=>{this._profiler.stopped||(this.transformAndSendTrace(await this._profiler.stop()),this.emit("end"))};transformAndSendTrace=e=>{let{frames:t,samples:s,stacks:o}=e;if(0===s.length)return;const{timestamp:n}=s[0],a=s.map((e=>{let{stackId:s,timestamp:a}=e;const i=[];let r=s;for(;void 0!==r;){const{frameId:e,parentId:s}=o[r];let{name:n}=t[e];n=0===n.length?"(unnamed)":n,i.unshift({id:e,name:n}),r=s}return{stack:i,timestamp:(a-n)/1e3}})),i=l.Yr({name:wl,op:wl,status:"ok"});if(!i)return;const{startTimestamp:r}=i,c=r+a[a.length-1].timestamp,d=a[0].stack.reduce(((e,t,s)=>{let{name:o}=t;const n={op:o,startTimestamp:r};return e.push(0===s?i.startChild(n):e[s-1].startChild(n)),e}),[]);for(a.slice(1,a.length-1).forEach((e=>{let{stack:t,timestamp:s}=e;const o=r+s;for(;d.length>t.length;)d.pop().finish(o);for(let e=0;e<t.length;e++){const{name:s}=t[e],n={op:s,startTimestamp:o};if(0===d.length)d.push(i.startChild(n));else if(d.length<=e)d.push(d[d.length-1].startChild(n));else if(d[e].op!==s){for(;d.length!==e;)d.pop().finish(o);d.push(0===d.length?i.startChild(n):d[d.length-1].startChild(n))}}}));0!==d.length;)d.pop().finish(c);i.finish(c)};close=()=>{this._profiler=null,this.removeAllListeners()}}let Il=null,Tl=0;var jl=s("./app/store/configureStore.ts");s("./app/utils/preventDragAndDropDefaults.ts");var kl=s("./app/utils/webgl.ts");s("./node_modules/allsettled-polyfill/index.js"),s("./node_modules/globalthis/auto.js"),s("./node_modules/intersection-observer/intersection-observer.js");"object"!=typeof window||"ResizeObserver"in window||(window.ResizeObserver=rn.Z),r.S1({dsn:nt.oj,environment:(0,ye.Yq)(),release:"d65535b414e0cea96b5169b95793cb6a17229c40\n",ignoreErrors:["TypeError: Failed to fetch","ResizeObserver loop completed with undelivered notifications.","Non-Error promise rejection captured with value: Timeout"],beforeSend(e){if(e.exception)try{Vi.Z.dispatch({type:"SET_SENTRY_ERROR_EVENT_ID",eventId:e.event_id})}catch(t){return e}return e},integrations:[new c.jK.BrowserTracing({tracingOrigins:[/streaming-inference\.models(\.stage){0,1}\.runwayml\.cloud\//,/api\.runwayml\.com\//,/api\.stage\.runwayml\.com\//],beforeNavigate:e=>({...e,name:location.pathname.replace(/\/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/g,"/<guid>")})})],tracesSampleRate:"production"==(0,ye.Yq)()?.001:1}),l.e((e=>{e.setTag("platform","web")})),"function"==typeof window.Profiler&&(window.startJSProfiling=()=>{null!==Il||Tl>=3||(Tl++,Il=new _l,Il.start()?Il.on("end",(()=>{Il.close(),Il=null})):Il=null)});const Cl=["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","Non-Error promise rejection captured with value: Timeout","Blocked a frame with origin","Script error.","TypeError: undefined is not an object (evaluating 'webkit.messageHandlers.loginsManagerMessageHandler.postMessage')",'Uncaught Error: Could not find ID for Fiber "Context.Consumer"'];window.addEventListener("error",(e=>{const{message:t,error:s}=e;if(Cl.indexOf(t)>-1)return;if(s?.stack?.indexOf("invokeGuardedCallbackDev")>=0&&!s.alreadySeen)return s.alreadySeen=!0,void e.preventDefault();try{(0,a.bc)({eventName:"Fatal Error",properties:{message:t}})}catch{}document.getElementById("notifications-container")?Vi.Z.dispatch((0,al.sc)({message:"Please refresh the page. An unknown error has occurred.",type:"ERROR",doesNotDecay:!0})):Vi.Z.dispatch((0,ae.showFatalPopup)()),l.Tb(s)}),{capture:!1}),Vi.Z.dispatch((0,le.refreshUser)());setInterval((()=>{Vi.Z.getState().videoEditor.ui.isPlaying||Vi.Z.dispatch((0,le.refreshUser)())}),15e3),window.addEventListener("storage",(e=>{e.key===He.Fz&&e.newValue!==e.oldValue&&window.location.reload()})),Vi.Z.dispatch((0,nl.ai)()),(e=>{let t=null;const s=()=>{t&&(e.dispatch((0,nl.XU)(Date.now()-t)),t=Date.now())};window.onfocus=()=>{t=Date.now()},window.onblur=()=>{s(),t=null},setInterval((()=>{s()}),15e3)})(Vi.Z),(0,ye.Mw)()||(window.benchmarkVideoSeek=xl,window.benchmarkVideoPlayback=vl,(0,kl.yF)()),(0,u.render)((0,y.jsx)(h.t,{children:(0,y.jsx)(m.f6,{theme:ot.Z,children:(0,y.jsx)(d.W,{backend:p.PD,children:(0,y.jsx)(ol,{store:Vi.Z,history:jl.m})})})}),document.getElementById("root"))},"./app/integrations/braze/Braze.ts":(e,t,s)=>{"use strict";s.d(t,{b:()=>h});var o=s("./app/utils/constants.ts"),n=s("./app/utils/environment.ts"),a=s("./node_modules/@braze/web-sdk/src/Core/toggle-logging.js"),i=s("./node_modules/@braze/web-sdk/src/Core/initialize.js"),r=s("./node_modules/@braze/web-sdk/src/InAppMessage/ui/automatically-show-in-app-messages.js"),l=s("./node_modules/@braze/web-sdk/src/Core/open-session.js"),c=s("./node_modules/@braze/web-sdk/src/Core/change-user.js"),d=s("./node_modules/@braze/web-sdk/src/Core/log-custom-event.js"),p=s("./node_modules/@sentry/core/esm/exports.js");let u=null;class m{constructor(){this.initialize()}initialize(){(0,n.tb)()?console.info("Braze is disabled during Automated Test runs"):((0,n.mx)()?(a.a(),i.j(o.PA,{baseUrl:o.sl,enableSdkAuthentication:!0})):i.j(o.EG,{baseUrl:o.sl,enableSdkAuthentication:!0}),r.f(),l.U())}setUserInformation(e){e.id||(0,p.uT)("Braze: User ID is not defined"),(0,n.tb)()?console.info("Braze (disabled): setUserInformation",e.id):c.changeUser(`${e.id}`,e.brazeJWT)}logCustomEvent(e,t){(0,n.tb)()?console.info("Braze (disabled): logCustomEvent",e,t):d.logCustomEvent(e,t)}}const h=()=>u||(u=new m,u)},"./app/integrations/braze/BrazeEvents.ts":(e,t,s)=>{"use strict";s.d(t,{D:()=>o});let o=function(e){return e.AiGenerateGen1="AI-Generate-Gen-1",e.AiGenerateGen2="AI-Generate-Gen-2",e.AiTrainingStarted="AI-Training-Started",e.AiTrainingCompleted="AI-Training-Completed",e}({})},"./app/reducers/create-team.ts":(e,t,s)=>{"use strict";s.d(t,{f:()=>o,h:()=>n});let o=function(e){return e.Workspace="workspace",e.Teamspace="teamspace",e}({});const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CREATE_TEAM_MODAL":return{open:!0,teamType:t.teamType};case"CLOSE_CREATE_TEAM_MODAL":return{open:!1};default:return e}}},"./app/reducers/video-editor/composition.ts":(e,t,s)=>{"use strict";s.d(t,{B3:()=>V,DY:()=>B,Ax:()=>J,Ee:()=>Z,o2:()=>L,ZP:()=>X,fV:()=>W,Hs:()=>G,xb:()=>F,G_:()=>$,it:()=>H,zM:()=>q,CZ:()=>Y});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/immer/dist/immer.esm.js"),a=s("./node_modules/lodash/lodash.js"),i=s.n(a),r=s("./node_modules/uuid/dist/esm-browser/v4.js"),l=s("./app/actions/video-editor/layers.ts"),c=s("./app/api/video-editor/composition-ws.ts"),d=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),p=s("./app/components/Views/VideoTools/VideoEditor/edit-context-definitions.ts"),u=s("./app/store.ts"),m=s("./app/utils/video-editor/audio.ts"),h=s("./app/utils/video-editor/composition.ts"),g=s("./app/utils/video-editor/effects.ts"),f=s("./app/utils/video-editor/keyframe.ts"),y=s("./app/utils/video-editor/layer.ts"),x=s("./app/utils/video-editor/tracks.ts"),v=s("./app/utils/video-editor/transforms.ts"),b=s("./app/reducers/video-editor/composition/layers.ts"),w=s("./app/utils/video-editor/store.ts");const _=(e,t)=>{switch(t.type){case"composition/UPDATE_ANIMATOR_PROPERTY":{const s=G(e,t.layerId);if(s){s.data.values[t.property]=t.value}break}}for(const t in e.layers){const s=e.layers[t];if("ANIMATOR"===s.type){const o=s.data,n=$(e,t);if(n){const a=s.endMs-s.startMs,i=n.endMs-n.startMs;"in"===o.direction?e.layers[t]={...s,endMs:Math.min(s.endMs,i)}:"out"===o.direction&&(e.layers[t]={...s,startMs:Math.max(i-a,0),endMs:i},s.endMs-s.startMs<100&&(e.layers[t]={...e.layers[t],startMs:s.endMs-100}))}}}return e};var I=s("./node_modules/gl-matrix/esm/mat3.js"),T=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),j=s("./app/gl2d/utils.ts"),k=s("./app/utils/video-editor/parenting.ts");const C=(e,t,s)=>{const o=G(e,t);o&&(Y(o,{property:"position",value:{x:s.x,y:s.y},timeMs:(0,T.q)()}),Y(o,{property:"scale",value:{x:100*s.scaleX,y:100*s.scaleY},timeMs:(0,T.q)()}),Y(o,{property:"rotation",value:(0,j.vi)(s.rotation),timeMs:(0,T.q)()}))},E=e=>{let{newState:t,layerId:s,parentLayerId:o,layerComposition:n,parentLayerComposition:a}=e;const i=(n||t).layers[s];let r=(a||t).layers[o];if("TRACKING"===r?.type){r=$(a||t,r.id)}const l=(0,T.q)(),c=(0,k.pq)(i,l,!1,n||t),d=(0,k.pq)(r,l,!1,a||t);if(!c||!d)return;const p=I.Jp(c,d,c),u=(0,k.am)(p);C(t,s,u)},S=(e,t)=>{switch(t.type){case"composition/ADD_CHILDREN_LAYER_ID":{Object.keys(e.layers).forEach((s=>{const o=G(e,s);o&&o.childrenLayerIds.includes(t.childLayerId)&&(E({newState:e,layerId:t.childLayerId,parentLayerId:o.id}),o.childrenLayerIds=o.childrenLayerIds.filter((e=>e!==t.childLayerId)))}));const s=G(e,t.layerId);if(!s)break;((e,t,s)=>{const o=e.layers[t];let n=e.layers[s];"TRACKING"===n?.type&&(n=$(e,n.id));const a=(0,T.q)(),i=(0,k.pq)(o,a,!1,e),r=(0,k.pq)(n,a,!1,e);if(!i||!r)return;const l=I.U_(I.Ue(),r),c=I.Jp(i,l,i),d=(0,k.am)(c);C(e,t,d)})(e,t.childLayerId,t.layerId),s.childrenLayerIds=(0,a.compact)((0,a.uniq)([...s.childrenLayerIds,t.childLayerId]));break}case"composition/REMOVE_CHILDREN_LAYER_ID":{const s=G(e,t.layerId),o=G(e,t.childLayerId);if(!s||!o)break;s.childrenLayerIds.includes(t.childLayerId)&&(E({newState:e,layerId:t.childLayerId,parentLayerId:t.layerId}),s.childrenLayerIds=s.childrenLayerIds.filter((e=>e!==t.childLayerId)));break}case"composition/SET_CHILDREN_LAYER_IDS":G(e,t.layerId).childrenLayerIds=t.childrenLayerIds;break}const s=(0,n.mv)(e)?(0,n.Js)(e):e,o=Object.keys(s.layers),i=Object.keys(e.layers);return(0,a.difference)(o,i).forEach((t=>{const o=G(s,t);o?.childrenLayerIds&&o.childrenLayerIds.forEach((o=>{const n=G(e,o);n&&("ANIMATOR"===n.type||"TRACKING"===n.type?delete e.layers[o]:E({newState:e,layerId:o,layerComposition:e,parentLayerId:t,parentLayerComposition:s}))}))})),Object.values(e.layers).forEach((t=>{t.childrenLayerIds.length&&(e.layers={...e.layers,[t.id]:{...t,childrenLayerIds:t.childrenLayerIds.filter((t=>Boolean(e.layers[t])))}})})),e};var A=s("./app/utils/video-editor/masks.ts"),M=s("./app/utils/video-editor/selection.ts");const P=(e,t,s)=>{if(!s.ui?.batchGSLeadLayerId)return e;const{batchGSLeadLayerId:o}=s.ui,n=G(e,o);if(!n||t.layerId!==n.id)return e;const i=(0,M.f)({videoEditor:{...s,composition:e}}).filter((e=>e.id!==n.id));switch(t.type){case"ui/MASK/SET_PROPAGATION_STREAM":i.forEach((s=>{let{id:o}=s;G(e,o).mask.stream=t.stream}));break;case"ui/MASK/CREATE_KEYFRAME":"mask"===t.keyframeType&&i.forEach((s=>{let{id:o}=s;const i=G(e,o);if(i.mask.keyframes.length<=0&&i.mask.maskEffectIds.length<=0){const{effects:e,maskEffectIds:t}=J(i);i.effects=e,i.mask.maskEffectIds=t}const r=(0,a.cloneDeep)(n[t.keyframeType].keyframes.find((e=>e.frameId===t.keyframe.id)));r.timeMs=N(r.timeMs),r.frameId=(0,A.IM)(r.timeMs/1e3);const l=(0,a.values)((0,a.keyBy)([...i[t.keyframeType].keyframes,r],"frameId")).sort(((e,t)=>e.timeMs-t.timeMs));i[t.keyframeType].keyframes=l}));break;case"ui/MASK/UPDATE_KEYFRAME":{const s=t.keyframeType??"mask";i.forEach((o=>{let{id:n}=o;const a=G(e,n),i=[...a[s].keyframes].map((e=>{let s={...e};return D(e.frameId)===t.id&&(s={...s,...t.changes}),s}));a[s].keyframes=i}));break}case"ui/MASK/DELETE_KEYFRAME":{const s=t.keyframeType??"mask";i.forEach((o=>{let{id:n}=o;const a=G(e,n),i=[...a[s].keyframes].filter((e=>D(e.frameId)!==t.id));if(a[s].keyframes=i,i.length<=0&&"mask"===s){const{effects:e,maskEffectIds:t}=q(a);a.effects=e,a.mask.maskEffectIds=t}}));break}}return e},N=e=>-1*e-1e3,D=e=>(0,A.IM)(-1*(1e3*Number(e)+1e3)),O=e=>({width:d.qu.WIDE.width,height:d.qu.WIDE.height,format:"Full HD",durationMs:e||0,frameRate:d.V1,backgroundColor:{r:0,g:0,b:0,a:255},previewUrl:""}),L=e=>{const t=[],{heightOfTracks:s}=u.Z.getState().settings.userPreference,o=s===d.A7?d.rc:d.rc+1,n=s===d.A7?d.v5:d.v5+1;return new Array(o).fill(null).forEach((()=>{t.push({type:"PIXEL",layers:[],id:(0,r.Z)()})})),new Array(n).fill(null).forEach((()=>{t.push({type:"AUDIO",layers:[],id:(0,r.Z)()})})),{settings:O(e),tracks:t,layers:{},pinnedAssetItemIds:[]}},R={id:"",createdAt:new Date,updatedAt:new Date,name:"Untitled",userId:-1,editVersion:0,schemaVersion:d.Bf,previewImageUrl:null,previewVideoUrl:null,template:!1},Z=e=>{const t=U();return{metadata:R,settings:O(e),tracks:t,layers:{},pinnedAssetItemIds:[]}},U=()=>{const e=[];return new Array(d.rc).fill(null).forEach((()=>{e.push({type:"PIXEL",layers:[],id:(0,r.Z)()})})),new Array(d.v5).fill(null).forEach((()=>{e.push({type:"AUDIO",layers:[],id:(0,r.Z)()})})),e},z=["composition/SET_COMPOSITION","composition/RESET"],V=["ui/MASK/CREATE_KEYFRAME","ui/MASK/UPDATE_KEYFRAME","ui/MASK/DELETE_KEYFRAME"],B=["ui/TRACKING/CREATE_KEYFRAME","ui/TRACKING/UPDATE_KEYFRAME","ui/TRACKING/DELETE_KEYFRAME"],G=(e,t)=>e.layers[t],F=(e,t)=>(0,a.compact)(t.map((t=>e.layers[t]))),$=(e,t)=>i().find(e.layers,(e=>e.childrenLayerIds.includes(t))),W=(e,t)=>F(e,t?.childrenLayerIds??[]).filter((e=>"ANIMATOR"===e?.type)),H=(e,t)=>e.map((e=>(e.layers=e.layers.filter((e=>e!==t)),e))),Y=(e,t)=>{if(e.transforms){const s=(0,f.Gy)(e.transforms[t.property],t.timeMs);(0,a.isPlainObject)(t.value)&&(0,a.isPlainObject)(s)?e.transforms[t.property]=(0,f.c$)(e.transforms[t.property],{...s,...t.value},t.timeMs-e.startMs):e.transforms[t.property]=(0,f.c$)(e.transforms[t.property],t.value,t.timeMs-e.startMs)}return e},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return(0,n.aS)(e,(e=>{switch(t.type){case"composition/UPLOAD_COMPOSITION":case"composition/SET_COMPOSITION":{e.metadata=t.composition.metadata,e.layers=t.composition.layers,e.settings=t.composition.settings;const s=t.composition.tracks.map((e=>{const t=(0,a.uniq)(e.layers);return{...e,layers:t}}));e.tracks=(0,x.wg)(s),e.pinnedAssetItemIds=t.composition.pinnedAssetItemIds;break}case"composition/INCREMENT_EDIT_VERSION":e.metadata.editVersion+=1;break;case"composition/RENAME":e.metadata.name=t.name;break;case"composition/UPDATE_SETTING":e.settings[t.property]=t.value;break;case"composition/UPDATE_METADATA":e.metadata[t.property]=t.value;break;case"composition/UPDATE_PREVIEW_IMAGE":e.settings.previewUrl=t.value;break;case"composition/RESIZE_ARTBOARD":e.settings.width=t.width,e.settings.height=t.height;break;case"composition/ADD_LAYER":(0,b.A)({composition:e,layer:t.layer,trackIndex:t.trackIndex});break;case"composition/RESET_DATA":{const t=Z(s.composition.settings.durationMs);e.settings=t.settings,e.layers=t.layers,e.tracks=t.tracks,e.pinnedAssetItemIds=t.pinnedAssetItemIds;break}case"composition/SET_LAYER":{e.layers={[t.layer.id]:t.layer},e.tracks=U();const s=(0,y.wh)(e,t.layer);e.tracks[s].layers=[t.layer.id],e.settings.frameRate=t.layer.data.clip?.metadata?.frameRate||d.V1,"MASK"===t.contextKey&&(e.settings.backgroundColor={r:0,g:177,b:64,a:255}),t.layer.endMs>e.settings.durationMs&&(e.settings.durationMs=(0,b.H)(t.layer,e.settings.durationMs));break}case"composition/UPDATE_LAYER":{const s=G(e,t.layerId);s&&(e.layers[t.layerId]={...s,...t.layer,id:s.id});break}case"composition/UPDATE_LAYER_VISIBILITY":{const s=G(e,t.layerId);s&&(s.visible=t.value);break}case"composition/UPDATE_LAYER_LOCK":{const s=G(e,t.layerId);s&&(s.lock=t.value);break}case"composition/UPDATE_LAYER_TRACK_INDEX":{const{layerId:s,trackIndex:o}=t,{layers:n,tracks:a}=e,i=n[s];a[o]||(e.tracks[o]={type:"AUDIO"===i.type?"AUDIO":"PIXEL",id:(0,r.Z)(),layers:[]});const l=e.tracks.map(((e,t)=>t!==o?(e.layers=e.layers.filter((e=>e!==s)),e):(e.layers.includes(s)||e.layers.push(s),e)));e.tracks=(0,x.wg)(l);break}case"composition/INSERT_LAYER_AT_TRACK_INDEX":{const{layerId:s,trackIndex:o}=t;e.tracks=H(e.tracks,s);const n=(0,x.ZZ)(e.layers[s].type);e.tracks=[...e.tracks.slice(0,o),{type:n,layers:[s],id:(0,r.Z)()},...e.tracks.slice(o)],e.tracks=(0,x.wg)(e.tracks);break}case"composition/CREATE_TRACK":{const{trackIndex:s,trackType:o="PIXEL"}=t,n=[...e.tracks.slice(0,s),{type:o,layers:[],id:(0,r.Z)()},...e.tracks.slice(s)];e.tracks=(0,x.wg)(n);break}case"composition/DELETE_TRACK":{const{trackIndex:s}=t,{layers:o,tracks:n}=e;n[s]&&(n[s].layers.forEach((e=>{delete o[e]})),e.layers=o,e.tracks=[...n.slice(0,s),...n.slice(s+1)],e.tracks=(0,x.wg)(e.tracks));break}case"composition/DELETE_EMPTY_TRACKS":e.tracks=e.tracks.reduce(((e,t)=>{const s=(0,x.d9)(t),o=(0,a.countBy)(e,"type")[t.type]<=1;return s&&!o&&(e=e.filter((e=>e.id!==t.id))),e}),[...e.tracks]),e.tracks=(0,x.wg)(e.tracks);break;case"composition/UPDATE_LAYER_DATA":{const s=G(e,t.layerId);s&&(s.data={...s.data,...t.data});break}case"composition/UPDATE_LAYER_TEXT_PROPERTIES":{const s=G(e,t.layerId);s&&(s.data={...s.data,textProperties:{...s.data.textProperties,...t.data}});break}case"composition/UPDATE_LAYER_TEXT_CONTENT":{const s=G(e,t.layerId);s&&(s.data={...s.data,textProperties:{...s.data.textProperties,content:t.value}});break}case"composition/SET_LAYER_KEYFRAMES":{const s=G(e,t.layerId),o=h.p5[t.contextKey??"MASK"];s&&(s[o].keyframes=t.keyframes.map((e=>(0,h.z5)(e))));break}case"composition/UPDATE_LAYER_MASK_EFFECTS":{const s=G(e,t.layerId);if(s){if(1===t.keyframesLength&&s.mask?.maskEffectIds?.length>0)break;const{effects:e,maskEffectIds:o}=1===t.keyframesLength?J(s):q(s);s.effects=e,s.mask.maskEffectIds=o}break}case"composition/REMOVE_MASK_FROM_LAYER":{const s=G(e,t.layerId);s&&(s.mask.type=null,s.mask.keyframes=[],s.mask.lastUpdated=new Date,s.effects=s.effects.filter((e=>{let{id:t}=e;return!s.mask.maskEffectIds.includes(t)})),s.mask.maskEffectIds=[]);break}case"composition/REMOVE_INPAINT_FROM_LAYER":{const s=G(e,t.layerId);s&&(s.inpaint.keyframes=[],s.inpaint.lastUpdated=new Date);break}case"composition/REMOVE_TRACKING_FROM_LAYER":{const s=G(e,t.layerId);s&&(s.tracking=(0,a.cloneDeep)(p.X.TRACKING.initLayerState));break}case"composition/UPDATE_LAYER_DURATION":{const s=G(e,t.layerId);if(s){const o=s.transforms?.volume??!1,n=o?(0,m.er)(s):null;if(void 0!==t.startMs&&(s.startMs=Math.round(t.startMs)),void 0!==t.endMs&&(s.endMs=Math.round(t.endMs)),void 0!==t.startOffsetMs){const e=Math.round(t.startOffsetMs-s.startOffsetMs);s.startOffsetMs=Math.round(t.startOffsetMs),(0,v.r)(s,((t,a)=>{let i,{property:r,effectId:l}=a;l&&(i=s.effects.find((e=>e.id===l))),t.keyframes.forEach((t=>{if(i)i.values[r]=(0,f.JC)(i.values[r],t.id,t.timeMs-e);else if(o&&n.find((e=>e?.id===t.id))){if(n.findIndex((e=>e?.id===t.id))>=2){const e=n[3];s.transforms[r]=(0,f.JC)(s.transforms[r],t.id,s.endMs-s.startMs-(e.timeMs-t.timeMs))}}else s.transforms[r]=(0,f.JC)(s.transforms[r],t.id,t.timeMs-e)}))}))}t.endMs>e.settings.durationMs&&(e.settings.durationMs=(0,b.H)(s,e.settings.durationMs))}break}case"composition/UPDATE_LAYER_TRANSFORM":{const s=G(e,t.layerId);s&&Y(s,t);break}case"composition/UPDATE_LAYER_POSITION_TRANSFORM_BY_OFFSET":{const s=G(e,t.layerId),{position:o}=s.transforms;o.keyframesEnabled?s.transforms.position=(0,f.tA)(o,(e=>({...e,value:{...e.value,x:e.value.x+t.offsetX,y:e.value.y+t.offsetY}}))):s.transforms.position=(0,f.c$)(o,{...s.transforms.position.value,x:o.value.x+t.offsetX,y:o.value.y+t.offsetY},null);break}case"composition/UPDATE_LAYER_TRANSFORM_AND_OFFSET_LAYERS_BY_DELTA":{const s=G(e,t.baseLayerId);if(s?.transforms[t.property]){const o=s.transforms[t.property].value;let n;if("number"==typeof o)n=t.value-o;else if((0,a.isArray)(o))n=o.map(((e,s)=>t.value[s]-e));else if((0,a.isPlainObject)(t.value)&&(0,a.isPlainObject)(o)){const e={...o,...t.value};n={x:e.x-o.x,y:e.y-o.y}}else n={x:t.value.x-o.x,y:t.value.y-o.y};(0,a.isNil)(n)||t.layerIds.forEach((s=>{const o=G(e,s);if(o?.transforms?.[t.property]){const e=o.transforms[t.property].value;let s;s="number"==typeof e?e+n:(0,a.isArray)(e)?e.map(((e,t)=>e+n[t])):{x:e.x+n.x,y:e.y+n.y},(0,a.isNil)(s)||(o.transforms[t.property]=(0,f.c$)(o.transforms[t.property],s,t.timeMs-o.startMs))}}))}break}case"composition/UPDATE_LAYER_TRANSFORM_VISIBILITY":{const s=G(e,t.layerId);s&&(s.transforms[t.property].visible=t.visible);break}case"composition/UPDATE_LAYER_COLORMODE":{const s=G(e,t.layerId);s&&(s.colorMode=t.colorMode);break}case"composition/UPDATE_LAYER_BLEND_MODE":{const s=G(e,t.layerId);s&&(s.blend=t.blend);break}case"composition/UPDATE_LAYER_SPEED":{const s=G(e,t.layerId);if(s){const o=s.transforms.volume??!1,n=o?(0,m.er)(s):null;s.endMs=s.startMs+s.speed/t.speed*(s.endMs-s.startMs),s.speed=t.speed,o&&n.forEach(((e,t)=>{if(!(t<2)&&e){const t=n[3];s.transforms.volume=(0,f.JC)(s.transforms.volume,e.id,s.endMs-s.startMs-(t.timeMs-e.timeMs))}})),s.endMs>e.settings.durationMs&&(e.settings.durationMs=(0,b.H)(s,e.settings.durationMs))}break}case"composition/UPDATE_LAYER_SPEED_MODE":{const s=G(e,t.layerId);s&&(s.speedMode=t.speedMode);break}case"composition/UPDATE_LAYER_MASK_THUMBNAIL":{const s=G(e,t.layerId);s&&(s.data.clip.maskThumbnail=t.url);break}case"composition/ENABLE_KEYFRAMES":{const s=G(e,t.layerId);if(s)if(t.effectId){const e=s.effects.find((e=>e.id===t.effectId));e&&(e.values[t.property].keyframesEnabled=!0)}else s.transforms[t.property].keyframesEnabled=!0;break}case"composition/DISABLE_KEYFRAMES":{const s=G(e,t.layerId);if(s)if(t.effectId){const e=s.effects.find((e=>e.id===t.effectId));e&&(e.values[t.property].keyframesEnabled=!1)}else s.transforms[t.property].keyframesEnabled=!1;break}case"composition/ADD_KEYFRAME":{const s=G(e,t.layerId);if(s)if(t.effectId){const e=s.effects.find((e=>e.id===t.effectId));e&&(e.values[t.property]=(0,f.qi)({transform:e.values[t.property],value:t.value,timeMs:t.timeMs,id:t.keyframeId,easing:t.easing}))}else s.transforms[t.property]=(0,f.qi)({transform:s.transforms[t.property],value:t.value,timeMs:t.timeMs,id:t.keyframeId,easing:t.easing});break}case"composition/UPDATE_EFFECT_VALUE":{const s=G(e,t.layerId);if(s)if(t.effectId){const e=s.effects.find((e=>e.id===t.effectId));e&&(e.values[t.property]=(0,f.c$)(e.values[t.property],t.value,t.timeMs-s.startMs))}else s.transforms[t.property]=(0,f.c$)(s.transforms[t.property],t.value,t.timeMs-s.startMs);break}case"composition/MOVE_KEYFRAME":{const s=G(e,t.layerId);if(s)if(t.effectId){const e=s.effects.find((e=>e.id===t.effectId));e&&(e.values[t.property]=(0,f.JC)(e.values[t.property],t.keyframeId,t.timeMs))}else s.transforms[t.property]=(0,f.JC)(s.transforms[t.property],t.keyframeId,t.timeMs);break}case"composition/SET_KEYFRAME_EASING":(0,f.id)(e,t).easing=t.easing;break;case"composition/DELETE_KEYFRAME":{const s=G(e,t.layerId);if(s)if(t.effectId){const e=s.effects.find((e=>e.id===t.effectId));if(e){const s=e.values[t.property].keyframes.filter((e=>e.id!==t.keyframeId));e.values[t.property].keyframes=s,e.values[t.property].keyframesEnabled=s.length>0}}else{const e=s.transforms[t.property].keyframes.filter((e=>e.id!==t.keyframeId));s.transforms[t.property].keyframes=e,s.transforms[t.property].keyframesEnabled=e.length>0}break}case"composition/DELETE_LAYER":const o=e.layers[t.layerId];o&&(0,y.WL)(o)&&(e=((e,t)=>{const s=G(e,t);if(s&&(0,y.WL)(s))return Object.keys(e.layers).forEach((t=>{const o=G(e,t);"TEXT"===o?.type&&o?.data.subtitleOfLayerId===s.id&&(delete o.data.subtitleOfLayerId,o.data.textProperties={...o.data.textProperties,...(0,w.N7)(s.data.subtitleData.textProperties)})})),e})(e,t.layerId)),delete e.layers[t.layerId],e.tracks=H(e.tracks,t.layerId),e.tracks=(0,x.wg)(e.tracks);break;case"composition/RENAME_LAYER":{const s=G(e,t.layerId);s&&(s.name=t.name);break}case"composition/BRING_LAYER_TO_FRONT":{const{layerId:s,trackIndex:o,createNewTrack:n}=t;if(G(e,s))if(e.tracks=H(e.tracks,s),n){const t={type:"PIXEL",layers:[s],id:(0,r.Z)()},o=e.tracks.filter((e=>"PIXEL"===e.type)),n=o[o.length-1];0===n.layers.length&&(e.tracks=e.tracks.filter((e=>e.id!==n.id))),e.tracks=[t,...e.tracks]}else e.tracks[o]&&e.tracks[o].layers.push(s);break}case"composition/BRING_LAYER_TO_BACK":{const{layerId:s,trackIndex:o}=t;if(G(e,s)){e.tracks=H(e.tracks,s);const t={type:"PIXEL",layers:[s],id:(0,r.Z)()};-1!==o?e.tracks[o].layers.push(s):(e.tracks.push(t),e.tracks=(0,x.wg)(e.tracks))}break}case"composition/ADD_EFFECT":{const s=G(e,t.layerId);if(s){const e=s.effects.filter((e=>!s.mask.maskEffectIds.includes(e.id))),o=s.effects.filter((e=>s.mask.maskEffectIds.includes(e.id)));s.effects=[...e,t.effect,...o]}break}case"composition/UPDATE_EFFECTS":{const{effects:s,layerId:o}=t,n=G(e,o);if(n){const e=s.filter((e=>!n.mask.maskEffectIds.includes(e.id))),t=n.effects.filter((e=>n.mask.maskEffectIds.includes(e.id)));n.effects=[...e,...t]}break}case"composition/ENABLE_EFFECT":{const s=G(e,t.layerId);s&&(s.effects=s.effects.map((e=>(e.id===t.effectId&&(e.enabled=t.enabled),e))));break}case"composition/VALIDATE_EFFECT":{const s=G(e,t.layerId);s&&(s.effects=s.effects.map((e=>(e.id===t.effectId&&(e.valid=t.valid,t.valid||(e.enabled=!1)),e))));break}case"composition/REMOVE_EFFECT":{const s=G(e,t.layerId);s&&(s.effects=s.effects.filter((e=>e.id!==t.effectId)));break}case"composition/TOGGLE_PIN_ASSET_ITEM":e.pinnedAssetItemIds.find((e=>e===t.assetItemId))?e.pinnedAssetItemIds=e.pinnedAssetItemIds.filter((e=>e!==t.assetItemId)):e.pinnedAssetItemIds.push(t.assetItemId);break;case"composition/PIN_ASSET_ITEMS":e.pinnedAssetItemIds=(0,a.uniq)([...e.pinnedAssetItemIds,...t.assetItemIds]);break;case"composition/UNPIN_ASSET_ITEMS":{const s={};t.assetItemIds.forEach((e=>{s[e]=!0})),e.pinnedAssetItemIds=e.pinnedAssetItemIds.filter((e=>!s[e]));break}case"composition/MIGRATE_CLIPS_WITH_BLOB_URL":{const{composition:{layers:o}}=s,{from:{fileObjectURL:n},to:{assetId:a,name:i,url:r,thumbnail:l,metadata:c,previewImages:d}}=t;Object.keys(o).forEach((t=>{if(o[t].data?.clip?.url===n){const s=G(e,t),o=s.data.clip;s.name=i,o.assetId=a,o.name=i,o.url=r,o.thumbnail=l,o.previewImages=d,o.metadata=c}}));break}case"composition/RESET":case"LOG_OUT":const n=Z(s.composition.settings.durationMs);Object.keys(e).forEach((t=>{n[t]?e[t]=n[t]:delete e[t]}))}switch(t.type){case"ui/TRACKING/CREATE_KEYFRAME":{const s=G(e,t.layerId),o=(0,a.values)((0,a.keyBy)([...s.tracking.keyframes,t.keyframe],"id")).sort(((e,t)=>e.timeMs-t.timeMs));s.tracking.keyframes=o;break}case"ui/TRACKING/UPDATE_KEYFRAME":{const s=G(e,t.layerId);s.tracking.keyframes=s.tracking.keyframes.map((e=>{let s={...e};return e.id===t.keyframeId&&(s={...s,...t.keyframe}),s}));break}case"ui/TRACKING/DELETE_KEYFRAME":{const s=G(e,t.layerId);s.tracking.keyframes=s.tracking.keyframes.filter((e=>e.id!==t.keyframeId));break}}switch(t.type){case"ui/MASK/CREATE_KEYFRAME":{const s=t.keyframeType,o=G(e,t.layerId);if("mask"===s&&o.mask.keyframes.length<=0&&o.mask.maskEffectIds.length<=0){const{effects:e,maskEffectIds:t}=J(o);o.effects=e,o.mask.maskEffectIds=t}const n=(0,h.z5)(t.keyframe),i=(0,a.values)((0,a.keyBy)([...o[s].keyframes,n],"frameId")).sort(((e,t)=>e.timeMs-t.timeMs));o[s].keyframes=i;break}case"ui/MASK/UPDATE_KEYFRAME":{const s=t.keyframeType??"mask",o=G(e,t.layerId),n=[...o[s].keyframes].map((e=>{let s={...e};return e.frameId===t.id&&(s={...s,...t.changes}),s}));o[s].keyframes=n;break}case"ui/MASK/DELETE_KEYFRAME":{const s=t.keyframeType??"mask",o=G(e,t.layerId),n=[...o[s].keyframes].filter((e=>e.frameId!==t.id));if(o[s].keyframes=n,n.length<=0&&"mask"===s){const{effects:e,maskEffectIds:t}=q(o);o.effects=e,o.mask.maskEffectIds=t}break}case"ui/MASK/SET_PROPAGATION_STREAM":G(e,t.layerId).mask.stream=t.stream}e=S(e,t),e=_(e,t),e=P(e,t,s);const i=(e=>{const t=e.type.includes("composition/")||V.includes(e.type)||B.includes(e.type),s=z.includes(e.type);return t&&!s})(t);if(i){e.metadata.id&&(e.metadata.editVersion+=1);try{(0,c.rg)(s,(0,n.Vk)(e))}catch(e){console.error(e),o.$e((s=>{s.setExtra("Details",{action:t}),o.Tb(e)}))}}}))},q=e=>({effects:e.effects.filter((e=>!l.Ki.includes(e.name)&&!g.V4.includes(e.name))),maskEffectIds:[]}),J=e=>{const t=(0,l.nQ)(),s=(0,g.hu)(),o=[...t,...s].map((e=>e.id));return{effects:[...e.effects,...t,...s],maskEffectIds:o}}},"./app/reducers/video-editor/composition/layers.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>c,H:()=>d});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/Timeline/timeline-ticks.ts"),i=s("./app/utils/number.ts"),r=s("./app/utils/video-editor/tracks.ts"),l=s("./node_modules/uuid/dist/esm-browser/v4.js");const c=e=>{let{composition:t,layer:s,trackIndex:a}=e;t.layers[s.id]=s,(0,o.isNil)(a)||(t.tracks[a]||(t.tracks[a]={type:"AUDIO"===s.type?"AUDIO":"PIXEL",layers:[],id:(0,l.Z)()}),t.tracks[a].layers.includes(s.id)||t.tracks[a].layers.push(s.id),t.tracks=(0,r.wg)(t.tracks));const i=Object.keys(t.layers).map((e=>t.layers[e])).filter((e=>"VIDEO"===e.type));if(1===i.length){const e=i[0].data?.clip?.metadata?.frameRate||n.eE;t.settings.frameRate=e}s.endMs>t.settings.durationMs&&(t.settings.durationMs=d(s,t.settings.durationMs))},d=(e,t)=>0===t?Math.max(1e3*n.Ds,(0,i.DT)(e.endMs,a.Jf)):(0,i.DT)(e.endMs,a.Jf)},"./app/reducers/video-editor/history.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>f,w:()=>y});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/immer/dist/immer.esm.js"),a=s("./node_modules/lodash/lodash.js"),i=s("./app/api/video-editor/composition-ws.ts"),r=s("./app/store.ts"),l=s("./app/reducers/video-editor/composition.ts");const c={isRecording:!1,contexts:{SCENE_EDITOR:{changes:[],changeIndex:-1}}},d={undo:[],redo:[],actions:[]};let p={...d};const u=e=>e.type.startsWith("composition/")||[...l.B3,...l.DY].includes(e.type),m=e=>!e.path.includes("editVersion"),h=e=>{let t=[...e.undo],s=[...e.redo];const o=[];return t.forEach(((e,t)=>{(0,a.isEqualWith)(e,s[t])&&o.push(t)})),t=t.filter(((e,t)=>!o.includes(t))),s=s.filter(((e,t)=>!o.includes(t))),t=t.filter(m),s=s.filter(m),0===t.length||0===s.length?null:{...e,undo:t,redo:s}},g=e=>{let{error:t,state:s,changeAttempted:n,action:i}=e;const r=n.actions;o.$e((e=>{e.setExtra("Details",{action:i,changeAttemptedActionTypes:(0,a.uniq)(r.map((e=>e.type))),changesCount:s.contexts.SCENE_EDITOR.changes.length,changeIndex:s.contexts.SCENE_EDITOR.changeIndex,sampleAction:r.length>0?r[r.length-1]:null}),o.Tb(t)}))},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,{state:a}=s;switch(t.type){case"history/START_RECORDING":e={...e,isRecording:!0};break;case"history/STOP_RECORDING":{const{changeIndex:t,changes:s}=e.contexts.SCENE_EDITOR;if(p.undo.length>0&&p.redo.length>0){p={...p,undo:[...p.undo].reverse(),redo:[...p.redo]};let o=t+1,n=[...s];o<s.length&&(n=n.splice(0,o));let a=[...n,{...p}];a.length>100&&(a=a.splice(a.length-100,a.length),o=99),e={...e,contexts:{...e.contexts,SCENE_EDITOR:{...e.contexts.SCENE_EDITOR,changes:a,changeIndex:o}},isRecording:!1}}else e={...e,isRecording:!1};p={undo:[],redo:[],actions:[]};break}case"history/UNDO":{const s=()=>{const{changes:r,changeIndex:l}=e.contexts.SCENE_EDITOR,c=r[l]?.undo,u=l-1;if(c){let m=!1;const h=a;try{a=(0,n.QE)(a,[...c])}catch(t){m=!0,g({error:t,action:"UNDO",changeAttempted:r[l],state:e}),p={...d},e={...e,contexts:{SCENE_EDITOR:{...e.contexts.SCENE_EDITOR,changeIndex:u}}},s()}if(!m){e={...e,contexts:{SCENE_EDITOR:{...e.contexts.SCENE_EDITOR,changeIndex:u}}};try{(0,i.rg)({composition:h},a)}catch(e){console.error(e),o.$e((s=>{s.setExtra("Details",{action:t}),o.Tb(e)}))}}}};s();break}case"history/REDO":{const s=()=>{const{changes:r,changeIndex:l}=e.contexts.SCENE_EDITOR,c=l+1,u=r[c]?.redo;if(u){let l=!1;const m=a;try{a=(0,n.QE)(a,[...u])}catch(t){l=!0,g({error:t,action:"REDO",changeAttempted:r[c],state:e}),p={...d},e={...e,contexts:{SCENE_EDITOR:{...e.contexts.SCENE_EDITOR,changeIndex:c}}},s()}if(!l){e={...e,contexts:{SCENE_EDITOR:{...e.contexts.SCENE_EDITOR,changeIndex:c}}};try{(0,i.rg)({composition:m},a)}catch(e){console.error(e),o.$e((s=>{s.setExtra("Details",{action:t}),o.Tb(e)}))}}}};s();break}case"history/RESET":p={...d},e={...c}}if(e.isRecording&&u(t)){const{change:e}=s,o=h(e);o&&(p={undo:[...p.undo,...o.undo],redo:[...p.redo,...o.redo],actions:[...p.actions,{...t}]})}return[e,a]},y=async(e,t)=>{const s=t??r.Z;s.dispatch({type:"history/START_RECORDING"});const o=e();o instanceof Promise&&await o,s.dispatch({type:"history/STOP_RECORDING"})}},"./app/reducers/video-editor/ui.ts":(e,t,s)=>{"use strict";s.d(t,{LV:()=>c,ZP:()=>g,c6:()=>l,cH:()=>r,iV:()=>d});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),i=s("./app/utils/video-editor/edit-context-history.ts");const r={alphaMask:!1,previousBackground:{image:!1,color:{r:0,g:177,b:64,a:255}}},l={contextKey:"",selectedOption:"",state:{},history:{_present:null,redoQueue:[],undoQueue:[]}},c={LAYER:"",KEYFRAMES:{},LAYERS:{allIds:[],byId:{}}},d={currentTimeMs:0,playbackSpeed:1,isScrubbing:!1,isMouseUp:!0,isPointerOver:!1,lockedPlayhead:!1,isPlaying:!1,isEditing:!0,timelineScale:2,showTimelineClipThumbnails:!0,enableClipSnapping:!0,selection:{...c},highlight:null,clipboard:null,isLoading:!1,layersLoading:[],history:[],historyIndex:-1,concurrentUsers:{},selectedCommand:{name:"MOVE"},layerEditContexts:{},popup:{visible:!1,message:""},showFPS:!1,viewport:{scale:1,translateX:0,translateY:0,containerWidth:n.qu.WIDE.width,containerHeight:n.qu.WIDE.height},previewQuality:1,loadedVideoSegments:{},notifications:[],uploadedBackgroundImages:[],exportOptions:r,snapIndicatorMsValues:[],dropIndicatorTrackIndex:null,hoveredLayerId:"",draggingTimelineLayerId:"",draggingEffectItem:{isDragging:!1,effectId:null},previewImage:{staledAt:new Date,updatedAt:new Date},remoteComposition:{updatedAt:null},leftPanelMode:"ASSETS",colorPicker:{showEyeDropper:!1,color:null},layerViewportEffects:{},tracks:{},isAnimating:!1,hoveredEffect:!1,hoveredBlendMode:!1,showExportOverlay:!1,showExportBatchGSModal:!1,tourStepId:null,showEffectsBrowser:!1,showViewExport:!1,guidingTooltip:null,activeTabForLayer:{},showMagicToolsReminder:!1,hasShownAutosaveNotification:!1,forceViewOnly:!1,missingLayerIds:{},collaborators:[],focusedCollaborator:{},showCollaboratorPlayheads:!0,showCollaboratorClipSelections:!0,tracking:{hideTrackingPointsLayerIds:{}},replaceMediaLayerId:null,hasShownAITooltips:{MASK:!1,INPAINT:!1,TRACKING:!1},showSavingError:!1,webglVersion:null,batchGSLeadLayerId:null},p=["composition/UPDATE_SETTING","composition/RESET_DATA","composition/ADD_LAYER","composition/DELETE_LAYER","composition/REMOVE_MASK_FROM_LAYER","composition/UPDATE_LAYER_VISIBILITY","composition/UPDATE_LAYER_DURATION","composition/UPDATE_LAYER_TRANSFORM","composition/ADD_EFFECT","composition/UPDATE_EFFECTS","composition/ENABLE_EFFECT","composition/UPDATE_EFFECT_VALUE","composition/REMOVE_EFFECT"],u=(m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ui/UPDATE_FROM_REMOTE":return{...e,...t.values};case"ui/START_LOADING":case"ui/STOP_LOADING":const s=new Set(e.layersLoading);"ui/START_LOADING"===t.type&&t.layerId&&s.add(t.layerId),"ui/STOP_LOADING"===t.type&&t.layerId&&s.delete(t.layerId);const r=Array.from(s);return{...e,isLoading:r.length>0||"ui/START_LOADING"===t.type,layersLoading:r};case"ui/LOCK_PLAYHEAD":return{...e,isPlaying:!1,lockedPlayhead:!0};case"ui/UNLOCK_PLAYHEAD":return{...e,lockedPlayhead:!1};case"ui/UPDATE_PLAYHEAD":const l=Math.round(t.value);return(0,a._)(l),{...e,currentTimeMs:l,isPlaying:!!t.maintainPlayback&&e.isPlaying};case"ui/START_SCRUBBING":case"ui/STOP_SCRUBBING":return{...e,isScrubbing:"ui/START_SCRUBBING"===t.type};case"ui/PLAY":return"function"==typeof window.startSampledWebGLProfiling&&window.startSampledWebGLProfiling(),{...e,isPlaying:!0};case"ui/PAUSE":return{...e,isPlaying:!1,currentTimeMs:(0,a.q)()};case"ui/SET_PLAYBACK_SPEED":return{...e,playbackSpeed:t.playbackSpeed};case"ui/EDIT":return{...e,isEditing:!0};case"ui/PREVIEW":return{...e,isEditing:!1};case"ui/SET_PREVIEW_QUALITY":return{...e,previewQuality:t.previewQuality};case"ui/SELECT_COMMAND":return{...e,selectedCommand:{...e.selectedCommand,...t}};case"ui/SHOW_MAGIC_TOOLS_REMINDER":return{...e,showMagicToolsReminder:!0};case"ui/UPDATE_TIMELINE_SCALE":return{...e,timelineScale:t.value};case"ui/UPDATE_SHOW_TIMELINE_CLIP_THUMBNAILS":return{...e,showTimelineClipThumbnails:t.value};case"ui/UPDATE_ENABLE_CLIP_SNAPPING":return{...e,enableClipSnapping:t.value};case"ui/RESET":return(0,a._)(d.currentTimeMs),d;case"ui/RESET_SCENE_EDITOR":return{...d,previewImage:e.previewImage};case"ui/SET_LEFT_PANEL_MODE":return{...e,leftPanelMode:t.mode};case"ui/SELECT_LAYER_EDIT_CONTEXT_SELECTED_OPTION":{const{layerId:s,selectedOption:o}=t;return{...e,layerEditContexts:{...e.layerEditContexts,[s]:{...e.layerEditContexts[s],selectedOption:o}}}}case"ui/SELECT_LAYER_EDIT_CONTEXT":{const{layerId:s,contextKey:o,selectedOption:a,initState:i}=t;let r=n.EJ[o];return e.layerEditContexts[s]?.contextKey!==o?"MASK"===o&&(r={...r,alphaEnabled:!1}):r={...r,...e.layerEditContexts[s].state},i&&(r={...r,...i}),{...e,replaceMediaLayerId:null,layerEditContexts:{...e.layerEditContexts,[s]:{...e.layerEditContexts[s],contextKey:o,selectedOption:a,state:r}}}}case"ui/SELECT_BATCH_GS_LEAD_LAYER_ID":return{...e,batchGSLeadLayerId:t.layerId};case"ui/CLEAR_BATCH_GS_LEAD_LAYER_ID":return{...e,batchGSLeadLayerId:null};case"ui/COPY_TO_CLIPBOARD":return{...e,clipboard:e.selection};case"ui/UPDATE_VIEWPORT":let c=t.viewport.scale??e.viewport.scale;return c=Math.max(Math.min(c,n.Xp),n.f7),{...e,viewport:{...e.viewport,...t.viewport,scale:c}};case"ui/SET_LOADED_VIDEO_SEGMENTS":return{...e,loadedVideoSegments:t.segments};case"ui/UPDATE_HOVERED_LAYER_ID":return{...e,hoveredLayerId:t.id};case"ui/SHOW_EXPORT_OVERLAY":case"ui/HIDE_EXPORT_OVERLAY":return{...e,showExportOverlay:"ui/SHOW_EXPORT_OVERLAY"===t.type};case"ui/SHOW_EXPORT_BATCH_GS_MODAL":case"ui/HIDE_EXPORT_BATCH_GS_MODAL":return{...e,showExportBatchGSModal:"ui/SHOW_EXPORT_BATCH_GS_MODAL"===t.type};case"ui/SHOW_VIEW_EXPORT":return{...e,showViewExport:!0};case"ui/SET_GUIDING_TOOLTIP":return{...e,guidingTooltip:t.tooltipKey};case"ui/SET_SNAP_INDICATOR_MS_VALUES":case"ui/CLEAR_SNAP_INDICATOR_MS_VALUES":return{...e,snapIndicatorMsValues:"ui/CLEAR_SNAP_INDICATOR_MS_VALUES"===t.type?[]:t.value};case"ui/SET_DROP_INDICATOR_TRACK_INDEX":case"ui/CLEAR_DROP_INDICATOR_TRACK_INDEX":return{...e,dropIndicatorTrackIndex:"ui/CLEAR_DROP_INDICATOR_TRACK_INDEX"===t.type?null:t.trackIndex};case"ui/MASK/SET_IS_LOADING_MASK":return h(e,t.layerId,(e=>({...e,isLoadingMask:t.value})));case"ui/MASK/SET_IS_UPDATING_KEYFRAMES":return h(e,t.layerId,(e=>({...e,isUpdatingKeyframes:t.value})));case"ui/CREATE_NOTIFICATION":return{...e,notifications:[...e.notifications,t.notification]};case"ui/DELETE_NOTIFICATION":{const s=[...e.notifications].filter((e=>e.id!==t.id));return{...e,notifications:s}}case"ui/UPDATE_EXPORT_OPTIONS":return{...e,exportOptions:{...e.exportOptions,...t.exportOptions}};case"ui/MASK/CREATE_KEYFRAME":return h(e,t.layerId,(e=>{if(!e.keyframes)return e;const s=(0,o.values)((0,o.keyBy)([...e.keyframes,t.keyframe],"id")).sort(((e,t)=>e.timeMs-t.timeMs));return{...e,keyframes:s,keyframesUpdatedAt:new Date}}));case"ui/MASK/UPDATE_KEYFRAME":return h(e,t.layerId,(e=>e.keyframes?{...e,keyframes:[...e.keyframes].map((e=>{let s={...e};return e.id===t.id&&(s={...s,...t.changes}),s})),keyframesUpdatedAt:new Date}:e));case"ui/MASK/ADD_KEYFRAME_URL":return h(e,t.layerId,(e=>e.keyframes?{...e,keyframes:[...e.keyframes].map((e=>{let s={...e};return e.id===t.id&&(s={...s}),s}))}:e));case"ui/MASK/SET_MASK_VIDEO_UPDATE_TIME":return h(e,t.layerId,(e=>({...e,maskVideoUpdatedAt:t.maskVideoUpdatedAt})));case"ui/MASK/DELETE_KEYFRAME":{const s=h(e,t.layerId,(e=>e.keyframes?{...e,keyframes:[...e.keyframes].filter((e=>e.id!==t.id)),keyframesUpdatedAt:new Date}:e)),o=s?.layerEditContexts?.[t.layerId];return 0===o?.state?.keyframes.length&&"MASK:INCLUDE"!==o.selectedOption&&"MASK"===o.contextKey&&(s.layerEditContexts[t.layerId].selectedOption="MASK:INCLUDE"),s}case"ui/MASK/UPDATE_ALPHA_ENABLED":return h(e,t.layerId,(e=>({...e,alphaEnabled:t.value})));case"ui/TRACKING/CREATE_KEYFRAME":return h(e,t.layerId,(e=>{if(!e.keyframes)return e;const s=(0,o.values)((0,o.keyBy)([...e.keyframes,t.keyframe],"id")).sort(((e,t)=>e.timeMs-t.timeMs));return{...e,keyframes:s}}));case"ui/TRACKING/UPDATE_KEYFRAME":return h(e,t.layerId,(e=>e.keyframes?{...e,keyframes:[...e.keyframes].map((e=>{let s={...e};return e.id===t.keyframeId&&(s={...s,...t.keyframe}),s}))}:e));case"ui/TRACKING/DELETE_KEYFRAME":return h(e,t.layerId,(e=>e.keyframes?{...e,keyframes:[...e.keyframes].filter((e=>e.id!==t.keyframeId))}:e));case"ui/UNDO":case"ui/REDO":{const s={...e.layerEditContexts},o=s[t.layerId],{undoQueue:n,redoQueue:a}=o.history,r="ui/UNDO"===t.type?n:a;if(0===r.length)return e;const l=r[0],c={...o.state},d=(0,i.wV)({state:c,type:l.type});return{...e,layerEditContexts:{...s,[t.layerId]:{...o,state:{...c,...l.state,undoRedoCalledAt:new Date},history:{undoQueue:"ui/UNDO"===t.type?n.slice(1):[d,...n],redoQueue:"ui/UNDO"===t.type?[d,...a]:a.slice(1),_present:{...l}}}}}}case"ui/ADD_TO_HISTORY":{const s={...e.layerEditContexts},a=s[t.layerId],{undoQueue:i,redoQueue:r}=a.history,l=[r.length>0?(0,o.cloneDeep)(a.history._present):t.historyObject];return l.push(...i.slice(0,n.ZH-1)),{...e,layerEditContexts:{...s,[t.layerId]:{...a,history:{...a.history,undoQueue:l,redoQueue:[]}}}}}case"ui/SET_HISTORY":{const s={...e.layerEditContexts},o=s[t.layerId];return{...e,layerEditContexts:{...s,[t.layerId]:{...o,history:{...t.newHistory}}}}}case"ui/SET_DRAGGING_TIMELINE_LAYER_ID":case"ui/CLEAR_DRAGGING_TIMELINE_LAYER_ID":return{...e,draggingTimelineLayerId:"ui/SET_DRAGGING_TIMELINE_LAYER_ID"===t.type?t.value:""};case"ui/START_DRAGGING_EFFECT_ITEM":return{...e,draggingEffectItem:{isDragging:!0,effectId:t.effectId}};case"ui/STOP_DRAGGING_EFFECT_ITEM":return{...e,draggingEffectItem:{isDragging:!1,effectId:null}};case"ui/SET_PREVIEW_IMAGE_STALEDAT":return{...e,previewImage:{...e.previewImage,staledAt:t.previewImageStaledAt}};case"ui/SET_PREVIEW_IMAGE_UPDATEDAT":return{...e,previewImage:{...e.previewImage,updatedAt:t.previewImageUpdatedAt}};case"ui/SET_LAYER_VIEWPORT_EFFECT":return{...e,layerViewportEffects:{...e.layerViewportEffects,[t.layerId]:t.payload}};case"ui/DELETE_LAYER_VIEWPORT_EFFECT":{const s={...e.layerViewportEffects};return delete s[t.layerId],{...e,layerViewportEffects:{...s}}}case"ui/SET_HOVERED_EFFECT":return{...e,hoveredEffect:t.payload};case"ui/SET_HOVERED_BLEND_MODE":return{...e,hoveredBlendMode:t.payload};case"ui/HIDE_EFFECTS_BROWSER":case"ui/SHOW_EFFECTS_BROWSER":return{...e,showEffectsBrowser:"ui/SHOW_EFFECTS_BROWSER"===t.type};case"ui/SET_IS_ANIMATING":return{...e,isAnimating:t.value};case"ui/SET_TOUR_STEP_ID":return{...e,tourStepId:t.id};case"ui/SHOW_AUTOSAVE_NOTIFICATION":return{...e,hasShownAutosaveNotification:!0};case"ui/SET_HAS_SHOWN_AI_TOOLTIPS":return{...e,hasShownAITooltips:{...e.hasShownAITooltips,[t.contextKey]:!0}};case"ui/MOUSE_DOWN":case"ui/MOUSE_UP":return{...e,isMouseUp:"ui/MOUSE_UP"===t.type};case"ui/POINTER_OVER":case"ui/POINTER_OUT":return{...e,isPointerOver:"ui/POINTER_OVER"===t.type};case"ui/SET_FORCE_VIEW_ONLY":return{...e,forceViewOnly:t.value};case"ui/SET_LAYER_PROPERTIES_ACTIVE_TAB":return{...e,activeTabForLayer:{...e.activeTabForLayer,[t.layerId]:t.tab}};case"ui/UPDATE_COLLABORATORS":return{...e,collaborators:t.collaborators};case"ui/SET_COLLABORATOR_FOCUS":return{...e,focusedCollaborator:{username:t.username,connectionId:t.connectionId}};case"ui/CLEAR_COLLABORATOR_FOCUS":return{...e,focusedCollaborator:{}};case"ui/UPDATE_SHOW_COLLABORATOR_CLIP_SELECTIONS":return{...e,showCollaboratorClipSelections:t.value};case"ui/UPDATE_SHOW_COLLABORATOR_PLAYHEADS":return{...e,showCollaboratorPlayheads:t.value};case"ui/SELECT_LAYER":return t.layerId===e.selection.LAYER?e:{...e,hoveredEffect:!1,replaceMediaLayerId:null};case"ui/SELECT_LAYERS":return{...e,hoveredEffect:!1,replaceMediaLayerId:null};case"ui/MARK_LAYER_AS_MISSING":return{...e,missingLayerIds:{...e.missingLayerIds,[t.layerId]:!0}};case"ui/SET_LAST_SELECTED_TEXT_LAYER_ID":return{...e,lastSelectedTextLayerId:t.layerId};case"ui/ENTER_REPLACE_MEDIA_MODE":return{...e,replaceMediaLayerId:t.layerId};case"ui/EXIT_REPLACE_MEDIA_MODE":return{...e,replaceMediaLayerId:null};case"composition/DELETE_LAYER":return t.layerId===e.replaceMediaLayerId?{...e,replaceMediaLayerId:null}:e;case"ui/SHOW_SAVING_ERROR":return{...e,showSavingError:!0};case"ui/SET_WEBGL_VERSION":return{...e,webglVersion:t.webglVersion};case"LOG_OUT":return d}return e},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return m({...e,previewImage:{...e.previewImage,staledAt:p.includes(t.type)?new Date:e.previewImage.staledAt}},t)});var m;const h=(e,t,s)=>{const o=e.layerEditContexts[t]?.state;if(!o)return e;const n=s(o);return{...e,layerEditContexts:{...e.layerEditContexts,[t]:{...e.layerEditContexts[t],state:{...n}}}}},g=u},"./app/store.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=(0,s("./app/store/configureStore.ts").x)()},"./app/store/configureStore.ts":(e,t,s)=>{"use strict";s.d(t,{x:()=>We,m:()=>$e.m});var o={};s.r(o),s.d(o,{GPUTier:()=>w,appIsLoading:()=>T,daemonPort:()=>I,dockerAvailable:()=>v,dockerInstalled:()=>_,downloadManagerState:()=>E,downloads:()=>C,downloadsShown:()=>j,errors:()=>A,features:()=>x,localGPU:()=>b,rightClickMenu:()=>M,systemStatus:()=>f,warningAndErrorsShown:()=>k,warnings:()=>S});var n={};s.r(n),s.d(n,{updateInfo:()=>P,updateStatus:()=>N});var a={};s.r(a),s.d(a,{user:()=>z});var i=s("./node_modules/connected-react-router/esm/middleware.js"),r=s("./node_modules/redux/es/redux.js"),l=s("./node_modules/redux-devtools-extension/index.js"),c=s("./node_modules/redux-logger/dist/redux-logger.js"),d=s("./node_modules/redux-thunk/es/index.js");const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,remaining:0,purchased:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREDIT_COUNT_HOOK_DEBUG_CONTROLS/ENABLE":case"CREDIT_COUNT_HOOK_DEBUG_CONTROLS/DISABLE":return{...e,enabled:"CREDIT_COUNT_HOOK_DEBUG_CONTROLS/ENABLE"===t.type};case"CREDIT_COUNT_HOOK_DEBUG_CONTROLS/SET_REMAINING":return{...e,remaining:t.value};case"CREDIT_COUNT_HOOK_DEBUG_CONTROLS/SET_PURCHASED":return{...e,purchased:t.value}}return e},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,isThrottledInExploreMode:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_THROTTLED_IN_EXPLORE_MODE_HOOK_DEBUG_CONTROLS/ENABLE":case"IS_THROTTLED_IN_EXPLORE_MODE_HOOK_DEBUG_CONTROLS/DISABLE":return{...e,enabled:"IS_THROTTLED_IN_EXPLORE_MODE_HOOK_DEBUG_CONTROLS/ENABLE"===t.type};case"IS_THROTTLED_IN_EXPLORE_MODE_HOOK_DEBUG_CONTROLS/SET_CAN_GENERATE_IN_EXPLORE_MODE":return{...e,isThrottledInExploreMode:t.value}}return e},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"TOGGLE_DEBUG_PANEL"===(arguments.length>1?arguments[1]:void 0).type?!e:e},h={properties:{"tours/sequel/has_seen":!0,feature_announcements_last_seen:null,onboarding_survey_closed:!0,onboarding_survey_completed:!0,performance_survey_last_seen:null,viewAssetsExplorerAs:"grid",thumbnailSize:24},requestStatus:"PENDING"},g=((new Date).toISOString(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MIXPANEL_USER_PROPERTIES_REQUEST_STATUS":return{...e,requestStatus:t.status};case"SET_MIXPANEL_USER_PROPERTY":return{...e,properties:{...e.properties,[t.property]:t.value}};case"RESET_MIXPANEL_USER_PROPERTIES":return{...h};default:return e}}),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gpu:!0,builds:!0,payments:!0,support:!0,training:!0,videoTools:!0},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SYSTEM_STATUS"===t.type?t.status:e},y={permitted:{activeHostedModel:1,hdVideoExport720:!0,hdVideoExport1080:!1,hdVideoExport4k:!1,useTranscodedHlsMedia:!1,modelTraining:!1,modelTrainingFreeExperiments:0,premiumSupport:!1,sdVideoExport:!0,assetGroupAccess:!0,proLayerExport:!1,textLayersAccess:!1,sequelAccess:!0,storageGB:2,videoDurationLimitSecondsGreenScreen:120,videoDurationLimitSecondsSequel:120,videoExportPNGSequence:!1,videoExportProRes:!1,videoExportMatte:!1,showPerformanceSurvey:!1,usePropagationNetworkInsteadOfMemoryNetwork:!1,devToolAccess:!1,loadAnyVideoCompositionAccess:!1,videoProjectTemplateWriteAccess:!1,videoCompositionRemoteSyncAccess:!1,keyframeEasingPresetsAccess:!1,textAnimationPresetAccess:!1,cleanAudioAccess:!1,subtitlesAccess:!1,liveCollaborationAccess:!1,teamsAccess:!0,videoTrackingAccess:!0,motionBlockAccess:!1,loadStaticImagesFromStreamingInference:!1,numTeamVideoProjects:0,numVideoProjects:0},used:{activeHostedModel:0,modelTrainingFreeExperiments:0,storageGB:0},featuresResolved:!1},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FEATURES":return{...t.features?.features,featuresResolved:!0};case"CLEAR_FEATURES":return y;default:return e}},v=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"UPDATE_DOCKER_AVAILABILITY"===t.type?t.available:e},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{available:!1,nvidiaDockerInstalled:!1,gpus:[],hasChecked:!1},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_LOCAL_GPU"===t.type?{nvidiaDockerInstalled:t.nvidiaDockerInstalled,gpus:t.gpus,available:t.available,hasChecked:t.hasChecked}:e},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tier:3,type:"BENCHMARK"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GPU_TIER":return t.GPUTier;case"SET_GPU_TIER_VALUE":return{...e,tier:t.tierValue};default:return e}},_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"UPDATE_DOCKER_AVAILABILITY"===t.type?t.installed:e},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5142,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_DAEMON_PORT"===t.type?t.port:e},T=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_LOADING":return t.loading;case"persist/REHYDRATE":case"persist/PURGE":return!1;default:return e}},j=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_DOWNLOADS"===t.type?t.show:e},k=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_WARNINGS_AND_ERRORS"===t.type?t.show:e},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"DOWNLOADS_UPDATED"===t.type?t.downloadState.downloads:e},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{progress:-1,estimatedTimeEnd:0,bytesPerSecond:0},t=arguments.length>1?arguments[1]:void 0;return"DOWNLOADS_UPDATED"===t.type?t.downloadState.total:e},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WARNING":return[...e,t.newWarning];case"REMOVE_WARNING":return[...e.slice(0,t.warningIndex),...e.slice(t.warningIndex+1)];case"CLEAR_WARNINGS":return[];default:return e}},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return[...e,t.newError];case"REMOVE_ERROR":return[...e.slice(0,t.errorIndex),...e.slice(t.errorIndex+1)];case"CLEAR_ERRORS":return[];default:return e}},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_RIGHT_CLICK_MENU_OPTIONS"===t.type?t.options:e},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_UPDATE_AVAILABLE":return t.updateInfo;case"DOWNLOAD_PROGRESS":return{...e||{},downloadProgress:t.progress};default:return e}},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"up-to-date";switch((arguments.length>1?arguments[1]:void 0).type){case"NEW_UPDATE_AVAILABLE":case"CANCEL_DOWNLOADING_UPDATE":return"update-available";case"START_DOWNLOADING_UPDATE":return"update-in-progress";case"FINISH_DOWNLOADING_UPDATE":return"update-completed";case"NO_UPDATES_AVAILABLE":return"up-to-date";default:return e}},D={legacy:!0,title:"",message:"",status:"NOT SHOWING"},O={title:"",status:"HIDE",signinType:null},L={title:"",effect:"",status:"HIDE"},R={id:-1,firstName:"",lastName:"",username:"",isVerified:!1,token:"",devProgram:!1,ABTestGroup:"A",unsubscribeToken:""},Z={message:"",status:"NOT SHOWING"},U={status:"HIDE"},z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_SETTINGS":return{...e,...t.user};case"UPDATE_USER_TOKEN":return{...e,token:t.token};case"LOG_OUT":return R;default:return e}};var V=s("./node_modules/immer/dist/immer.esm.js"),B=s("./app/reducers/video-editor/composition.ts"),G=s("./app/reducers/video-editor/history.ts"),F=s("./app/reducers/video-editor/ui.ts");const $=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.iV.colorPicker,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ui/SHOW_COLOR_PICKER":return{...e,showEyeDropper:!0,color:null};case"ui/SELECT_LAYER":case"ui/SELECT_LAYERS":case"ui/DESELECT_LAYERS":case"ui/HIDE_COLOR_PICKER":return{...e,showEyeDropper:!1};case"ui/SET_COLOR_PICKER_COLOR":return{...e,showEyeDropper:!0,color:t.color}}return e};var W=s("./node_modules/lodash/lodash.js"),H=s("./node_modules/react-redux/es/index.js"),Y=s("./app/utils/video-editor/keyframe.ts");const X=(e,t)=>Boolean(t?.layers[e]),q=["TRACKING"],J=(e=>(t,s,o)=>{const n=e(t,s,o),a=Object.keys(n.KEYFRAMES);if(a.length){const e=a.filter((e=>Boolean((0,Y.lE)(o,e)))),t={};for(const s of e)t[s]=!0;return{...n,KEYFRAMES:{...t}}}return n})((K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.LV,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ui/SELECT_LAYER":return t.layerId===e.LAYER?e:{...e,LAYER:t.layerId,LAYERS:{allIds:[t.layerId],byId:{[t.layerId]:!0}},KEYFRAMES:{}};case"ui/SELECT_LAYERS":{if((0,H.wU)(e.LAYERS.allIds,t.layerIds))return e;const s={allIds:t.layerIds,byId:{}};return t.layerIds.forEach((e=>{s.byId[e]=!0})),{...e,LAYER:t.layerIds[0],LAYERS:s,KEYFRAMES:{}}}case"ui/DESELECT_LAYERS":return{...e,LAYER:"",LAYERS:{allIds:[],byId:{}},KEYFRAMES:{}};case"ui/BATCH_SELECT_LAYERS":{const s=e.LAYERS.allIds;if((0,W.isEqual)(s,t.selectedLayers))return e;const o={allIds:t.selectedLayers,byId:t.selectedLayers.reduce(((e,t)=>({...e,[t]:!0})),{})};return{...e,LAYER:o.allIds[0]||"",KEYFRAMES:{},LAYERS:o}}case"ui/BATCH_SELECT_KEYFRAMES":{const s=e.KEYFRAMES;if((0,W.isEqual)(s,t.selectedKeyframeIds))return e;const o=t.selectedKeyframeIds.reduce(((e,t)=>({...e,[t]:!0})),{});return{...e,KEYFRAMES:o}}case"ui/TOGGLE_LAYER_SELECTION_STATE":{const s=!!e.LAYERS.byId[t.layerId],o={allIds:[...e.LAYERS.allIds],byId:{...e.LAYERS.byId}};return s?(delete o.byId[t.layerId],o.allIds=o.allIds.filter((e=>e!==t.layerId))):(o.byId[t.layerId]=!0,o.allIds=[...o.allIds,t.layerId]),{...e,LAYER:o.allIds[0]||"",LAYERS:{...o},KEYFRAMES:{}}}case"ui/TOGGLE_KEYFRAME_SELECTION_STATE":if(e.KEYFRAMES[t.keyframeId]){const s={...e.KEYFRAMES};return delete s[t.keyframeId],{...e,KEYFRAMES:s}}return{...e,KEYFRAMES:{...e.KEYFRAMES,[t.keyframeId]:!0}};case"ui/SET_IS_ANIMATING":return{...e,KEYFRAMES:t.value?e.KEYFRAMES:{}};case"ui/SELECT_KEYFRAME":return{...e,KEYFRAMES:{[t.keyframeId]:!0}};case"ui/DESELECT_KEYFRAMES":return{...e,KEYFRAMES:{}};default:return e}},(e,t,s)=>{const o=K(e,t,s);if(o.LAYERS.allIds.length){const e=[...o.LAYERS.allIds].filter((e=>{return X(e,s)&&(t=s?.layers[e],!q.includes(t?.type));var t})),t={};for(const s of e)t[s]=!0;return{...o,LAYER:X(o.LAYER,s)?o.LAYER:"",LAYERS:{allIds:e,byId:t}}}return o}));var K;const Q=J,ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.iV.tracking,t=arguments.length>1?arguments[1]:void 0;const s={...e};switch(t.type){case"ui/TRACKING/SHOW_TRACKING_POINT":case"ui/TRACKING/HIDE_TRACKING_POINT":return{...s,hideTrackingPointsLayerIds:{...s.hideTrackingPointsLayerIds,[t.layerId]:"ui/TRACKING/HIDE_TRACKING_POINT"===t.type}}}return e},te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ui/tracks/EXPAND":case"ui/tracks/COLLAPSE":const s=e[t.trackId];return{...e,[t.trackId]:{...s,expanded:"ui/tracks/EXPAND"===t.type}};default:return e}};var se=s("./app/utils/video-editor/layer.ts");const oe=(e,t)=>t?.layers?(t.tracks.forEach((s=>{s.layers.some((e=>{const s=t.layers[e];if(s)return(0,se.Wr)(s)}))||(e[s.id].expanded=!1)})),e):e,ne={trackType:"PIXEL",expanded:!1},ae={trackType:"AUDIO",expanded:!1},ie=(e,t)=>{if(!t?.layers)return e;const s={};return t.tracks.forEach((t=>{const o=t.id,n=e[o];if(n)s[o]=n;else if(t)if("AUDIO"===t.type)s[o]=(0,W.cloneDeep)(ae);else s[o]=(0,W.cloneDeep)(ne);else s[o]=(0,W.cloneDeep)(ne)})),s},re=(e,t,s)=>{if(!s?.layers)return e;const o={};return(0,W.map)(s.layers,"id").forEach((s=>{o[s]=e[s]||(0,W.cloneDeep)(t)})),o};(0,V.vI)();const le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const[s,o,n]=(0,B.ZP)(e.composition,t,e),[a,i]=(0,G.Z)(e.history,t,{state:s,change:{redo:o,undo:n}}),r=(0,F.ZP)(e.ui,t);return{ui:{...r,layerEditContexts:re(r.layerEditContexts,F.c6,i),selection:Q(r.selection,t,i),tracks:oe(ie(te(r.tracks,t),i),i),tracking:ee(r.tracking,t),colorPicker:$(r.colorPicker,t)},composition:i,history:a}};var ce=s("./app/store/persistStagingURLParams.ts"),de=s("./node_modules/connected-react-router/esm/index.js"),pe=s("./node_modules/history/createBrowserHistory.js"),ue=s("./node_modules/localforage/dist/localforage.js"),me=s.n(ue),he=s("./node_modules/redux-persist/es/index.js"),ge=s("./node_modules/redux-persist/lib/storage/index.js"),fe=s("./app/utils/environment.ts"),ye=s("./app/reducers/create-team.ts");const xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_EFFECTS_MODAL":return{title:t.title,effect:t.effect,status:"SHOW"};case"HIDE_EFFECTS_MODAL":return{title:"",status:"HIDE",effect:""};default:return e}},ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_SENTRY_ERROR_EVENT_ID"===t.type?t.eventId:e},be=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_FLASH":return{...t.flash,status:"SHOW"};case"HIDE_FLASH":return{...e,status:"HIDE"};default:return e}},we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{response:null,visibility:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_GOOGLE_SIGN_IN_WINDOW":return{response:null,visibility:!0};case"GOOGLE_SIGN_IN_WINDOW_CLOSED":return{...e,visibility:!1};case"GOOGLE_SIGN_IN_WINDOW_RESPONSE":return{...e,response:t.response};default:return e}},_e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"",visibility:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_PAYPAL_WINDOW":return{status:"",visibility:!0};case"PAYPAL_WINDOW_CLOSED":return{...e,visibility:!1};case"PAYPAL_WINDOW_APPROVED":return{...e,status:"approved"};default:return e}},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_POPUP":return{legacy:!0,...t.popup,status:"SHOW"};case"HIDE_POPUP":return{legacy:!0,status:"HIDE"};case"UPDATE_POPUP_MESSAGE":return{legacy:!0,...e,message:t.message};case"UPDATE_POPUP_PROGRESS":return{legacy:!0,...e,progress:t.progress};default:return e}},Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_RESPONSIVESIDEBAR":return{...e,status:"SHOW"};case"HIDE_RESPONSIVESIDEBAR":return{...e,status:"HIDE"};default:return e}},je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startDateString:(new Date).toISOString()};return e},ke={product:"Sequel",heightOfTracks:50},Ce=(0,r.UY)({exportDirectory:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_EXPORT_DIRECTORY"===t.type?t.directory:e||""},userSeenAnnouncements:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_HAS_SEEN_ANNOUNCEMENT":return{...e,[t.name]:!0};case"RESET_USER_HAS_SEEN_ANNOUNCEMENTS":if(t.name){const s={...e};return delete s[t.name],s}return{};default:return e}},userHasSeenSampleProject:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"USER_HAS_SEEN_SAMPLEPROJECT"===(arguments.length>1?arguments[1]:void 0).type||e},userPreference:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_PRODUCT_PREFERENCE":return{...e,product:t.userProductPreference};case"SET_SIZE_OF_TRACKS_PREFERENCE":return{...e,heightOfTracks:t.value};default:return e}},billingConstants:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_BILLING_CONSTANTS"===t.type?t.billingConstants:e},shouldShowExportPostSubmissionNotification:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_EXPORT_POST_SUBMISSION_NOTIFICATION":return!0;case"HIDE_EXPORT_POST_SUBMISSION_NOTIFICATION":return!1;default:return e}},annotationEditorColorMode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LIGHT",t=arguments.length>1?arguments[1]:void 0;return"SET_ANNOTATION_EDITOR_COLOR_MODE"===t.type?t.mode:e},lastUsedTeam:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_LAST_USED_TEAM"===t.type?t.team:e},lastUsedTeamspace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_LAST_USED_TEAMSPACE"===t.type?t.teamspace:e}}),Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_SIGNIN_MODAL":return{title:t.title,status:"SHOW",signinType:t.signinType};case"HIDE_SIGNIN_MODAL":return{title:"",status:"HIDE",signinType:null};default:return e}},Se=(0,he.pH)(null,(e=>({...e,userPreference:{...ke,...e.userPreference}})),{whitelist:["settings"]}),Ae={key:"root",storage:"Safari"===(0,fe.qs)().name?ge.Z:me(),whitelist:["settings"],transforms:[Se],throttle:1e3},Me=(0,fe.mx)()?(0,ce.o)((0,pe.Z)()):(0,pe.Z)(),Pe=(0,he.OJ)(Ae,(e=>(0,r.UY)({sentryErrorEventId:ve,flash:be,popup:Ie,paypalWindow:_e,googleSignInWindow:we,responsiveSideBar:Te,mixpanelUser:g,...a,...o,...n,settings:Ce,signinModal:Ee,effectsModal:xe,createTeamModal:ye.h,videoEditor:le,router:(0,de.iz)(e),session:je,showDebugPanel:m,creditCountHookDebugControls:p,isThrottledInExploreModeHookDebugControls:u}))(Me));var Ne=s("./app/api-client.ts"),De=s("./app/types/features.ts"),Oe=s("./node_modules/@sentry/core/esm/exports.js"),Le=s("./node_modules/detect-gpu/dist/detect-gpu.esm.js"),Re=s("./node_modules/public-ip/browser.js"),Ze=s("./app/actions/video-editor/layers.ts"),Ue=s("./app/api/mixpanel.ts"),ze=s("./app/utils/mixpanel.ts");let Ve,Be,Ge;const Fe=e=>t=>s=>{if(!s)return t(s);return(async()=>{const{user:t}=e.getState(),o=t.id&&-1!==t.id&&t.email;if(!1===t.analyticsEnabled)return;const n={platform:"web",...(0,fe.Zj)(),...(0,ze.l)()};if("SIGNUP_FROM_REDIRECT"===s.type&&(Be=s.from,Ge=s.eventName),!Ve&&o){Ve=!0,(0,Ue.kb)({properties:{$first_name:t.firstName,$last_name:t.lastName,$created:t.createdAt,$email:t.email,$name:t.username,Organization:t.organization,Id:t.id,Dev_program:t.devProgram,Plan:t.plan}});try{(0,Ue.kb)({properties:{$ip:await Re.v4()}})}catch(e){(0,Oe.Tb)(e)}try{const e=await(0,Le.M)();(0,Ue.kb)({properties:{gpuBenchmarkTier:e.tier,gpu:e.gpu,gpuBenchmarkFps:e.fps}})}catch(e){(0,Oe.Tb)(e)}try{const e=await(0,Ne.N$)(),t={currentFeatures:{}};for(const s of Object.values(De.G))t.currentFeatures[s]=e.features.permitted[s];(0,Ue.kb)({properties:t})}catch(e){(0,Oe.Tb)(e)}(0,Ue.bc)({eventName:"Open App",properties:{...n}}),Be&&((0,Ue.bc)({eventName:"Signed up from Redirect",properties:{...n,from:Be,eventName:Ge}}),Be=null,Ge=null)}else Ve&&!o&&(Ve=!1,Be=null,Ge=null);if(Ve)if("UPDATE_RUNNING_STATUS"===s.type&&"RUNNING"===s.status)(0,Ue.bc)({eventName:"Run Model",properties:{...n,model:s.name,run_type:s.runType,run_location:s.runLocation,local_gpu_index:s.localGPUIndex}});else if("ADD_MODEL_TO_WORKSPACE"===s.type)(0,Ue.bc)({eventName:"Add Model to Workspace",properties:{...n,model:s.model.definition.name}});else if("INSTALL_MODEL"===s.type)(0,Ue.bc)({eventName:"Install Model",properties:{...n,model:s.name,gpu:s.gpu,is_update:s.isUpdate}});else if("UPDATE_INPUT_TYPE"===s.type)(0,Ue.bc)({eventName:"Select Input",properties:{...n,inputType:s.inputType}});else if("UPDATE_OUTPUT_TYPE"===s.type)(0,Ue.bc)({eventName:"Select Output",properties:{...n,outputType:s.outputType}});else if("START_EXPORTING"===s.type)(0,Ue.bc)({eventName:"Export to File",properties:{...n,model:s.modelName}});else if("USER_CHAINED_MODEL"===s.type)(0,Ue.bc)({eventName:"Chain Model",properties:{...n,model:s.name}});else if("UI_EVENT"===s.type){const e="General"===s.event?s.name:`${s.event} -> ${s.name}`,{type:t,...o}=s;(0,Ue.bc)({eventName:e,properties:{...n,...o}})}else if("GREEN_SCREEN_EVENT"===s.type){const{...e}=s;(0,Ue.bc)({eventName:e.name,properties:{...n,...e,section:"Green Screen"}})}else if("SCENE_EDITOR_EVENT"===s.type){const{...e}=s;(0,Ue.bc)({eventName:e.name,properties:{...n,...e,section:"Scene Editor"}})}else if("TRACK_SCENE_EDITOR_METRIC"===s.type){const{name:e,data:t}=s,o=(0,Ze.vt)()?.contextKey;(0,Ue.bc)({eventName:e,properties:{...n,...t,uiEditContextKey:o,section:"Scene Editor Metrics"}})}else"CREATE_TRAINING_EXPERIMENT"===s.type?(0,Ue.bc)({eventName:"Create Training Experiment",properties:{...n}}):"UPDATE_LOCAL_GPU"===s.type?((0,Ue.bc)({eventName:"Local GPU Availability",properties:{...n,available:s.available,nvidia_docker_installed:s.nvidiaDockerInstalled,num_gpus:s.gpus.length}}),s.available&&(0,Ue.kb)({properties:{gpu_available:!0}})):"UPDATE_EXPERIMENT_STATUS"===s.type&&"STARTING"===s.status?(0,Ue.bc)({eventName:"Train Experiment",properties:{...n,status:s.status}}):"BANNER_SHOWN"===s.type?(0,Ue.bc)({eventName:"Banner Shown",properties:{...n,key:s.key}}):"BANNER_CTA_CLICK"===s.type?(0,Ue.bc)({eventName:"Banner CTA Click",properties:{...n,key:s.key}}):"BANNER_CTA_CLOSE"===s.type&&(0,Ue.bc)({eventName:"Banner CTA Close",properties:{...n,key:s.key}})})(),t(s)};var $e=s("./app/utils/history.ts");const We=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[],s=[];t.push(Fe),t.push(d.Z);(0,c.createLogger)({level:"info",collapsed:!0});const o=(0,i.Z)(history);t.push(o),s.push((0,r.md)(...t));const n=((0,fe.Mw)()?r.qC:(0,l.Uo)({trace:!1}))(...s);return(0,r.MT)(Pe,e,n)}},"./app/store/persistStagingURLParams.ts":(e,t,s)=>{"use strict";s.d(t,{o:()=>a});var o=s("./app/utils/constants.ts"),n=s("./app/utils/urls.ts");const a=e=>({...e,push:function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const n=i({history:e,args:s});e.push.apply(e,[...n])},replace:function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const n=i({history:e,args:s});e.replace.apply(e,[...n])}}),i=e=>{let{history:t,args:s}=e;const[o,a]=s,i=t.location.search;if("string"==typeof o){const e=o,t=a,s=t?.search||(0,n.Ly)(e),r=l(i,s);return[`${e.split("?")[0]}${r}`,t?{...t,search:r}:null]}{const e=o,t=l(i,e?.search||"");return[{...e,search:t}]}},r=Object.values(o.Fk),l=(e,t)=>{const s=new URLSearchParams(e),o=new URLSearchParams(t);r.forEach((e=>{if(null===o.get(e)){const t=s.get(e);null!==t&&o.set(e,t)}}));return o.toString()?`?${o.toString()}`:""}},"./app/streams/BufferMonitor.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/streams/segment-fetch-stats.ts");const n=class{mediaElement;fragmentsBuffered=[];lastBandwidthEstimate=0;lastSegmentBitrate=0;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.mediaElement=e,this.fragmentsBuffered=t}updateFragmentsBuffered(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.fragmentsBuffered=e}updateBandwidthEstimate(e,t){this.lastBandwidthEstimate=t/8192,this.lastSegmentBitrate=e.stats.total/(1024*e.duration),(0,o.pi)(this.lastBandwidthEstimate,this.lastSegmentBitrate)}checkForBuffering(){const e=parseFloat(this.mediaElement.currentTime.toFixed(3));let t=!1;for(const s of this.fragmentsBuffered)e>=s[0]&&e<=s[1]&&(t=!0);const s=this.mediaElement.buffered;for(let o=0;o<s.length;o++)(e>=s.start(o)&&e<=s.end(o)||e<s.start(o)&&e+.25>=s.start(o))&&(t=!0);if(!t){const s=this.fragmentsBuffered.slice().reverse().find((t=>t[1]<e)),o=this.fragmentsBuffered.find((t=>t[0]>e));s&&o&&o[0]-s[1]<=.25&&(t=!0)}const o=this.mediaElement.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA;return!t||!o}}},"./app/streams/SegmentedStreamReader.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>U});var o=s("./node_modules/events/events.js"),n=s("./node_modules/framesync/dist/es/index.mjs"),a=s("./app/constants/reader.ts"),i=s("./app/utils/auth.ts"),r=s("./app/utils/reader.ts");function l(){return new Worker(s.p+"segmented_stream_reader.worker.ad187478fd5bee16.worker.js")}var c=s("./node_modules/lodash/lodash.js"),d=s.n(c);const{PrepareDecoding:p,BufferFrames:u}=a.MessageType,{New:m,Preparing:h,Ready:g}=a.BufferedVideoReaderState;class f extends o.EventEmitter{state=m;samples=null;frameBuffer={};currentIndex=-1;currentTimestamp=0;bufferQueuedIndex=-1;keyframeIndexes=[];isReset=!1;worker;segmentIndex;hasPendingBufferRequest={};jwt;constructor(e,t){super(),this.worker=e,this.segmentIndex=t;const s=(0,i.bW)();s&&(this.jwt=s)}handlePrepareDecoding(e){this.samples=e,this.state=g}postMessage(e,t){this.worker.postMessage(e,t)}clearExtraFrames(){Object.keys(this.frameBuffer).filter((e=>parseInt(e)<this.currentIndex||parseInt(e)>this.currentIndex+a.k4)).forEach((e=>{this.frameBuffer[e].close(),delete this.frameBuffer[e]}))}clearAllFrames(){Object.keys(this.frameBuffer).forEach((e=>{this.frameBuffer[e].close(),delete this.frameBuffer[e]}))}loadFrame=async(e,t)=>{if(e<this.currentIndex||e>this.currentIndex+a.k4)return void t.close();if(this.frameBuffer[e]&&(this.frameBuffer[e].close(),delete this.frameBuffer[e]),this.frameBuffer[e]=t,!this.samples)return;const s=this.samples[e];if(s){const{cts:e,duration:t,timescale:o}=s,n=e/o,a=(e+t)/o;this.emit("LOADED_FRAME",{start:n,end:a})}};bufferFrames(){this.state===g&&(this.hasPendingBufferRequest[this.currentIndex]=!0,this.postMessage({type:u,data:{segmentIndex:this.segmentIndex,currentIndex:this.currentIndex,reset:this.isReset}}),this.isReset=!1)}bufferedFrames(e){this.hasPendingBufferRequest[e]=!1}reset(){this.clearAllFrames(),this.isReset=!0}findIndexForTimestamp(e){const t=e+.001;let s=0,o=Number.MAX_SAFE_INTEGER;for(let e=0;e<this.samples.length;e++){const{cts:n,timescale:a}=this.samples[e],i=n/a;if(t>=i){const n=t-i;n<o&&(o=n,s=e)}}return s}hasEnoughFrames(){return d().every(d().range(this.currentIndex,Math.min(this.samples.length,this.currentIndex+a.k4)),(e=>this.frameBuffer[e]))}prepare(){this.samples||this.state!==m||(this.postMessage({type:p,data:{segmentIndex:this.segmentIndex,jwt:this.jwt}}),this.state=h)}read(e){const t=e||this.currentTimestamp;switch(this.currentTimestamp=t,this.state){case g:break;case m:this.prepare();default:return null}const s=this.findIndexForTimestamp(e);return s<this.currentIndex&&this.reset(),this.currentIndex=s,this.clearExtraFrames(),this.hasPendingBufferRequest[s]||this.hasEnoughFrames()||this.bufferFrames(),this.frameBuffer[this.currentIndex]||null}}const y=f,{LoadPlaylist:x,FetchSegment:v,InitDecoder:b,ReinitDecoder:w,PrepareDecoding:_,LoadFrame:I,Close:T,Error:j,LastFrame:k,BufferedFrames:C,Log:E}=a.MessageType,{New:S,LoadedPlaylist:A,Ready:M,Playing:P,Paused:N,Closed:D}=a.SegmentedStreamReaderPlaybackState,{Loading:O,Loaded:L}=a.SegmentedStreamReaderLoadingState,R={startingTimestamp:0,prefetchSize:3};class Z extends o.EventEmitter{playbackState=S;loadingState=L;readers={};isPrefetchingSegment={};isPredemuxingSegment={};prefetchSize;playlistUrl="";segments=null;duration=0;currentIndex=-1;currentTimestamp=0;currentFrame=null;playbackStartedTime=0;playbackInitialTimestamp=0;seekAttemptCallback=null;worker=null;removeWorkerListeners=()=>{};jwt;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;super(),this.playlistUrl=e,this.prefetchSize=t.prefetchSize,this.initWorker();const s=(0,i.bW)();s&&(this.jwt=s)}initWorker(){this.worker=new l,this.worker.addEventListener("message",this.handleWorkerMessage),this.worker.addEventListener("error",this.handleError),this.currentIndex=-1,this.isPrefetchingSegment={},this.readers={},this.segments=null}initReaders(){for(let e=0;e<this.segments.length;e++){const t=this.readers[e]=new y(this.worker,e);t.on("LOADED_FRAME",(t=>{let{start:s,end:o}=t;s+=this.segments[e].start,o+=this.segments[e].start,this.emit("LOADED_FRAME",{start:s,end:o})})),t.on("ERROR",(e=>this.emit("ERROR",e)))}}resetReaders(){Object.values(this.readers).forEach((e=>{e.reset()}))}postMessage(e,t){this.worker.postMessage(e,t)}handleLoadPlaylist=e=>{let{duration:t,segments:s}=e;this.duration=t,this.segments=s,this.emit("LOADED_MANIFEST"),this.playbackState=A};handleFetchSegment=e=>{this.segments&&this.emit("FETCHED_SEGMENT",this.segments[e])};handleInitDecoder=()=>{this.initReaders(),this.playbackState=M,this.emit("READY")};handleReinitDecoder=()=>{this.resetReaders()};handlePrepareDecoding=e=>{let{segmentIndex:t,samples:s}=e;const o=this.readers[t];o.handlePrepareDecoding(s),this.currentIndex===t&&o.read(),this.emit("FETCHED_SEGMENT",this.segments[t])};handleLoadFrame=e=>{let{frame:t,timestamp:s}=e;if(this.playbackState===D)return void t.close();const{segmentIndex:o,index:n}=(0,r.kC)(s);this.readers[o]?.loadFrame(n,t)};handleLastFrame=e=>{const t=this.readers[e+1];t&&t.read(0)};handleError=e=>{this.emit("ERROR",e)};handleWorkerMessage=e=>{const t={[x]:this.handleLoadPlaylist,[v]:this.handleFetchSegment,[b]:this.handleInitDecoder,[w]:this.handleReinitDecoder,[_]:this.handlePrepareDecoding,[I]:this.handleLoadFrame,[k]:this.handleLastFrame,[j]:this.handleError,[C]:this.bufferedFrames,[E]:this.log};(0,r.G)(t,{onError:()=>{this.emit("ERROR",`Unknown message type from worker: ${JSON.stringify(e)}`)}})(e)};log=e=>{a.hO};load=(()=>{var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.loadPlaylist(),e.once("LOADED_MANIFEST",(()=>{e.initDecoder(),e.prefetchSegments(Math.max(0,t))}))}})();loadPlaylist=()=>{this.postMessage({type:x,data:{playlistUrl:this.playlistUrl,jwt:this.jwt}})};initDecoder=()=>{this.postMessage({type:b,data:this.jwt})};bufferedFrames=e=>{let{segmentIndex:t,currentIndex:s}=e;this.readers[t]?.bufferedFrames(s)};prefetchSegments(e){if(null===this.segments)return;const t=this.getSegmentIndexForTimestamp(e);for(let e=0;e<this.prefetchSize;e++){const s=(t+e)%this.segments.length;this.isPrefetchingSegment[s]||(this.isPrefetchingSegment[s]=!0,this.postMessage({type:v,data:{segmentIndex:s,jwt:this.jwt}}))}}predemuxSegments(e){if(this.prefetchSegments(e),null===this.segments)return;const t=this.getSegmentIndexForTimestamp(e);for(let e=1;e<a.QI+1;e++){const s=(t+e)%this.segments.length;if(this.isPredemuxingSegment[s])continue;this.isPredemuxingSegment[s]=!0;if(this.segments[s].start>=this.duration)break;this.readers[s]?.prepare()}}getSegmentIndexForTimestamp=e=>{const t=this.segments.findIndex((t=>e>=t.start&&e<t.end));return-1===t?this.segments.length-1:t};reset(){this.resetReaders(),this.currentIndex=-1}clearExtraReaders(){Object.keys(this.readers).filter((e=>parseInt(e)<this.currentIndex||parseInt(e)>this.currentIndex+a.QI)).forEach((e=>{this.readers[e].reset()}))}setCurrentFrameAsImageBitmap(e){if(!e)return;if(e instanceof ImageBitmap)return;const t=this.currentTimestamp;return createImageBitmap(e).then((e=>{this.currentTimestamp===t&&(this.currentFrame=e)})).catch((()=>{this.currentTimestamp===t&&(this.currentFrame=null)}))}loadFrameAtTimestamp(e){this.currentTimestamp=e;const t=this.read(e);return t&&(this.playbackState!==P?this.setCurrentFrameAsImageBitmap(t):this.currentFrame=t),this.updateLoadingState(t),!!t}updateLoadingState(e){e||this.loadingState===O||(this.loadingState=O,this.emit(O)),e&&this.loadingState===O&&(this.loadingState=L,this.emit(L))}playbackLoop(){if(this.playbackState!==S&&this.playbackState!==N){if(this.loadingState!==O){const e=this.playbackInitialTimestamp+(performance.now()-this.playbackStartedTime)/1e3;if(e>=this.duration)return void this.seek(0);this.loadFrameAtTimestamp(e)}else this.loadFrameAtTimestamp(this.currentTimestamp);n.ZP.read(this.playbackLoop.bind(this))}}transitPlaybackState(e){this.playbackState=e,this.emit(e)}pause(){this.playbackState!==N&&(this.playbackStartedTime=null,this.currentFrame instanceof self.VideoFrame&&(this.setCurrentFrameAsImageBitmap(this.currentFrame),this.currentFrame=null),this.transitPlaybackState(N))}play(){this.playbackState!==P&&(this.playbackStartedTime=performance.now(),this.playbackInitialTimestamp=this.currentTimestamp,this.transitPlaybackState(P),this.playbackLoop())}seek(e){this.pause(),this.seekAttemptCallback&&this.off("LOADED_FRAME",this.seekAttemptCallback),this.seekAttemptCallback=()=>{this.loadFrameAtTimestamp(e)&&this.off("LOADED_FRAME",this.seekAttemptCallback)},this.on("LOADED_FRAME",this.seekAttemptCallback),this.seekAttemptCallback()}destroy(){this.reset(),this.playbackState=D,this.worker.removeEventListener("message",this.handleWorkerMessage),this.worker.removeEventListener("error",this.handleWorkerMessage),this.postMessage({type:T}),this.worker.terminate(),this.removeAllListeners()}read(e){if(e=Math.max(0,e),this.playbackState<M)return null;if(!this.segments)return;const t=this.getSegmentIndexForTimestamp(e);t<this.currentIndex&&this.reset(),this.currentIndex=t,this.predemuxSegments(e),this.clearExtraReaders();const s=this.readers[t];return s?s.read(e-this.segments[t].start):null}}const U=Z},"./app/streams/segment-fetch-stats.ts":(e,t,s)=>{"use strict";s.d(t,{eP:()=>l,pi:()=>r});var o=s("./app/api/mixpanel.ts"),n=s("./app/store.ts");const a=[],i=[],r=(e,t)=>{a.push(e),i.push(t),a.length>8&&a.shift(),i.length>8&&i.shift(),c(e,t)},l=()=>({bandwidth:a.reduce(((e,t)=>e+t),0)/a.length,bitrate:i.reduce(((e,t)=>e+t),0)/i.length}),c=(e,t)=>{const s=Object.values(n.Z.getState().videoEditor.composition.layers).filter((e=>["AUDIO","VIDEO"].includes(e.type)));try{(0,o.bc)({eventName:"Download Speed Estimate",properties:{bandwidth:e,bitrate:t,numStreamableLayers:s.length}})}catch{}}},"./app/streams/streaming-sdk.ts":(e,t,s)=>{"use strict";s.d(t,{mu:()=>D,PL:()=>O,So:()=>N,C_:()=>P,_u:()=>M,IC:()=>Z,dT:()=>U});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./node_modules/react/index.js"),i=s("./app/api/mixpanel.ts"),r=s("./app/utils/auth.ts"),l=(s("./app/utils/hooks/useDebounce.ts"),s("./app/utils/hooks/useImmediateEffect.ts")),c=s("./app/utils/hooks/usePromise.ts"),d=s("./app/utils/hooks/useSelector.ts"),p=(s("./app/utils/uploads.ts"),s("./app/utils/urls.ts")),u=s("./app/utils/video-editor/hooks/useIsViewOnlyUser.ts"),m=s("./node_modules/@sentry/core/esm/exports.js"),h=s("./node_modules/framesync/dist/es/index.mjs"),g=s("./node_modules/hls.js/dist/hls.js"),f=s.n(g),y=s("./app/constants/errors.ts"),x=s("./app/constants/reader.ts"),v=s("./app/utils/video-editor/hls_playlist_workaround.ts"),b=s("./app/streams/BufferMonitor.ts"),w=s("./node_modules/events/events.js"),_=s.n(w);class I extends(_()){videoElement;id;loading=!1;waiting=!1;initialized=!1;loadStartTime;loadEndTime;isUsingAbr=!1;isUsingMediaConvert=!1;playPromise;dirty=!0;videoFrameCallback=null;seekCallback=null;errorCallback=null;onLoadstart=null;onCanplay=null;onCanplaythrough=null;onStalled=null;onPlaying=null;onWaiting=null;onLoadedData=null;pendingPlayOnInit=!1;playbackRate=1;constructor(e){super(),this.videoElement=document.createElement("video"),this.videoElement.setAttribute("data-layerId",e),window.document.body.appendChild(this.videoElement),this.videoElement.style.position="absolute",this.videoElement.style.top="0px",this.videoElement.style.left="0px",this.videoElement.style.width="1px",this.videoElement.volume=0,this.setupVideoElementCallbacks()}load(e,t){}unload(){}destroy(){this.unload(),this.destroyVideoElementCallbacks(),this.videoElement.remove()}seek(e){this.videoElement.currentTime=e+.001}play(){this.initialized?this.playPromise=this.videoElement.play().then((()=>{this.playPromise=null})).catch((()=>{})):this.pendingPlayOnInit=!0}pause(){this.playPromise?this.playPromise.then((()=>{this.videoElement.pause()})).catch((()=>{})):this.videoElement.pause()}setLoadingState(e){const t=this.loading;this.loading=e,t!==e&&this.emit(e?"loading":"loaded")}getVideoElementToDraw(){return this.videoElement}isDirty(){return this.dirty}setDirty(e){this.dirty=e}setPlaybackSpeed(e){this.videoElement.playbackRate=e,this.playbackRate=e}get currentTime(){return this.videoElement.currentTime}set currentTime(e){this.videoElement.currentTime=e}get duration(){return this.videoElement.duration}get srcEndpoint(){return null}get element(){return this.videoElement}setupVideoElementCallbacks(){this.destroyVideoElementCallbacks(),this.videoFrameCallback=()=>{this.videoFrameCallback&&this.videoElement.requestVideoFrameCallback(this.videoFrameCallback),this.dirty=!0},this.videoElement.requestVideoFrameCallback(this.videoFrameCallback),this.seekCallback=()=>{this.dirty=!0},this.videoElement.addEventListener("seeked",this.seekCallback),this.errorCallback=e=>{m.Tb(e),this.emit("error",e)},this.videoElement.addEventListener("error",this.errorCallback),this.onLoadstart=()=>{this.loadStartTime=performance.now()},this.onCanplaythrough=()=>{this.loadEndTime=performance.now();const e=this.loadEndTime-this.loadStartTime;this.waiting=!1,this.emit("video-load-time",e)},this.videoElement.addEventListener("loadstart",this.onLoadstart),this.videoElement.addEventListener("canplaythrough",this.onCanplaythrough),this.onWaiting=()=>{this.setLoadingState(!0),this.waiting=!0},this.onStalled=()=>{this.setLoadingState(!0)},this.onPlaying=()=>{this.waiting=!1},this.onLoadedData=()=>{this.waiting=!1},this.onCanplay=()=>{this.waiting=!1},this.videoElement.addEventListener("waiting",this.onWaiting),this.videoElement.addEventListener("stalled",this.onStalled),this.videoElement.addEventListener("playing",this.onPlaying),this.videoElement.addEventListener("loadeddata",this.onLoadedData),this.videoElement.addEventListener("canplay",this.onCanplay)}removeCallback=(e,t)=>{if(t)return this.videoElement.removeEventListener(e,t),null};destroyVideoElementCallbacks(){this.videoFrameCallback&&(this.videoElement.cancelVideoFrameCallback(this.videoFrameCallback),this.videoFrameCallback=null),this.seekCallback=this.removeCallback("seeked",this.seekCallback),this.errorCallback=this.removeCallback("error",this.errorCallback),this.onLoadstart=this.removeCallback("loadstart",this.onLoadstart),this.onCanplaythrough=this.removeCallback("canplaythrough",this.onCanplaythrough),this.onWaiting=this.removeCallback("waiting",this.onWaiting),this.onStalled=this.removeCallback("stalled",this.onStalled),this.onPlaying=this.removeCallback("playing",this.onPlaying),this.onLoadedData=this.removeCallback("loadeddata",this.onLoadedData),this.onLoadedData=this.removeCallback("canplay",this.onCanplay)}}const T=I;var j=s("./node_modules/process/browser.js");const k=class extends T{hls=null;id;playlistUrl;bufferMonitor;isPrefetchingSegment={};isFetchingLookaheadSegment={};fragments=null;fragmentsBuffered=[];loadingCheckId;prefetchSize=x.PA;availableStreams=null;activeStreamIndex=0;playlistFetchTime=0;constructor(e){super(e),this.id=e,this.bufferMonitor=new b.Z(this.videoElement,this.fragmentsBuffered)}get srcEndpoint(){return this.playlistUrl.split("/")[6]}load(e,t){let{startingTimestamp:s,prefetchSize:o}=t;this.setLoadingState(!0),this.playlistUrl=e;const n={maxLoadingDelay:30,maxFragLookUpTolerance:0,nudgeMaxRetry:3,startPosition:s,startFragPrefetch:!0,startLevel:-1,debug:j.env.HLS_LOGS,xhrSetup:function(e,t){const s=(0,r.bW)(),o=s&&!(0,p.Gu)(t)?(0,p.GD)(t,s):t;e.open("GET",o,!0)}},a=new(f())(n),i=performance.now();(0,v.c)(e).then((e=>{this.playlistFetchTime=performance.now()-i,a.loadSource(e)})).catch((t=>{t instanceof y.Sk?this.setLoadingState(!1):m.Tb(t,{extra:{playlistUrl:e}}),this.emit("error",t)})),a.attachMedia(this.videoElement),this.addHlsEventListeners(a),a.once(f().Events.LEVEL_LOADED,((e,t)=>{let{details:o}=t;this.initialized=!0,this.setPlaybackSpeed(this.playbackRate),this.dirty=!0,this.pendingPlayOnInit&&(this.play(),this.pendingPlayOnInit=!1),this.fragments=o.fragments,this.seek(s),this.loadingCheckId=h.ZP.update(this.checkForLoading,!0)})),this.prefetchSize=o??x.PA,this.hls=a}addHlsEventListeners(e){var t=this;const s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!j.env.HLS_LOGS)return;(o?console.error:console.log)(`📼 HLS.js: ${e} (Video Layer: ${t.id})`,s)};e.on(f().Events.MANIFEST_LOADED,((e,t)=>{this.availableStreams=t.levels?.filter((e=>!!e.videoCodec))??[],this.availableStreams.length>1&&(this.isUsingAbr=!0),this.availableStreams.length>=1&&(this.isUsingMediaConvert=!0),this.emit("playlist-loaded",{loadTime:this.playlistFetchTime,playlistUrl:this.playlistUrl}),s("Manifest Loaded",t)})),e.on(f().Events.BUFFER_CREATED,((e,t)=>{s("SourceBuffer Created",t)})),e.on(f().Events.FPS_DROP,((e,t)=>{s("FPS Drop",t)})),e.on(f().Events.FRAG_BUFFERED,((e,t)=>{let{frag:o}=t;const n=parseFloat(o.start.toFixed(3)),a=parseFloat((o.start+o.duration).toFixed(3));this.fragmentsBuffered.push([n,a]),this.waiting=!1,s("Fragment Buffered",{start:n,end:a})})),e.on(f().Events.FRAG_LOADED,((e,t)=>{let{frag:s}=t;this.bufferMonitor.updateBandwidthEstimate(s,this.hls.bandwidthEstimate)})),e.on(f().Events.LEVEL_SWITCHING,((e,t)=>{s("Level Switching",t)})),e.on(f().Events.LEVEL_SWITCHED,((e,t)=>{this.activeStreamIndex=t.level,this.isUsingAbr&&this.emit("level-switched",{level:this.availableStreams[this.activeStreamIndex],playlistUrl:this.playlistUrl}),s("Level Switched",t)})),e.on(f().Events.ERROR,((e,t)=>{if("mediaError"===t.type&&t.details===f().ErrorDetails.BUFFER_STALLED_ERROR&&this.setLoadingState(!0),t.fatal){const e=new Error(`HLS.js fatal error: ${t.type}`);m.Tb(e,{extra:{data:t,layerType:"video"}}),this.emit("error",e)}}))}unload(){this.hls?.detachMedia(),this.hls?.destroy(),this.dirty=!1,this.loading=!1,this.initialized=!1,this.fragments=null,this.fragmentsBuffered=[],this.isPrefetchingSegment={},this.loadingCheckId&&(h.qY.update(this.loadingCheckId),this.loadingCheckId=null)}getSegmentIndexForTimestamp(e){const t=this.fragments.findIndex((t=>e>=t.start&&e<t.start+t.duration));return-1===t?this.fragments.length-1:t}prefetchSegments(){if(!this.fragments||this.isUsingAbr)return;const e=this.getSegmentIndexForTimestamp(this.videoElement.currentTime);for(let t=0;t<this.prefetchSize;t++){const s=(e+t)%this.fragments.length;if(this.isPrefetchingSegment[s])continue;this.isPrefetchingSegment[s]=!0;const o=this.fragments[s].url;(0,r.Df)(o).catch((e=>{m.Tb(e,{extra:{message:e?.message??"PrefetchError",url:o,playlistUrl:this.playlistUrl}})}))}}checkForLoading=()=>{this.prefetchSegments(),this.bufferMonitor.updateFragmentsBuffered(this.fragmentsBuffered);const e=this.bufferMonitor.checkForBuffering();this.setLoadingState(e||this.waiting)}};const C=class extends T{constructor(e){super(e)}get srcEndpoint(){return"blob"}load(e,t){let{startingTimestamp:s}=t;this.setLoadingState(!0),this.videoElement.src=e,this.videoElement.onerror=()=>{this.emit("error",new y.Sk)},this.videoElement.onloadedmetadata=()=>{this.initialized=!0,this.setPlaybackSpeed(this.playbackRate),this.dirty=!0,this.pendingPlayOnInit&&(this.play(),this.pendingPlayOnInit=!1),this.seek(s),this.setLoadingState(!1)}}unload(){this.dirty=!1,this.loading=!1,this.initialized=!1}};var E=s("./app/streams/SegmentedStreamReader.ts"),S=s("./app/streams/utils.ts");const A=75,M=n().memoize((async e=>{const t=N({modelName:"storage",commandName:"store_json_blob",useGPUServer:!1}),s=await(0,r.Df)(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({json:e})});if(!s?.ok)throw new Error("Error getting mask.");return(await s.json()).url}),JSON.stringify),P=async function(e){let{useGPUServer:t=!0,modelName:s,commandName:o,inputData:n,outputWidth:a,outputHeight:i,outputFormat:r,outputFrameRate:l,outputKeyframeInterval:c=25,outputTileAlpha:d=0,outputTranscodedHls:p=!1,framePerSegment:u=A,miscParams:m={}}=e,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeFramerateInRequest:!1,audioSegmentDuration:null};const g={};for(const e of Object.keys(n)){const t=n[e];if("string"==typeof t)g[`input_${e}`]=t;else{const s=JSON.stringify(t);s.length>300?g[`input_${e}`]=await M(t):g[`input_${e}`]=s}}const f=h.audioSegmentDuration??u/l;let y={};return h.includeFramerateInRequest&&(y={output_framerate:l}),(0,S.cU)({path:`/${s}/streams/${o}/playlist.m3u8`,urlParams:{...g,...y,...m,output_width:a,output_height:i,output_format:r,output_keyframe_interval:c,output_tile_alpha:d,segment_duration:f,output_transcoded_hls:p?"1":"0"},hardware:t?"gpu":"cpu",priority:"high"})},N=e=>{let{useGPUServer:t=!0,modelName:s,commandName:o,urlParams:n}=e;return(0,S.cU)({path:`/${s}/commands/${o}`,hardware:t?"gpu":"cpu",priority:"high",urlParams:n})},D=e=>{let{useGPUServer:t=!0,modelName:s,commandName:o,inputData:n,timestamp:a,outputWidth:i,outputHeight:r,outputFormat:l}=e;const c={};return Object.keys(n).forEach((e=>c[`input_${e}`]=n[e])),(0,S.cU)({path:`/${s}/streams/${o}/frame.jpg`,urlParams:{...c,timestamp:a,output_width:i,output_height:r,output_format:l},hardware:t?"gpu":"cpu",priority:"high"})},O=async e=>{let{useGPUServer:t=!0,modelName:s,commandName:o,inputData:n,timestamp:a,outputWidth:i,outputHeight:r,outputFormat:l}=e;const c={};for(const e of Object.keys(n)){const t=n[e];if("object"==typeof t){const s=JSON.stringify(t);s.length>150?c[e]=await M(t):c[e]=s}else c[e]=t}const d={};return Object.keys(c).forEach((e=>d[`input_${e}`]=c[e])),(0,S.cU)({path:`/${s}/streams/${o}/frame.jpg`,urlParams:{...d,timestamp:a,output_width:i,output_height:r,output_format:l},hardware:t?"gpu":"cpu",priority:"high"})},L=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?3:e&&"video_inpainting"===e.modelName?10:e&&"memory_network"===e.modelName?5:3},R=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=new E.Z(e,{startingTimestamp:Math.max(0,s),prefetchSize:t});return o.load(s),o},Z=e=>{let{streamDescription:t,startingTimestamp:s,enabled:o=!0,shouldPreloadVideoStream:n=!1,onRef:i}=e;const r=(0,a.useRef)(null);(0,a.useEffect)((()=>()=>{r.current&&r.current.destroy()}),[]);const[l]=(0,c.Z)(t?()=>P(t):null,[JSON.stringify(t)]),d=L(t,(0,u.Z)()),p=o||n;return(0,a.useEffect)((()=>(p&&l&&(null!==r.current&&r.current.destroy(),r.current=R(l,d,s),i(r.current)),()=>{null!==r.current&&(r.current.destroy(),r.current=null)})),[p,l,i,d]),r.current},U=e=>{let{enabled:t,streamDescription:s,seekTimestamp:o,isCompositionPlaying:n,onError:r,playbackSpeed:m,id:h}=e;const g=(0,a.useRef)(null),f=(0,a.useRef)(null),[y,x]=(0,a.useState)(!0),v=(0,p.Gu)(s.inputData.video),b=(0,u.Z)(),w=v?f:g;null===w.current&&(w.current=v?new C(h):new k(h),w.current.on("loading",(()=>x(!0))),w.current.on("loaded",(()=>x(!1))),w.current.on("error",r));const[_]=(0,c.Z)(s&&t&&!v?()=>P({...s,outputFormat:"mpegts"}):null,[JSON.stringify(s),t]),I=v?s.inputData.video:_,T=(0,d.Z)((e=>e.videoEditor.ui.layersLoading));return(0,a.useEffect)((()=>()=>{w.current&&w.current.destroy()}),[]),(0,a.useEffect)((()=>{if(I)return w.current.load(I,{startingTimestamp:o,prefetchSize:v?null:L(s,b)}),()=>{w.current.unload()}}),[I,b]),(0,a.useEffect)((()=>{const e=e=>{try{(0,i.bc)({eventName:"Video Load Error",properties:{playlistURL:_,context:"Video Editor",message:e.message}})}catch{}};return w.current&&w.current.on("error",e),()=>{w.current&&w.current.off("error",e)}}),[_,w]),(0,l.Z)((()=>{w.current.seek(o)}),[o]),(0,l.Z)((()=>{0===T.length&&!n&&w.current.seek(o)}),[n]),(0,l.Z)((()=>{w.current.setPlaybackSpeed(m)}),[m]),{reader:w.current,isLoading:t&&y,player:w.current}}},"./app/streams/utils.ts":(e,t,s)=>{"use strict";s.d(t,{CR:()=>l,Lg:()=>d,cU:()=>i,cy:()=>c,tG:()=>p});var o=s("./node_modules/m3u8-parser/dist/m3u8-parser.es.js"),n=s("./app/utils/constants.ts"),a=s("./app/utils/urls.ts");const i=e=>{const{urlParams:t,hardware:s,priority:o}=e;let{path:n}=e;const i=(0,a.uM)({...t||{},hardware:s,priority:o||"low"}),c="gpu"===s?"streams-server-queue":"streams-server-cpu";if(n.startsWith("/")&&(n=n.substring(1)),n.includes("?"))throw new Error('url parameters should be defined in the "urlParams" argument, not "path"');return r()||(n=`${c}/${n}`),`${l(e.subdomain)}/${n}?${i}`},r=()=>{if("production"!==n.j9){const e="undefined"!=typeof window?new URLSearchParams(window.location.search).get(n.Fk["streaming-inference"]):null;if(e?.startsWith("stage-"))return`https://${(0,n.e)("streaming-inference",e)}.streaming-inference.models.stage.runwayml.cloud`}return null},l=e=>{const t=r();if(t)return t;let s;return s=e?`${e}.`:"","production"!==n.j9?`https://${s}streaming-inference.models.stage.runwayml.cloud`:`https://${s}streaming-inference.models.runwayml.cloud`},c=e=>e.includes("https://")?e:`${l()}/${e.startsWith("/")?e.substring(1):e}`,d=e=>{const t=new URL(c(e)),s=parseFloat(t.searchParams.get("start")||"");return parseFloat(t.searchParams.get("end")||"")-s},p=async(e,t)=>{const s=await fetch(e,{signal:t}),n=await s.text(),a=new o._b;return a.push(n),a.end(),a.manifest}},"./app/types/features.ts":(e,t,s)=>{"use strict";s.d(t,{G:()=>o});let o=function(e){return e.ShowInitialUpgradeDialog="showInitialUpgradeDialog",e.BlockFreeGen2Preview="blockFreeGen2Preview",e.QaEngineerInterview="timbits",e.AiTrainingPayment="shopping-bag",e.ShouldInitiateLiveCollaborationSessions="shouldInitiateLiveCollaborationSessions",e.InviteMoreTeamMembers="inviteMoreTeamMembers",e.CanUseCustomGen1Model="can-use-custom-gen-1-model",e.nerfPayment="nerfPayment",e.HoneybeeAccess="has-honeybee-access",e.Export3DCapturesFrame="mojo-jojo",e.VegiePizzaAccess="vegiePizza",e.CustomModelV2AccessInImageToImage="alfredo",e.Spacemobile="spacemobile",e.Spacesuit="spacesuit",e.Show3DCapturesOnHome="show3DCapturesOnHome",e.ExplorePage="exploreSearch",e.UpscaleVideoAcccess="has-duckling-access",e.UpscaleVideoMaxInputSize="duckling-input-max-size",e.UserProfiles="zaabua",e.CustomAITrainingV2="spacing-guild",e.Gen2Navigator="carefree-manatee",e.Gen2AmbientMotionBrush="furniture-music",e.Gen2CustomModel="cheeto",e.Gen2MotionPath="nematode",e.Gen2NewPromptReveal="iron-hyacinth",e.Gen2ExpandVideo="bergman-blink",e.Gen2NextLayout="fax-machine",e.Gen2FreezeMotionBrush="carl-larsson",e.Gen2MotionBrushOnExtend="roxette-look",e.Gen2SegmentSelection="carapace",e.Gen2OnePrompt="bill-skargard",e.Gen2NextUIV1="party-parrot",e.Teamspaces="vlakvark",e.TeamspaceEditorPermissions="giraffe",e.Storyboard="english-springer-spaniel",e.StoryboardDebugMenu="english-springer-spaniel-debug",e.StoryboardSketchToImage="picasso",e.StoryboardUndoRedo="wave-the-magic-wand",e.AssetsV2="hidden-treasures",e.TextToSpeechAccess="brown-bear",e.TextToSpeechMaxCharacterCount="polar-bear",e.TalkingHeadsAccess="brown-bear-cub",e.VoiceCloningAccess="grizzly-bear",e.RunwayTVAccess="av-club",e.SupportInterview="water-pipe",e.FavoriteAssets="pumping-hearts",e.InviteByLink="pikkewyn",e.SaveToFolderInImageTools="hadada",e.GenerateAnythingBannerABTestGroup="bilbo-baggins",e.Workflows="chameleon",e.WorkflowEditor="kitchen-sink",e.WorkflowVideoVariations="can-opener",e.WorkflowProductPosters="rubber-spatula",e}({})},"./app/types/mixpanel.ts":(e,t,s)=>{"use strict";s.d(t,{f:()=>o});const o={FEATURE_ANNOUNCEMENTS_LAST_SEEN:"feature_announcements_last_seen",ONBOARDING_SURVEY_CLOSED:"onboarding_survey_closed",ONBOARDING_SURVEY_COMPLETED:"onboarding_survey_completed",TOURS_SEQUEL_HAS_SEEN:"tours/sequel/has_seen",PERFORMANCE_SURVEY_LAST_SEEN:"performance_survey_last_seen"}},"./app/types/video-editor/remote-sync.ts":(e,t,s)=>{"use strict";s.d(t,{Cs:()=>o,Xm:()=>a,qb:()=>n});let o=function(e){return e[e.Auth=0]="Auth",e[e.Sync=1]="Sync",e[e.Awareness=2]="Awareness",e[e.QueryAwareness=3]="QueryAwareness",e[e.Status=4]="Status",e[e.Init=5]="Init",e[e.Delete=6]="Delete",e}({}),n=function(e){return e.OK="ok",e.Error="error",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e}({}),a=function(e){return e[e.Abnormal=1006]="Abnormal",e[e.PolicyViolation=1008]="PolicyViolation",e}({})},"./app/utils/SentryTransaction.ts":(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/@sentry/core/esm/hub.js"),a=s("./app/utils/environment.ts");class i{transaction;name;constructor(e){this.name=e,this.transaction=o.Yr({name:e}),this.markStart(),this.transaction&&n.Gd().configureScope((e=>e.setSpan(this.transaction)))}end(){this.transaction?.finish(),this.markEnd(),n.Gd().configureScope((e=>{e.getSpan()==this.transaction&&e.setSpan()}))}markStart(){(0,a.Mw)()||performance.mark(`SentryTransaction:${this.name}:start`)}markEnd(){if((0,a.Mw)())return;performance.mark(`SentryTransaction:${this.name}:finish`);const e=performance.measure(`SentryTransaction:${this.name}`,`SentryTransaction:${this.name}:start`,`SentryTransaction:${this.name}:finish`);this.name,e.duration}}},"./app/utils/animations.ts":(e,t,s)=>{"use strict";s.d(t,{Ug:()=>u,jt:()=>m,kE:()=>p});var o=s("./node_modules/styled-components/dist/styled-components.browser.esm.js");const n=500,a="cubic-bezier(.42,0,.58,1)",i=0,r=1,l="normal",c="both",d="running",p=(0,o.iv)([""," animation-duration:","ms;animation-timing-function:",";animation-delay:","ms;animation-iteration-count:",";animation-direction:",";animation-fill-mode:",";animation-play-state:",";"],(e=>e.animation&&(0,o.iv)(["animation-name:",";"],e.animation)),(e=>e.duration||n),(e=>e.timingFunction||a),(e=>e.delay||i),(e=>e.iterationCount||r),(e=>e.direction||l),(e=>e.fillMode||c),(e=>e.playState||d)),u=(0,o.F4)(["   from{opacity:0;}to{opacity:1;}"]),m=((0,o.F4)(["   0%{opacity:1}50%{opacity:0}100%{opacity:1}"]),(0,o.F4)(["   from{transform:translate(100%,0);}to{transform:translate(0);}"]),(0,o.F4)(["from{transform:translateX(-100px);}to{transform:translateX(0);}"]),(0,o.F4)(["   from{transform:translateY(25px);opacity:0;filter:blur(4px);}to{transform:translateY(0);opacity:1;filter:blur(0px);}"]),(0,o.F4)(["from{transform:translateX(100px);}to{transform:translateX(0px);}"]),(0,o.F4)(["   from{transform:translateY(-25px);opacity:0;filter:blur(4px);}to{transform:translateY(0);opacity:1;filter:blur(0px);}"]),(0,o.F4)(["   from{transform:translateY(25px);opacity:0;filter:blur(4px);background:#111111;}to{transform:translateY(0);opacity:1;filter:blur(0px);background:'auto';}"]));(0,o.F4)(["   from{opacity:0.5;pointer-events:none;transform:scale(0.95);transform:translateY(10px);}to{opacity:1;pointer-events:auto;transform:scale(1);transform:translateY(0px);}"])},"./app/utils/assets.ts":(e,t,s)=>{"use strict";s.d(t,{$G:()=>w,BC:()=>_,DY:()=>j,ED:()=>k,Ii:()=>x,_D:()=>v,bx:()=>b,ce:()=>T});var o=s("./app/components/Views/MagicTools/utils.ts"),n=s("./node_modules/uuid/dist/esm-browser/v4.js"),a=s("./app/actions/flash.ts"),i=s("./app/actions/popup.ts"),r=s("./app/actions/video-editor/asset-layer-validation.ts"),l=s("./app/actions/video-editor/layers.ts"),c=s("./app/actions/video-editor/notification.tsx"),d=s("./app/api/hooks/assets/assets.ts"),p=s("./app/api/hooks/assets/upload.ts"),u=s("./app/api/hooks/assets/useRecentAssetsGrid.ts"),m=s("./app/store.ts"),h=s("./app/utils/video.ts"),g=s("./app/utils/video-editor/audio.ts"),f=s("./app/utils/filenames.ts"),y=s("./app/utils/files.ts");const x=e=>e.filter((e=>".DS_Store"!==e.name)),v=[...f.Ks.image,...f.Ks.text,...f.Ks.video,...f.Ks.audio,...f.Ks.font],b=e=>{let{acceptExtensions:t=v,multiple:s=!0}=e;return new Promise(((e,o)=>{(0,y.QM)({acceptExtensions:t,multiple:s}).then((t=>e(t))).catch((e=>{m.Z.dispatch((0,c.sc)({message:"Error getting files",type:"ERROR"})),o(e)}))}))},w=e=>new Promise((t=>{(0,y.QM)({acceptExtensions:e??v,multiple:!0}).then((async e=>{if(!e||e.length<=0)return;const s=await _(e);t(s)}))})),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[...e.map((e=>{const s=(0,f.Nd)(e)??"image",o={name:s,type:s};return new Promise((s=>{(0,p.cp)({file:e,config:o,uploadOpts:t}).then((e=>{s(e),(0,u.Zh)(),(0,d.R3)()}))}))}))];return Promise.all(s)},I=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,f.Nd)(e)??"image",o={name:s,type:s};try{const s=await(0,p.cp)({file:e,config:o,uploadOpts:t});if(s)return(0,u.Zh)(),(0,d.R3)(),s}catch(t){"CANCELLED"!==t?.message&&m.Z.dispatch((0,c.sc)({message:`Error uploading ${e.name}`,type:"ERROR"}))}},T=async(e,t)=>{const s=await Promise.all(e.map(h.Jo)),o=await Promise.all(e.map(((e,t)=>s[t]&&(async e=>({id:(0,n.Z)(),name:e.name,mediaType:(0,f.Nd)(e),url:(0,y.p_)(e),createdAt:new Date,createdBy:-1,updatedAt:new Date,previewUrls:[],fileCount:1,fileSize:e.size,fileExtStandardized:e.name.split(".").slice(-1)[0],metadata:await(0,p.SD)(e),isUserUpload:!0,username:"",parentAssetGroupId:null}))(e)))),c=[];for(let n=0;n<o.length;n++){const d=e[n];if((0,f.Un)((0,f.vj)(d.name)))if(s[n]){if(d.type.includes("video")||d.type.includes("audio")){let t,s;if(d.type.includes("video")?(t=await(0,h.M2)(d),s=(0,r.ae)(t,"VIDEO")):d.type.includes("audio")&&(t=await(0,g.EN)(d),s=(0,r.ae)(t,"AUDIO")),!s.valid){m.Z.dispatch((0,i.showErrorPopup)("Error uploading asset",`${e[n].name} is longer than valid duration of ${(0,h.Jm)()}.`));continue}}const s=I(e[n],{asTeamId:t?.asTeamId,privateInTeam:t?.privateInTeam});c.push(s),m.Z.dispatch((0,l.dG)(o[n],{undoable:!0},t?.createLayerCallback))}else{m.Z.dispatch({type:"ui/SET_LEFT_PANEL_MODE",mode:"ASSETS"}),m.Z.dispatch((0,a.showFlash)({message:`${e[n].name} cannot be viewed locally, it will be available once it's uploaded.`,type:"SUCCESS"}));const s=I(e[n],{asTeamId:t?.asTeamId,privateInTeam:t?.privateInTeam}).then((e=>(m.Z.dispatch((0,l.dG)(e,{undoable:!0},t?.createLayerCallback)),e)));c.push(s)}else m.Z.dispatch((0,i.showErrorPopup)("Error uploading asset","Please upload a video, image, or audio file"))}t.uploadCallback&&Promise.all(c).then(t.uploadCallback)},j=e=>{const{metadata:t}=e;if(t?.size){const{height:e,width:s}=t.size;if(e&&s)return Promise.resolve({height:e,width:s})}return(0,o.uX)(e)},k=e=>{const{metadata:t}=e;return t?.duration?Promise.resolve(t.duration):(0,h.Mf)(e.url)}},"./app/utils/auth.ts":(e,t,s)=>{"use strict";s.d(t,{Df:()=>x,Fz:()=>l,Gv:()=>y,If:()=>b,NO:()=>p,Pc:()=>v,bW:()=>u,pb:()=>h,uB:()=>m});var o=s("./app/actions/performance.ts"),n=s("./app/actions/user.ts"),a=s("./app/api-client.ts"),i=s("./app/store.ts"),r=s("./app/utils/urls.ts");const l="RW_USER_TOKEN";let c=null,d=null;const p=()=>{try{const e=window.localStorage.getItem(l);return e&&"undefined"!==e?JSON.parse(e):null}catch(e){return null}},u=p,m=e=>{try{window.localStorage.setItem(l,JSON.stringify(e)),e?d||g():f()}catch(e){}},h=async(e,t)=>{const s=u();void 0===t&&(t={}),void 0===t.headers&&(t.headers={}),t.headers.Authorization=`Bearer ${s}`;return await fetch(e,t)},g=async()=>{d&&clearInterval(d),d=setInterval((async()=>{v()?c=await a.s6():f()}),24e4),c=await a.s6()},f=()=>{d&&(clearInterval(d),d=null,c=null)},y=()=>c,x=async(e,t)=>{try{const s=u();return await fetch(s?(0,r.GD)(e,s):e,t)}catch(e){const t=new Error(e);if("AbortError"!==e.name)throw t;console.error(t)}},v=e=>{const t=(e||i.Z.getState()).user,s=!!u();return Boolean(t.isVerified&&t.token)||s},b=async e=>{i.Z.dispatch((0,o.nl)()),await a.kS(),i.Z.dispatch((0,n.logOut)()),e&&e.push("/login")}},"./app/utils/blobToB64.ts":(e,t,s)=>{"use strict";s.d(t,{b:()=>o});const o=e=>new Promise((t=>{const s=new FileReader;s.onload=()=>{const e=s.result;t(e)},s.readAsDataURL(e)}))},"./app/utils/clamp.ts":(e,t,s)=>{"use strict";s.d(t,{u:()=>o});const o=(e,t,s)=>e<=t?t:e>=s?s:e},"./app/utils/color.ts":(e,t,s)=>{"use strict";s.d(t,{Dh:()=>d,eh:()=>r,hT:()=>l,hq:()=>i,uG:()=>a});var o=s("./node_modules/tinycolor2/tinycolor.js"),n=s.n(o);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return{...n()(e).toRgb(),a:t}},i=e=>{let{r:t,g:s,b:o}=e;return`#${[t,s,o].map((e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t})).join("")}`},r=e=>{let{r:t,g:s,b:o,a:n}=e;return`rgba(${t}, ${s}, ${o}, ${void 0===n?1:n})`},l=e=>{const t=a(e,255);return[t.r/255,t.g/255,t.b/255]},c=e=>{const t=e.toString(16);return 1==t.length?`0${t}`:t},d=e=>{let[t,s,o]=e;return`#${c(Math.round(255*t))}${c(Math.round(255*s))}${c(Math.round(255*o))}`}},"./app/utils/constants.ts":(e,t,s)=>{"use strict";s.d(t,{$H:()=>A,BE:()=>T,EG:()=>g,En:()=>S,Fk:()=>a,GJ:()=>E,K5:()=>R,Kz:()=>U,PA:()=>f,Pn:()=>c,Pu:()=>V,T5:()=>l,Yw:()=>m,_3:()=>z,dI:()=>w,e:()=>r,gO:()=>b,h4:()=>C,hO:()=>O,hx:()=>p,iG:()=>L,j9:()=>n,jl:()=>_,lQ:()=>D,mU:()=>P,mj:()=>I,nJ:()=>u,oj:()=>M,rB:()=>k,sg:()=>h,sl:()=>y,st:()=>Z,tK:()=>N,vx:()=>v,wm:()=>d,yR:()=>x,zx:()=>j});var o=s("./node_modules/process/browser.js");const n=(()=>{switch(o.env.STAGE?o.env.STAGE.split("-")[0]:""){case"dev":return"dev";case"stage":return"stage";default:return"production"}})(),a={api:"api-stage","streaming-inference":"si-stage",queue:"queue"},i={app:47,api:24,"streaming-inference":44},r=(e,t)=>{let s=t.toLowerCase().replace("stage-","");return s=s.slice(0,i[e]),s},l=(()=>{if("dev"===n)return"http://localhost:3000";const e=o.env.STAGE?o.env.STAGE.toLowerCase():"";if(e&&e.startsWith("stage-"))return`https://${r("api",e)}.api.stage.runwayml.com`;if("stage"===n){const e="undefined"!=typeof window?new URLSearchParams(window.location.search).get(a.api):null;return e&&e.startsWith("stage-")?`https://${r("api",e)}.api.stage.runwayml.com`:"https://api.stage.runwayml.com"}return"https://api.runwayml.com"})(),c={LOGIN:"/v1/login",LOGIN_APPLE:"/v1/login_apple",CHANGE_PASSWORD:"/v1/change_password",ASSETS:"/v1/assets",ASSET_GROUPS:"/v1/asset_groups",AUDIO_ENHANCEMENTS:"/v1/audio_enhancements",BILLING:"/v1/billing",COMPOSITIONS:"/v1/video_compositions",COMPOSITIONS_FEATURED:"/v1/video_compositions_featured",COMPOSITIONS_SHARED_WITH_ME:"/v1/video_compositions_shared_with_me",COMMUNITY_VIDEOS:"/v1/community_videos",TEMPLATES:"/v1/video_composition_templates",COUPON_CODES:"/v1/redeem_code",DATASETS:"/v1/datasets",DEV:"/v1/dev",EMAIL_PREFERENCES:"/v1/email_preferences",EMAIL_UNSUBSCRIBE:"/v1/email_unsubscribe",GENERATIONS:"/v1/generations",INFERENCE:"/v1/inference",MIXPANEL_USER_EVENTS:"/v1/mp_user_events",MIXPANEL_ANONYMOUS_EVENTS:"/v1/mp_anonymous_events",MIXPANEL_USER_PROPERTIES:"/v1/mp_user_properties",USER_PROPERTIES:"/v1/user_properties",MODELS:"/v1/models",MODEL_VERSIONS:"/v1/model_versions",PENDING_ASSETS:"/v1/assets_pending",PROFILE:"/v1/profile",PUBLIC_PROFILE:"/v1/public_profile",SEARCH:"/v1/search",TASKS:"/v1/tasks",TRAINING_SETTINGS:"/v1/training_settings",FEATURE_ANNOUNCEMENTS:"/v1/feature_announcements",TEAMS:"/v1/teams",RESOURCE_PERMISSIONS:"/v1/resource_permissions",RESOURCE_PERMISSIONS_BY_RESOURCE:"/v1/resource_permissions_by_resource",REPORT_CONTENT:"/v1/report_content",SHARED_ASSETS:"/v1/shared_assets"},d="https://help.runwayml.com/hc/en-us/articles/15124877443219-How-do-credits-work-",p="stage"===n?"UA-115776892-16":"UA-115776892-17",u="stage"===n?"GTM-NKT3TX3":"GTM-W6BFH73",m="production"===n?"pk_live_CGs0xz5CvWKEDSS0WYsxE7or":"pk_test_cbDCyB9VFhwCfhgOmeqtQa5S",h="production"===n?"oaoafgt81j5pfurmmemhqsnjp":"mmlcvjvrtmo59i102tkpds57a",g="aba8cd35-35f9-49c2-b31e-a0352400f921",f="2a653983-f12a-46cc-8997-091c5607ae64",y="sdk.iad-05.braze.com",x="stage"===n?"https://app.stage.runwayml.com":"https://app.runwayml.com",v="https://help.runwayml.com/hc/en-us/requests/new",b="https://help.runwayml.com/",w="https://runwayml.com/green-screen/",_="https://youtu.be/iL0WmGq9N-M",I="https://help.runwayml.com/hc/en-us/articles/4412269871379-How-to-Use-Green-Screen",T="https://runwayml.com/inpainting/",j="https://www.youtube.com/watch?v=Afg9VlZOqaM",k="https://help.runwayml.com/hc/en-us/articles/4416184576019-How-To-Use-Inpainting",C="https://static.zdassets.com/ekr/snippet.js?key=a31d3d34-5380-49b3-b96a-b80d1a908eaa",E="https://static.zdassets.com/ekr/snippet.js?key=9a8bf873-79e5-4de3-9fe8-f0a8485aa591",S="https://help.runwayml.com/hc/en-us/articles/10312703076371-Workspace-Members-Roles",A="https://www.youtube.com/playlist?list=PLj598ZXODDO8nhGbLgUNeXo37Hw7idYGv",M="https://8ea832c064ed4bbcb4b8952c02ba119a@sentry.io/1329059",P="https://forms.gle/JesZnqQbpbdwZd3X9",N=-1,D="https://runwayml.com/terms-of-use/",O="https://runwayml.com/privacy-policy/",L="https://help.runwayml.com/hc/en-us/articles/17944787368595-Runway-s-Approach-to-Trust-Safety",R="https://status.runwayml.com/",Z="https://docs.google.com/forms/d/e/1FAIpQLSep5aGehtssr_7EaYW9a4ZVCuB8cWu2rfcE1Ksc-4lNfcIlkw/viewform",U="https://docs.google.com/forms/d/e/1FAIpQLSeEitmfyXGFvCQ9iG5zdVfdTNwSqQIeH64QEoCRJhN6ea_Fzw/viewform",z="mailto:sales@runwayml.com",V="https://runwayml.com/sales/"},"./app/utils/copyToClipboard.ts":(e,t,s)=>{"use strict";s.d(t,{v:()=>o});const o=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},"./app/utils/createSentryTransactionFor.ts":(e,t,s)=>{"use strict";s.d(t,{U:()=>n});var o=s("./app/utils/SentryTransaction.ts");const n=async(e,t)=>{const s=new o.e(e);try{await t()}finally{s.end()}}},"./app/utils/date.ts":(e,t,s)=>{"use strict";s.d(t,{L:()=>i,j:()=>r});var o=s("./node_modules/moment/moment.js"),n=s.n(o),a=s("./node_modules/moment-duration-format/lib/moment-duration-format.js");s.n(a)()(n());const i=e=>n().duration(e,"seconds").format("h [hours], m [minutes], s [seconds]"),r=e=>((e,t)=>{const s=new Date(e.toLocaleString("en-US",{timeZone:t})),o=e.getTime()-s.getTime();return new Date(e.getTime()-o)})(e,"America/New_York")},"./app/utils/downloadZipWithToast.ts":(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./app/api/tasks.ts"),a=s("./app/components/Views/MagicTools/Components/Common/Toast.tsx"),i=s("./app/utils/downloads.ts");const r=async e=>{let{dispatchToast:t,selectedItems:s,asTeamId:r,privateInTeam:l=!0,name:c,fileCount:d}=e;const p=(0,a.Ir)({title:"Preparing to download.",keepOpen:!0});try{t({type:"ADD_TOAST",data:{...p,open:!0}});const e={name:c||"Zipfile - Export",exportOptions:{assetOrAssetGroupIds:s.map((e=>e?.id)),includeExports:!0,includeUploads:!0,...r?{asTeamId:r,privateInTeam:l}:{}}},o=await(0,n.qJ)({taskType:"export_multiple_assets",internal:!0,options:e,asTeamId:r}),a=setInterval((async()=>{if(!o?.id)return;const e=await(0,n._X)(o?.id,{asTeamId:r}),l=Number(e.progressRatio),c=e.status;if("FAILED"!==c&&"CANCELLED"!=c||(t({type:"SET_TOAST",data:{id:p.id,open:!0,error:!0,title:"Something went wrong.",description:"Please try again."}}),clearInterval(a)),1===l&&"SUCCEEDED"===c){clearInterval(a);const{filename:o,url:n}=e.artifacts[0],r=await(0,i.wC)(n);await(0,i.Sv)({name:o,url:r});let c="";c=d?`${d} file${d>1?"s":""} downloaded`:`${s.length} files downloaded`,t({type:"UPDATE_TOAST",data:{id:p.id,keepOpen:p.keepOpen,progressRatio:l,title:c}})}else"RUNNING"===c&&l>0?t({type:"UPDATE_TOAST",data:{id:p.id,keepOpen:p.keepOpen,title:"Zipping...",progressRatio:l}}):"PENDING"!==c&&0!==l||t({type:"UPDATE_TOAST",data:{id:p.id,keepOpen:p.keepOpen,title:"Preparing to download"}})}),2e3)}catch(e){t({type:"SET_TOAST",data:{id:p.id,open:!0,error:!0,title:"Something went wrong.",description:"Please try again."}}),o.Tb(e)}}},"./app/utils/downloads.ts":(e,t,s)=>{"use strict";s.d(t,{Sv:()=>o,cg:()=>n,wC:()=>a,wI:()=>i});const o=async e=>((e,t)=>{const s=document.createElement("a");s.download=t,s.href=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),s.remove()})(e.url,e.name),n=async function(e,t){if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])){t=`data:${(await s.e(94391).then(s.t.bind(s,"./node_modules/mime-types/index.js",19))).lookup(e)};base64,${btoa(t)}`}return((e,t)=>{const s=document.createElement("a");s.download=e,s.href=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),s.remove()})(e,t)},a=e=>fetch(e).then((e=>e.blob())).then((e=>URL.createObjectURL(e))),i=e=>{if(0===e.length)return"";return[Object.keys(e[0]).join(","),...e.map((e=>Object.values(e).join(",")))].join("\n")}},"./app/utils/environment.ts":(e,t,s)=>{"use strict";s.d(t,{Em:()=>g,Mw:()=>l,SV:()=>y,Yq:()=>r,Zj:()=>m,aP:()=>x,eE:()=>f,lE:()=>c,mx:()=>d,qs:()=>u,tb:()=>p,tq:()=>h});var o=s("./node_modules/ua-parser-js/src/ua-parser.js"),n=s.n(o),a=s("./node_modules/process/browser.js");const i=new(n()),r=()=>{let e=a.env.STAGE;return e?(e=String(e).toLowerCase(),"dev"===e?"dev":"stage"===e||e.startsWith("stage-")?"stage":"production"):"production"},l=()=>!("production"!==r()),c=()=>a.env.IS_DEV_BUILD,d=()=>["dev","stage"].includes(String(a.env.STAGE)),p=()=>{const e=Boolean(window.Cypress),t=Boolean(window.localStorage.getItem("IS_PLAYWRIGHT"));return"stage"===r()&&(e||t)},u=()=>i.getBrowser(),m=()=>{const e=i.getDevice();return{device_type:e.type||"desktop",device_vendor:e.vendor,device_model:e.model}},h=()=>!!(window.navigator&&window.navigator.userAgent?window.navigator.userAgent.includes("CriOS"):null)||"mobile"===i.getDevice().type,g=()=>"tablet"===i.getDevice().type,f=()=>"Mac OS"===i.getOS().name,y=()=>"",x=()=>!!a.env.DEBUG_MIGRATION},"./app/utils/features.ts":(e,t,s)=>{"use strict";s.d(t,{$5:()=>p,Ak:()=>u,E7:()=>i,IB:()=>c,IP:()=>d,Jw:()=>l,M5:()=>g,OB:()=>m,Rb:()=>n,_K:()=>v,gP:()=>r,iM:()=>h,lo:()=>f,lt:()=>y,wy:()=>x,z8:()=>a});var o=s("./app/types/features.ts");function n(e){return e[o.G.StoryboardSketchToImage]}function a(e){return e[o.G.Storyboard]}function i(e){return e[o.G.StoryboardDebugMenu]}function r(e){return e[o.G.VegiePizzaAccess]}function l(e){return e[o.G.CustomModelV2AccessInImageToImage]}function c(e){return e[o.G.CustomAITrainingV2]}function d(e){return e.hdVideoExport4k}function p(e){return e[o.G.ExplorePage]}function u(e,t){return"Enterprise"===e?.name&&t[o.G.Teamspaces]}function m(e){return e[o.G.AssetsV2]}function h(e){return e[o.G.RunwayTVAccess]}function g(e){return e[o.G.StoryboardUndoRedo]}function f(e){return e[o.G.QaEngineerInterview]}function y(e){return e[o.G.AiTrainingPayment]}function x(e){return e[o.G.TeamspaceEditorPermissions]}function v(e){return e[o.G.FavoriteAssets]}},"./app/utils/filenames.ts":(e,t,s)=>{"use strict";s.d(t,{BZ:()=>g,EE:()=>m,Ks:()=>a,Nd:()=>p,Sb:()=>c,Un:()=>u,ZH:()=>r,dv:()=>h,vN:()=>l,vj:()=>d});var o=s("./node_modules/sanitize-filename/index.js"),n=s.n(o);const a={image:[".jpg",".jpeg",".png",".gif",".avif",".heic",".heif",".webp"],inputImage:[".jpg",".jpeg",".png"],text:[".txt",".csv"],video:[".mp4",".mov",".webm"],audio:[".wav",".flac",".mp3",".aiff",".mp4",".m4a",".ogg"],font:[".otf",".ttf"]},i=Object.entries(a).reduce(((e,t)=>{let[s,o]=t;return{...e,[s]:o.map((e=>e.slice(1)))}}),{}),r=(e,t)=>{const s={};return e.map((e=>e.replace(".",""))).forEach((e=>{s[`${t}/${"image"===t?e:"*"}`]=[`.${e}`]})),s},l=e=>(e||"").split(/#|\?/)[0]?.split(".")?.pop()?.trim()?.toLowerCase()??"",c=e=>1===e.split(".").length?e:e.split(".").slice(0,-1).join("."),d=e=>e?e.split(".").slice(-1)[0].toLowerCase():"",p=e=>{if("image/gif"===e.type)return"video";if(e.name.endsWith(".ttf")||e.name.endsWith(".otf"))return"font";return["image","text","video","audio","font"].find((t=>e.type.includes(t)))},u=e=>Object.keys(i).find((t=>i[t].includes(e))),m=e=>{const t=l(e)||"";return u(t)},h=e=>e.split("/").length>1?e.split("/")[1]:e,g=e=>{let{filename:t,maxCharacterCount:s=200}=e;return n()(t).substring(0,s).replace(/\./g,"")}},"./app/utils/files.ts":(e,t,s)=>{"use strict";s.d(t,{RG:()=>l,p_:()=>c,rC:()=>i,B8:()=>r,Uj:()=>d,QM:()=>a});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o);[".jpg",".jpeg",".png"].concat([".mp4",".mov",".webm"]);const a=e=>{let{directory:t=!1,multiple:s=!1,acceptExtensions:o=[]}=e;return new Promise(((e,n)=>{const a=document.createElement("input");a.style.display="none",a.type="file",t&&(a.setAttribute("directory",""),a.setAttribute("webkitdirectory","")),s&&a.setAttribute("multiple",""),o.length>0&&a.setAttribute("accept",o.join(", ")),a.addEventListener("change",(()=>{document.body.removeChild(a),e(a.files?(e=>{const t=[];for(let s=0;s<e.length;s++){const o=e[s];o.relativePath=o.webkitRelativePath||o.name,t.push(o)}return t.sort(((e,t)=>e.name.localeCompare(t.name,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0}))),t})(a.files):[]),a.remove()})),a.onerror=n,document.body.appendChild(a),a.click()}))},i=e=>new Promise(((t,s)=>{const o=new FileReader;o.readAsText(e),o.onload=()=>t(o.result),o.onerror=e=>s(e)})),r=e=>{const t=e.split(/#|\?/);if(t[0]){const e=t[0].split(".");if(e)return e.pop().trim()||""}return""},l=e=>{const t=window.atob(e),s=t.length,o=new Uint8Array(s);for(let e=0;e<s;e++)o[e]=t.charCodeAt(e);return o.buffer},c=n().memoize((e=>URL.createObjectURL(e))),d=(e,t,s)=>{const o=new Blob([s],{type:t}),n=document.createElement("a"),a=URL.createObjectURL(o);n.href=a,n.download=e,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(a)}),0)}},"./app/utils/functional.ts":(e,t,s)=>{"use strict";s.d(t,{$6:()=>i,w6:()=>a});var o=s("./node_modules/p-limit/index.js"),n=s("./node_modules/lodash/lodash.js");const a=e=>[...Array(e).keys()],i=async(e,t,s)=>{const a=(0,n.cloneDeep)(t),i=o(e),r=a.map((e=>i(s,e)));return await Promise.all(r)}},"./app/utils/getWidthAndHeightFromResolutionAndRatio.ts":(e,t,s)=>{"use strict";s.d(t,{Q:()=>n});var o=s("./app/utils/number.ts");function n(e){let{resolution:t,ratio:s}=e;const[n,a]=s.split(":").map((e=>parseInt(e)));if(isNaN(n)||isNaN(a)||n<=0||a<=0)throw Error(`Unparseable ratio ${s}`);if(n>a){const e=n/a;return{height:t,width:(0,o.Nm)(e*t,64)}}if(n===a&&1472===t)return{width:2048,height:2048};{const e=a/n;return{height:(0,o.Nm)(e*t,64),width:t}}}},"./app/utils/google-analytics.ts":(e,t,s)=>{"use strict";s.d(t,{Rb:()=>u,jz:()=>c,v_:()=>l});var o=s("./app/api-client.ts"),n=s("./app/store.ts"),a=s("./app/utils/auth.ts"),i=s("./app/utils/constants.ts");const r=async()=>{return!await d()},l=()=>{r().then((e=>{if(!e)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${i.hx}`,t.onload=async()=>{function e(){dataLayer.push(arguments)}if(window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",i.hx),(0,a.Pc)()){const e=await p();u(e)}},document.head.appendChild(t)}))},c=()=>{r().then((e=>{if(!e)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=`https://www.googletagmanager.com/gtm.js?id=${i.nJ}`,t.onload=async()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",i.nJ)},document.head.appendChild(t)}))},d=async()=>{const e=await p();return e.id!==i.tK&&!1===e.analyticsEnabled},p=async()=>{const e=n.Z.getState().user;if(e.id===i.tK&&(0,a.Pc)()){const e=(0,a.bW)(),t=await(0,o.Ai)(e);if(t)return t}return e},u=e=>{!1!==e.analyticsEnabled&&e.id!==i.tK&&(window.dataLayer=window.dataLayer||[],function(){dataLayer.push(arguments)}("config",i.hx,{user_id:e?.id?.toString()}))}},"./app/utils/heic.ts":(e,t,s)=>{"use strict";s.d(t,{f4:()=>r});var o=s("./node_modules/buffer/index.js"),n=s("./node_modules/jpeg-js/index.js");const a=["image/heic","image/heic-sequence","image/heif","image/heif-sequence"],i=e=>a.includes(e);async function r(e){if(!i(e.type))return e;const{default:t}=await Promise.all([s.e(49589),s.e(36334)]).then(s.t.bind(s,"./node_modules/heic-decode/index.js",23)),a=await async function(e,t){const{height:s,width:a,data:i}=await t({buffer:o.Buffer.from(await e.arrayBuffer())});return n.encode({data:o.Buffer.from(i),height:s,width:a},90).data}(e,t);return function(e,t){const s=new Blob([e],{type:e.type});return s.name=t,s.__isAFile__=!0,s}(new Blob([a],{type:"image/jpeg"}),`${e.name}.jpeg`)}},"./app/utils/history.ts":(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var o=s("./app/store/persistStagingURLParams.ts"),n=s("./node_modules/history/es/index.js");const a=(0,s("./app/utils/environment.ts").mx)()?(0,o.o)((0,n.lX)()):(0,n.lX)()},"./app/utils/hooks/flags/useHasTeamspaces.ts":(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/types/features.ts"),a=s("./app/utils/hooks/useFeature_DEPRECATED.ts");const i=e=>{const t=(0,o.yG)(e||void 0,{suspense:!0}),s=(0,a.f7)({asTeamId:e||void 0,feature:n.G.Teamspaces,suspense:!0});return"Enterprise"===t?.name&&s}},"./app/utils/hooks/useAPI.ts":(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var o=s("./app/utils/hooks/useAuthentication.ts"),n=s("./node_modules/swr/dist/index.mjs");const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[a]=(0,o.J)(),{data:i,error:r,mutate:l}=(0,n.ZP)(e?[e,a]:null,{suspense:s,...t});if(r)throw r;return{...i??{},revalidate:l,mutate:l}}},"./app/utils/hooks/useAuthentication.ts":(e,t,s)=>{"use strict";s.d(t,{J:()=>r});var o=s("./node_modules/react/index.js"),n=s("./app/utils/hooks/useSafeState.ts"),a=s("./app/utils/auth.ts");let i=[];const r=()=>{const[e,t]=(0,n.Z)((()=>{try{const e=(0,a.bW)();return e&&"undefined"!==e?e:null}catch(e){return null}})),s=(0,o.useCallback)((()=>{try{const e=(0,a.bW)();t(e),i.forEach((t=>t(e)))}catch(e){}}),[t]);return(0,o.useEffect)((()=>(i.push(t),()=>{i=i.filter((e=>e!==t))})),[]),[e,s]}},"./app/utils/hooks/useBasePath.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/api/hooks/useTeams.ts");const n=e=>{const t=(0,o.I7)();return"assets"===e?t?.username?`/video-tools/teams/${t.username}/assets/`:"/video-tools/assets/":""}},"./app/utils/hooks/useBreakpoint.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,w:()=>a});var o=s("./node_modules/react/index.js"),n=s("./app/utils/hooks/useSafeState.ts");const a={xs:"(max-width: 500px)",sm:"(min-width: 500px) and (max-width: 800px)",md:"(min-width: 800px) and (max-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1600px)",xl:"(min-width: 1600px)"},i=e=>{const[t,s]=(0,n.Z)(""),i=(e,t)=>{let{matches:o}=e;o&&s(t)},r=Object.keys(a);if((0,o.useEffect)((()=>{r.forEach((e=>{const t=a[e],s=window.matchMedia(t);i(s,e);const o=()=>i(s,e);return s.addListener(o),()=>s.removeListener(o)}))}),[]),e){const s=r.indexOf(t);return r.slice(s,r.length).includes(e)}return t}},"./app/utils/hooks/useCanCreateProjects.ts":(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var o=s("./app/api/hooks/useCurrentTeamPlan.ts"),n=s("./app/utils/hooks/useHasAvailableVideoProjects.ts");const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(0,o.yG)(e,t),a=(0,n.A)(e,t);return null!==s&&a}},"./app/utils/hooks/useDebounce.ts":(e,t,s)=>{"use strict";s.d(t,{N:()=>i,y:()=>a});var o=s("./node_modules/react/index.js"),n=s("./app/utils/hooks/useSafeState.ts");const a=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=s.maxWait,a=(0,o.useRef)(null),i=(0,o.useRef)([]),r=s.leading,l=void 0===s.trailing||s.trailing,c=(0,o.useRef)(!1),d=(0,o.useRef)(null),p=(0,o.useRef)(!1),u=(0,o.useRef)(e);u.current=e;const m=(0,o.useCallback)((()=>{null!==d.current&&clearTimeout(d.current),null!==a.current&&clearTimeout(a.current),a.current=null,i.current=[],d.current=null,c.current=!1}),[]);(0,o.useEffect)((()=>()=>{p.current=!0}),[]);const h=(0,o.useCallback)((function(){for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];i.current=s,d.current&&clearTimeout(d.current),c.current&&(c.current=!1),d.current||!r||c.current||(u.current(...s),c.current=!0),d.current=setTimeout((()=>{let e=!0;r&&c.current&&(e=!1),m(),!p.current&&l&&e&&u.current(...s)}),t),n&&!a.current&&l&&(a.current=setTimeout((()=>{const e=i.current;m(),p.current||u.current.apply(null,e)}),n))}),[n,t,m,r,l]);return[h,m,()=>{d.current&&(u.current.apply(null,i.current),m())}]},i=(e,t,s)=>{const[i,r]=(0,n.Z)(e),[l,c,d]=a((0,o.useCallback)((e=>r(e)),[]),t,s),p=(0,o.useRef)(e);return(0,o.useEffect)((()=>{p.current!==e&&(l(e),p.current=e)}),[e,l]),[i,c,d]}},"./app/utils/hooks/useDebugControls.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./node_modules/leva/dist/leva.esm.js"),n=s("./app/utils/hooks/useSelector.ts");const a=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=(0,n.Z)((e=>e.showDebugPanel)),i=(0,o.M4)(e,a?t:{},[a,...s]);return a?i:(e=>{const t={};return Object.keys(e).forEach((s=>{"object"==typeof e[s]?t[s]=e[s].value:t[s]=e[s]})),t})(t)}},"./app/utils/hooks/useDebugUserSeenAnnouncements.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./node_modules/leva/dist/leva.esm.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./app/utils/hooks/useDebugControls.ts");const r=e=>{const t=(0,a.I0)(),s=(0,n.useCallback)((()=>{t({type:"RESET_USER_HAS_SEEN_ANNOUNCEMENTS",name:e})}),[t,e]);return(0,i.Z)(e?`Reset "userSeenAnnouncements" for ${e}`:'Reset "userSeenAnnouncements"',{Reset:(0,o.LI)(s)},[s,e]),null}},"./app/utils/hooks/useElementOffsetTop.ts":(e,t,s)=>{"use strict";s.d(t,{VO:()=>a,eJ:()=>i,tT:()=>n});var o=s("./node_modules/react/index.js");const n=e=>{const[t,s]=(0,o.useState)(0);return(0,o.useEffect)((()=>{const t=e.current;if(!t)return;s(t.offsetTop);const o=()=>{s(t.offsetTop)};return window.addEventListener(i,o),window.addEventListener("resize",o),()=>{window.removeEventListener(i,o),window.removeEventListener("resize",o)}}),[e]),t},a=e=>{(0,o.useEffect)((()=>{window.dispatchEvent(new Event(i))}),e)},i="___offsetTopRecalculate___"},"./app/utils/hooks/useElementWidth.ts":(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var o=s("./node_modules/react/index.js");const n=e=>{const[t,s]=(0,o.useState)(0);return(0,o.useEffect)((()=>{const t=e.current;if(t)return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o);function o(){const e=t.getBoundingClientRect();s(e.width)}}),[e]),t}},"./app/utils/hooks/useEventListener.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;const a=(0,o.useRef)(null);(0,o.useEffect)((()=>{a.current=t}),[t]),(0,o.useEffect)((()=>{const t=n?.addEventListener;if(!t)return;const o=e=>a.current(e);return n.addEventListener(e,o,s),()=>{n.removeEventListener(e,o)}}),[e,n])}},"./app/utils/hooks/useFeature_DEPRECATED.ts":(e,t,s)=>{"use strict";s.d(t,{Hm:()=>p,XN:()=>c,ZP:()=>u,f7:()=>d});var o=s("./node_modules/react-redux/es/index.js"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/api-client.ts"),i=s("./app/utils/hooks/useAuthentication.ts"),r=s("./app/utils/hooks/useSelector.ts");const l=e=>{const[t]=(0,i.J)();return`${t}-useFeatures-${e.asTeamId||"all"}`},c=e=>{const t=l(e),{mutate:s}=(0,n.ZP)(t,a.N$,{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1});return s},d=e=>{let{feature:t,asTeamId:s,suspense:o,swrOpts:i={}}=e;const r=l({asTeamId:s}),{data:c}=(0,n.ZP)(r,(()=>(0,a.N$)({asTeamId:s})),{suspense:o,refreshInterval:5e3,...i});if(!c?.features)return null;const d=c.features.permitted?.[t],p=c.features.used?.[t];return"number"!=typeof d&&"Infinity"!==d||"number"!=typeof p?d??null:{permitted:c.features.permitted[t],used:c.features.used[t]}},p=e=>{let{asTeamId:t,suspense:s,swrOpts:o={}}=e;const i=l({asTeamId:t}),{data:r}=(0,n.ZP)(i,(()=>(0,a.N$)({asTeamId:t})),{suspense:s,refreshInterval:5e3,...o});return r?.features},u=e=>{const t=(0,r.Z)((e=>e.features),o.wU);if(t){const s=t.permitted?.[e],o=t.used?.[e];let n=s;"number"==typeof s&&o&&"number"==typeof o&&(n=Math.max(s-o,0));return t.featuresResolved?n:null}return null}},"./app/utils/hooks/useFeatures.ts":(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var o=s("./app/api/user.ts"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/utils/hooks/useAuthentication.ts");const i=e=>{const[t]=(0,a.J)(),{data:s,...i}=(0,n.ZP)(((e,t)=>`${e}-features-${t}`)(t,e),(()=>(0,o.N$)(e)),{suspense:!0});return{...i,data:s}}},"./app/utils/hooks/useFlipbackState.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const s=(0,o.useRef)(null),[n,a]=(0,o.useState)(e),i=(0,o.useCallback)((o=>{null!==s.current&&clearTimeout(s.current),a(o),s.current=window.setTimeout((()=>{null!==s.current&&a(e)}),t)}),[e,t]);return(0,o.useEffect)((()=>()=>{s.current&&(clearTimeout(s.current),s.current=null)}),[]),[n,i]}},"./app/utils/hooks/useHasAvailableVideoProjects.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var o=s("./app/utils/hooks/useNumVideoProjects.tsx");const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{suspense:!1};const{permitted:s,used:n}=(0,o.d)(e,t);return"Infinity"===s||s>n}},"./app/utils/hooks/useHasGen2NewPromptReveal.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/types/features.ts"),a=s("./app/utils/hooks/useFeatures.ts");const i=()=>{const e=(0,o.Qt)({suspense:!0}),{data:t}=(0,a.h)(e.id);return t.permitted[n.G.Gen2NewPromptReveal]??!1}},"./app/utils/hooks/useHasQAEngineerInterviewAccess.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/types/features.ts"),a=s("./app/utils/hooks/useFeatures.ts");const i=()=>{const e=(0,o.I7)({suspense:!0}),{data:t}=(0,a.h)(e.id);return t.permitted[n.G.QaEngineerInterview]??!1}},"./app/utils/hooks/useHasUserProfilePageAccess.ts":(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var o=s("./app/types/features.ts"),n=s("./app/utils/hooks/useFeature_DEPRECATED.ts");const a=function(){let{suspense:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!0===(0,n.f7)({feature:o.G.UserProfiles,suspense:e})}},"./app/utils/hooks/useHasWorkflowsAccess.ts":(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var o=s("./app/types/features.ts"),n=s("./app/utils/hooks/useFeatures.ts");const a=e=>{const{data:t}=(0,n.h)(e);return t.permitted[o.G.Workflows]}},"./app/utils/hooks/useHotkeys.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/react/index.js");const a={ctrlKey:"Control",metaKey:"Meta",shiftKey:"Shift"},i={1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},r={"!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0"},l=",",c=(e,t)=>{const[s,o]=(e=>{const t=e.split(l),s={ctrlKey:!1,metaKey:!1,shiftKey:!!r[e]};let o="";return t.forEach((e=>{for(const t in a)e.toUpperCase()===a[t].toUpperCase()?s[t]=!0:o=e})),[o,s]})(e);if(!t?.key||!s)return!1;if(t.key.toUpperCase()!==s.toUpperCase())return!1;for(const e in o)if(t[e]!==o[e])return!1;return!0},d=(e,t)=>{const s=(0,n.useRef)(null);(0,n.useEffect)((()=>{s.current=(e=>{let t={...e};return Object.keys(t).forEach((s=>{const o=s.split(l),n=o.filter((e=>!isNaN(Number(e))));if(2===o.length&&o.includes("Shift")&&1===n.length){const o=i[n[0]];t={...t,[o]:e[s]}}})),t})(e)}),[e]);const r=e=>(e||"").toUpperCase(),d=(0,n.useRef)({}),p=(0,n.useRef)([]),u=(0,n.useRef)(!1),m=(0,n.useCallback)((e=>{p.current=[];const n=r(e.key),i=d.current[n];if((0,o.includes)(a,(0,o.capitalize)(n))&&(u.current=!0),i&&!u.current)return;const m=Object.keys(s.current).reverse();for(let o=0;o<m.length;o++){const a=m[o];if(h(a)){const o=a.split(l);for(let e=0;e<o.length;e++)n!==r(o[e])||i||(d.current[n]=!0);if(o.every((e=>d.current[r(e)]))){const i=s.current[a];(i.down?i.down:i)(e,t),p.current=[...o],d.current[n]=!1;break}}else if(c(a,e)){if(a.includes(l)){const e=a.split(l).slice(-1)[0];p.current.includes(e)||p.current.push(e)}const o=s.current[a];(o.down?o.down:o)(e,t),d.current[n]=!0;break}}}),[t]),h=e=>{if(!e.includes(l))return!1;return!e.split(l).find((e=>Object.values(a).includes(e)))},g=(0,n.useCallback)((e=>{const n=r(e.key);let i=!1;p.current.find((e=>e===n))&&(delete d.current[n],p.current=p.current.filter((e=>e!==n)),i=!0);for(const e in s.current)if(e.includes(l)){const t=e.split(l),s=t[0].toUpperCase(),o=t[t.length-1].toUpperCase();n===s&&d.current[o]&&delete d.current[o]}if(!i){d.current[n]&&(delete d.current[n],(0,o.includes)(a,(0,o.capitalize)(n))&&(u.current=!1));for(const o in s.current)if(c(o,e)){const n=s.current[o];n?.up&&n.up(e,t);break}}}),[t]);(0,n.useEffect)((()=>(window.addEventListener("keydown",m),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)})),[m,g])}},"./app/utils/hooks/useHover.ts":(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var o=s("./node_modules/react/index.js"),n=s("./app/utils/environment.ts"),a=s("./app/utils/hooks/useSafeState.ts");function i(){const e=(0,o.useRef)(null),[t,s]=(0,a.Z)(!1);return(0,o.useEffect)((()=>{const t=()=>s(!0),o=()=>s(!1),n=e?.current;return n&&(n.addEventListener("mouseover",t),n.addEventListener("mouseleave",o)),()=>{n&&(n.removeEventListener("mouseover",t),n.removeEventListener("mouseleave",o))}}),[s]),[e,!(0,n.tq)()&&t]}},"./app/utils/hooks/useImage.ts":(e,t,s)=>{"use strict";s.d(t,{d9:()=>d,wD:()=>p});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/react/index.js"),a=(s("./app/store.ts"),s("./app/streams/utils.ts")),i=s("./app/utils/urls.ts"),r=s("./app/utils/hooks/useSafeState.ts"),l=s("./app/utils/hooks/useSelector.ts");const c={image:null,status:"loading"},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=(0,r.Z)(c),o=s[0].image,a=s[0].status,[d,u]=(0,n.useState)(!1),m=s[1],h=(0,l.Z)((e=>e.videoEditor.composition.settings.width)),g=(0,l.Z)((e=>e.videoEditor.composition.settings.height));return(0,n.useEffect)((()=>{if(!e)return;const s=document.createElement("img");let o=(0,i.ff)(e);const n=()=>{m({image:s,status:"loaded"})},a=e=>{let{currentTarget:t}=e;d?m({image:null,status:"failed"}):(u(!0),t.src=o)};return s.addEventListener("load",n),s.addEventListener("error",a),t&&!(0,i.Gu)(o)&&(s.crossOrigin="anonymous",o=`${o}?rand=${Math.random()}`),s.src=p(o,h,g),()=>{s.removeEventListener("load",n),s.removeEventListener("error",a),m(c)}}),[e,t,g,h,d,m]),[o,a]},p=(e,t,s)=>{if(!e)return"";if("https"===e)return(0,o.uT)('getImgUrl: url is "https"'),"";const n=e.split("?")[0].split(".").pop();if(!["jpg","jpeg","png"].includes(n.toLowerCase()))return e;const i=`/raw_image/commands/${"png"===n?"scaled_image":"compressed_image"}/result.${n?.toLowerCase()}`;return(0,a.cU)({path:i,urlParams:{input_image:e,input_max_width:t,input_max_height:s},hardware:"cpu",priority:"low",subdomain:"images"})}},"./app/utils/hooks/useImmediateEffect.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=(e,t)=>{const s=(0,o.useRef)(null);(0,o.useMemo)((()=>{s.current&&s.current(),s.current=e()}),t)}},"./app/utils/hooks/useIsMountedRef.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=()=>{const e=(0,o.useRef)(!1);return(0,o.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},"./app/utils/hooks/useMediaQuery.ts":(e,t,s)=>{"use strict";s.d(t,{Ce:()=>i,Gc:()=>l,Px:()=>p,YQ:()=>c,Z8:()=>d,ac:()=>a,dD:()=>r});var o=s("./app/devoe/themeBase.ts"),n=s("./node_modules/react/index.js");const a=e=>{const[t,s]=(0,n.useState)((()=>window.matchMedia(e).matches));return(0,n.useEffect)((()=>{const t=window.matchMedia(e);s(t.matches);const o=e=>{s(e.matches)};return t.addEventListener("change",o),()=>t.removeEventListener("change",o)}),[t,e]),t},i=()=>a("(min-width: 1024px)"),r=()=>!i(),l=e=>a(`(min-width: ${e})`),c=()=>a("(pointer: coarse)"),d=()=>{const e=c();return a(`(max-width: ${o.u.breakpoints.xs})`)||e},p=e=>a(`(max-width: ${o.u.breakpoints[e]})`)},"./app/utils/hooks/useNumVideoProjects.tsx":(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var o=s("./app/utils/hooks/useFeature_DEPRECATED.ts");const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{suspense:!1};const s=(0,o.f7)({feature:"numVideoProjects",asTeamId:e,suspense:t.suspense}),n=(0,o.f7)({feature:"numTeamVideoProjects",asTeamId:e,suspense:t.suspense}),i=a({numVideoProjects:s,numTeamVideoProjects:n});if(null===i)return{permitted:0,used:0};const{permitted:r,used:l}=i;return"Infinity"===r?{permitted:1/0,used:l}:{permitted:r,used:l}},a=e=>{let{numTeamVideoProjects:t,numVideoProjects:s}=e;return null!==s?s:null!==t?t:null}},"./app/utils/hooks/useObservables.ts":(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var o=s("./app/utils/hooks/useSafeState.ts"),n=s("./node_modules/react/index.js");const a=e=>{const[t,s]=(0,o.Z)(e.get()),a=(0,n.useCallback)((t=>{e.set(t)}),[e]);return(0,n.useEffect)((()=>e.subscribe(s)),[e]),[t,a]}},"./app/utils/hooks/useOnClickOutside.ts":(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var o=s("./node_modules/react/index.js");const n=(e,t)=>{(0,o.useEffect)((()=>{const s=s=>{!e?.current||s.target&&e.current.contains(s.target)||t(s)};return document.addEventListener("mousedown",s),document.addEventListener("pointerdown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("pointerdown",s),document.removeEventListener("touchstart",s)}}),[e,t])}},"./app/utils/hooks/useOptedOutOfRatingsForMagicTool.ts":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>p,ZX:()=>d,yi:()=>c});var o=s("./app/components/Views/MagicTools/hooks/useCurrentMagicToolInformation.ts"),n=s("./node_modules/leva/dist/leva.esm.js"),a=s("./node_modules/react/index.js"),i=s("./app/utils/hooks/useDebugControls.ts"),r=s("./app/utils/hooks/useUserProperties.ts");const l=e=>{const[t,,s]=(0,r.Z)("optedOutOfRatingsUIForMagicTool",{});return[Boolean(t?.[e]),(0,a.useCallback)((t=>{s(t?[{path:`/optedOutOfRatingsUIForMagicTool/${e}`,op:"add",value:!0}]:[{path:`/optedOutOfRatingsUIForMagicTool/${e}`,op:"remove"}])}),[s,e])]},c=e=>{const[,t]=l(e),s=(0,a.useCallback)((()=>{t(!1)}),[t]);return(0,i.Z)(`Reset "opted out of ratings" state for ${e} Magic Tool`,{Reset:(0,n.LI)(s)},[e,s]),null},d=()=>{const e=(0,o.y7)(),[t]=l(e);return t},p=l},"./app/utils/hooks/usePromise.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./node_modules/react/index.js");const i={pending:"pending",rejected:"rejected",resolved:"resolved"},r={inputs:null,error:void 0,result:void 0,state:i.pending};function l(e,t){switch(t.type){case i.pending:return{...r,inputs:t.inputs};case i.resolved:return{...e,error:void 0,result:t.payload,state:i.resolved};case i.rejected:return{...e,error:t.payload,result:void 0,state:i.rejected};default:return e}}const c=function(e,t){const[{error:s,result:o,state:c,inputs:d},p]=(0,a.useReducer)(l,r),u=n().isEqual(d,t);return(0,a.useEffect)((()=>{if(e=function(e){return"function"==typeof e?e():e}(e),p({type:i.pending,inputs:t}),!e)return;let s=!1;return e.then((e=>!s&&p({payload:e,type:i.resolved})),(e=>!s&&p({payload:e,type:i.rejected}))),()=>{s=!0}}),t),[e&&u?o:null,s,c]}},"./app/utils/hooks/useRaf.ts":(e,t,s)=>{"use strict";s.d(t,{D:()=>a,Z:()=>i});var o=s("./node_modules/framesync/dist/es/index.mjs"),n=s("./node_modules/react/index.js");const a=(e,t)=>{const s=(0,n.useRef)(0),a=(0,n.useCallback)((o=>{if(null==t)return void e(o);const n=1e3/t,a=o.timestamp-s.current;a>n&&(e(a),s.current=o.timestamp)}),[e,t]);(0,n.useEffect)((()=>(o.ZP.update(a,!0),()=>o.qY.update(a))),[a])},i=e=>{let{enabled:t=!1,callback:s,type:a}=e;const i=(0,n.useRef)(null),r=(0,n.useRef)(null),l=(0,n.useCallback)((e=>{r.current=o.ZP[a](l);const t=i.current?e-i.current:0;i.current=e,s(t)}),[s,a]);(0,n.useEffect)((()=>{if(t)return i.current=null,r.current=o.ZP[a](l),()=>{o.qY[a](r.current)}}),[t,l,a])}},"./app/utils/hooks/useRecentAssetUploads.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,h:()=>a});var o=s("./app/utils/observables.ts"),n=s("./app/utils/hooks/useObservables.ts");const a=new o.y([]),i=()=>{const[e]=(0,n.m)(a);return e}},"./app/utils/hooks/useRedirectTo.ts":(e,t,s)=>{"use strict";s.d(t,{iJ:()=>n,pT:()=>o});s("./node_modules/react/index.js");const o="redirectTo",n=e=>{const t=new URLSearchParams(e).get(o);return t&&t.startsWith("/")?t:null}},"./app/utils/hooks/useResizeObserver.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./node_modules/react/index.js"),n=s("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),a=s("./app/utils/hooks/useSafeState.ts");const i=e=>{let{ref:t,element:s,callback:i}=e;const[r,l]=(0,o.useState)({bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}),c=e=>{const[t]=e,s=e.map((e=>e.target)),o=s.map((e=>e.getBoundingClientRect()));i&&i(t),l(t.contentRect);const n=s.map((e=>e.getBoundingClientRect())),a=s.filter(((e,t)=>o[t].width!==n[t].width||o[t].height!==n[t].height));a.forEach((e=>d.unobserve(e))),window.requestAnimationFrame((()=>{a.forEach((e=>d.observe(e)))}))},[d]=(0,a.Z)((()=>new n.Z(c)));return(0,o.useEffect)((()=>{if(!d)return;let e;return t?e=t.current:s&&(e=s),e&&d.observe(e),()=>{e&&d.unobserve(e),d.disconnect()}}),[d,s,t]),r}},"./app/utils/hooks/useSafeState.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=e=>{const[t,s]=(0,o.useState)(e),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);return[t,(0,o.useCallback)((e=>n.current&&s(e)),[])]}},"./app/utils/hooks/useSelector.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s("./node_modules/react-redux/es/index.js"),n=s("./app/store.ts"),a=s("./app/components/Views/VideoTools/VideoEditor/CacheRenderer/Cache.tsx");const i=(0,o.gR)(o.ET),r=function(){const e=(0,a.Q)();for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const r=i(...s);return e?s[0]({...n.Z.getState(),...e}):r}},"./app/utils/hooks/useSetDocumentHeight.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,f:()=>a});var o=s("./node_modules/react/index.js");const n="--doc-height",a=`var(${n})`,i=()=>{o.useLayoutEffect((()=>{const e=()=>{document.documentElement.style.setProperty(n,`${window.innerHeight}px`)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[])}},"./app/utils/hooks/useSetSavedGen2Settings.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>r,Z:()=>l});var o=s("./app/components/Views/MagicTools/MagicTool/Gen2MagicTool/utils/useGen2Service.tsx"),n=s("./node_modules/@xstate/react/es/useSelector.js"),a=s("./node_modules/react/index.js"),i=s("./app/utils/hooks/useUserProperties.ts");const r=e=>({upscale:e.upscale,interpolate:e.interpolate,removeWatermark:e.removeWatermark}),l=()=>{const e=(0,o.b)(),t=(0,n.v)(e,(e=>{let{context:t}=e;return t.promptInput.values.settings})),s=r(t),[l,c]=(0,i.Z)("gen2Settings",s);return(0,a.useCallback)((e=>{c({...s,...e})}),[s,c])}},"./app/utils/hooks/useShouldShowGen2OnePrompt.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./app/api/hooks/useTeams.ts"),n=s("./app/types/features.ts"),a=s("./app/utils/hooks/useFeatures.ts");function i(){const e=(0,o.Qt)({suspense:!0}),{data:t}=(0,a.h)(e.id);return t.permitted[n.G.Gen2OnePrompt]??!1}},"./app/utils/hooks/useTimeout.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./node_modules/react/index.js");const n=(e,t)=>{const s=(0,o.useRef)(null);(0,o.useEffect)((()=>{s.current=e}),[e]),(0,o.useEffect)((()=>{if(s.current){const e=setTimeout(s.current,t);return()=>clearTimeout(e)}}),[t])}},"./app/utils/hooks/useUndoableOnChangeCallback.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/react-redux/es/index.js");const i=function(e,t){const s=(0,n.useRef)(!1),i=(0,a.I0)(),r=(0,n.useCallback)((0,o.debounce)((()=>{s.current?(s.current=!1,i({type:"history/STOP_RECORDING"})):(s.current=!0,i({type:"history/START_RECORDING"}))}),250,{leading:!0,trailing:!0}),[]),l=(0,n.useRef)(e);l.current=e;return(0,n.useCallback)((function(){r(),r(),l.current&&l.current(...arguments)}),[r,...t])}},"./app/utils/hooks/useUserProperties.ts":(e,t,s)=>{"use strict";s.d(t,{W:()=>u,Z:()=>m});var o=s("./node_modules/fast-json-patch/index.mjs"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/p-queue/dist/index.js"),i=s("./node_modules/react/index.js"),r=s("./node_modules/swr/dist/index.mjs"),l=s("./app/api/user-properties.ts"),c=s("./app/utils/hooks/useAuthentication.ts");const d=(0,n.debounce)(l.jw,250,{trailing:!0}),p=new a.Z({concurrency:1}),u=function(){let{asTeamId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{suspense:!0};const[s]=(0,c.J)();return(0,r.ZP)([s,"useUserProperties",e],(async()=>{const{userProperties:t}=await(0,l.sh)(void 0,{asTeamId:e});return t}),{...t,revalidateOnFocus:!1,revalidateOnMount:!1,revalidateOnReconnect:!1})},m=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suspense:!0},{asTeamId:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{data:r,mutate:c}=u({asTeamId:a},{...s,revalidateOnFocus:!1,revalidateOnMount:!1,revalidateOnReconnect:!1}),m=(0,i.useMemo)((()=>r?void 0===r[e]?t:r[e]:t),[r,e,t]),h=(0,i.useCallback)((function(t){let{asTeamId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c((s=>({...s,[e]:t})),!1),d({[e]:t},{asTeamId:s})?.catch((()=>{}))}),[c,e]),g=(0,i.useCallback)((function(t){let{asTeamId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===r?.[e]&&(t=[{path:`/${e}`,op:"add",value:m},...t]),c((e=>(0,o.af)((0,n.cloneDeep)(e),t).newDocument),!1),(async e=>{try{await p.add((()=>e))}catch(e){throw p.clear(),new Error(e)}})((0,l.p)({jsonPatch:t,asTeamId:s}))}),[r,e,c,m]);return[m,h,g]}},"./app/utils/hooks/useWindowSize.ts":(e,t,s)=>{"use strict";s.d(t,{f:()=>i,i:()=>a});var o=s("./node_modules/react/index.js"),n=s("./app/utils/hooks/useSafeState.ts");const a=()=>{const[e,t]=(0,n.Z)({width:void 0,height:void 0});return(0,o.useEffect)((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e},i=(e,t)=>{const s=(0,o.useRef)(null);(0,o.useEffect)((()=>(s.current?.abort(),s.current=new AbortController,window.addEventListener("resize",e,{signal:s.current?.signal}),t&&e(),()=>{window.removeEventListener("resize",e)})),[e,t])}},"./app/utils/http.ts":(e,t,s)=>{"use strict";s.d(t,{D3:()=>h,HT:()=>g,XD:()=>d,a4:()=>f,e5:()=>m,oo:()=>u,uO:()=>y,yY:()=>x,zl:()=>l});var o=s("./node_modules/p-retry/index.js"),n=s.n(o),a=s("./app/utils/auth.ts"),i=s("./app/utils/constants.ts");const r={Accept:"application/json","Content-Type":"application/json"},l=()=>{const e=(0,a.bW)();return e?{Authorization:`Bearer ${e}`}:{}},c=async function(e){let t;try{t=await fetch(e);const s=t.headers.get("Content-Type"),o=s?.includes("application/json"),n=o?await t.json():await t.text();if(t.ok&&!n?.error)return n;throw u.fromHttpResponse(t,n)}catch(e){throw u.fromHttpResponse(t,void 0,e)}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n()(e,{onFailedAttempt:async e=>{if(e instanceof u&&!e.retryable)throw e},retries:4,...t})},p=[408,409,418,429,500,502,503,504];class u extends Error{httpStatus;retryable;constructor(e,t,s){super(e),this.httpStatus=t,this.retryable=s}static fromHttpResponse(e,t,s){const o=t?.error??s?.message,n=e?.status;if(t?.reason?.startsWith("SAFETY"))return new m(t,n);let a=!0;return n&&(a=e.ok||p.includes(e.status)),new u(o,n,a)}}class m extends u{reason;moderationCategory;message;tallyAsimov;constructor(e,t){super(e.message,t,!1),this.reason=e.reason,this.moderationCategory=e.moderation_category,this.message=e.message,this.tallyAsimov=e.tally_asimov}static fromTask(e){if(!e.error)return null;const{message:t,moderation_category:s,reason:o,tally_asimov:n}=e.error;return o?.startsWith("SAFETY")?new m({message:t,moderation_category:s,reason:o,tally_asimov:n},403):null}getContentModeratedMediaType(){const[e,t,s]=this.reason.split(".");return s??""}getContentModeratedIOType(){const[e,t]=this.reason.split(".");return t??""}shouldFlagContentFiltered(){return this.tallyAsimov}}const h=function(e){return e instanceof u},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.startsWith(i.T5)&&(t={...l(),...t}),await c(new Request(e,{method:"GET",headers:{...r,...t}}))},f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.startsWith(i.T5)&&(s={...l(),...s}),await c(new Request(e,{method:"POST",headers:{...r,...s},body:JSON.stringify(t)}))},y=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.startsWith(i.T5)&&(s={...l(),...s}),await c(new Request(e,{method:"PUT",headers:{...r,...s},body:JSON.stringify(t)}))},x=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.startsWith(i.T5)&&(s={...l(),...s}),await c(new Request(e,{method:"DELETE",headers:{...r,...s},body:JSON.stringify(t)}))}},"./app/utils/image.ts":(e,t,s)=>{"use strict";s.d(t,{Cv:()=>n,po:()=>a});s("./app/utils/constants.ts");var o=s("./app/utils/urls.ts");const n=(e,t,s)=>new Promise((n=>{const a=new Image;a.crossOrigin="anonymous",a.addEventListener("load",(()=>{let e=document.createElement("canvas");const o=t||a.width,i=s||a.height;e.width=o,e.height=i;e.getContext("2d").drawImage(a,0,0,o,i);let r="";r=e.toDataURL("image/jpeg"),e=null,n(r)})),a.src=`${(0,o.ff)(e)}?t=${Date.now()}`})),a=e=>new Promise(((t,s)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(n),n.onerror=s,n.src=(0,o.ff)(e)}))},"./app/utils/isDev.ts":(e,t,s)=>{"use strict";s.d(t,{r:()=>o});const o=()=>!1},"./app/utils/isTeamsRoute.ts":(e,t,s)=>{"use strict";s.d(t,{B:()=>n});var o=s("./node_modules/react-router/esm/react-router.js");const n=e=>(0,o.LX)(e,{path:["/video-tools/teams/:teamName","/teams/:teamName"],exact:!1,strict:!1})},"./app/utils/links.ts":(e,t,s)=>{"use strict";s.d(t,{n:()=>o});const o=(e,t)=>{const s=document.createElement("a");s.href=e,s.target=t||"_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s),s.remove()}},"./app/utils/merge-refs.ts":(e,t,s)=>{"use strict";s.d(t,{l:()=>o});const o=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>t.forEach((t=>{"function"==typeof t?t(e):t&&(t.current=e)}))}},"./app/utils/mixpanel.ts":(e,t,s)=>{"use strict";s.d(t,{l:()=>a});var o=s("./node_modules/lodash/lodash.js");class n{_includes=(e,t)=>-1!==e.indexOf(t);_strip_empty_properties=e=>{const t={};return(0,o.each)(e,(function(e,s){(0,o.isString)(e)?e.length>0&&(t[s]=e):t[s]=e})),t};browser=(e,t,s)=>(t=t||"",s||this._includes(e," OPR/")?this._includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":this._includes(e,"IEMobile")||this._includes(e,"WPDesktop")?"Internet Explorer Mobile":this._includes(e,"SamsungBrowser/")?"Samsung Internet":this._includes(e,"Edge")||this._includes(e,"Edg/")?"Microsoft Edge":this._includes(e,"FBIOS")?"Facebook Mobile":this._includes(e,"Chrome")?"Chrome":this._includes(e,"CriOS")?"Chrome iOS":this._includes(e,"UCWEB")||this._includes(e,"UCBrowser")?"UC Browser":this._includes(e,"FxiOS")?"Firefox iOS":this._includes(t,"Apple")?this._includes(e,"Mobile")?"Mobile Safari":"Safari":this._includes(e,"Android")?"Android Mobile":this._includes(e,"Konqueror")?"Konqueror":this._includes(e,"Firefox")?"Firefox":this._includes(e,"MSIE")||this._includes(e,"Trident/")?"Internet Explorer":this._includes(e,"Gecko")?"Mozilla":"");browserVersion=(e,t,s)=>{const o={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[this.browser(e,t,s)];if(void 0===o)return null;const n=e.match(o);return n?`${parseFloat(n[n.length-2])}`:null};device=e=>/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":"";referringDomain=e=>{const t=e.split("/");return t.length>=3?t[2]:""};os=e=>/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":"";get=()=>{let e;if("undefined"==typeof window){const t={hostname:""};e={navigator:{userAgent:""},document:{location:t,referrer:""},screen:{width:0,height:0},location:t}}else e=window;const t=e.navigator;return this._strip_empty_properties({$browser:this.browser(t.userAgent,t.vendor,e.opera),$browser_version:this.browserVersion(t.userAgent,t.vendor,e.opera),$current_url:e.location.href,$device:this.device(t.userAgent),$referrer:e.document.referrer,$referring_domain:this.referringDomain(e.document.referrer),$os:this.os(t.userAgent),$screen_height:e.screen.height,$screen_width:e.screen.width})}}const a=()=>(new n).get()},"./app/utils/number.ts":(e,t,s)=>{"use strict";s.d(t,{BI:()=>m,DT:()=>a,E5:()=>d,F0:()=>l,J0:()=>u,KK:()=>r,Nm:()=>n,cR:()=>c,d0:()=>h,oC:()=>p,ot:()=>i});var o=s("./node_modules/lodash/lodash.js");const n=(e,t)=>Math.round(e/t)*t,a=function(e,t){const s=e%t;return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?e+(t-s):e-s},i=(e,t,s)=>t.reduce(((t,o)=>{const n=s?s(t):t,a=s?s(o):o;return Math.abs(a-e)<Math.abs(n-e)?o:t})),r=function(e,t,s,o,n){const a=(e-t)*(n-o)/(s-t)+o;return arguments.length>5&&void 0!==arguments[5]&&arguments[5]?Math.min(Math.max(o,a),n):a},l=(e,t,s,o,n)=>{const a=Math.log(o),i=(Math.log(n)-a)/(s-t);return Math.exp(a+i*(e-t))},c=e=>Math.floor(e)===e?0:e.toString().split(".")[1].length||0,d=function(e){const t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);return Math.round((e+Number.EPSILON)*t)/t},p=e=>{let t=[];e.forEach((e=>{let[s,o]=e;t.push([s,"start"]),t.push([o,"end"])})),t=t.sort(((e,t)=>e[0]-t[0]));let s=0,o=0;return t.forEach((e=>{let[,t]=e;"start"===t?s+=1:s-=1,o=Math.max(s,o)})),o},u=(e,t)=>{let s=0;return e.forEach((e=>{let[o,n]=e;t>=o&&t<=n&&(s+=1)})),s},m=e=>{if(!e?.length)return!1;const t=Math.min(...e),s=Math.max(...e),n=(0,o.range)(t,s+1);return(0,o.isEqual)([...e].sort(),n)},h=e=>{let{value:t,min:s=0,max:o}=e;const n=o-s;return((t-s)%n+n)%n+s}},"./app/utils/observables.ts":(e,t,s)=>{"use strict";s.d(t,{y:()=>o});class o{_listeners;constructor(e){this._val=e,this._listeners=[]}get(){return this._val}set(e){this._val!==e&&(this._val=e,this._listeners.forEach((t=>t(e))))}update(e){this.set(e(this.get()))}subscribe(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter((t=>t!==e))}}}},"./app/utils/openInCurrentOrNewWindow.ts":(e,t,s)=>{"use strict";s.d(t,{o:()=>n,w:()=>a});var o=s("./app/utils/history.ts");const n=e=>{window.open(e,"_blank","noopener")},a=(e,t)=>{if(!t)return void o.m.push(e);let s=t.metaKey||t.ctrlKey;(function(e){return void 0!==e.button})(t)&&(s=s||1===t.button),s?n(e):o.m.push(e)}},"./app/utils/preventDragAndDropDefaults.ts":()=>{document.addEventListener("dragover",(e=>e.preventDefault())),document.addEventListener("drop",(e=>e.preventDefault()))},"./app/utils/reader.ts":(e,t,s)=>{"use strict";s.d(t,{G:()=>n,kC:()=>a});var o=s("./app/constants/reader.ts");const n=(e,t)=>async s=>{let{data:{type:o,data:n}}=s;t?.before?.call(void 0,o,n);const a=e[o];a?(await a(n),t?.after?.call(void 0)):t?.onError?.call(void 0,o,n)},a=e=>({segmentIndex:Math.floor(e/o.fi),index:e%o.fi})},"./app/utils/routes.ts":(e,t,s)=>{"use strict";s.d(t,{J_:()=>l,cI:()=>c,iP:()=>i,it:()=>n,rf:()=>r,ub:()=>a});var o=s("./app/utils/history.ts");const n=e=>e?e.split("/").filter((e=>e)):[],a=e=>new URLSearchParams(window.location.search.substring(1)).get(e),i=e=>{o.m.push("/signup",{from:location.pathname,search:location.search,eventName:e})},r=e=>{o.m.push("/login",{from:location.pathname,search:location.search,eventName:e})},l=e=>{let{toolId:t,teamName:s}=e;return`/video-tools/teams/${s}/ai-tools/${t}`},c=e=>{let{videoId:t,teamName:s}=e;return s?`/video-tools/teams/${s}/watch/${t}`:`/watch/${t}`}},"./app/utils/routes_constants.ts":(e,t,s)=>{"use strict";s.d(t,{U:()=>o});const o=["/ai-tools/:recipeId","/video-tools/teams/:teamId/ai-tools/:recipeId"]},"./app/utils/sort.ts":(e,t,s)=>{"use strict";s.d(t,{C:()=>o});const o=(e,t,s)=>{let o=0;switch(typeof(e||t||"")){case"string":case"number":o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare(String(e),String(t));break;case"boolean":o=e-t;break;case"object":e instanceof Date&&t instanceof Date&&(o=e.getTime()-t.getTime());break;default:o=0}return"descending"===s&&(o*=-1),o}},"./app/utils/string.ts":(e,t,s)=>{"use strict";s.d(t,{AO:()=>n,Oo:()=>o,T4:()=>a});const o=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,n=e=>e.trim().split(/[\n\r\s]+/).map(((e,t)=>e.split("").map((()=>t)))).flat(),a=e=>e.replaceAll(/[\n\r\s]+/g,"").length},"./app/utils/tar.ts":(e,t,s)=>{"use strict";s.d(t,{Rh:()=>n,Rn:()=>o});s("./app/utils/files.ts");class o{buffer;currentOffset;constructor(e){this.buffer=e,this.currentOffset=0}size(){return this.buffer.byteLength}read(e){const t=this.currentOffset,s=this.currentOffset+e;return this.currentOffset=Math.min(this.size(),s),new Blob([this.buffer.slice(t,s)])}hasReachedEnd(){return this.currentOffset>=this.size()}}class n{file;currentOffset;constructor(e){this.file=e,this.currentOffset=0}size(){return this.file.size}hasReachedEnd(){return this.currentOffset>=this.size()}read(e){const t=this.currentOffset,s=this.currentOffset+e;return this.currentOffset=Math.min(this.size(),s),this.file.slice(t,s)}}},"./app/utils/tasks.tsx":(e,t,s)=>{"use strict";s.d(t,{dw:()=>n});s("./app/api/assets.ts"),s("./app/api/tasks.ts"),s("./app/utils/time.ts");const o=["FAILED","SUCCEEDED","CANCELLED"],n=e=>o.includes(e)},"./app/utils/teams.ts":(e,t,s)=>{"use strict";s.d(t,{F3:()=>i,UW:()=>r,_9:()=>n,rI:()=>l});var o=s("./app/constants/teams.ts");const n=e=>e.length>o.Pn?`${e.substring(0,o.Pn)}...`:e,a={"The workspace has reached its editor seats limit":"quota"},i=(e,t)=>{const s=[],o=[],n=[],i=[];for(let r=0;r<e.length;r++){const l=e[r];if("fulfilled"===l.status)s.push(r),o.push(t[r]);else if(i.push(t[r]),l.reason instanceof Error){const e=a[l.reason.message]||"unknown";n.push([r,e])}else n.push([r,"unknown"])}if(0===n.length){return{outcome:"success",message:`Invite${s.length>1?"s":""} sent!`,successful:o,failed:i}}const r=n.some((e=>{let[,t]=e;return"quota"===t}));if(0===s.length)return r?{outcome:"failure",message:`Failed to invite workspace member${n.length>1?"s":""} because the workspace has reached its editor seats limit.`,successful:o,failed:i}:{outcome:"failure",message:`Failed to invite workspace member${n.length>1?"s":""}.`,successful:o,failed:i};let l=`Successfully invited ${s.length} member${s.length>1?"s":""} but failed to invite ${n.length} member${n.length>1?"s":""}`;return l+=r?" because the workspace has reached its editor seats limit.":".",{outcome:"mix",message:l,successful:o,failed:i}};let r=function(e){return e[e.Unknown=0]="Unknown",e[e.Viewer=1]="Viewer",e[e.Editor=2]="Editor",e[e.Admin=3]="Admin",e[e.Owner=4]="Owner",e}({});const l=e=>{switch(e){case"viewer":return r.Viewer;case"editor":return r.Editor;case"admin":return r.Admin;case"owner":return r.Owner;default:return r.Unknown}}},"./app/utils/time.ts":(e,t,s)=>{"use strict";s.d(t,{Nl:()=>a,TIME_UNITS:()=>o,Tx:()=>r,gw:()=>n,j0:()=>l,wN:()=>i});const o={HOUR:"h",MINUTE:"m",SECOND:"s"},n=e=>new Promise((t=>setTimeout(t,e))),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isNaN(e)||e===1/0?"":(t&&(t+=1),new Date(1e3*e).toISOString().substr(14,5+t))},i=e=>new Date(1e3*e).toISOString().substr(14,8),r=e=>{if(0===e)return{value:0,unit:""};const t=Math.floor(e/60),s=Math.round(e%60),n=Math.round(t%60);return 0===s?0===n?{value:t/60,unit:o.HOUR}:{value:n,unit:o.MINUTE}:{value:s,unit:o.SECOND}},l=e=>[Math.floor(e/3600)%24,Math.floor(e/60)%60,Math.floor(e%60)].map((e=>e<10?`0${e}`:e)).filter(((e,t)=>"00"!==e||t>0)).join(":")},"./app/utils/trackEvent.ts":(e,t,s)=>{"use strict";s.d(t,{L:()=>a});var o=s("./app/actions/ui.ts"),n=s("./app/store.ts");const a=e=>{n.Z.dispatch((0,o.EK)(e))}},"./app/utils/truncateString.ts":(e,t,s)=>{"use strict";s.d(t,{a:()=>o});const o=(e,t)=>e.length>t?`${e.slice(0,t-3)}...`:e},"./app/utils/uploads.ts":(e,t,s)=>{"use strict";s.d(t,{ki:()=>m,m1:()=>k,iP:()=>T,Ns:()=>C,ax:()=>v,cT:()=>y,bW:()=>S,Mj:()=>g,xk:()=>x,W$:()=>_,es:()=>I,e0:()=>w});var o=s("./node_modules/react/index.js"),n=s("./app/api-client.ts"),a=s("./app/api/mixpanel.ts"),i=s("./app/utils/filenames.ts"),r=s("./app/utils/files.ts"),l=s("./app/utils/hooks/useObservables.ts"),c=s("./app/utils/http.ts"),d=s("./app/utils/observables.ts"),p=s("./app/utils/tar.ts");const u=e=>new Promise(((t,s)=>{const o=new XMLHttpRequest;o.open("HEAD",e,!0),o.onreadystatechange=function(){if(this.readyState==this.DONE){const e=o.getResponseHeader("Content-Length");if(null===e)return void s();200===this.status?t(parseInt(e)):s()}},o.send()})),m=3e7,h=async e=>{let{url:t,headers:s,body:o,onProgress:n,shouldCancel:a}=e;const i=await(e=>{let{url:t,headers:s,body:o,onProgress:n,shouldCancel:a}=e;return new Promise(((e,i)=>{const r=new XMLHttpRequest;r.open("PUT",t,!0);for(const e of Object.keys(s))r.setRequestHeader(e,s[e]);n&&r.upload.addEventListener("progress",(e=>{n(e.loaded/e.total),a?.()&&(i(new Error("CANCELLED")),r.abort())})),r.send(o),r.onload=()=>200===r.status?e(r):i(new Error("Failed to upload part")),r.onerror=()=>{i(new Error("Failed to upload part"))}}))})({url:t,headers:s,body:o,onProgress:n,shouldCancel:a}),r=i.getResponseHeader("ETag");if(!r)throw new Error("Failed to get ETag from upload");return JSON.parse(r)},g=async e=>{let{uploadUrls:t,uploadHeaders:s,stream:o,onProgress:n,shouldCancel:a}=e;const i=[],r=t.length;for(let e=1;e<=r;e++){const l=t[e-1],d=o.read(m),p=()=>h({url:l,headers:s,body:d,...n&&{onProgress:t=>n((e-1)/r+t/r)},shouldCancel:a}),u=await(0,c.XD)(p,{retries:5});i.push({PartNumber:e,ETag:u})}return i},f=async e=>{let{filename:t,stream:s,type:o,uploadId:a,onProgress:i,shouldCancel:r}=e;const l=Math.ceil(s.size()/m),{id:d,uploadUrls:p,uploadHeaders:u}=await(0,n.Bj)(t,l,o);a&&j({id:a,upload:{uuid:d,uploadUrls:p.map((e=>e.split("?")[0]))}});const h=await g({uploadUrls:p,uploadHeaders:u,stream:s,onProgress:i,shouldCancel:r,...a&&{onProgress:e=>j({id:a,upload:{uploadProgress:e}})},...a&&{shouldCancel:()=>C(a)}}),{url:f}=await(0,c.XD)((()=>(0,n.$z)(d,h)),{retries:5});return{id:d,url:f}},y=e=>{let{file:t,type:s,onProgress:o,shouldCancel:n,uploadId:a}=e;const i=new p.Rh(t);return f({filename:t.name,stream:i,type:s,onProgress:o,shouldCancel:n,uploadId:a})},x=e=>{let{filename:t,text:s,type:o}=e;const n=(new TextEncoder).encode(s),a=new p.Rn(n);return f({filename:t,stream:a,type:o})},v=e=>{let{filename:t,body:s,type:o}=e;const n=new p.Rn((0,r.RG)(s.split(",")[1]));return f({filename:t,stream:n,type:o})},b=new d.y([]),w=e=>{const[t]=(0,l.m)(b);return(0,o.useMemo)((()=>t.filter((t=>{const s=t.type===e.filterType;let o=!0;void 0!==e.parentId&&(o=t.parentId==e.parentId);let n=!0;void 0===e.asTeamId?n=isNaN(t.asTeamId):void 0!==e.asTeamId&&(n=t.asTeamId==e.asTeamId);let a,i=!0;return void 0!==e.asTeamId&&void 0!==e.privateInTeam&&(i=t.privateInTeam===e.privateInTeam),a="uploading"===e.uploadState?!0===t.isUploading:"uploaded"!==e.uploadState||!1===t.isUploading,s&&o&&n&&i&&a}))),[t,e])},_=(e,t,s,o)=>w({filterType:e,parentId:t,asTeamId:s,privateInTeam:o,uploadState:"uploading"}),I=e=>w({...e,uploadState:"uploading"}),T=e=>{let{filename:t,type:s,id:o,fileSize:n,mediaType:a="",fileObjectURL:r="",canViewLocally:l,parentId:c,asTeamId:d,privateInTeam:p,isUserUpload:u}=e;const m=o??(b.get().length+1).toString();let h={id:m,name:(0,i.Sb)(t),type:s,isUploading:!0,uploadProgress:0,mediaType:a,fileObjectURL:r,fileSize:n,fileExt:(0,i.vj)(t),canViewLocally:l,parentId:c,asTeamId:d,privateInTeam:p,isUserUpload:u};return d&&(h={...h,asTeamId:d},"boolean"==typeof p&&(h={...h,privateInTeam:p})),b.update((e=>[...e,h])),m},j=e=>{let{id:t,upload:s}=e;b.update((e=>e.map((e=>e.id===t?{...e,...s}:e))))},k=e=>{j({id:e,upload:{uploadProgress:-1,isUploading:!1}})},C=e=>{const t=b.get().find((t=>t.id===e));return!t||!t.isUploading},E=e=>{let{err:t,stage:s,fileType:o,uploadURL:n}=e;try{(0,a.bc)({eventName:"Upload Error",properties:{message:t?.message??t?.stack??"",stage:s,fileType:o,uploadURL:n}})}catch{}},S=async(e,t)=>{const{type:s,uploadId:o}=t;let n,i;try{n=await y({file:e,type:s,uploadId:o})}catch(t){throw E({err:t,fileType:e.type,stage:"Upload"}),t}try{const t=e.size,s=await u(n.url);t!==s&&(0,a.bc)({eventName:"Upload File Size Mismatch",properties:{localFileSize:t,remoteFileSize:s,uploadURL:n.url}})}catch{}if(t.finalize)try{i=await t.finalize(n)}catch(t){throw E({err:t,fileType:e.type,stage:"Finalization",uploadURL:n?.url}),j({id:o,upload:{isUploading:!1}}),t}return j({id:o,upload:{isUploading:!1}}),i}},"./app/utils/urls.ts":(e,t,s)=>{"use strict";s.d(t,{Bq:()=>u,GD:()=>l,Gu:()=>c,Ly:()=>h,RM:()=>g,SR:()=>d,aA:()=>f,ff:()=>m,k$:()=>p,uM:()=>r});var o=s("./node_modules/jsonwebtoken/index.js"),n=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/react-router/esm/react-router.js");const i=(e,t)=>{const s=new URL(e);for(const e in t)s.searchParams.set(e,t[e]);return s.toString()},r=e=>(e=(0,n.pickBy)(e,(e=>void 0!==e)),new URLSearchParams(e).toString()),l=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return i(e,{tok:t});const s=JSON.stringify(o.decode(t,{complete:!1}));return i(e,{tok:btoa(s)})},c=e=>(e||"").startsWith("blob:"),d=e=>null!==(e||"").match(/\.(jpeg|jpg|gif|png|svg)/),p=e=>!!(0,a.LX)(e,{path:"/video-tools/projects/:compositionId/duplicate",exact:!0,strict:!1}),u="templatesTag",m=e=>e.startsWith("https://runway-datasets.s3.amazonaws.com")?e.replace(/^https:\/\/runway-datasets\.s3\.amazonaws\.com/,"https://d3k0dble8in302.cloudfront.net"):e,h=e=>e.split("?")[1]||"",g=e=>{let t;try{t=new URL(e)}catch{return!1}const s=t.hostname.split(".").includes("streaming-inference"),o=t.hostname.endsWith(".runwayml.cloud");return s&&o},f=e=>o.decode(e)},"./app/utils/user.ts":(e,t,s)=>{"use strict";s.d(t,{CD:()=>n,Ke:()=>r,tK:()=>i});var o=s("./app/store.ts");const n=()=>o.Z.getState().user?.ABTestGroup??"A",a={},i=e=>{const t=n();return!a[e]||a[e]===t},r=e=>{let{firstName:t,lastName:s,email:o}=e;return t?s?`${t} ${s}`:t:o}},"./app/utils/utm.ts":(e,t,s)=>{"use strict";s.d(t,{L:()=>o});const o=()=>{const e=new URLSearchParams(window.location.search),t=e.get("utm_medium"),s=e.get("utm_source"),o=e.get("utm_campaign"),n=e.get("utm_content");return t||s||o||n?{utm_medium:t,utm_source:s,utm_campaign:o,utm_content:n}:null}},"./app/utils/validateEmail.ts":(e,t,s)=>{"use strict";s.d(t,{o:()=>o});const o=e=>/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(String(e).toLowerCase())},"./app/utils/video-editor/audio.ts":(e,t,s)=>{"use strict";s.d(t,{EN:()=>r,WR:()=>i,eo:()=>a,er:()=>l});var o=s("./app/utils/files.ts"),n=s("./app/utils/urls.ts");const a=e=>new Promise(((t,s)=>{let o=!1;try{const a=new Audio;a.addEventListener("durationchange",(()=>{if(a.duration===1/0){if(!o)return a.currentTime=Number.MAX_SAFE_INTEGER,void(o=!0);s(new Error("Audio duration is infinite"))}t(a.duration)})),a.addEventListener("error",(e=>s(e))),a.src=(0,n.ff)(e)}catch(e){s(e)}})),i=async e=>{const t=e=>({duration:Math.round(1e3*e)});return e.metadata?.duration?t(e.metadata.duration):new Promise((async s=>{s(t(await a(e.url)))}))},r=e=>a((0,o.p_)(e));function l(e){const{startMs:t,endMs:s,transforms:{volume:o}}=e;if(!o.keyframesEnabled||o.keyframes.length<2)return[null,null,null,null];let[n,a]=o.keyframes.slice(0,2),[i,r]=o.keyframes.slice(o.keyframes.length-2,o.keyframes.length);return 0!==n.timeMs&&(n=null,a=null),r.timeMs!==s-t&&(i=null,r=null),a?.timeMs===r?.timeMs&&(n=null,a=null,i=null,r=null),[n,a,i,r]}},"./app/utils/video-editor/clipboard.ts":(e,t,s)=>{"use strict";s.d(t,{h:()=>a,m:()=>n});const o="RW_VIDEO_EDITOR_CLIPBOARD",n=e=>{window.localStorage.setItem(o,JSON.stringify(e))},a=()=>{const e=window.localStorage.getItem(o);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}},"./app/utils/video-editor/composition.ts":(e,t,s)=>{"use strict";s.d(t,{p5:()=>x,FI:()=>v,we:()=>T,Kj:()=>j,z5:()=>y,h1:()=>I,ec:()=>w,QB:()=>_});var o=s("./node_modules/uuid/dist/esm-browser/v4.js"),n=s("./app/actions/flash.ts"),a=s("./app/api/video-editor/composition.ts"),i=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),r=s("./app/reducers/video-editor/composition.ts"),l=s("./app/store.ts"),c=s("./app/store/configureStore.ts"),d=s("./app/utils/auth.ts"),p=s("./app/utils/environment.ts"),u=s("./app/utils/openInCurrentOrNewWindow.ts"),m=s("./app/utils/trackEvent.ts"),h=s("./app/utils/webcodecs.ts"),g=s("./node_modules/lodash/lodash.js");const f=(e,t)=>{const s=(0,g.cloneDeep)(e);s.tracks=s.tracks.map((e=>t.call(null,{resourceType:"TRACK",value:e})));const o={};return Object.values(s.layers).forEach((e=>{const s=t.call(null,{resourceType:"LAYER",value:e});o[s.id]=s})),s.layers=o,Object.values(s.layers).forEach((e=>{e.childrenLayerIds=e.childrenLayerIds.map((e=>t.call(null,{resourceType:"LAYER_CHILDREN_LAYER_ID",value:e})))})),Object.values(s.layers).forEach((e=>{if(!e.effects)return;const o=e.effects.map((e=>t.call(null,{resourceType:"EFFECT",value:e})));s.layers[e.id].effects=o})),Object.values(s.layers).forEach((e=>{if(!e.effects)return;const o=e.effects.map((e=>(Object.keys(e.values).forEach((s=>{const o=e.values[s],n={...o,keyframes:o.keyframes.map((e=>t.call(null,{resourceType:"EFFECT_KEYFRAME",value:e})))};e.values[s]={...n}})),e)));s.layers[e.id].effects=o})),Object.values(s.layers).forEach((e=>{if(!e.transforms)return;const o={...e.transforms};Object.keys(e.transforms).forEach((s=>{const n=e.transforms[s],a={...n,keyframes:n.keyframes.map((e=>t.call(null,{resourceType:"TRANSFORM_KEYFRAME",value:e})))};o[s]=a})),s.layers[e.id].transforms=o})),Object.values(s.layers).forEach((e=>{const o=s.layers[e.id].mask.maskEffectIds.map((e=>t.call(null,{resourceType:"MASK_EFFECT_ID",value:e})));s.layers[e.id].mask.maskEffectIds=o})),Object.values(s.layers).forEach((e=>{const o=s.layers[e.id].mask.keyframes.map((e=>{const s=e.points.map((e=>t.call(null,{resourceType:"MASK_POINT",value:e})));return{...e,points:s}}));s.layers[e.id].mask.keyframes=o})),s},y=e=>{const{mask:t,points:s,timeMs:o}=e;if(e.inpaint){const n=e.inpaint;return{frameId:e.id,frame:e.frame,mask:t,inpaint:n,points:s,timeMs:o}}return{frameId:e.id,frame:e.frame,mask:t,points:s,timeMs:o}},x={MASK:"mask",INPAINT:"inpaint"},v=(e,t)=>{switch(t){case"MASK":return{isLoadingMask:!1,isUpdatingKeyframes:!1,keyframes:e[x[t]].keyframes.filter((e=>e.mask&&e.points)).map((e=>b(e,t))),keyframesUpdatedAt:e.mask.lastUpdated,alphaEnabled:e.mask.alphaEnabled,previousSelectedOption:"",undoRedoCalledAt:null};case"INPAINT":return{isLoadingMask:!1,isUpdatingKeyframes:!1,keyframes:e[x[t]].keyframes.filter((e=>e.mask&&e.points)).map((e=>b(e,t))),keyframesUpdatedAt:e?.inpaint?.lastUpdated,previousSelectedOption:"",undoRedoCalledAt:null};case"TRACKING":return{keyframes:e.tracking?.keyframes||[]};default:return{}}},b=(e,t)=>{const s={id:e.frameId,frame:e.frame,mask:e.mask,points:e.points,timeMs:e.timeMs};return"INPAINT"===t&&(s.inpaint=e.inpaint),s},w=async(e,t)=>{if(!e||!t)return;const s=l.Z.getState().videoEditor.composition.layers,o=l.Z.getState().videoEditor.composition.settings,n=l.Z.getState().videoEditor.composition.tracks,r=l.Z.getState().videoEditor.composition.pinnedAssetItemIds,c=l.Z.getState().videoEditor.composition.metadata.private,d=l.Z.getState().videoEditor.composition.metadata.privateInTeam,p={layers:s,settings:o,tracks:n,pinnedAssetItemIds:r};return await(0,a.ec)({id:e,videoComposition:{data:p,metadata:{private:c,editVersion:t,schemaVersion:i.Bf,privateInTeam:d}}})},_=async(e,t,s)=>{if(!e||!t)return;const o=l.Z.getState().videoEditor.composition.layers,n=l.Z.getState().videoEditor.composition.settings,r=l.Z.getState().videoEditor.composition.tracks,c=l.Z.getState().videoEditor.composition.metadata.private,d={layers:o,settings:n,tracks:r,pinnedAssetItemIds:l.Z.getState().videoEditor.composition.pinnedAssetItemIds};return await(0,a.ec)({id:e,videoComposition:{data:d,metadata:{private:c,editVersion:t,schemaVersion:i.Bf,...s}}})},I=e=>{let{shortcutUrl:t,asTeamId:s,recipeId:o,event:n}=e;(0,d.Pc)()&&!(0,p.tq)()&&!(0,p.Em)()&&(0,h.Cr)()?T({shortcutUrl:t,asTeamId:s,recipeId:o,event:n}):c.m.location.pathname!==`/video-tools/${t}`&&c.m.push(`/video-tools/${t}`)},T=async e=>{let{shortcutUrl:t,asTeamId:s,recipeId:o,compositionData:c={},event:d}=e;const p={videoComposition:{metadata:{name:"Untitled",schemaVersion:i.Bf,privateInTeam:!0},data:{...(0,r.o2)(),...c}},asTeamId:s},{error:h,videoComposition:g}=await(0,a.s4)(p);if(h&&l.Z.dispatch((0,n.showFlash)({message:"Error creating project",type:"WARNING"})),g){(0,m.L)({event:"General",name:"Create Project",section:"Scene Editor"});const e=`/video-tools/projects/${g.metadata.id}?tool=${t}${o?`&recipeId=${o}`:""}`;(0,u.w)(e,d)}},j=async(e,t,s)=>{const n=(e=>{const t={};return f(e,(e=>{switch(e.resourceType){case"TRACK":case"LAYER":case"EFFECT":case"EFFECT_KEYFRAME":case"TRANSFORM_KEYFRAME":case"MASK_POINT":t[e.value.id]=(0,o.Z)();break;case"MASK_EFFECT_ID":t[e.value]=(0,o.Z)()}return e.value})),f(e,(e=>{switch(e.resourceType){case"TRACK":const{value:s}=e;return{...s,layers:s.layers.map((e=>t[e])),id:t[s.id]};case"LAYER":const{value:o}=e,n={...o,id:t[o.id],createdAt:new Date,mask:o.mask?{...o.mask,lastUpdated:new Date}:o.mask};return n.data?.subtitleOfLayerId&&(n.data.subtitleOfLayerId=t[n.data.subtitleOfLayerId]),n;case"LAYER_CHILDREN_LAYER_ID":{const{value:s}=e;return t[s]}case"EFFECT":const{value:a}=e;return{...a,id:t[a.id]};case"EFFECT_KEYFRAME":case"TRANSFORM_KEYFRAME":const{value:i}=e;return{...i,id:t[i.id]};case"MASK_EFFECT_ID":const{value:r}=e;return t[r];case"MASK_POINT":const{value:l}=e;return{...l,id:t[l.id]}}}))})(e);return new Promise((async(e,o)=>{const{error:i,videoComposition:r}=await(0,a.s4)({videoComposition:{data:{settings:n.settings,tracks:n.tracks,layers:n.layers,pinnedAssetItemIds:n.pinnedAssetItemIds},metadata:{name:`${n.metadata.name||"Untitled"} (Copy)`,schemaVersion:n.metadata.schemaVersion,privateInTeam:s}},asTeamId:t});i?o(new Error("Error duplicating composition")):((0,m.L)({event:"General",name:"Create Project",section:"Scene Editor"}),e(r.metadata.id))}))}},"./app/utils/video-editor/easing.ts":(e,t,s)=>{"use strict";s.d(t,{$O:()=>r,CP:()=>l,G:()=>d,L9:()=>p,lP:()=>a});var o=s("./node_modules/bezier-easing/src/index.js"),n=s.n(o);const a={in:{linear:{type:"bezier",inHandle:{x:0,y:0},outHandle:{x:1,y:1}},sine:{type:"bezier",inHandle:{x:.12,y:0},outHandle:{x:.39,y:0}},quad:{type:"bezier",inHandle:{x:.11,y:0},outHandle:{x:.55,y:0}},cubic:{type:"bezier",inHandle:{x:.32,y:0},outHandle:{x:.67,y:0}},quart:{type:"bezier",inHandle:{x:.5,y:0},outHandle:{x:.75,y:0}},quint:{type:"bezier",inHandle:{x:.64,y:0},outHandle:{x:.78,y:0}},expo:{type:"bezier",inHandle:{x:.7,y:0},outHandle:{x:.84,y:0}},circ:{type:"bezier",inHandle:{x:.55,y:0},outHandle:{x:1,y:.45}},back:{type:"bezier",inHandle:{x:.36,y:0},outHandle:{x:.66,y:-.56}},hold:{type:"hold"}},out:{linear:{type:"bezier",inHandle:{x:0,y:0},outHandle:{x:1,y:1}},sine:{type:"bezier",inHandle:{x:.61,y:1},outHandle:{x:.88,y:1}},quad:{type:"bezier",inHandle:{x:.5,y:1},outHandle:{x:.89,y:1}},cubic:{type:"bezier",inHandle:{x:.33,y:1},outHandle:{x:.68,y:1}},quart:{type:"bezier",inHandle:{x:.25,y:1},outHandle:{x:.5,y:1}},quint:{type:"bezier",inHandle:{x:.22,y:1},outHandle:{x:.36,y:1}},expo:{type:"bezier",inHandle:{x:.16,y:1},outHandle:{x:.3,y:1}},circ:{type:"bezier",inHandle:{x:0,y:.55},outHandle:{x:.45,y:1}},back:{type:"bezier",inHandle:{x:.34,y:1.56},outHandle:{x:.64,y:1}},hold:{type:"hold"}},both:{linear:{type:"bezier",inHandle:{x:0,y:0},outHandle:{x:1,y:1}},sine:{type:"bezier",inHandle:{x:.37,y:0},outHandle:{x:.63,y:1}},quad:{type:"bezier",inHandle:{x:.45,y:0},outHandle:{x:.55,y:1}},cubic:{type:"bezier",inHandle:{x:.65,y:0},outHandle:{x:.35,y:1}},quart:{type:"bezier",inHandle:{x:.76,y:0},outHandle:{x:.24,y:1}},quint:{type:"bezier",inHandle:{x:.83,y:0},outHandle:{x:.17,y:1}},expo:{type:"bezier",inHandle:{x:.87,y:0},outHandle:{x:.13,y:1}},circ:{type:"bezier",inHandle:{x:.85,y:0},outHandle:{x:.15,y:1}},back:{type:"bezier",inHandle:{x:.68,y:-.6},outHandle:{x:.32,y:1.6}},hold:{type:"hold"}}},i=(e=>{const t={};return Object.entries(e).forEach((e=>{let[s,o]=e;Object.entries(o).forEach((e=>{let[o,n]=e;const a=JSON.stringify(n);t[a]||(t[a]={directions:[],type:o}),t[a].directions.push(s)}))})),t})(a),r=e=>i[JSON.stringify(e)],l=e=>(0,c[e.type])(e),c={bezier:e=>(t,s,o)=>{const a=e;return n()(a.inHandle.x,a.inHandle.y,a.outHandle.x,a.outHandle.y)(o)*(s-t)+t},bounce:e=>(e,t,s)=>{const o=7.5625,n=2.75;let a=0;return a=s<1/n?o*s*s:s<2/n?o*(s-=1.5/n)*s+.75:s<2.5/n?o*(s-=2.25/n)*s+.9375:o*(s-=2.625/n)*s+.984375,a*(t-e)+e},elastic:e=>(e,t,s)=>{const o=2*Math.PI/3;return(0===s?0:1===s?1:Math.pow(2,-10*s)*Math.sin((10*s-.75)*o)+1)*(t-e)+e},hold:e=>(e,t,s)=>e},d=(e,t)=>`editor/easing/${e}/${t}`,p=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`},"./app/utils/video-editor/edit-context-history.ts":(e,t,s)=>{"use strict";s.d(t,{_8:()=>l,qK:()=>r,wV:()=>a});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/utils/environment.ts");const a=e=>{let{state:t,type:s}=e;return{state:i[s]?i[s]((0,o.cloneDeep)(t)):(0,o.cloneDeep)(t),type:s}},i={"MASK/CREATE_KEYFRAME":e=>({...e,isLoadingMask:!1,isUpdatingKeyframes:!1}),"MASK/REFINE_MASK":e=>({...e,isLoadingMask:!1,isUpdatingKeyframes:!1}),"MASK/DELETE_KEYFRAME":e=>({...e,isLoadingMask:!1,isUpdatingKeyframes:!1})},r=()=>(0,n.eE)()?"⌘Z":"Ctrl+Z",l=()=>(0,n.eE)()?"⇧⌘Z":"Ctrl+Y"},"./app/utils/video-editor/effects.ts":(e,t,s)=>{"use strict";s.d(t,{nb:()=>p,sy:()=>c,Am:()=>d,V4:()=>m,hu:()=>h,Uy:()=>y,nS:()=>f,f2:()=>u});var o=s("./node_modules/lodash/lodash.js"),n=s("./app/components/Views/VideoTools/VideoEditor/LayerPropertiesPanel/EffectsControl/EffectProperty/EffectPropertyTypes/index.tsx"),a=s("./app/components/Views/VideoTools/VideoEditor/constants.ts");const i=["8bits","anamorphic_flair","ascii","aura","beams","bloom","blur","bokeh","bokeh_distance","bokeh_point","bokeh_tilt","brightness","brightness_contrast","checkers","chroma_ab","chroma_key","chroma_spill","daltonize","directional_blur","dithering_bayer","drop_shadows","drop_shadows_sdf","edge_detection","exposure","fill_color","flip","flow_displace","flow_fire","flow_refps","focus_distance","focus_point","fog","frost","gameboy","glitch","glitchy_grid","glow","grain","halftone","halftone_cmyk","hatching","heat","hud_frame","hud_target","hue_saturation_lightness","hue_shift","image","invert","lens_distortion","lens_flair","lens_flair_00","lens_flair_01","lens_flair_02","light_leaks","lighting","line","lut_00","lut_01","lut_02","lut_03","lut_04","lut_05","lut_06","lut_07","lut_08","lut_09","lut_10","lut_11","lut_12","lut_13","lut_14","lut_15","lut_16","lut_17","lut_18","lut_19","lut_20","lut_21","lut_22","lut_23","lut_24","lut_25","lut_26","lut_27","lut_28","lut_29","lut_30","lut_31","lut_32","lut_33","lut_34","lut_35","lut_36","lut_37","lut_38","lut_39","lut_40","lut_41","lut_42","mask","mask_blur","mask_checkers","mask_copy","mask_feather","mask_gradient","mask_grid","mask_invert","mask_line","mask_rays","mask_shape","mask_stripes","mask_threshold","mask_trail","mask_upsampling","mirror","motion_blur","motion_fire","neon","noise","outline","outline_paper","outline_ripples","pixelate","posterize","progress_bar","progress_pie","radial_blur","rain","ramp_01","ramp_02","ramp_03","ramp_04","ramp_05","ramp_06","ramp_07","ramp_08","ramp_09","ramp_10","ramp_chroma","ramp_fire","ramp_heatmap","ramp_inigo","ramp_spectrum","rectangle","saturation","scanlines","sdf_fill","sdf_line","sdf_shape","sdf_stroke","sepia","shake","shape","sharpen","sketch","sort","sparkles","stippling","text","text_drop_shadows","tilt_shift","vhs","vibrance","vignette","white_balance","xerox"];var r=s("./app/utils/video-editor/store.ts");const l=["mask","rgba"],c=i.map((e=>[e,s("./shaders/filters sync recursive ^\\.\\/.*\\/manifest\\.json$")(`./${e}/manifest.json`)])).filter((e=>{let[,t]=e;return t.version<=a.Mv})).filter((e=>{let[,t]=e;return(s=t).require===[]||s.require.every((e=>l.includes(e)));var s})).reduce(((e,t)=>{let[s,o]=t;return{...e,[s]:o}}),{}),d=Object.keys(c),p=(0,o.uniq)(d.filter((e=>!c[e].hidden)).map((e=>c[e].category))),u=(e,t)=>{const s=e.filter((e=>!m.includes(e.name))),o=[...new Set([...s.map((e=>c[e.name].require)).reduce(((e,t)=>[...e,...t]),[])])],n=[...new Set(["rgba",...t?["mask"]:[],...e.map((e=>c[e.name])).map((e=>e.target))])];return o.every((e=>n.includes(e)))},m=["mask_invert","mask"],h=()=>m.map((e=>{let t=!1;return"mask"===e&&(t=!0),(0,r.GW)(e,t)})),g=e=>!!n.O[e],f=e=>{const t=c[e].values;return Object.keys(t).filter((e=>g(t[e]?.config?.type))).filter((e=>!t[e]?.config?.hidden))},y=e=>{const t=c[e].values;return Object.keys(t).filter((e=>g(t[e]?.config?.type)&&"option"!==t[e]?.config?.type)).filter((e=>!t[e]?.config?.hidden))}},"./app/utils/video-editor/hls.ts":(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/m3u8-parser/dist/m3u8-parser.es.js"),a=s("./app/utils/urls.ts");const i=(e,t)=>{const s=t?(0,a.GD)(e,t):e;return fetch(s).then((e=>{if(!e.ok)throw new Error(`Playlist fetch failed (status=${e.status})`);return e})).catch((e=>{const t=JSON.stringify(e),n=new Error(`Playlist fetch failed (network_error): ${t}`);throw(0,o.Tb)(n,{extra:{url:s,errorDetails:t}}),n})).then((e=>e.text())).then((t=>{const s=new n._b;s.push(t),s.end();let o=0;const a=[],i=s.manifest.segments[0].uri.startsWith("https://")?"":new URL(e).origin;return s.manifest.segments.forEach((e=>{a.push({url:i+e.uri,start:o,end:o+e.duration}),o+=e.duration})),{duration:o,segments:a}}))}},"./app/utils/video-editor/hls_playlist_workaround.ts":(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/p-retry/index.js"),a=s.n(n),i=s("./app/constants/errors.ts"),r=s("./app/constants/reader.ts"),l=s("./app/utils/auth.ts");const c=async e=>{const t="https://d3k0dble8in302.cloudfront.net/transcoded-datasets/hls/",s=await a()((()=>(0,l.Df)(e)),{retries:r.xg});if(!s?.ok)throw 404===s?.status?new i.Sk:new Error("Failed to load playlist.");const n=(await s.text()).split("\n"),c=[];let d=!1,p=!1,u=!1;for(const s of n){let n=!1;const a=s.match(/EXT-X-TARGETDURATION:(\d+)/);if(a){n=!0;const e=parseFloat(a[1]),t=s.replace(a[1],Math.max(1,e).toFixed(3));c.push(t)}if(d&&!u){if(!s.startsWith("http")){let o=new URL(e).origin;s.includes("audioonly")&&(o=t);const a=o+s;c.push(a),n=!0}d=!1}if(p){if(!s.startsWith("http")){const e=t+s;c.push(e),n=!0}p=!1}s.includes("#EXTINF:")&&(u=s.includes("-"),d=!0,u&&(0,o.Tb)(new Error("Negative segment duration in playlist"),{extra:{playlistUrl:e}})),n||u||c.push(s),s.includes("#EXT-X-STREAM-INF:")&&(p=!0)}const m=new TextEncoder,h=new Blob([m.encode(c.join("\n"))]);return URL.createObjectURL(h)}},"./app/utils/video-editor/hooks/history/history-utils.ts":(e,t,s)=>{"use strict";s.d(t,{G:()=>a,m:()=>o});const o=e=>{const t=(e=>e.contexts.SCENE_EDITOR.changes)(e);return t[t.length-1]},n=(e,t)=>{const s="layers"===e.path[0],o=s?e.path[1]:null;if(s&&o){return Boolean(t.layers[o])}return!0},a=(e,t,s)=>{if("UNDO"===t){return!!Boolean(e.undo.find((e=>n(e,s))))}if("REDO"===t){return!!Boolean(e.redo.find((e=>n(e,s))))}}},"./app/utils/video-editor/hooks/history/useCanRedo.ts":(e,t,s)=>{"use strict";s.d(t,{C:()=>c,Z:()=>l});var o=s("./node_modules/react/index.js"),n=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),a=s("./app/utils/hooks/useSelector.ts"),i=s("./app/utils/video-editor/hooks/useSelectedLayer.ts"),r=s("./app/utils/video-editor/hooks/history/history-utils.ts");const l=e=>{const t=e.videoEditor.history.contexts.SCENE_EDITOR,s=t.changeIndex,o=[...t.changes].slice(Math.max(s+1,0),t.changes.length).find((t=>(0,r.G)(t,"REDO",e.videoEditor.composition)));return Boolean(o)},c=()=>{const e=(0,i.wH)(),t=(0,i.ih)(),s=(0,i.TJ)((e=>e.history?.redoQueue?.length>0)),r=(0,o.useMemo)((()=>!!((0,n.lf)(t)||(0,n.Zx)()||(0,n.Zn)()||(0,n.iL)())),[t]);return(0,a.Z)((o=>r?!(!e||!(0,n.lf)(t))&&s:l(o)))}},"./app/utils/video-editor/hooks/history/useCanUndo.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c,x:()=>l});var o=s("./node_modules/react/index.js"),n=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),a=s("./app/utils/hooks/useSelector.ts"),i=s("./app/utils/video-editor/hooks/useSelectedLayer.ts"),r=s("./app/utils/video-editor/hooks/history/history-utils.ts");const l=e=>{const t=e.videoEditor.history.contexts.SCENE_EDITOR,s=t.changeIndex,o=[...t.changes].slice(0,Math.min(Math.max(s+1,0),t.changes.length)).find((t=>(0,r.G)(t,"UNDO",e.videoEditor.composition)));return Boolean(o)},c=()=>{const e=(0,i.wH)(),t=(0,i.ih)(),s=(0,i.TJ)((e=>e.history?.undoQueue?.length>0)),r=(0,o.useMemo)((()=>!!((0,n.lf)(t)||(0,n.Zx)()||(0,n.Zn)()||(0,n.iL)())),[t]);return(0,a.Z)((o=>r?!(!e||!(0,n.lf)(t))&&s:l(o)))}},"./app/utils/video-editor/hooks/useCompositions.ts":(e,t,s)=>{"use strict";s.d(t,{G:()=>r,x:()=>l});var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/api/video-editor/composition.ts"),a=s("./app/utils/hooks/useAuthentication.ts");const i=e=>{const[t]=(0,a.J)(),s=[t,"useCompositions"];return e.asTeamId&&s.push(e.asTeamId),s},r=e=>{const t=i(e);return(e,s)=>(0,o.JG)(t,e,s)},l=(e,t)=>{const s=i(e);return(0,o.ZP)(s,(async()=>(0,n.B1)(e)),t)}},"./app/utils/video-editor/hooks/useCurrentTimeChange.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s("./node_modules/react/index.js"),n=s("./app/store.ts");const a=e=>e.videoEditor.ui.currentTimeMs,i=e=>{const t=(0,o.useRef)(a(n.Z.getState())),s=(0,o.useCallback)((()=>{const s=a(n.Z.getState());s!==t.current&&e(s),t.current=s}),[e]);(0,o.useEffect)((()=>n.Z.subscribe(s)),[s]),(0,o.useEffect)((()=>{e(a(n.Z.getState()))}),[])}},"./app/utils/video-editor/hooks/useIsViewOnlyUser.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s("./app/utils/video-editor/hooks/useProjectPermissionMode.ts");const n=()=>(0,o.Z)("read")},"./app/utils/video-editor/hooks/useLayer.ts":(e,t,s)=>{"use strict";s.d(t,{B:()=>a,Z:()=>i});var o=s("./app/utils/hooks/useSelector.ts"),n=s("./node_modules/react-redux/es/index.js");const a=(e,t)=>e.videoEditor.composition.layers[t];const i=function(e,t){return(0,o.Z)((s=>{const o=a(s,e);return t?t(o):o}),n.wU)}},"./app/utils/video-editor/hooks/useProjectPermissionMode.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/swr/dist/index.mjs"),a=s("./app/components/Views/VideoTools/VideoEditor/CacheRenderer/Cache.tsx"),i=s("./app/utils/hooks/useAuthentication.ts"),r=s("./app/utils/hooks/useSelector.ts"),l=s("./app/api/video-editor/composition.ts");const c=()=>{const e=!!(0,a.Q)(),t=(0,r.Z)((e=>e.videoEditor.composition.metadata.id)),[s]=(0,i.J)();return!e&&s&&t?[s,"useProjectPermissionMode",t]:null};var d=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),p=s("./app/utils/environment.ts");const u=function(e){const t=!!(0,a.Q)(),[s]=(0,i.J)(),u=c(),{data:m,error:h}=(0,n.ZP)(u,((e,t,s)=>(0,p.aP)()&&s===d.cj?{permissions:{admin:!0,read:!0,write:!0}}:(0,l.w$)({compositionId:s})),{refreshInterval:1e4}),g=(0,r.Z)((e=>{const{ui:o,composition:n}=e.videoEditor;if(!s)return"read";if(t)return"read";if(o.forceViewOnly)return"read";if(h){return e.user.id===n.metadata.userId?"admin":404===h.httpError?null:"read"}const a=m?.permissions;return a?.admin?"admin":a?.write?"write":a?.read?"read":null}));return(0,o.isNil)(e)?g:e===g}},"./app/utils/video-editor/hooks/useSelectedLayer.ts":(e,t,s)=>{"use strict";s.d(t,{Li:()=>i,Rz:()=>c,TJ:()=>u,ZP:()=>g,ih:()=>h,kv:()=>p,wH:()=>r,x$:()=>d});var o=s("./app/utils/hooks/useSelector.ts"),n=s("./node_modules/react-redux/es/index.js");const a=e=>{const t=e.videoEditor.ui.selection?.LAYERS?.allIds;return!(!t||0===t.length)&&t[0]},i=e=>{const t=a(e);return t?e.videoEditor.composition.layers[t]:null},r=()=>(0,o.Z)(a),l=e=>{const t=a(e);if(!t)return null;const s=e.videoEditor.composition.layers[t];return s?s.type:null},c=()=>(0,o.Z)(l),d=()=>{const e=r();return(0,o.Z)((t=>e?t.videoEditor.ui.layerEditContexts[e]:null),n.wU)};function p(e){const t=r();return(0,o.Z)((s=>{if(!t)return null;const o=s.videoEditor.composition.layers[t];return o?e(o):null}),n.wU)}function u(e){const t=r();return(0,o.Z)((s=>{if(!t)return null;const o=s.videoEditor.ui.layerEditContexts[t];return o?e(o):null}),n.wU)}const m=e=>e.contextKey;function h(){return u(m)}const g=()=>{const e=r();return[(0,o.Z)((t=>e?t.videoEditor.composition.layers[e]:null),n.wU),(0,o.Z)((t=>e?t.videoEditor.ui.layerEditContexts[e]:null),n.wU)]}},"./app/utils/video-editor/hooks/useSelectedLayersQuery.ts":(e,t,s)=>{"use strict";s.d(t,{Y:()=>a,Z:()=>i});var o=s("./node_modules/react-redux/es/index.js"),n=s("./app/utils/hooks/useSelector.ts");const a=e=>{const{ui:t,composition:s}=e.videoEditor;return t.selection.LAYERS.allIds.map((e=>s.layers[e]))},i=e=>(0,n.Z)((t=>{const s=a(t);return e(s)}),o.wU)},"./app/utils/video-editor/hooks/useSharedCompositions.ts":(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var o=s("./node_modules/swr/dist/index.mjs"),n=s("./app/api/video-editor/composition.ts"),a=s("./app/utils/hooks/useAuthentication.ts");const i=(e,t)=>{const s=(e=>{const[t]=(0,a.J)(),s=[t,"useSharedCompositions"];return e.asTeamId&&s.push(e.asTeamId),s})(e);return(0,o.ZP)(s,(async()=>(0,n.ul)(e)),t)}},"./app/utils/video-editor/image.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>n,s:()=>a});var o=s("./app/utils/image.ts");const n=async e=>{const t=await(0,o.po)(e);if(t)return{width:t.naturalWidth,height:t.naturalHeight}},a=async e=>new Promise((async(t,s)=>{try{t(await n(e))}catch(e){s(e)}}))},"./app/utils/video-editor/keyframe.ts":(e,t,s)=>{"use strict";s.d(t,{Fw:()=>T,Gy:()=>g,J6:()=>w,JC:()=>y,c$:()=>x,id:()=>v,lE:()=>b,m1:()=>_,oq:()=>h,qi:()=>f,tA:()=>I});var o=s("./node_modules/react/index.js"),n=s("./node_modules/lodash/lodash.js"),a=s.n(n),i=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),r=s("./node_modules/react-redux/es/index.js"),l=s("./app/utils/video-editor/hooks/useCurrentTimeChange.ts"),c=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),d=s("./app/utils/hooks/useSelector.ts"),p=s("./app/utils/video-editor/easing.ts"),u=s("./app/store.ts"),m=s("./node_modules/uuid/dist/esm-browser/v4.js");const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[n,a]=(0,o.useState)(g(e,(0,c.q)()+t)),i=(0,o.useRef)(n),p=(0,d.Z)((e=>e.videoEditor.ui.isPlaying)),u=(0,o.useCallback)((e=>{a(e),i.current=e}),[]),m=(0,o.useCallback)((o=>{if(p&&!s)return;const n=g(e,o+t);(0,r.wU)(n,i.current)||u(n)}),[e,t,u,s,p]);return(0,o.useEffect)((()=>m((0,c.q)())),[m]),(0,l.Z)(m),n},g=(e,t)=>{if(!e?.keyframesEnabled)return e?.value;const s=e.keyframes.filter((e=>e.timeMs<=t)).slice(-1)[0],o=e.keyframes.filter((e=>e.timeMs>=t))[0];if(!s&&!o)return e.value;if(!s)return o.value;if(!o)return s.value;if(s===o)return s.value;const a=s.easing??p.lP.both.linear,i=(0,p.CP)(a),r=(t-s.timeMs)/(o.timeMs-s.timeMs);return"number"==typeof e.value?i(s.value,o.value,r):(0,n.isArray)(e.value)?s.value.map(((e,t)=>i(s.value[t],o.value[t],r))):Object.entries(s.value).map((e=>{let[t,s]=e;return{[t]:i(s,o.value[t],r)}})).reduce(((e,t)=>({...e,...t})),{})},f=e=>{let{transform:t,value:s,timeMs:o,id:a,easing:i}=e;const r=(0,n.cloneDeep)(t);return r.keyframesEnabled=!0,r.keyframes.push({id:a||(0,m.Z)(),value:s,timeMs:o,easing:i||p.lP.both.linear}),r.keyframes=(0,n.sortBy)(r.keyframes,(e=>e.timeMs)),r},y=(e,t,s)=>{const o=(0,n.cloneDeep)(e);return o.keyframes=o.keyframes.map((e=>e.id===t?{...e,timeMs:s}:e)),o.keyframes=(0,n.sortBy)(o.keyframes,(e=>e.timeMs)),o},x=(e,t,s)=>{const o=(0,n.cloneDeep)(e);if(o.keyframesEnabled){const o=(0,n.orderBy)(e.keyframes,(e=>Math.abs(e.timeMs-s)))[0];return o&&Math.abs(o.timeMs-s)<i.aR?((e,t,s)=>{const o=(0,n.cloneDeep)(e);return o.keyframes=o.keyframes.map((e=>e.id===t?{...e,value:s}:e)),o.keyframes=(0,n.sortBy)(o.keyframes,(e=>e.timeMs)),o})(e,o.id,t):f({transform:e,value:t,timeMs:s})}return o.value=t,o},v=(e,t)=>{if(!t)return;const s=e.layers[t.layerId];if(!t.effectId)return s.transforms[t.property].keyframes.find((e=>e.id===t.keyframeId));{const e=s.effects.find((e=>e.id===t.effectId));if(e)return e.values[t.property].keyframes.find((e=>e.id===t.keyframeId))}},b=(e,t)=>{for(const[s,o]of Object.entries(e.layers))if(o.transforms){for(const[e,n]of Object.entries(o.transforms)){const o=n.keyframes.find((e=>e.id===t));if(o)return{layerId:s,property:e,keyframeId:o.id}}for(const e of o.effects)for(const[o,n]of Object.entries(e.values)){const a=n.keyframes.find((e=>e.id===t));if(a)return{layerId:s,effectId:e.id,property:o,keyframeId:a.id}}}},w=e=>{const{composition:t,ui:s}=(e||u.Z.getState()).videoEditor,o=Object.keys(s.selection.KEYFRAMES).map((e=>{const s=b(t,e);if(s)return v(t,s)}));return(0,n.compact)(o)},_=(e,t)=>t?b(t,e.id)?.property:[],I=(e,t)=>({...e,keyframes:e.keyframes.map(t)}),T=(e,t)=>{const s={...e};return s.transforms&&(s.transforms=a().mapValues(s.transforms,(e=>I(e,t)))),s.effects&&(s.effects=s.effects.map((e=>((e,t)=>({...e,values:a().mapValues(e.values,(e=>I(e,t)))}))(e,t)))),s}},"./app/utils/video-editor/layer.ts":(e,t,s)=>{"use strict";s.d(t,{AU:()=>se,BY:()=>me,EO:()=>ve,FA:()=>W,GY:()=>K,KI:()=>oe,Kj:()=>ge,N$:()=>ee,Nj:()=>Z,Q:()=>U,VQ:()=>ye,WL:()=>be,WU:()=>J,Wr:()=>ce,Wx:()=>ae,Zr:()=>R,_J:()=>Y,b7:()=>z,bp:()=>L,bw:()=>re,dP:()=>Q,hJ:()=>xe,iz:()=>de,k9:()=>O,lM:()=>F,m_:()=>B,nb:()=>te,pA:()=>ue,pF:()=>le,px:()=>$,tv:()=>ne,wh:()=>fe,zG:()=>X});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/uuid/dist/esm-browser/v4.js"),r=s("./app/actions/popup.ts"),l=s("./app/actions/video-editor/keyframe.ts"),c=s("./app/actions/video-editor/layers.ts"),d=s("./app/actions/video-editor/selection.ts"),p=s("./app/api/video-editor/inpaint-network.ts"),u=s("./app/api/video-editor/mask-refinement-network.ts"),m=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),h=s("./app/components/Views/VideoTools/VideoEditor/edit-context-definitions.ts"),g=s("./app/components/Views/VideoTools/VideoEditor/playback.ts"),f=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),y=s("./app/reducers/video-editor/composition.ts"),x=s("./app/store.ts"),v=s("./app/streams/streaming-sdk.ts"),b=s("./app/utils/auth.ts"),w=s("./app/utils/uploads.ts"),_=s("./app/utils/blobToB64.ts"),I=s("./app/utils/video.ts"),T=s("./app/utils/video-editor/audio.ts"),j=s("./app/utils/video-editor/composition.ts"),k=s("./app/utils/video-editor/image.ts"),C=s("./app/utils/video-editor/keyframe.ts"),E=s("./app/utils/video-editor/masks.ts"),S=s("./app/utils/video-editor/parenting.ts"),A=s("./app/utils/video-editor/store.ts"),M=s("./app/utils/video-editor/subtitles.ts"),P=s("./app/utils/video-editor/tracking.ts"),N=s("./app/utils/video-editor/tracks.ts"),D=s("./app/utils/video-editor/transforms.ts");const O=e=>{switch(e){case"video":default:return"VIDEO";case"image":return"IMAGE";case"audio":return"AUDIO"}},L=async e=>{switch(e.mediaType){case"image":return(0,k.s)(e.fileCount>1?e.previewUrls[0]:e.url);case"video":return(0,I.OO)(e);case"audio":return(0,T.WR)(e);default:return null}},R=e=>{let{asset:t,composition:s,options:o}=e;return new Promise((async(e,n)=>{try{const n=await L(t),a=(0,A.Wy)(t,n),i=((e,t,s,o)=>{switch(e.mediaType){case"image":return(0,A.xu)(t,s,o);case"video":return(0,A._Q)(t,s,o);case"audio":return(0,A.tF)(t);case"font":return(0,A.HY)({composition:s,data:{...A.Zi,textProperties:{...A.Zi.textProperties,font:e.id,url:e.url}}});default:return null}})(t,a,s,o);e(i)}catch(e){console.error(e),n(e)}}))},Z=e=>{let{width:t,height:s,targetWidth:o,targetHeight:n,scaleType:a="contain"}=e;if("cover"===a)return 100*Math.max(o/t,n/s);const{width:i,height:r}=(0,I.$d)({originalWidth:t,originalHeight:s,maxWidth:o,maxHeight:n,enableUpscale:!0});return 100*Math.min(i/t,r/s)},U=e=>async(t,s)=>{(0,a.dC)((()=>{t({type:"composition/DELETE_LAYER",layerId:e}),t({type:"ui/DELETE_LAYER_VIEWPORT_EFFECT",layerId:e});s().videoEditor.ui.selection.LAYERS.allIds.includes(e)&&t(d.f)}))},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(s,n)=>{const r=i.Z(),{subtitleData:l,...c}=(0,o.cloneDeep)(e.data);let d={...(0,o.cloneDeep)(e),id:r,name:e.name,type:e.type,lock:!1,data:{...c},...t},p=[];"TRACKING"!==e.type&&((0,a.dC)((()=>{p=e.childrenLayerIds.map((e=>{const t=n().videoEditor.composition.layers[e];if(!t)return;return s(z(t))}))})),p=(0,o.compact)(p)),d={...d,childrenLayerIds:p.map((e=>e.id))},d=(0,C.Fw)(d,(e=>({...e,id:(0,i.Z)()})));const u=(0,N.PS)(e.id);return(0,a.dC)((()=>{s({type:"composition/ADD_LAYER",layer:d,trackIndex:u}),s({type:"ui/CREATE_LAYER_EDIT_CONTEXT",layerId:r});const t=x.Z.getState().videoEditor.composition,o=(0,y.G_)(t,e.id);"TRACKING"===o?.type&&s({type:"composition/SET_CHILDREN_LAYER_IDS",layerId:o.id,childrenLayerIds:[...o.childrenLayerIds,r]})})),d}},V=e=>{let{layerId:t,startMs:s,endMs:o,property:n,effectId:i}=e;return(e,r)=>{(0,a.dC)((()=>{const a=r().videoEditor.composition,l=(0,y.Hs)(a,t);l&&(Object.entries(l.transforms).forEach((a=>{let[r,c]=a;c.keyframes.forEach((a=>{if(i)return;if(n&&r!==n)return;const c=l.startMs+a.timeMs;c>=s&&c<=o&&e({type:"composition/DELETE_KEYFRAME",layerId:t,property:r,keyframeId:a.id})}))})),Object.values(l.effects).forEach((a=>{i&&a.id!==i||Object.entries(a.values).forEach((r=>{let[c,d]=r;d.keyframes.forEach((r=>{const d=l.startMs+r.timeMs;if(i&&n&&n!==c)return;d>=s&&d<=o&&e({type:"composition/DELETE_KEYFRAME",layerId:t,property:c,effectId:a.id,keyframeId:r.id})}))}))})))}))}},B=(e,t)=>s=>{(0,a.dC)((()=>{const o=[];e.forEach((e=>{const n=s(G(e,t));n?.id&&o.push(n.id)})),o.length&&s({type:"ui/SELECT_LAYERS",layerIds:o})}))},G=(e,t)=>(s,n)=>{const i=n().videoEditor.composition,r=i.layers[e];if(!r)return;if(t>=r.endMs||t<=r.startMs)return;const c=t,d=t,p=r.endMs,u=r.startOffsetMs+(t-r.startMs)*r.speed,m=(0,M.bX)(e,n()).filter((e=>e.startMs>=d));let h;return(0,a.dC)((()=>{h=s(z(r,{data:{...(0,o.cloneDeep)(r.data)}})),(0,D.r)(r,((o,n)=>{let{property:a,effectId:c}=n;const d=o.keyframes.filter((e=>r.startMs+e.timeMs<t)).slice(-1)[0],p=o.keyframes.filter((e=>r.startMs+e.timeMs>t)).slice(-1)[0];if(d||p)if(d&&p){s(V({layerId:e,startMs:Math.min(r.startMs+p.timeMs+1,i.settings.durationMs),endMs:i.settings.durationMs,effectId:c,property:a}));const t=Math.min(...o.keyframes.map((e=>r.startMs+e.timeMs)));s(V({layerId:h.id,startMs:Math.min(t-1,0),endMs:d.timeMs-1,effectId:c,property:a}))}else{if(o.keyframes.find((e=>r.startMs+e.timeMs===t))||!o.keyframesEnabled)return;s((0,l.n)({layer:r,property:a,projectTimeMs:t,effectId:c})),s(V({layerId:e,startMs:Math.min(t+1,i.settings.durationMs),endMs:i.settings.durationMs,effectId:c,property:a})),s((0,l.n)({layer:h,property:a,projectTimeMs:t,effectId:c}));const n=Math.min(...o.keyframes.map((e=>r.startMs+e.timeMs)));s(V({layerId:h.id,startMs:Math.min(n-1,0),endMs:t-1,effectId:c,property:a}))}})),s({type:"composition/UPDATE_LAYER_DURATION",layerId:h.id,startMs:d,startOffsetMs:u,endMs:p}),s({type:"composition/UPDATE_LAYER_DURATION",layerId:r.id,endMs:c}),m.forEach((e=>{s({type:"composition/UPDATE_LAYER_DATA",layerId:e.id,data:{subtitleOfLayerId:h.id}})}));const n=(0,S.A3)(r,i);n&&s({type:"composition/ADD_CHILDREN_LAYER_ID",childLayerId:h.id,layerId:n.id})})),h},F=e=>!e||Object.keys(e).length<=0?0:Object.values(e).reduce(((e,t)=>t.endMs>e?t.endMs:e),0),$=e=>Object.values(e).reduce(((e,t)=>t.startMs<e?t.startMs:e),e[0]?.startMs??0),W=e=>e.reduce(((e,t)=>t.startMs<e.startMs?t:e),e[0])??null,H=e=>e.map((e=>n().pick(e,["frame","mask","id","frameId"]))),Y=e=>{const t=x.Z.getState().videoEditor.ui.layerEditContexts?.[e?.id];if("MASK"===t?.contextKey){const e=t?.state;return H(e.keyframes??[])}return H(e?.mask?.keyframes??[])},X=e=>Y(e).length>0,q=e=>e.map((e=>n().pick(e,["frame","mask","id","frameId","inpaint"]))),J=e=>{const t=x.Z.getState().videoEditor.ui.layerEditContexts?.[e?.id];if("INPAINT"===t?.contextKey){const e=t?.state;return q(e.keyframes??[])}return q(e?.inpaint?.keyframes??[])},K=e=>J(e).length>0,Q=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{maxWidth:null,maxHeight:null,previewQuality:1},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{width:n,height:a}=(0,I.$d)({originalWidth:e.data.clip.metadata.width,originalHeight:e.data.clip.metadata.height,maxWidth:(s.maxWidth||1280)*s.previewQuality,maxHeight:(s.maxHeight||1280)*s.previewQuality,roundToNearestMultipleOf:2}),i=e.data.clip.metadata.frameRate??m.V1,r=e.data.clip.metadata.hasAlphaChannel,l=x.Z.getState().videoEditor.ui.layerEditContexts?.[e.id]?.contextKey,c=(0,f.lf)(l),d=X(e),p=r&&!c&&!d;switch(t){case"rgba":return{modelName:"raw_video",commandName:"raw_video",inputData:{video:e.data.clip.url},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,outputTileAlpha:p?1:0,outputTranscodedHls:o};case"depth":return{modelName:"depth",commandName:"estimate_depth",inputData:{video:e.data.clip.url},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,outputTranscodedHls:o};case"flow":return{modelName:"flow_estimation",commandName:"optical_flow",inputData:{video:e.data.clip.url},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,outputTranscodedHls:o};case"mask":return d?{modelName:(0,u.O6)(e.mask.stream),commandName:"segment",inputData:{video:e.data.clip.url,keyframes:Y(e)},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,outputTranscodedHls:o}:null;case"rgba-mask":return d?{modelName:(0,u.O6)(e.mask.stream),commandName:"raw_video_and_mask",inputData:{video:e.data.clip.url,keyframes:Y(e)},outputWidth:2*n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,outputTranscodedHls:o}:null;case"inpaint-mask":return K(e)?{modelName:"propagation_network",commandName:"segment",inputData:{video:e.data.clip.url,keyframes:J(e),model_name:"swiftnet",binarize:!0},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,framePerSegment:m.Tw,outputTranscodedHls:o}:null;case"inpaint":return K(e)?{modelName:"video_inpainting",commandName:"inpaint_video_from_mask_keyframes",inputData:{frames:e.data.clip.url,mask_keyframes:J(e)},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,framePerSegment:m.Tw,outputTranscodedHls:o}:null;case"tracking":return(0,P.a1)(e)?{modelName:"tracking",commandName:"track",inputData:(0,P.pC)(e,{outputWidth:n,outputHeight:a}),outputWidth:n,outputHeight:a,outputFormat:"json",outputFrameRate:i,outputTranscodedHls:o}:null;case"frame-interpolation":return{modelName:"frame_interpolation",commandName:"slow_motion",inputData:{video:e.data.clip.url,factor:1/e.speed},outputWidth:n,outputHeight:a,outputFormat:"mp4",outputFrameRate:i,outputTranscodedHls:o}}},ee=async function(e,t,s){const o=Q(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{maxWidth:null,maxHeight:null}),n=await(0,v.PL)({...o,timestamp:s}),a=await(0,b.Df)(n);if(!a)return"";let i=await(0,_.b)(await a.blob());return i=i.replace("application/octet-stream","image/jpeg"),i},te=e=>{let{mode:t,compositionLayers:s}=e;const o=s??x.Z.getState().videoEditor.composition.layers,n=Object.keys(o)?.[0];if(n){const e=o[n],s=("VIDEO"===e.type||"IMAGE"===e.type)&&"MASK"===t,a="VIDEO"===e.type&&"INPAINT"===t,i="VIDEO"===e.type&&"TRACKING"===t;(s||a||i)&&(x.Z.dispatch({type:"ui/SELECT_LAYER",layerId:e.id}),oe(e,t))}},se=(e,t)=>{const s=x.Z.getState().videoEditor.composition.layers[e];if(s)return oe(s,t)},oe=(e,t)=>{try{if("RGBA"!==e.colorMode&&x.Z.dispatch({type:"composition/UPDATE_LAYER_COLORMODE",layerId:e.id,colorMode:"RGBA"}),"FRAME_INTERPOLATION"===e.speedMode&&""!==t)return void x.Z.dispatch((0,r.showPopup)({title:"Magic Tools Unavailable",message:"We do not currently support using Magic Tools while Super-Slow Motion is enabled.",acceptBtn:"OK",isErrorPopup:!1}));(0,a.dC)((()=>{!ie({layer:e,timeMs:(0,g.q)()})&&x.Z.dispatch({type:"ui/UPDATE_PLAYHEAD",value:e.startMs});let s={};if("MASK"===t||"INPAINT"===t){(X(e)||K(e))&&(s=(0,j.FI)(e,t))}else"TRACKING"===t&&(s=(0,j.FI)(e,t));const o=h.X[t]?.initialSelectedOption||"TRACKING:POINT";if(x.Z.dispatch({type:"ui/SELECT_LAYER_EDIT_CONTEXT",layerId:e.id,contextKey:t,selectedOption:o,initState:s}),x.Z.dispatch({type:"ui/SET_IS_ANIMATING",value:!1}),x.Z.dispatch({type:"ui/SET_LEFT_PANEL_MODE",mode:null}),x.Z.dispatch({type:"history/START_RECORDING"}),"TRACKING"===t){if(!Boolean((0,P.zq)(e))){const t=(0,A.Ny)(e);(0,a.dC)((()=>{x.Z.dispatch({type:"composition/ADD_LAYER",layer:t}),x.Z.dispatch({type:"composition/ADD_CHILDREN_LAYER_ID",layerId:e.id,childLayerId:t.id})}))}(0,p.Z)("tracking",e.data.clip,{startOffset:e.startOffsetMs,duration:e.endMs-e.startMs})}}))}catch(e){console.error(e),x.Z.dispatch((0,r.showErrorPopup)("Error",`There was an error editing the layer ${t.toLowerCase()}.`))}},ne=async(e,t)=>{const s=e.frame,o=e.mask,n=await(0,E.E9)(s,o),a=await(0,w.ax)({body:n,filename:"mask_thumbnail.png",type:"TASK_OPTIONS"});x.Z.dispatch({type:"composition/UPDATE_LAYER_MASK_THUMBNAIL",layerId:t,url:a.url})},ae=(e,t)=>{x.Z.dispatch({type:"composition/UPDATE_LAYER_MASK_THUMBNAIL",layerId:t,url:e.inpaint})},ie=e=>{let{layer:t,timeMs:s}=e;return s>=t.startMs&&s<=t.endMs},re=e=>{const t=x.Z.getState().videoEditor.composition.layers;return Object.values(t).filter((t=>e>=t.startMs&&e<=t.endMs))},le=e=>{const t=(0,c.Iz)();return t?Math.max(Math.min(e,t.endMs),t.startMs):e},ce=e=>"AUDIO"===e.type||Boolean(e.data?.hasAudio),de=e=>{const t=(0,A.tF)(e.data.clip);return Object.entries(t).forEach((s=>{let[n]=s;if("id"!==n&&"type"!==n&&"childrenLayerIds"!=n)if("data"===n){const s={...t.data};Object.entries(e.data).forEach((e=>{let[n,a]=e;t.data[n]&&(s[n]=(0,o.cloneDeep)(a))}))}else"transforms"===n?t.transforms=(0,o.cloneDeep)((0,A.TA)(e.transforms,"AUDIO")):(0,o.isNil)(e[n])||(t[n]=e[n])})),t},pe=["dithering_bayer","gameboy","glitch","grain","image","lens_flair","light_leaks","neon","vhs"],ue=e=>e.some((e=>pe.includes(e.name)?e.enabled:!0===e.enabled&&Object.values(e.values).some((e=>e.keyframesEnabled&&e.keyframes.length>1)))),me=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s="";switch(e){case"VIDEO":s=t?"editor/ui/timeline/layers/edited":"editor/ui/timeline/layers/video";break;case"AUDIO":s="editor/ui/timeline/layers/audio";break;case"IMAGE":s=t?"editor/ui/timeline/layers/edited":"editor/ui/timeline/layers/image";break;case"EMPTY":s="editor/ui/timeline/layers/shape";break;case"TEXT":s="editor/ui/timeline/layers/text";break;default:s="editor/ui/timeline/layers/video"}return s},he={VIDEO:"Clip",IMAGE:"Image",TEXT:"Text",SHAPE:"Shape",TRACKING:"Tracking",AUDIO:"Audio",LOTTIE:"Animation",EMPTY:"Solid",ANIMATOR:"Motion block"},ge=e=>he[e],fe=(e,t)=>{const{layers:s,tracks:o}=e,n=(0,N.ZZ)(t.type);let a=-1;for(let e=0;e<o.length;e++){const i=o[e];if(i.type!==n)continue;i.layers.some((e=>{const o=s[e];return t.startMs<o.endMs&&o.startMs<t.endMs}))||(a=e)}return-1===a&&(a=o.findIndex((e=>e.type===n)),x.Z.dispatch({type:"composition/CREATE_TRACK",trackIndex:a,trackType:n})),a},ye=e=>e?e.data.clip?.maskThumbnail&&(X(e)||K(e))?e.data.clip?.maskThumbnail||"":e.data.clip?.thumbnail||"":"",xe=e=>e?e.data.clip?.maskThumbnail&&(X(e)||K(e))?[e.data.clip?.maskThumbnail]||0:e.data.clip?.previewImages?e.data.clip.previewImages:e.data.clip?.thumbnail?[e.data.clip?.thumbnail]:[]:[],ve=e=>{const t=x.Z.getState().videoEditor.composition.layers,s=(0,o.find)(t,(t=>t.childrenLayerIds.includes(e.id)));return Boolean(s)},be=e=>Boolean(e.data.subtitleData)},"./app/utils/video-editor/masks.ts":(e,t,s)=>{"use strict";s.d(t,{E9:()=>i,IM:()=>a,k8:()=>n,pP:()=>r});var o=s("./app/utils/urls.ts");const n=(e,t,s)=>((e-(t||0)+(s||0))/1e3).toFixed(3),a=e=>e.toFixed(3),i=async(e,t)=>new Promise((s=>{const n=new Image;n.src=(0,o.ff)(e),n.crossOrigin="anonymous",n.addEventListener("load",(()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const a=e.getContext("2d");a.drawImage(n,0,0,e.width,e.height);const i=new Image;i.src=(0,o.ff)(t),i.crossOrigin="anonymous",i.addEventListener("load",(()=>{a.globalCompositeOperation="multiply",a.drawImage(i,0,0,e.width,e.height);const t=a.getImageData(0,0,e.width,e.height),{data:o}=t;(()=>{const s=Math.floor(e.height/10),n=Math.floor(e.width/s);let i=!0,r=0,l=0;for(let t=0;t<e.height;t+=1){for(let a=0;a<e.width;a+=1){const r=4*(a+t*e.width);if(o[r]+o[r+1]+o[r+2]<10){const e=Math.floor(a/s);l=Math.floor(t/s);const c=e+l*n;i?c%2==0?(o[r]=255,o[r+1]=255,o[r+2]=255,o[r+3]=255):(o[r]=215,o[r+1]=215,o[r+2]=215,o[r+3]=255):c%2==0?(o[r]=215,o[r+1]=215,o[r+2]=215,o[r+3]=255):(o[r]=255,o[r+1]=255,o[r+2]=255,o[r+3]=255)}}n%2==0&&l-r==1&&(i=!i,r=l)}a.putImageData(t,0,0)})(),s(e.toDataURL())}))}))})),r=(e,t)=>{const s=document.createElement("canvas");s.width=e,s.height=t;const o=s.getContext("2d"),n=o.getImageData(0,0,e,t),{data:a}=n,i=Math.floor(s.height/30),r=Math.floor(s.width/i);let l=!0,c=0,d=0;for(let e=0;e<s.height;e+=1){for(let t=0;t<s.width;t+=1){const o=4*(t+e*s.width),n=Math.floor(t/i);d=Math.floor(e/i);const c=n+d*r;l?c%2==0?(a[o]=255,a[o+1]=255,a[o+2]=255,a[o+3]=255):(a[o]=215,a[o+1]=215,a[o+2]=215,a[o+3]=255):c%2==0?(a[o]=215,a[o+1]=215,a[o+2]=215,a[o+3]=255):(a[o]=255,a[o+1]=255,a[o+2]=255,a[o+3]=255)}r%2==0&&d-c==1&&(l=!l,c=d)}return o.putImageData(n,0,0),s}},"./app/utils/video-editor/parenting.ts":(e,t,s)=>{"use strict";s.d(t,{A3:()=>u,am:()=>p,i4:()=>h,nC:()=>g,pq:()=>d,wi:()=>m});var o=s("./node_modules/gl-matrix/esm/vec2.js"),n=s("./node_modules/gl-matrix/esm/mat3.js"),a=s("./app/actions/video-editor/layout.ts"),i=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts"),r=s("./app/gl2d/utils.ts"),l=s("./app/reducers/video-editor/composition.ts"),c=s("./app/store.ts");const d=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=(0,i.qw)(e,t);if(!l)return;const c=o.al(l.x,l.y),d=o.al(l.scaleX,l.scaleY),p=(0,a.DD)(e),u=(0,a.uV)(e),m=n.Ue();return n.Iu(m,m,c),n.U1(m,m,(0,r.Ht)(l.rotation)),n.bA(m,m,d),s&&n.Iu(m,m,o.al(-p/2,-u/2)),m},p=e=>{const t=e[0],s=e[1],o=e[3],n=e[4],a=e[6],i=e[7],r=t*n-s*o;if(0!=t||0!=s){const e=Math.sqrt(t*t+s*s);return{x:a,y:i,rotation:s>0?Math.acos(t/e):-Math.acos(t/e),scaleX:e,scaleY:r/e}}if(0!=o||0!=n){const e=Math.sqrt(o*o+n*n);return{x:a,y:i,rotation:Math.PI/2-(n>0?Math.acos(-o/e):-Math.acos(o/e)),scaleX:r/e,scaleY:e}}return{x:a,y:i,rotation:0,scaleX:1,scaleY:1}},u=(e,t)=>{const s=(t||c.Z.getState().videoEditor.composition).layers;return Object.values(s).find((t=>t.childrenLayerIds.includes(e.id)))},m=(e,t,s)=>{let o=u(e,s);for(;o;)t(o),o=u(o,s)},h=(e,t)=>{const s=[];return m(e,(e=>{s.push(e)}),t),s},g=(e,t)=>{if(e===t)return!1;const s=c.Z.getState().videoEditor.composition,o=(0,l.Hs)(s,e),n=(0,l.Hs)(s,t);if(!o||!n)return!1;return!!h(o).map((e=>e.id)).includes(t)}},"./app/utils/video-editor/selection.ts":(e,t,s)=>{"use strict";s.d(t,{F:()=>a,f:()=>n});var o=s("./app/store.ts");const n=e=>{const{ui:t,composition:s}=(e||o.Z.getState()).videoEditor;return t.selection.LAYERS.allIds.map((e=>s.layers[e]))},a=e=>o.Z.getState().videoEditor.ui.selection.LAYERS.allIds.includes(e)},"./app/utils/video-editor/store.ts":(e,t,s)=>{"use strict";s.d(t,{Zi:()=>I,dR:()=>_,Cj:()=>D,tF:()=>w,Wy:()=>L,GW:()=>R,xu:()=>b,Qj:()=>P,kb:()=>A,yD:()=>M,HY:()=>k,_A:()=>j,Ny:()=>O,_Q:()=>v,TA:()=>x,z6:()=>Z,N7:()=>T});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./node_modules/tinycolor2/tinycolor.js"),i=s.n(a),r=s("./node_modules/uuid/dist/esm-browser/v4.js"),l=s("./app/animators/manifests/index.ts"),c=s("./app/utils/observables.ts");s("./app/utils/hooks/useObservables.ts"),s("./node_modules/react/index.js");const d=new c.y(null);var p=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),u=s("./app/components/Views/VideoTools/VideoEditor/edit-context-definitions.ts"),m=s("./app/gl2d/slug/slug.ts"),h=s("./app/store.ts"),g=s("./app/utils/video-editor/effects.ts"),f=s("./app/utils/video-editor/layer.ts");const y={position:{value:{x:0,y:0},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:0,y:0},keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:{x:0,y:0},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},volume:{value:1,keyframes:[],keyframesEnabled:!1,visible:!1},crop:{value:{left:0,top:0,right:0,bottom:0,radius:0},keyframes:[],keyframesEnabled:!1,visible:!1}},x=(e,t)=>Object.entries(e).filter((e=>{let[s,o]=e;switch(t){case"VIDEO":default:return!0;case"IMAGE":case"TEXT":case"LOTTIE":case"SHAPE":case"EMPTY":return"volume"!==s;case"AUDIO":return"volume"===s}})).reduce(((e,t)=>{let[s,o]=t;return{...e,[s]:o}}),{}),v=(e,t,s)=>{const{fitToCanvas:o=!1,scaleType:n}=s;return{type:"VIDEO",id:r.Z(),createdAt:new Date,name:e.name,effects:[],transforms:{...x(y,"VIDEO"),position:{value:{x:o?t.settings.width/2:e.metadata.width/2,y:o?t.settings.height/2:e.metadata.height/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:o?(0,f.Nj)({width:e.metadata.width,height:e.metadata.height,targetWidth:t.settings.width,targetHeight:t.settings.height,scaleType:n}):100,y:o?(0,f.Nj)({width:e.metadata.width,height:e.metadata.height,targetWidth:t.settings.width,targetHeight:t.settings.height,scaleType:n}):100},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}},mask:u.X.MASK.initLayerState,inpaint:u.X.INPAINT.initLayerState,tracking:u.X.TRACKING.initLayerState,visible:!0,lock:!1,data:{clip:e,hasAudio:!1,muted:!1},startMs:0,startOffsetMs:0,endMs:e.metadata.duration,colorMode:"RGBA",blend:"alpha",speed:1,speedMode:"DEFAULT",childrenLayerIds:[]}},b=(e,t,s)=>{const{fitToCanvas:o=!1,scaleType:n}=s,a=p.Xw;return{type:"IMAGE",id:r.Z(),createdAt:new Date,name:e.name,effects:[],lock:!1,transforms:{...x(y,"IMAGE"),position:{value:{x:o?t.settings.width/2:e.metadata.width/2,y:o?t.settings.height/2:e.metadata.height/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:o?(0,f.Nj)({width:e.metadata.width,height:e.metadata.height,targetWidth:t.settings.width,targetHeight:t.settings.height,scaleType:n}):100,y:o?(0,f.Nj)({width:e.metadata.width,height:e.metadata.height,targetWidth:t.settings.width,targetHeight:t.settings.height,scaleType:n}):100},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}},mask:u.X.MASK.initLayerState,visible:!0,data:{clip:e},startMs:0,endMs:a,startOffsetMs:0,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}},w=e=>({type:"AUDIO",id:r.Z(),createdAt:new Date,effects:[],transforms:{...x(y,"AUDIO")},data:{clip:e,muted:!1,beatSnappingEnabled:!1,beatTimestamps:null},name:e.name,visible:!0,startMs:0,startOffsetMs:0,endMs:e.metadata.duration,lock:!1,mask:u.X.MASK.initLayerState,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}),_="https://runway-fonts.s3.amazonaws.com/webfonts/OpenSans/normal/400.ttf",I={texture:null,textureDirty:!0,textScalingFactor:p.dp,textProperties:{content:"Text",font:"Open Sans",url:_,size:128,style:"regular",color:[1,1,1],fillEnabled:!0,fillOpacity:1,strokeEnabled:!1,backgroundEnabled:!1,backgroundColor:[0,0,0],backgroundOpacity:1,strokeColor:[0,0,0],lineHeight:1,letterSpacing:0,alignment:"left",decoration:"none",letterCase:"none"}},T=e=>{const{content:t,...s}=e;return{...s,strokeEnabled:!1,backgroundEnabled:!1,backgroundColor:[0,0,0],strokeColor:[0,0,0]}},j=e=>{let{composition:t}=e;const s=t.layers[h.Z.getState().videoEditor.ui.lastSelectedTextLayerId];let o={};return s?.data?.subtitleOfLayerId?o=T(t.layers[s.data.subtitleOfLayerId]?.data?.subtitleData?.textProperties||{}):s&&(o=s.data.textProperties),k({composition:t,data:s&&o?{...I,textProperties:{...I.textProperties,...o,content:"Text"}}:void 0})},k=e=>{let{composition:t,data:s}=e;const o=(e=>{const t=e.settings.backgroundColor;return i()(t).isLight()?[0,0,0]:[1,1,1]})(t),n={...I,textProperties:{...I.textProperties,color:o}},a=r.Z();return d.set(a),{type:"TEXT",id:a,createdAt:new Date,name:"Text",effects:[],transforms:{...x(y,"TEXT"),position:{value:{x:t?.settings.width/2,y:t?.settings.height/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:100,y:100},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}},mask:u.X.MASK.initLayerState,visible:!0,lock:!1,startMs:0,endMs:1e4,startOffsetMs:0,data:s??n,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}},C=e=>({value:e,keyframes:[],keyframesEnabled:!1,visible:!1}),E={ELLIPSE:{type:"ELLIPSE",strokeEnabled:!1},RECT:{type:"RECT",strokeEnabled:!1},POLYGON:{type:"POLYGON",strokeEnabled:!1,cornerCount:3},LINE:{type:"LINE",lineCap:m.W5.FLAT}},S={ELLIPSE:{fillColor:C([1,1,1,1]),strokeColor:C([0,0,0,0]),strokeWidth:C(3)},RECT:{fillColor:C([1,1,1,1]),strokeColor:C([0,0,0,0]),strokeWidth:C(3),cornerInset:C(0)},POLYGON:{fillColor:C([1,1,1,1]),strokeColor:C([0,0,0,0]),strokeWidth:C(3),cornerInset:C(0)},LINE:{}},A=e=>{let{composition:t,data:s}=e;const o={...E[s.type],...s};return{type:"SHAPE",id:r.Z(),createdAt:new Date,name:s.type,effects:[],transforms:{...x(y,"SHAPE"),...S[s.type],position:{value:{x:t?.settings.width/2,y:t?.settings.height/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:100,y:100},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}},mask:u.X.MASK.initLayerState,visible:!0,lock:!1,startMs:0,endMs:1e4,startOffsetMs:0,data:o,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}},M=e=>{let{composition:t,posX:s,posY:o}=e;return{type:"EMPTY",id:r.Z(),createdAt:new Date,name:"Solid",effects:[R("fill_color",!0,{u_overwrite_alpha:1,u_color:[1,1,1]})],transforms:{...x(y,"EMPTY"),position:{value:{x:s??t?.settings.width/2,y:o??t?.settings.height/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:t.settings.width/p.YS.width*100,y:t.settings.height/p.YS.height*100},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}},data:{},mask:u.X.MASK.initLayerState,visible:!0,lock:!1,startMs:0,endMs:1e4,startOffsetMs:0,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}},P=e=>{let{animationData:t}=e;return{type:"LOTTIE",id:r.Z(),createdAt:new Date,name:"Animation Preset",effects:[],transforms:{...x(y,"LOTTIE"),position:{value:{x:t.w/2,y:t.h/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:100,y:100},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}},data:{animationData:t,clip:{metadata:{duration:1e3*(t.op-t.ip)/t.fr,frameRate:t.fr,width:t.w,height:t.h}}},mask:u.X.MASK.initLayerState,visible:!0,lock:!1,startMs:0,endMs:1e3*(t.op-t.ip)/t.fr,startOffsetMs:0,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}},N=(e,t)=>({animatorType:e,direction:t,values:n().mapValues(l.v[e].values,(e=>e.value))}),D=(e,t,s)=>{const o="TEXT"===s.type?s.data.textProperties.content.length:0,n=l.v[e].defaultDuration,a=n instanceof Function?n(o):n,i=s.endMs-s.startMs,c="in"===t?0:i-a,d="in"===t?a:i;return{type:"ANIMATOR",id:r.Z(),createdAt:new Date,name:"Animator",effects:[],data:N(e,t),mask:u.X.MASK.initLayerState,visible:!0,lock:!1,startMs:c,endMs:d,startOffsetMs:0,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}},O=e=>({type:"TRACKING",id:r.Z(),createdAt:new Date,name:`${e.name} – Tracking`,effects:[],data:{},mask:u.X.MASK.initLayerState,visible:!0,lock:!1,startMs:0,endMs:0,startOffsetMs:0,colorMode:"RGBA",blend:"alpha",speed:1,childrenLayerIds:[],speedMode:"DEFAULT"}),L=(e,t)=>({id:r.Z(),name:e.name,assetId:e.id,thumbnail:e.previewUrls[2]??e.previewUrls[0],previewImages:e.previewUrls,maskThumbnail:null,url:e.fileCount>1?e.previewUrls[0]:e.url,metadata:t,defaultMaskUrl:null}),R=(e,t,s)=>{const o={};for(const t of Object.keys(g.sy[e].values)){const{value:n}=g.sy[e].values[t],a=s?.[t];o[t]={value:a||n,keyframesEnabled:!1,visible:!1,keyframes:[]}}return{id:r.Z(),name:e,type:"filter",values:o,enabled:void 0===t||t,valid:!0}},Z=e=>{let{compositionSize:t,clipSize:s,layerType:o}=e;return{...x(y,o),position:{value:{x:t.width/2,y:t.height/2},keyframes:[],keyframesEnabled:!1,visible:!1},scale:{value:{x:(0,f.Nj)({width:s.width,height:s.height,targetWidth:t.width,targetHeight:t.height}),y:(0,f.Nj)({width:s.width,height:s.height,targetWidth:t.width,targetHeight:t.height})},keyframes:[],keyframesEnabled:!1,visible:!1},opacity:{value:100,keyframes:[],keyframesEnabled:!1,visible:!1},rotation:{value:0,keyframes:[],keyframesEnabled:!1,visible:!1}}}},"./app/utils/video-editor/subtitles.ts":(e,t,s)=>{"use strict";s.d(t,{K3:()=>f,K9:()=>b,MF:()=>v,bX:()=>x,cH:()=>w,cS:()=>y});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/uuid/dist/esm-browser/v4.js"),r=s("./app/actions/video-editor/layers.ts"),l=s("./app/components/Views/MagicTools/utils.ts"),c=s("./app/components/Views/VideoTools/VideoEditor/Preview/Layers/useLayerTransforms.ts"),d=s("./app/reducers/video-editor/composition.ts"),p=s("./app/reducers/video-editor/composition/layers.ts"),u=s("./app/store.ts"),m=(s("./app/streams/streaming-sdk.ts"),s("./app/utils/video-editor/layer.ts")),h=s("./app/utils/video-editor/store.ts"),g=s("./app/utils/video-editor/transcript.ts");const f={content:"",font:"Open Sans",url:h.dR,size:50,style:"regular",fillEnabled:!0,strokeEnabled:!1,backgroundEnabled:!0,color:[1,1,1],strokeColor:[0,0,0],backgroundColor:[0,0,0],alignment:"left",lineHeight:1,letterSpacing:0,decoration:"none",letterCase:"none",backgroundOpacity:1,fillOpacity:1},y=(e,t)=>{const s=u.Z.getState().videoEditor.composition,o=s.layers[e];if(!o)return;const n=s.settings.width,a=s.settings.height,l=o.data.subtitleData,d=(0,g.sW)(t,Math.round(.03*n)).map((e=>({...e,id:(0,i.Z)()}))).filter((e=>e.endMs>o.startOffsetMs&&e.startMs<o.speed*(o.endMs-o.startMs)+o.startOffsetMs));u.Z.dispatch({type:"composition/UPDATE_LAYER_DATA",layerId:o.id,data:{subtitleData:{...l,pendingTranscriptionId:null,showSubtitles:!0,textProperties:f}}});const p=(e=>{const t=e.videoEditor.composition.tracks;let s=-1;for(let e=0;e<t.length;e++){const o=t[e];if("PIXEL"===o.type){if(0!==o.layers.length)break;s=e}}return-1===s?(u.Z.dispatch({type:"composition/CREATE_TRACK",trackIndex:0,trackType:"PIXEL"}),0):s})(u.Z.getState());d.map((e=>(0,h.HY)({composition:s,data:{...h.Zi,textProperties:{...h.Zi.textProperties,...f,content:e.text},subtitleOfLayerId:o.id}}))).forEach(((e,t)=>{e.name=d[t].text,e.startMs=(0,c.k)(d[t].startMs,o),e.endMs=(0,c.k)(d[t].endMs,o),e.transforms.position.value={x:n/2,y:9*a/10},u.Z.dispatch((0,r.gM)(e,p,!1))}))},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=u.Z.getState());const s=t.videoEditor.composition,o=Object.values(s.layers).filter((t=>t.data.subtitleOfLayerId===e));return n().sortBy(o,"startMs")},v=function(e){return x(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).map((e=>({id:e.id,text:e.data.textProperties.content,startMs:e.startMs,endMs:e.endMs})))},b=(e,t)=>{(0,a.dC)((()=>{x(e).map((e=>e.id)).forEach((e=>{u.Z.dispatch({type:"composition/UPDATE_LAYER_VISIBILITY",layerId:e,value:t})}))}))},w=async e=>{let{asset:t,subtitles:s,textProperties:o=f}=e;const n=(0,d.Ee)(1e3*t.metadata.duration),[i,r]=await(async e=>{const{width:t,height:s}=await(0,l.Jr)(e),o=t/s;return t>s?[1920,1920/o].map((e=>Math.floor(e))):[1920/o,1920].map((e=>Math.floor(e)))})(t);n.settings.width=i,n.settings.height=r;const u=await(0,m.Zr)({asset:t,composition:n,options:{fitToCanvas:!0}});(0,p.A)({composition:n,layer:u,trackIndex:1}),u.data.subtitleData={pendingTranscriptionId:null,showSubtitles:!0,textProperties:{...f,...o}};const g=s.filter((e=>e.endMs>u.startOffsetMs&&e.startMs<u.speed*(u.endMs-u.startMs)+u.startOffsetMs)),y=g.map((e=>(0,h.HY)({composition:n,data:{...h.Zi,textProperties:{...h.Zi.textProperties,...o,content:e.text},subtitleOfLayerId:u.id}})));return(0,a.dC)((()=>{y.forEach(((e,t)=>{e.name=s[t].text,e.startMs=(0,c.k)(s[t].startMs,u),e.endMs=(0,c.k)(s[t].endMs,u),e.transforms.position.value={x:n.settings.width/2,y:9*n.settings.height/10},(0,p.A)({composition:n,layer:e,trackIndex:0})}))})),n}},"./app/utils/video-editor/timeline.ts":(e,t,s)=>{"use strict";s.d(t,{AS:()=>m,BI:()=>x,Lp:()=>g,QC:()=>y,WW:()=>v,_e:()=>h,dV:()=>f,ub:()=>u});var o=s("./node_modules/lodash/lodash.js"),n=s.n(o),a=s("./app/components/Views/VideoTools/VideoEditor/Timeline/timeline-ticks.ts"),i=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),r=s("./app/components/Views/VideoTools/VideoEditor/utils.ts"),l=s("./app/reducers/video-editor/composition.ts"),c=s("./app/store.ts"),d=s("./app/utils/video-editor/layer.ts"),p=s("./app/utils/video-editor/tracks.ts");const u=(e,t)=>{const s=t??c.Z.getState().videoEditor.ui.timelineScale,o=a.um*s,n=a.Jf/o;return Math.round(e*n)},m=(e,t)=>{const s=t??c.Z.getState().videoEditor.ui.timelineScale,o=a.um*s;return e/(a.Jf/o)},h=e=>{const t=c.Z.getState().videoEditor.composition,s=Object.keys(t.layers).find((e=>"IMAGE"===t.layers[e].type||"VIDEO"===t.layers[e].type));if((0,r.Ad)()&&(Object.keys(t.layers).length<=0||!s))return window.innerWidth-i.ho;const o=e??c.Z.getState().videoEditor.ui.timelineScale,n=t.settings.durationMs,l=a.um*o,d=Math.ceil((n+1)/a.Jf),p=Math.max(l*d-l,l);return Math.max(window.innerWidth-i.ho,p)},g=(e,t)=>m(e,t)-i.BO/2,f=(e,t)=>{const{ui:s}=c.Z.getState().videoEditor,o=g(t,s.timelineScale);e.current.scrollLeft=o},y=(e,t)=>{const{composition:s,ui:o}=e.videoEditor,a=o.tracks[t],r=c.Z.getState().settings.userPreference.heightOfTracks;if(a?.expanded){const o=(0,p.Uf)(t,e),a=(0,l.xb)(s,o.layers??[]).map((e=>{const t=(0,d.Wr)(e);let s=0;return s+=r,t&&(s+=i._R),s}));return n().max(a)}return r},x=e=>{const t=e.videoEditor.composition.tracks;let s=0;return t.map(((o,n)=>{const a=n===t.length-1?0:i.n3,r=y(e,o.id),l={top:s,bottom:s+r+a,height:r};return s=s+r+a,l}))},v=(e,t)=>{const s=e.videoEditor.composition.tracks;let o=null,n=null;return s.forEach(((e,s)=>{e.type===t&&(null===o&&(o=s),n=s)})),[o||0,n||0]}},"./app/utils/video-editor/tracking.ts":(e,t,s)=>{"use strict";s.d(t,{$Q:()=>r,a1:()=>i,pC:()=>n,zq:()=>a});var o=s("./app/store.ts");const n=(e,t)=>{let{outputWidth:s,outputHeight:o}=t;return{frames:e.data.clip.url,points:e.tracking?.keyframes.map((e=>e.points.map((e=>[Math.round((s-1)*e.x),Math.round((o-1)*e.y)])))),point_timestamps:e.tracking?.keyframes.map((e=>e.timeMs/1e3))}},a=e=>{const t=o.Z.getState().videoEditor.composition.layers,s=e.childrenLayerIds.find((e=>"TRACKING"===t[e]?.type));return s?t[s]:null},i=e=>e.tracking?.keyframes.length>0,r=e=>{let{normalizedPoints:t,layer:s}=e;const{x:o,y:n}=t,a=s.data.clip.metadata.width,i=o*a,r=s.data.clip.metadata.height;return{x:i-a/2,y:n*r-r/2}}},"./app/utils/video-editor/tracks.ts":(e,t,s)=>{"use strict";s.d(t,{No:()=>c,PS:()=>u,Sz:()=>f,Uf:()=>h,Wp:()=>d,ZZ:()=>l,d9:()=>y,k9:()=>r,lk:()=>m,qn:()=>p,vO:()=>i,wg:()=>g});var o=s("./app/components/Views/VideoTools/VideoEditor/Timeline/Layer/dnd.ts"),n=s("./app/store.ts"),a=s("./app/utils/video-editor/layer.ts");const i=e=>{switch(e){case"video":case"image":default:return"PIXEL";case"audio":return"AUDIO"}},r=e=>{switch(e){case"video":return"VIDEO";case"image":return"IMAGE";case"audio":return"AUDIO";default:return""}},l=e=>{switch(e){case"VIDEO":case"IMAGE":case"EMPTY":default:return"PIXEL";case"AUDIO":return"AUDIO"}},c=(e,t,s)=>{const a=n.Z.getState().videoEditor.composition.tracks,i=null!=t?t:e.startMs,r=e.endMs-e.startMs,c=(0,o.Au)(i+r),d=l(e.type);if(null!==s){const e=a[s];if(e?.type===d)return{startMs:i,endMs:c,trackIndex:s,shouldSplice:!1}}if("PIXEL"===d){let t=-1;for(let s=0;s<a.length;s++){if("PIXEL"!==a[s].type)continue;if((0,o.MM)({startMs:i,endMs:c,trackIndex:s,excludeLayerIds:[e.id]}).length)break;t=s}return-1===t?{startMs:i,endMs:c,trackIndex:0,shouldSplice:!0}:{startMs:i,endMs:c,trackIndex:t,shouldSplice:!1}}const p=a.findIndex(((t,s)=>{if("AUDIO"!==t.type)return!1;return!(0,o.MM)({startMs:i,endMs:c,trackIndex:s,excludeLayerIds:[e.id]}).length}));if(-1===p){const e=a.findIndex((e=>"AUDIO"===e.type));return{startMs:i,endMs:c,trackIndex:e,shouldSplice:!0}}return{startMs:i,endMs:c,trackIndex:p,shouldSplice:!1}},d=e=>{const t=n.Z.getState().videoEditor.composition.tracks,s=e.startMs,a=e.endMs-e.startMs,i=(0,o.OL)(s+a),r=u(e.id);let l=-1;for(let n=0;n<t.length;n++){if(n===r){l=n;break}if("PIXEL"!==t[n].type)continue;if((0,o.MM)({startMs:s,endMs:i,trackIndex:n,excludeLayerIds:[e.id]}).length)break;l=n}return-1===l?{trackIndex:0,isNewTrack:!0}:{trackIndex:l,isNewTrack:!1}},p=e=>{const t=n.Z.getState().videoEditor.composition.tracks,s=e.startMs,a=e.endMs-e.startMs,i=(0,o.OL)(s+a),r=u(e.id);let l=-1;for(let n=t.length-1;n>=0;n--){if(n===r){l=n;break}if("PIXEL"!==t[n].type)continue;if((0,o.MM)({startMs:s,endMs:i,trackIndex:n,excludeLayerIds:[e.id]}).length)break;l=n}return l},u=(e,t)=>{const{tracks:s}=(t||n.Z.getState()).videoEditor.composition;return s.findIndex((t=>{let{layers:s}=t;return s.includes(e)}))},m=(e,t)=>{const{tracks:s}=(t||n.Z.getState()).videoEditor.composition,o=s.find((t=>{let{layers:s}=t;return s.includes(e)}));return o?.id},h=(e,t)=>{const{tracks:s}=(t||n.Z.getState()).videoEditor.composition;return s.find((t=>{let{id:s}=t;return s===e}))},g=e=>[...e.filter((e=>"AUDIO"!==e.type)),...e.filter((e=>"AUDIO"===e.type))],f=e=>(0,a.Wr)(e),y=e=>0===e.layers.length},"./app/utils/video-editor/transcript.ts":(e,t,s)=>{"use strict";s.d(t,{AX:()=>i,sW:()=>r,u1:()=>a});var o=s("./app/utils/auth.ts"),n=s("./app/utils/constants.ts");const a=async(e,t)=>{const s=await(0,o.pb)(`${n.T5}/v1/video_transcriptions`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({mediaUrl:e,languageCode:t})}),a=await s.json();if(!s.ok)throw new Error(a.error);return a.videoTranscription.id},i=async e=>{const t=await(0,o.pb)(`${n.T5}/v1/video_transcriptions/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),s=await t.json();if(!t.ok)throw new Error(s.error);return s.videoTranscription},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const o=[];let n="",a=0,i=0,r=!1,l=null;for(const c of e){const e=n.length+c.text.length>t,d=l&&c.start-l.end>s;e||r||d?(n.length>0&&o.push({startMs:a,endMs:i,text:n}),n=c.text,a=c.start,i=c.end,r=!1):(n+=l?` ${c.text}`:c.text,i=c.end,c.text.endsWith(".")&&(r=!0)),l=c}return o.push({startMs:a,endMs:i,text:n}),o}},"./app/utils/video-editor/transforms.ts":(e,t,s)=>{"use strict";s.d(t,{r:()=>o});const o=(e,t)=>{Object.entries(e.transforms??{}).forEach((e=>{let[s,o]=e;return t(o,{property:s})})),e.effects.forEach((e=>{Object.entries(e.values).forEach((s=>{let[o,n]=s;return t(n,{property:o,effectId:e.id})}))}))}},"./app/utils/video-editor/ui.ts":(e,t,s)=>{"use strict";s.d(t,{J:()=>o});const o=e=>.5+e/3*.5},"./app/utils/video.ts":(e,t,s)=>{"use strict";s.d(t,{$d:()=>f,Jm:()=>v,Jo:()=>C,M2:()=>x,Mf:()=>I,OO:()=>y,Py:()=>_,a3:()=>j,jC:()=>T,nQ:()=>k});var o=s("./node_modules/@sentry/core/esm/exports.js"),n=s("./node_modules/lodash/lodash.js"),a=s.n(n),i=s("./node_modules/mediainfo.js/dist/mediainfo.js"),r=s.n(i),l=s("./app/api/hooks/assets/upload.ts"),c=s("./app/api/video.ts"),d=s("./app/components/Views/VideoTools/VideoEditor/constants.ts"),p=s("./app/store.ts"),u=s("./app/utils/filenames.ts"),m=s("./app/utils/files.ts"),h=s("./app/utils/number.ts"),g=s("./app/utils/urls.ts");const f=e=>{let{originalWidth:t,originalHeight:s,maxWidth:o,maxHeight:n,roundToNearestMultipleOf:a=1,enableUpscale:i=!1}=e,r=i?o:t,l=i?n:s;if(t>o||s>n){const e=s/t;e<1?(r=o,l=Math.round(o*e)):(r=Math.round(n/e),l=n)}return r=(0,h.Nm)(r,a),l=(0,h.Nm)(l,a),{width:r,height:l}},y=async e=>e.metadata?.size&&e.metadata?.duration?{duration:1e3*e.metadata.duration,frameRate:e.metadata.frameRate,hasAlphaChannel:e.metadata.hasAlphaChannel,hasAudio:e.metadata.hasAudio,...e.metadata.size}:new Promise(((t,s)=>{(0,c.b)(e.url).then((s=>{t({duration:Math.round(1e3*s.duration),frameRate:s.framerate,width:s.width,height:s.height,hasAlphaChannel:s.has_alpha_channel,hasAudio:e.metadata.hasAudio})})).catch((e=>{s(e)}))})),x=e=>new Promise(((t,s)=>{if(e.type.includes("video")){const o=document.createElement("video"),n=(0,m.p_)(e);o.src=(0,g.ff)(n),o.addEventListener("loadedmetadata",(()=>{t(1e3*o.duration)})),o.addEventListener("error",(()=>{s("Failed to load video")}))}else s("File is not a video")})),v=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!p.Z&&!t)return e?d.Wh:d.T5;const s=(t||p.Z.getState()).features.permitted;return e?s?.videoDurationLimitSecondsGreenScreen??d.Wh:s?.videoDurationLimitSecondsSequel??d.T5},b=async e=>{const t=await r()({format:"JSON"}),s=await fetch(e),o=await s.arrayBuffer();return t.analyzeData((()=>o.byteLength),((e,t)=>new Promise((s=>{s(new Uint8Array(o.slice(t,t+e)))})))).then(JSON.parse)},w=async e=>(await b(e)).media.track.find((e=>"Video"===e["@type"])),_=async e=>{const t=await w(e);if(t)return Number(t.FrameRate)},I=async e=>{const t=await w(e);return t?.Duration?Number(t.Duration):null},T=async e=>{const t=await w(e);if(!t)return;const s=Number(t.Width*t.PixelAspectRatio),o=t.Height;return{width:Number("90.000"===t.Rotation||"270.000"===t.Rotation?o:s),height:Number("90.000"===t.Rotation||"270.000"===t.Rotation?s:o)}},j=async e=>{const t=await b(e);return t.media?.track?t.media.track.map((e=>"Audio"===e["@type"]?{channels:parseInt(e.Channels),rate:parseInt(e.SamplingRate)}:null)).filter((e=>null!==e)):[]},k=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const s=document.createElement("video"),n=(0,m.p_)(e);s.src=(0,g.ff)(n);const a=document.createElement("canvas"),i=a.getContext("2d"),r=[];let c,d,p;await new Promise(((e,t)=>{s.addEventListener("loadedmetadata",(()=>{p=s.duration,c=s.videoWidth,d=s.videoHeight,e()})),s.onerror=()=>{t("Failed to load video")}}));const{width:u,height:h}=f({originalWidth:c,originalHeight:d,maxWidth:l.RS,maxHeight:l.RS});for(let e=0;e<t;e++)await new Promise(((n,a)=>{s.onerror=()=>{o.Tb(`Failed to generate preview images locally: ${s.error}`),a("Failed to generate preview images locally")};const i=()=>{n(),s.removeEventListener("seeked",i)};s.addEventListener("seeked",i),s.currentTime=e/t*p})),a.width=u,a.height=h,i.drawImage(s,0,0,u,h),r.push(a.toDataURL("image/jpeg"));return r},C=a().memoize((async e=>{if(e.size>262144e3)return!1;if("video/webm"===e.type)return!1;const t=(0,u.Nd)(e),s="image/gif"===e.type;if("video"===t&&!s){const t=document.createElement("video"),s=(0,m.p_)(e);return t.src=(0,g.ff)(s),new Promise((e=>{t.addEventListener("loadedmetadata",(()=>{0===t.videoHeight&&e(!1)})),t.addEventListener("error",(()=>{e(!1)})),t.addEventListener("playing",(()=>{t.pause(),e(!0)})),t.muted=!0,t.play()}))}if("image"===t||s){const t=new Image;return t.src=(0,m.p_)(e),new Promise((e=>{t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)}}))}if("audio"===t){const t=new Audio;return t.src=(0,m.p_)(e),new Promise((e=>{t.oncanplay=()=>{e(!0)},t.onerror=()=>{e(!1)}}))}}))},"./app/utils/waitForPaint.ts":(e,t,s)=>{"use strict";s.d(t,{h:()=>o});const o=()=>new Promise((e=>{requestAnimationFrame((()=>{setTimeout((()=>{e()}))}))}))},"./app/utils/webcodecs.ts":(e,t,s)=>{"use strict";s.d(t,{Cr:()=>o,QB:()=>n,zq:()=>a});const o=()=>!!window.VideoDecoder;class n{source;selection;constructor(e,t){this.source=e,this.selection=t}}const a=e=>null===e||(e instanceof HTMLVideoElement?e.readyState<HTMLMediaElement.HAVE_CURRENT_DATA:e instanceof n?a(e.source):e instanceof ImageBitmap?!e.width:e instanceof self.VideoFrame&&null===e.format&&null===e.duration&&null===e.timestamp)},"./app/utils/webgl.ts":(e,t,s)=>{"use strict";s.d(t,{HO:()=>o,M:()=>a,TH:()=>r,cU:()=>i,yF:()=>l});const o=(e,t,s,o)=>{const n=e.createShader(e.VERTEX_SHADER);try{e.shaderSource(n,t),e.compileShader(n)}catch(e){console.error(e),o(e)}if(!e.getShaderParameter(n,e.COMPILE_STATUS)){const s=new Error(e.getShaderInfoLog(n));console.error(s+t),o(s)}const a=e.createShader(e.FRAGMENT_SHADER);try{e.shaderSource(a,s),e.compileShader(a)}catch(e){console.error(e),o(e)}if(!e.getShaderParameter(a,e.COMPILE_STATUS)){const t=Error(e.getShaderInfoLog(a));console.error(t+s),o(t)}const i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){const t=new Error(e.getProgramInfoLog(i));console.error(t),o(t)}return{program:i,vertexShader:n,fragmentShader:a}};let n=0;const a=(e,t)=>{n++;const s=e.createTexture();return e.bindTexture(e.TEXTURE_2D,s),t.filter?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.filter[0]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.filter[1])):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),t.wrap?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrap[0]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrap[1])):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t.width&&t.height&&e.texImage2D(e.TEXTURE_2D,0,WebGLRenderingContext.RGBA,t.width,t.height,0,WebGLRenderingContext.RGBA,e.UNSIGNED_BYTE,null),s},i=(e,t,s)=>a(e,{width:t,height:s}),r=(e,t)=>{try{e.deleteTexture(t),n--}catch{}},l=()=>{window.webglGetActiveTextureCount=()=>n}},"./app/devoe/assets/img/placeholder-audio.png":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s.p+"8a9ea77659cdd46d4962b60ba708394b.png"},"./app/devoe/assets/img/placeholder-image.png":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s.p+"8dd131499fb3d56dc0b3572b4de876ed.png"},"./app/devoe/assets/img/placeholder-text.png":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s.p+"62ac9359331dd6f60aabdc58221f0d8b.png"},"./app/devoe/assets/img/request-upgrade-dialog/images.png":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s.p+"3057f3dc5dc093348d87d6ee9841b8e9.png"},"./app/devoe/assets/img/talking-heads-gradients/clone.png":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s.p+"c091edc0eb44f4f898dedab29050b8f8.png"},"./app/devoe/assets/img/text-pages.png":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=s.p+"e9c104d8db0b4e4991e6c332e9fbd9e9.png"},"./app/components/Views/AssetsV2/grid/AssetGroupCell.css":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={container:"AssetGroupCell__container__RE8KY",folder:"AssetGroupCell__folder__nbyMs",content:"AssetGroupCell__content___CA0R",imageGrid:"AssetGroupCell__imageGrid__Ywk8v",imageContainer:"AssetGroupCell__imageContainer__JH4wx",image:"AssetGroupCell__image__PUvex",hasMoreText:"AssetGroupCell__hasMoreText__c47AA",footer:"AssetGroupCell__footer__uaf9k",name:"AssetGroupCell__name__bfhvT",footerBottomRow:"AssetGroupCell__footerBottomRow__hh3hy",footerBottomSpacer:"AssetGroupCell__footerBottomSpacer__vBmt1",subtext:"AssetGroupCell__subtext__Ce2BN"}},"./app/components/Views/AssetsV2/hooks/useAssetContextMenu.css":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={contextMenu:"useAssetContextMenu__contextMenu__KRLwh",item:"useAssetContextMenu__item__MEj8o",divider:"useAssetContextMenu__divider__KK3b_"}},"./app/components/Views/AssetsV2/index.css":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={container:"index__container__afSSJ"}},"./app/components/Views/AssetsV2/shared/task-details.css":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={container:"task-details__container__h2E52",scrollContainer:"task-details__scrollContainer__FZIQ7",divider:"task-details__divider__jJWcJ",header:"task-details__header__yZJO8",subheader:"task-details__subheader__N6XfB",colorButton:"task-details__colorButton__qtqpK",settingContainer:"task-details__settingContainer__Fnly4",settingName:"task-details__settingName__aRJYh",settingValue:"task-details__settingValue__jnDZO",reuseThisContainer:"task-details__reuseThisContainer__XzbLP",presetImage:"task-details__presetImage__nQCVF",textToggle:"task-details__textToggle___xpaC",motionBrushContainer:"task-details__motionBrushContainer__YH9RE",motionBrushName:"task-details__motionBrushName__W7p7M",directionIcons:"task-details__directionIcons__swhFr",valueContainer:"task-details__valueContainer__fbO8c",directionIcon:"task-details__directionIcon__Df4GZ",directionValue:"task-details__directionValue__j65q_",collapsibleTrigger:"task-details__collapsibleTrigger__z_3EW"}},"./app/components/Views/AssetsV2/table/AssetGroupRow.css":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={container:"AssetGroupRow__container__QkoHw",thumbnail:"AssetGroupRow__thumbnail__zjXMd"}},"./app/components/Login/Login.scss":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={Container:"Login__Container__ovLT7",BoxContainer:"Login__BoxContainer__LjD1T",Header:"Login__Header__u7i26",Logo:"Login__Logo__ExYeF",TitleAndDescription:"Login__TitleAndDescription__tTcMZ",SmallTitleAndDescription:"Login__SmallTitleAndDescription__d2Fq9",Box:"Login__Box__W4nAS",BackArrow:"Login__BackArrow__LvJ_J",TopFlash:"Login__TopFlash__adDNP",ShowTopFlash:"Login__ShowTopFlash__s7iLT",HideTopFlash:"Login__HideTopFlash__iiQDV",FlashError:"Login__FlashError__LEBgS",BoxWithShadow:"Login__BoxWithShadow__p2Gp_",HelpButton:"Login__HelpButton__TEM69",LoginPageBoxContainer:"Login__LoginPageBoxContainer__fY4PY",LogoFooter:"Login__LogoFooter__dBu0o",InputContainer:"Login__InputContainer__Kwcgs",LoginBoxAndHeader:"Login__LoginBoxAndHeader__Updu5",LoginFooter:"Login__LoginFooter__RfVXc",ContainerWithBackgroundColor:"Login__ContainerWithBackgroundColor__zK0B3","moving-gradient":"Login__moving-gradient__NsHRZ",pulse:"Login__pulse__jFPlJ",gradient:"Login__gradient__MFKr_",blink:"Login__blink__c27vr"}},"./app/devoe/assets/logos/runway-with-logo.svg":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCA4OCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIzLjk4NTggMy43NzA3N0gyNi40MTkyTDI2LjY0NzMgNS4wMzMyMkMyNy4xMjM0IDQuMDM0MTkgMjguMTQ4NCAzLjU0NDYyIDI5LjIzMTEgMy41NDQ2MkMyOS43NjI0IDMuNTQ0NjIgMzAuMjk2MiAzLjY3NjMzIDMwLjY1NzEgMy44Mjc5MkwzMC4wODU3IDYuNzQ3OTdDMjkuNzA0NyA2LjUyMTgzIDI5LjIzMTEgNi4zNzAyMyAyOC42NTk3IDYuMzcwMjNDMjcuNjcyMyA2LjM3MDIzIDI2Ljg3MjggNy4wMzEyOCAyNi44NzI4IDguNVYxMy4xOTJIMjMuOTg1OFYzLjc3MDc3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTMxLjc2MjUgOS43NDQ4M1YzLjc3MDMySDM0LjY1MlY5LjE5ODA4QzM0LjY1MiAxMC4yOTE2IDM1LjI3ODUgMTAuODc1NiAzNi4xOTA4IDEwLjg3NTZDMzcuMTIzIDEwLjg3NTYgMzcuOTIgMTAuMTU5OSAzNy45MiA4LjU3Njc3VjMuNzcwMzJINDAuODA5NVYxMy4xOTQzSDM4LjM5NjFMMzguMDcyOCAxMS45NTE3QzM3LjYxNjcgMTIuNzA0NyAzNi40NzY1IDEzLjQyMDUgMzUuMDcwNSAxMy40MjA1QzMzLjE4NTkgMTMuNDIwNSAzMS43NjI1IDEyLjIxMjcgMzEuNzYyNSA5Ljc0NDgzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQyLjQxMzggMy43NzA1OEg0NC44MjcyTDQ1LjE1MDUgNS4wMTMxNkM0NS42MDY2IDQuMjYwMTYgNDYuNzI2OSAzLjU0NDQzIDQ4LjEzNTMgMy41NDQ0M0M0OS45OTczIDMuNTQ0NDMgNTEuNDAzMyA0LjczMjMzIDUxLjQwMzMgNy4yMDAwOVYxMy4xOTQzSDQ4LjUxMzdWNy44MDM5OEM0OC41MTM3IDYuNjkzMTIgNDcuOTQyMyA2LjA4OTIzIDQ2Ljk5MjUgNi4wODkyM0M0Ni4xMTc5IDYuMDg5MjMgNDUuMzAwOSA2LjgwNDk1IDQ1LjMwMDkgOC40MjUyN1YxMy4xOTQzSDQyLjQxMTNWMy43NzA1OEg0Mi40MTM4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTUxLjg5NjggMy43NzAzMkg1NC44MjM5TDU2LjU1MzIgMTAuMTU5OUw1OC4wOTE5IDUuOTU3MzNMNTcuMzMyNiAzLjc3MDMySDYwLjIzOTZMNjIuMTIxNyAxMC4xNTk5TDYzLjc5MzMgMy43NzAzMkg2Ni43MzhMNjMuNjIwNCAxMy4xOTQzSDYwLjYxODFMNTkuMzI3NCA5LjQ0NDEyTDU3Ljk5NjcgMTMuMTk0M0g1NS4wMTE5TDUxLjg5NjggMy43NzAzMloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02Ni43OTI4IDguNDgzMDlDNjYuNzkyOCA1LjIyMjE0IDY5LjE0ODYgMy41NDQ0MyA3MS4zMTY0IDMuNTQ0NDNDNzIuNjQ3MSAzLjU0NDQzIDczLjU5NjkgNC4wNzEzNiA3NC4wNzA2IDQuNjE4MTZMNzQuMzM2MiAzLjc3MDYxSDc3LjAxNTNWMTMuMTk1Nkg3NC40NjkxTDc0LjA3MDYgMTIuMjczNUM3My42NzIxIDEyLjc0MzIgNzIuODE3NSAxMy40MjE4IDcxLjE4MSAxMy40MjE4QzY4Ljg0NTQgMTMuNDIxOCA2Ni43OTI4IDExLjQ5OCA2Ni43OTI4IDguNDgzMDlaTTc0LjE4NTkgOC40ODMwOUM3NC4xODU5IDYuOTU3MDEgNzMuMTk4NSA2LjAxNTAxIDcxLjk0MjkgNi4wMTUwMUM3MC42Njk4IDYuMDE1MDEgNjkuNjk5OSA2Ljk3Njg5IDY5LjY5OTkgOC40ODMwOUM2OS42OTk5IDkuOTg5MyA3MC42Njk4IDEwLjk1MzcgNzEuOTQyOSAxMC45NTM3QzczLjE5ODUgMTAuOTUxMiA3NC4xODU5IDEwLjAwOTIgNzQuMTg1OSA4LjQ4MzA5WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTgwLjA1NTYgMTYuOTYxM0w4MS42NTIgMTIuNjg0NEw3Ny44NzAzIDMuNzcwMzJIODAuOTY3OUw4My4wNzggOS41OTI5NEw4NC45Nzc2IDMuNzcwMzJIODhMODMuMDAyOCAxNi45NjEzSDgwLjA1NTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTMuMTYyMSAxNy4wMzk2QzExLjA4MiAxNy4yMjg0IDkuMzQyOCAxNC44MDc4IDguMDA5NTUgMTMuNTgwMUM3LjMzNTQgMTguNDA0IC0wLjAwNTAwOTY2IDE3Ljk0NjcgMi41NjU2N2UtMDYgMTMuMDUzMkMwLjAwMjUwODY4IDEwLjk5NzkgMi41NjU2N2UtMDYgNS45NzUyNSAyLjU2NTY3ZS0wNiAzLjk4NDU3QzIuNTY1NjdlLTA2IDMuMjY4ODEgMC4xOTc5ODYgMi41NDgwOSAwLjU2ODg5MSAxLjkzNjcyQzEuMjczMTEgMC43NTEyNjEgMi42MzM5MyAtMC4wMTQxOTQgNC4wMTk4MSAwLjAwMDcxNzQyOEM2LjEwNzQgMC4wMDMyMDI2NyAxMS4xMzQ3IC0wLjAwMTc2NzgyIDEzLjE2MjEgMC4wMDA3MTc0MjhDMTguMDk0MiAwLjAwMDcxNzQyOCAxOC41NjI4IDcuMjg3NDYgMTMuNjg4NCA3Ljk0MzU2TDE2LjAwMTUgMTAuMjM3NEMxOC41NDI3IDEyLjYxMDkgMTYuNjM1NiAxNy4xNDM5IDEzLjE2MjEgMTcuMDM5NlpNMTIuMDQxOSAxNC4xNjkxQzEzLjQ3NTQgMTUuNjM1NCAxNS43NjM1IDEzLjM2MzkgMTQuMjg3NCAxMS45NDIzTDEwLjI3NzYgNy45NjU5M0g4LjAzNDYxQzguMDM0NjEgOC4xODIxNCA4LjAzNDYxIDEwLjAzNjEgOC4wMzQ2MSAxMC4xOTI3TDExLjUwMDYgMTMuNjI5OEwxMi4wNDE5IDE0LjE2OTFaTTIuNDI4NDMgMTMuMDU1N0MyLjM5NTg1IDE1LjA5MzYgNS42MzYyNSAxNS4xMDExIDUuNjAzNjggMTMuMDU1N1YzLjk4NDU3QzUuNjMxMjQgMi45NjgxIDQuNTQ4NiAyLjE2MDQgMy41NzEyMiAyLjQ3MzU0QzMuNTI4NjEgMi40ODU5NiAzLjQ4ODUxIDIuNDk4MzkgMy40NTA5MiAyLjUxMzNDMi44MzY5MiAyLjczOTQ2IDIuNDEwODkgMy4zNjMyNSAyLjQyODQzIDQuMDE0MzlWMTMuMDU1N1pNMTMuMTYyMSA1LjU1NzczQzE1LjIyMjEgNS41OTAwMyAxNS4yMTk2IDIuMzc2NjEgMTMuMTYyMSAyLjQwODkySDcuNzE2MzNDOC4xMjk4NCAzLjI3Mzc5IDguMDI0NTggNC42MjA3OSA4LjAzMjEgNS41NTc3M0M4LjMyNzgyIDUuNTU3NzMgMTMuMDE2OCA1LjU1NzczIDEzLjE2MjEgNS41NTc3M1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},"./shaders/filters sync recursive ^\\.\\/.*\\/manifest\\.json$":(e,t,s)=>{var o={"./8bits/manifest.json":"./shaders/filters/8bits/manifest.json","./_empty_/manifest.json":"./shaders/filters/_empty_/manifest.json","./_lut/manifest.json":"./shaders/filters/_lut/manifest.json","./_ramp/manifest.json":"./shaders/filters/_ramp/manifest.json","./anamorphic_flair/manifest.json":"./shaders/filters/anamorphic_flair/manifest.json","./ascii/manifest.json":"./shaders/filters/ascii/manifest.json","./aura/manifest.json":"./shaders/filters/aura/manifest.json","./beams/manifest.json":"./shaders/filters/beams/manifest.json","./bloom/manifest.json":"./shaders/filters/bloom/manifest.json","./blur/manifest.json":"./shaders/filters/blur/manifest.json","./bokeh/manifest.json":"./shaders/filters/bokeh/manifest.json","./bokeh_distance/manifest.json":"./shaders/filters/bokeh_distance/manifest.json","./bokeh_point/manifest.json":"./shaders/filters/bokeh_point/manifest.json","./bokeh_polygon/manifest.json":"./shaders/filters/bokeh_polygon/manifest.json","./bokeh_tilt/manifest.json":"./shaders/filters/bokeh_tilt/manifest.json","./brightness/manifest.json":"./shaders/filters/brightness/manifest.json","./brightness_contrast/manifest.json":"./shaders/filters/brightness_contrast/manifest.json","./checkers/manifest.json":"./shaders/filters/checkers/manifest.json","./chroma_ab/manifest.json":"./shaders/filters/chroma_ab/manifest.json","./chroma_key/manifest.json":"./shaders/filters/chroma_key/manifest.json","./chroma_spill/manifest.json":"./shaders/filters/chroma_spill/manifest.json","./daltonize/manifest.json":"./shaders/filters/daltonize/manifest.json","./directional_blur/manifest.json":"./shaders/filters/directional_blur/manifest.json","./dithering_bayer/manifest.json":"./shaders/filters/dithering_bayer/manifest.json","./drop_shadows/manifest.json":"./shaders/filters/drop_shadows/manifest.json","./drop_shadows_sdf/manifest.json":"./shaders/filters/drop_shadows_sdf/manifest.json","./edge_detection/manifest.json":"./shaders/filters/edge_detection/manifest.json","./exposure/manifest.json":"./shaders/filters/exposure/manifest.json","./fill_color/manifest.json":"./shaders/filters/fill_color/manifest.json","./flip/manifest.json":"./shaders/filters/flip/manifest.json","./flow_displace/manifest.json":"./shaders/filters/flow_displace/manifest.json","./flow_fire/manifest.json":"./shaders/filters/flow_fire/manifest.json","./flow_refps/manifest.json":"./shaders/filters/flow_refps/manifest.json","./focus_distance/manifest.json":"./shaders/filters/focus_distance/manifest.json","./focus_point/manifest.json":"./shaders/filters/focus_point/manifest.json","./fog/manifest.json":"./shaders/filters/fog/manifest.json","./frost/manifest.json":"./shaders/filters/frost/manifest.json","./gameboy/manifest.json":"./shaders/filters/gameboy/manifest.json","./glitch/manifest.json":"./shaders/filters/glitch/manifest.json","./glitchy_grid/manifest.json":"./shaders/filters/glitchy_grid/manifest.json","./glow/manifest.json":"./shaders/filters/glow/manifest.json","./grain/manifest.json":"./shaders/filters/grain/manifest.json","./halftone/manifest.json":"./shaders/filters/halftone/manifest.json","./halftone_cmyk/manifest.json":"./shaders/filters/halftone_cmyk/manifest.json","./hatching/manifest.json":"./shaders/filters/hatching/manifest.json","./heat/manifest.json":"./shaders/filters/heat/manifest.json","./hud_frame/manifest.json":"./shaders/filters/hud_frame/manifest.json","./hud_target/manifest.json":"./shaders/filters/hud_target/manifest.json","./hue_saturation_lightness/manifest.json":"./shaders/filters/hue_saturation_lightness/manifest.json","./hue_shift/manifest.json":"./shaders/filters/hue_shift/manifest.json","./image/manifest.json":"./shaders/filters/image/manifest.json","./invert/manifest.json":"./shaders/filters/invert/manifest.json","./lens_distortion/manifest.json":"./shaders/filters/lens_distortion/manifest.json","./lens_flair/manifest.json":"./shaders/filters/lens_flair/manifest.json","./lens_flair_00/manifest.json":"./shaders/filters/lens_flair_00/manifest.json","./lens_flair_01/manifest.json":"./shaders/filters/lens_flair_01/manifest.json","./lens_flair_02/manifest.json":"./shaders/filters/lens_flair_02/manifest.json","./light_leaks/manifest.json":"./shaders/filters/light_leaks/manifest.json","./lighting/manifest.json":"./shaders/filters/lighting/manifest.json","./line/manifest.json":"./shaders/filters/line/manifest.json","./lut_00/manifest.json":"./shaders/filters/lut_00/manifest.json","./lut_01/manifest.json":"./shaders/filters/lut_01/manifest.json","./lut_02/manifest.json":"./shaders/filters/lut_02/manifest.json","./lut_03/manifest.json":"./shaders/filters/lut_03/manifest.json","./lut_04/manifest.json":"./shaders/filters/lut_04/manifest.json","./lut_05/manifest.json":"./shaders/filters/lut_05/manifest.json","./lut_06/manifest.json":"./shaders/filters/lut_06/manifest.json","./lut_07/manifest.json":"./shaders/filters/lut_07/manifest.json","./lut_08/manifest.json":"./shaders/filters/lut_08/manifest.json","./lut_09/manifest.json":"./shaders/filters/lut_09/manifest.json","./lut_10/manifest.json":"./shaders/filters/lut_10/manifest.json","./lut_11/manifest.json":"./shaders/filters/lut_11/manifest.json","./lut_12/manifest.json":"./shaders/filters/lut_12/manifest.json","./lut_13/manifest.json":"./shaders/filters/lut_13/manifest.json","./lut_14/manifest.json":"./shaders/filters/lut_14/manifest.json","./lut_15/manifest.json":"./shaders/filters/lut_15/manifest.json","./lut_16/manifest.json":"./shaders/filters/lut_16/manifest.json","./lut_17/manifest.json":"./shaders/filters/lut_17/manifest.json","./lut_18/manifest.json":"./shaders/filters/lut_18/manifest.json","./lut_19/manifest.json":"./shaders/filters/lut_19/manifest.json","./lut_20/manifest.json":"./shaders/filters/lut_20/manifest.json","./lut_21/manifest.json":"./shaders/filters/lut_21/manifest.json","./lut_22/manifest.json":"./shaders/filters/lut_22/manifest.json","./lut_23/manifest.json":"./shaders/filters/lut_23/manifest.json","./lut_24/manifest.json":"./shaders/filters/lut_24/manifest.json","./lut_25/manifest.json":"./shaders/filters/lut_25/manifest.json","./lut_26/manifest.json":"./shaders/filters/lut_26/manifest.json","./lut_27/manifest.json":"./shaders/filters/lut_27/manifest.json","./lut_28/manifest.json":"./shaders/filters/lut_28/manifest.json","./lut_29/manifest.json":"./shaders/filters/lut_29/manifest.json","./lut_30/manifest.json":"./shaders/filters/lut_30/manifest.json","./lut_31/manifest.json":"./shaders/filters/lut_31/manifest.json","./lut_32/manifest.json":"./shaders/filters/lut_32/manifest.json","./lut_33/manifest.json":"./shaders/filters/lut_33/manifest.json","./lut_34/manifest.json":"./shaders/filters/lut_34/manifest.json","./lut_35/manifest.json":"./shaders/filters/lut_35/manifest.json","./lut_36/manifest.json":"./shaders/filters/lut_36/manifest.json","./lut_37/manifest.json":"./shaders/filters/lut_37/manifest.json","./lut_38/manifest.json":"./shaders/filters/lut_38/manifest.json","./lut_39/manifest.json":"./shaders/filters/lut_39/manifest.json","./lut_40/manifest.json":"./shaders/filters/lut_40/manifest.json","./lut_41/manifest.json":"./shaders/filters/lut_41/manifest.json","./lut_42/manifest.json":"./shaders/filters/lut_42/manifest.json","./mask/manifest.json":"./shaders/filters/mask/manifest.json","./mask_blur/manifest.json":"./shaders/filters/mask_blur/manifest.json","./mask_checkers/manifest.json":"./shaders/filters/mask_checkers/manifest.json","./mask_copy/manifest.json":"./shaders/filters/mask_copy/manifest.json","./mask_feather/manifest.json":"./shaders/filters/mask_feather/manifest.json","./mask_gradient/manifest.json":"./shaders/filters/mask_gradient/manifest.json","./mask_grid/manifest.json":"./shaders/filters/mask_grid/manifest.json","./mask_invert/manifest.json":"./shaders/filters/mask_invert/manifest.json","./mask_line/manifest.json":"./shaders/filters/mask_line/manifest.json","./mask_rays/manifest.json":"./shaders/filters/mask_rays/manifest.json","./mask_shape/manifest.json":"./shaders/filters/mask_shape/manifest.json","./mask_stripes/manifest.json":"./shaders/filters/mask_stripes/manifest.json","./mask_threshold/manifest.json":"./shaders/filters/mask_threshold/manifest.json","./mask_trail/manifest.json":"./shaders/filters/mask_trail/manifest.json","./mask_upsampling/manifest.json":"./shaders/filters/mask_upsampling/manifest.json","./mirror/manifest.json":"./shaders/filters/mirror/manifest.json","./motion_blur/manifest.json":"./shaders/filters/motion_blur/manifest.json","./motion_fire/manifest.json":"./shaders/filters/motion_fire/manifest.json","./neon/manifest.json":"./shaders/filters/neon/manifest.json","./noise/manifest.json":"./shaders/filters/noise/manifest.json","./outline/manifest.json":"./shaders/filters/outline/manifest.json","./outline_paper/manifest.json":"./shaders/filters/outline_paper/manifest.json","./outline_ripples/manifest.json":"./shaders/filters/outline_ripples/manifest.json","./pixelate/manifest.json":"./shaders/filters/pixelate/manifest.json","./posterize/manifest.json":"./shaders/filters/posterize/manifest.json","./progress_bar/manifest.json":"./shaders/filters/progress_bar/manifest.json","./progress_pie/manifest.json":"./shaders/filters/progress_pie/manifest.json","./radial_blur/manifest.json":"./shaders/filters/radial_blur/manifest.json","./rain/manifest.json":"./shaders/filters/rain/manifest.json","./ramp_01/manifest.json":"./shaders/filters/ramp_01/manifest.json","./ramp_02/manifest.json":"./shaders/filters/ramp_02/manifest.json","./ramp_03/manifest.json":"./shaders/filters/ramp_03/manifest.json","./ramp_04/manifest.json":"./shaders/filters/ramp_04/manifest.json","./ramp_05/manifest.json":"./shaders/filters/ramp_05/manifest.json","./ramp_06/manifest.json":"./shaders/filters/ramp_06/manifest.json","./ramp_07/manifest.json":"./shaders/filters/ramp_07/manifest.json","./ramp_08/manifest.json":"./shaders/filters/ramp_08/manifest.json","./ramp_09/manifest.json":"./shaders/filters/ramp_09/manifest.json","./ramp_10/manifest.json":"./shaders/filters/ramp_10/manifest.json","./ramp_chroma/manifest.json":"./shaders/filters/ramp_chroma/manifest.json","./ramp_fire/manifest.json":"./shaders/filters/ramp_fire/manifest.json","./ramp_heatmap/manifest.json":"./shaders/filters/ramp_heatmap/manifest.json","./ramp_inigo/manifest.json":"./shaders/filters/ramp_inigo/manifest.json","./ramp_spectrum/manifest.json":"./shaders/filters/ramp_spectrum/manifest.json","./rectangle/manifest.json":"./shaders/filters/rectangle/manifest.json","./saturation/manifest.json":"./shaders/filters/saturation/manifest.json","./scanlines/manifest.json":"./shaders/filters/scanlines/manifest.json","./sdf_fill/manifest.json":"./shaders/filters/sdf_fill/manifest.json","./sdf_line/manifest.json":"./shaders/filters/sdf_line/manifest.json","./sdf_shape/manifest.json":"./shaders/filters/sdf_shape/manifest.json","./sdf_stroke/manifest.json":"./shaders/filters/sdf_stroke/manifest.json","./sepia/manifest.json":"./shaders/filters/sepia/manifest.json","./shake/manifest.json":"./shaders/filters/shake/manifest.json","./shape/manifest.json":"./shaders/filters/shape/manifest.json","./sharpen/manifest.json":"./shaders/filters/sharpen/manifest.json","./sketch/manifest.json":"./shaders/filters/sketch/manifest.json","./sort/manifest.json":"./shaders/filters/sort/manifest.json","./sparkles/manifest.json":"./shaders/filters/sparkles/manifest.json","./stippling/manifest.json":"./shaders/filters/stippling/manifest.json","./text/manifest.json":"./shaders/filters/text/manifest.json","./text_drop_shadows/manifest.json":"./shaders/filters/text_drop_shadows/manifest.json","./tilt_shift/manifest.json":"./shaders/filters/tilt_shift/manifest.json","./vhs/manifest.json":"./shaders/filters/vhs/manifest.json","./vibrance/manifest.json":"./shaders/filters/vibrance/manifest.json","./vignette/manifest.json":"./shaders/filters/vignette/manifest.json","./white_balance/manifest.json":"./shaders/filters/white_balance/manifest.json","./xerox/manifest.json":"./shaders/filters/xerox/manifest.json"};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id="./shaders/filters sync recursive ^\\.\\/.*\\/manifest\\.json$"},"./app/gl2d/shaders/render_slug_shape.frag":e=>{e.exports="// This fragment shader was copied from the default Slug-generated fragment shader.\n// It is checked into our repository so that we can customize it for our own purposes.\n// At runtime, this source code is concatenated with the Slug fragment shader prolog,\n// which includes function and type definitions.\n\n// slug attributes\nin vec2 vresult_texcoord;\nflat in vec4 vresult_banding;\nflat in ivec4 vresult_glyph;\n\n// slug uniforms\nuniform sampler2D curveTexture;\nuniform usampler2D bandTexture;\n\nuniform vec4 u_color;\n\n\nlayout(location = 0) out float4 fcolor;\n\nvoid main() {\n  fcolor = SlugRender(curveTexture, bandTexture, vresult_texcoord, u_color, vresult_banding, vresult_glyph);\n}\n"},"./app/gl2d/shaders/render_slug_shape.vert":e=>{e.exports="// This vertex shader was copied from the default Slug-generated vertex shader.\n// It is checked into our repository so that we can customize it for our own purposes.\n// At runtime, this source code is concatenated with the Slug vertex shader prolog,\n// which includes function and type definitions.\n\n// slug attributes -- probably don't change these\nlayout(location = 0) in float4 attrib0;\nlayout(location = 1) in float4 attrib1;\nlayout(location = 2) in float4 attrib2;\nlayout(location = 3) in float4 attrib3;\n\n// slug uniforms -- probably don't change these\nuniform float4 slug_matrix[4];\nuniform float2 slug_viewport;\n\n// slug outputs -- probably don't change these\nout float2 vresult_texcoord;\nflat out float4 vresult_banding;\nflat out int4 vresult_glyph;\n\n// custom outputs\nout float vresult_outline;\n\nvoid main()\n{\n  float2 p;\n\n  vresult_texcoord = SlugDilate(attrib0, attrib1, attrib2, slug_matrix[0], slug_matrix[1], slug_matrix[3], slug_viewport, p);\n  gl_Position.x = (p.x) * slug_matrix[0].x + (p.y) * slug_matrix[0].y + slug_matrix[0].w;\n  gl_Position.y = (p.x) * slug_matrix[1].x + (p.y) * slug_matrix[1].y + slug_matrix[1].w;\n  gl_Position.z = (p.x) * slug_matrix[2].x + (p.y) * slug_matrix[2].y + slug_matrix[2].w;\n  gl_Position.w = (p.x) * slug_matrix[3].x + (p.y) * slug_matrix[3].y + slug_matrix[3].w;\n  SlugUnpack(attrib1, attrib3, vresult_banding, vresult_glyph);\n}\n"},"./app/gl2d/shaders/render_slug_text.frag":e=>{e.exports="// This fragment shader was copied from the default Slug-generated fragment shader.\n// It is checked into our repository so that we can customize it for our own purposes.\n// At runtime, this source code is concatenated with the Slug fragment shader prolog,\n// which includes function and type definitions.\n\n// slug attributes\nin vec2 vresult_texcoord;\nflat in vec4 vresult_banding;\nflat in ivec4 vresult_glyph;\n\n// custom attributes\nin vec4 vresult_color;\nin float vresult_outline;\n\n// slug uniforms\nuniform sampler2D curveTexture;\nuniform usampler2D bandTexture;\n\n// custom uniforms\nuniform vec4 uOutlineColor;\nuniform float uOutlinesEnabled;\n\nlayout(location = 0) out float4 fcolor;\n\nvoid main()\n{\n  // Prevent flash when disabling outlines\n  if (vresult_outline > 0.0 && uOutlinesEnabled < 1.0) {\n    discard;\n  }\n  float4 color = vresult_color;\n  color.rgb = mix(color.rgb, uOutlineColor.rgb, vresult_outline);\n  color.a *= mix(1.0, uOutlineColor.a, vresult_outline); // Combine outline opacity with opacity from motion blocks animations\n  fcolor = SlugRender(curveTexture, bandTexture, vresult_texcoord, color, vresult_banding, vresult_glyph);\n\n}\n"},"./app/gl2d/shaders/render_slug_text.vert":e=>{e.exports="// This vertex shader was copied from the default Slug-generated vertex shader.\n// It is checked into our repository so that we can customize it for our own purposes.\n// At runtime, this source code is concatenated with the Slug vertex shader prolog,\n// which includes function and type definitions.\n\n// slug attributes -- probably don't change these\nlayout(location = 0) in float4 attrib0;\nlayout(location = 1) in float4 attrib1;\nlayout(location = 2) in float4 attrib2;\nlayout(location = 3) in float4 attrib3;\n\n// custom attributes -- used for our own custom rendering; change these!\nlayout(location = 4) in float2 offsets;\nlayout(location = 5) in float4 colors;\nlayout(location = 6) in float aOutline;\n\n// slug uniforms -- probably don't change these\nuniform float4 slug_matrix[4];\nuniform float2 slug_viewport;\n\n// slug outputs -- probably don't change these\nout float4 vresult_color;\nout float2 vresult_texcoord;\nflat out float4 vresult_banding;\nflat out int4 vresult_glyph;\n\n// custom outputs\nout float vresult_outline;\n\nvoid main()\n{\n  float2 p;\n\n  vresult_texcoord = SlugDilate(attrib0, attrib1, attrib2, slug_matrix[0], slug_matrix[1], slug_matrix[3], slug_viewport, p);\n  gl_Position.x = (p.x + offsets[0]) * slug_matrix[0].x + (p.y + offsets[1]) * slug_matrix[0].y + slug_matrix[0].w;\n  gl_Position.y = (p.x + offsets[0]) * slug_matrix[1].x + (p.y + offsets[1]) * slug_matrix[1].y + slug_matrix[1].w;\n  gl_Position.z = (p.x + offsets[0]) * slug_matrix[2].x + (p.y + offsets[1]) * slug_matrix[2].y + slug_matrix[2].w;\n  gl_Position.w = (p.x + offsets[0]) * slug_matrix[3].x + (p.y + offsets[1]) * slug_matrix[3].y + slug_matrix[3].w;\n  SlugUnpack(attrib1, attrib3, vresult_banding, vresult_glyph);\n\n  vresult_color = colors;\n  vresult_outline = aOutline;\n}\n"},"?6090":()=>{},"?f4e8":()=>{},"?8d7a":()=>{},"?29aa":()=>{},"?a2c1":()=>{},"?e1e4":()=>{},"?9148":()=>{},"?20b5":()=>{},"./shaders/filters/8bits/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"8bits","category":"style","version":2.2,"description":"8 bits","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Pixel Scale","description":"pixel scale","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_bayerTex":{"name":"bayer","description":"helpfull description for hovering","value":"../../images/bayer.png","type":"sampler2D","wrap":["repeat","repeat"],"config":{"type":"image","allow_upload_file":false}}}}')},"./shaders/filters/_empty_/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"empty","category":"untitled","version":2,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/_lut/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Lookup Table","category":"color","version":2,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_00.png","type":"sampler2D","config":{"type":"image","folder":"../../images/luts","allow_upload_file":true}}}}')},"./shaders/filters/_ramp/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"G10","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_10.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/anamorphic_flair/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Anamorphic Flairs","category":"lighting","version":2.1,"description":"Anamorphic lenses project a version of the image that is compressed along the longer dimension (usually by a factor of two). Anamorphic lenses therefore require subsequent stretching, in post-production or at the projector, in order to be properly displayed, producing a specific type of lens flare that appear elongated as opposed to circular. Flares may also appear as bluish horizontal or vertical streaks which span the entire frame.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_thresold":{"name":"Threshold","description":"threshold sensibility","value":0.7,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_size":{"name":"Size","description":"flair size","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_halo":{"name":"Halo","description":"","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_ghost":{"name":"Ghost flairs","description":"","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/ascii/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Ascii","category":"style","version":2.2,"description":"convert your frame into ascii art","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":40,"type":"float","config":{"type":"number","min":10,"max":100,"step":1}},"u_size":{"name":"Size","description":"size of the letter","value":1,"type":"float","config":{"type":"number","min":0.7,"max":2,"step":0.001}},"u_bold":{"name":"Bold","description":"helpfull description for hovering","value":0.7,"type":"float","config":{"type":"number","min":0.35,"max":0.9,"step":0.01}},"u_color":{"name":"Color","description":"helpfull description for hovering","value":true,"type":"bool","config":{"type":"toggle"}},"u_asciiGrid":{"name":"ascii Grid","description":"helpfull description for hovering","value":[7,4],"type":"vec2","config":{"display":{"hidden":true}}},"u_asciiTex":{"name":"ascii Texture","description":"helpfull description for hovering","value":"../../images/ascii_sdf.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/aura/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Aura","category":"lighting","version":2.5,"description":"Add color full auras","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/beams/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Light Beams","category":"lighting","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0.999,0.999,0.999],"config":{"type":"color"}},"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_length":{"name":"Lenght","description":"helpfull description for hovering","value":0.95,"type":"float","config":{"showInline":true,"type":"percentage","min":0.9,"max":1,"step":0.001}},"u_brightness":{"name":"Brightness","description":"helpfull description for hovering","value":5.5,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":10,"step":0.01}},"u_chroma":{"name":"Chroma","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/bloom/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Bloom","category":"lighting","version":2.1,"description":"produces fringes (or feathers) of light extending from the borders of bright areas in an image, contributing to the illusion of an extremely bright light overwhelming the camera capturing the scene","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_threshold":{"name":"Threshold","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}},"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":10,"step":0.1,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/blur/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Gaussian Blur","category":"camera","version":1,"description":"Blur an image by using a Gaussian function.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Magnitude","description":"helpfull description for hovering","value":4,"type":"float","config":{"type":"number","min":1,"max":16,"step":1,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/bokeh/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Bokeh","category":"camera","version":2.5,"description":"Selective Bokeh effect to all or driven by the mask","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask"],"sources":["rgba","mask"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_mask":{"name":"Apply to","description":"Choose to what to apply the bokeh","value":0,"type":"float","config":{"type":"option","options":["all","mask","not-mask"]}}}}')},"./shaders/filters/bokeh_distance/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Bokeh Distance","category":"camera","version":3.1,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","depth"],"sources":["rgba","depth"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_distance":{"name":"Distance","description":"helpfull description for hovering","value":0.9,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}},"u_amplitud":{"name":"Amplitud","description":"helpfull description for hovering","value":0.2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/bokeh_point/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Bokeh Point","category":"camera","version":3.1,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","depth"],"sources":["rgba","depth"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_point":{"name":"Point","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_amplitud":{"name":"Amplitud","description":"helpfull description for hovering","value":0.2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/bokeh_polygon/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Bokeh Polygon","category":"camera","version":3.1,"description":"Polygon bokeh driven by depth map","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","depth"],"sources":["rgba","depth"],"target":"rgba","hidden":false,"values":{"u_shape":{"name":"Shape","description":"Number of sides of the bokeh shape","value":2,"type":"float","config":{"type":"option","options":["triangle","diamond","hexagon"]}},"u_amount":{"name":"Amount","description":"Strength and size of the bokeh shape","value":1,"type":"float","config":{"type":"number","min":0,"max":1,"step":1}},"u_focus_point":{"name":"Point","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_distance_precision":{"name":"Distance precision","description":"Changes distance precision","value":1,"type":"float","config":{"type":"number","min":0,"max":4,"step":0.001}},"u_depth":{"name":"Depth","description":"Changes distance precision","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/bokeh_tilt/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Tilt Bokeh","category":"camera","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_width":{"name":"Width","description":"Gradeint amount","value":0.5,"type":"float","config":{"viewport":true,"type":"number","min":0,"max":1,"step":0.01}},"u_A":{"name":"A","description":"A end of the horizon line","value":[0.2,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_B":{"name":"B","description":"B end of the horizon line","value":[0.8,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/brightness/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Brightness","category":"color","version":1,"description":"DEPRECATED! Replace by brightness and contrast. Only present here for LEGACY support on the BE.","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_value":{"name":"magnitude","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01}}}}')},"./shaders/filters/brightness_contrast/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Brightness & Contrast","category":"color","version":2,"description":"Brightness refers to the overall lightness or darkness of the image.  Use the Brightness slider to adjust your image\'s luminosity level. Contrast is the difference in brightness between objects or regions. Use the Contrast slide to make adjust the relative levels of dark and light areas in your image.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_brightness":{"name":"Brightness","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.001,"display":{"min":-100,"max":100}}},"u_contrast":{"name":"Contrast","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":10,"step":0.001,"display":{"min":-10,"max":100}}}}}')},"./shaders/filters/checkers/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"checkers","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_scale":{"name":"Scale","description":"scale of the checker pattern","value":0.25,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}}}}')},"./shaders/filters/chroma_ab/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Chroma Aberration","category":"camera","version":2.5,"description":"Emulates a chromatic and morphological distortion particularly associated with zoom lenses, particularly large-range zooms.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Intensity","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_distortion":{"name":"Distortion","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01}}}}')},"./shaders/filters/chroma_key/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Chromakey","category":"mask","version":2.9,"description":"Technique used in many fields to remove a background from the subject of a photo or video. A colour range in the foreground footage is made transparent, allowing separately filmed background footage or a static image to be inserted into the scene.","require":["rgba"],"sources":["rgba","mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_color":{"name":"Target Color","description":"helpfull description for hovering","type":"vec3","value":[0,1,0],"config":{"type":"color"}},"u_similarity":{"name":"Similarity","description":"helpfull description for hovering","type":"float","value":0.25,"config":{"type":"number","min":0,"max":1,"step":0.05}},"u_smoothness":{"name":"Smoothness","description":"helpfull description for hovering","type":"float","value":0.08,"config":{"type":"number","min":0,"max":1,"step":0.05}}}}')},"./shaders/filters/chroma_spill/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Chroma Spill","category":"color","version":2.9,"version_app":0,"description":"Color spill occurs when the color reflects off the back screen and casts a noticeable tint on your subject. Certain areas of your model absorb or reflect that color, which is typically blue or green.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_color":{"name":"Target Color","description":"helpfull description for hovering","type":"vec3","value":[0,1,0],"config":{"type":"color"}},"u_similarity":{"name":"Similarity","description":"helpfull description for hovering","type":"float","value":0.45,"config":{"type":"number","min":0,"max":1,"step":0.05}},"u_spill":{"name":"Spill","description":"helpfull description for hovering","type":"float","value":0.1,"config":{"type":"number","min":0,"max":1,"step":0.05}}}}')},"./shaders/filters/daltonize/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"daltonize","category":"color","version":2,"description":"Emulate color blind types","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_type":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["Protanopia","Protanomaly","Deuteranopia","Deuteranomaly","Tritanopia","Tritanomaly","Achromatopsia","Achromatomaly"]}}}}')},"./shaders/filters/directional_blur/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Directional Blur","category":"camera","version":2.5,"description":"Emulates the apparent streaking of moving objects due to rapid movement or long exposure.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","min":-3.1415,"max":3.1415,"step":0.001}}}}')},"./shaders/filters/dithering_bayer/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Dithering (Bayer)","category":"style","version":2.2,"description":"Emulates Gameboy look","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":5,"type":"float","config":{"type":"number","min":1,"max":10,"step":1}}}}')},"./shaders/filters/drop_shadows/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Drop shadow","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask"],"sources":["rgba","mask"],"target":"rgba","hidden":false,"values":{"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_distance":{"name":"Distance","description":"helpfull description for hovering","value":10,"type":"float","config":{"showInline":true,"type":"number","min":0,"max":100,"step":0.1}},"u_opacity":{"name":"Opacity","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.001}},"u_softness":{"name":"Softness","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":10,"step":0.01}}}}')},"./shaders/filters/drop_shadows_sdf/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Drop shadow SDF","category":"style","version":3,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask","sdf"],"sources":["rgba","mask","sdf"],"target":"rgba","hidden":true,"values":{"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_distance":{"name":"Distance","description":"helpfull description for hovering","value":100,"type":"float","config":{"showInline":true,"type":"number","min":0,"max":100,"step":0.1}},"u_opacity":{"name":"Opacity","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.001}},"u_softness":{"name":"Softness","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/edge_detection/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Edge Detection","category":"style","version":2,"description":"Image processing technique for finding the boundaries of objects within images. It works by detecting discontinuities in brightness.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":5,"step":0.01,"display":{"min":0,"max":100}}},"u_exp":{"name":"Amount","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","min":0.1,"max":5,"step":0.001}}}}')},"./shaders/filters/exposure/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Exposure & Black Level","category":"color","version":2,"description":"One of several ways to make adjustments to the exposure of your photos. EXPOSURE simply shifts the entire histogram without modifying its shape, unless it clips. BLACK LEVEL moves the darkest point without modifying the brightest point. The histogram gets stretched (which implies increased contrast).","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_exposure":{"name":"Exposure","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-5,"max":5,"step":0.01}},"u_black_level":{"name":"Black level","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.001}}}}')},"./shaders/filters/fill_color/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Fill Color","category":"style","version":1,"description":"Fill an image with a solid color","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,0,0],"config":{"type":"color"}},"u_overwrite_alpha":{"name":"overwrite","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.1,"hidden":true}}}}')},"./shaders/filters/flip/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Flip","category":"camera","version":2.5,"description":"Flip the RGBA content in X/Y axis","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","targets":["rgba","mask","sdf","flow","depth"],"values":{"u_flip_x":{"name":"Flip X","description":"helpfull description for hovering","value":true,"type":"bool","config":{"type":"toggle"}},"u_flip_y":{"name":"Flip Y","description":"helpfull description for hovering","value":false,"type":"bool","config":{"type":"toggle"}}}}')},"./shaders/filters/flow_displace/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Optical Flow","category":"style","version":3.1,"description":"Emulates the apparent streaking of moving objects due to rapid movement or long exposure.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","flow","flowDist"],"sources":["rgba","flow","flowDist"],"target":"rgba","hidden":true,"values":{"u_image":{"name":"image","description":"helpfull description for hovering","value":"../../images/hokusai.jpg","type":"sampler2D","wrap":["repeat","repeat"],"config":{"type":"image","allow_upload_file":false}}}}')},"./shaders/filters/flow_fire/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Flow Fire","category":"style","version":2.9,"description":"Given mask, simulates fire comming up from it","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask","flow","flowDist"],"sources":["rgba","mask","flow","flowDist"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":0.8,"type":"float","config":{"type":"number","min":0.01,"max":1,"step":0.01}}}}')},"./shaders/filters/flow_refps/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Optical Flow","category":"style","version":3.1,"description":"Emulates the apparent streaking of moving objects due to rapid movement or long exposure.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask","flow","flowDist","inpaint"],"sources":["rgba","mask","flow","flowDist","inpaint"],"target":"rgba","hidden":true,"values":{}}')},"./shaders/filters/focus_distance/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Focus Distance","category":"camera","version":3.1,"description":"Blur applied in out-of-focus parts of an image.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","depth"],"sources":["rgba","depth"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}},"u_distance":{"name":"Distance","description":"helpfull description for hovering","value":0.9,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}},"u_amplitud":{"name":"Amplitud","description":"helpfull description for hovering","value":0.2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/focus_point/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Focus point","category":"camera","version":3.1,"description":"Blur applied in out-of-focus parts of an image.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","depth"],"sources":["rgba","depth"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}},"u_point":{"name":"Point","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_amplitud":{"name":"Amplitud","description":"helpfull description for hovering","value":0.2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/fog/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Fog","category":"style","version":3,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","depth"],"sources":["rgba","depth"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/frost/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Frost","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Frost amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_tex0":{"name":"Texture","description":"helpfull description for hovering","value":"../../images/rock_moss.jpg","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/gameboy/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Gameboy","category":"style","version":2.2,"description":"Emulates Gameboy look","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Scale!","description":"helpfull description for hovering","value":5,"type":"float","config":{"type":"number","min":1,"max":10,"step":1}}}}')},"./shaders/filters/glitch/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Glitch","category":"style","version":2.2,"description":"decimates a frame in a way that the subdivided sections reseamble lower definition pixels.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_clamp_x":{"name":"Clamping X","description":"helpfull description for hovering","value":0.01,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_clamp_y":{"name":"Clamping Y","description":"helpfull description for hovering","value":0.01,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_distortion_x":{"name":"Distortion X","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","min":0,"max":0.25,"step":0.001}},"u_distortion_size_x":{"name":"Distortion Size X","description":"helpfull description for hovering","value":100,"type":"float","config":{"type":"number","min":10,"max":1000,"step":10}},"u_distortion_y":{"name":"Distortion Y","description":"helpfull description for hovering","value":0.001,"type":"float","config":{"type":"number","min":0,"max":0.25,"step":0.001}},"u_distortion_size_y":{"name":"Distortion Size Y","description":"helpfull description for hovering","value":500,"type":"float","config":{"type":"number","min":10,"max":1000,"step":1}},"u_freq":{"name":"Frequency","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_mask":{"name":"Masking grid","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/glitchy_grid/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Glitchy Grid","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Check pattern scale","description":"scale of the checker pattern","value":1,"type":"float","config":{"type":"number","min":0,"max":10,"step":0.01}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0,0],"type":"vec2","config":{"type":"xy","viewport":true,"min":-100,"max":100,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_amount":{"name":"Glitch amount","description":"Amount","value":0.2,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_chromaOffset":{"name":"Glitch offset","description":"Glitch chroma offset","value":0.02,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}},"u_width":{"name":"Width","description":"Line width","value":0.5,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}},"u_cross":{"name":"Cross","description":"Cross size","value":1,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}},"u_digits":{"name":"Digits","description":"Cross size","value":60,"type":"float","config":{"type":"number","min":20,"max":100,"step":0.01}},"u_colorGrid":{"name":"Color Grid","description":"helpfull description for hovering","type":"vec3","value":[0.1,0.08,0.08],"config":{"type":"color"}},"u_colorCross":{"name":"Color Cross","description":"helpfull description for hovering","type":"vec3","value":[0.7,0.7,0.7],"config":{"type":"color"}},"u_colorDigits":{"name":"Color Digits","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}}}}')},"./shaders/filters/glow/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"glow","category":"style","version":3,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","sdf"],"sources":["rgba","sdf"],"target":"rgba","hidden":true,"values":{"u_speed":{"name":"Pixel Scale","description":"pixel scale","value":0.1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_threshold":{"name":"Pixel Scale","description":"pixel scale","value":0.75,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_width":{"name":"Pixel Scale","description":"pixel scale","value":0.015,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_fractions":{"name":"Pixel Scale","description":"pixel scale","value":8,"type":"float","config":{"type":"number","min":0,"max":16,"step":0.001}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0.8314,0.2,0.5],"config":{"type":"color"}}}}')},"./shaders/filters/grain/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Film Grain","category":"style","version":2.3,"description":"Emulates film grain or granularity. The random optical texture of processed photographic film due to the presence of small particles of a metallic silver, or dye clouds.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Intensity","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_speed":{"name":"Intensity","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0.0001,"max":10,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.25,"type":"float","config":{"type":"number","min":0.001,"max":1,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}}}}')},"./shaders/filters/halftone/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Halftone","category":"style","version":2.3,"description":"Emulates a black/white halftone. Which is the reprographic technique that simulates continuous-tone imagery through the use of dots, varying either in size or in spacing, thus generating a gradient-like effect.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_color_bg":{"name":"BackgroundColor","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_color_fg":{"name":"Hatch Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":10,"step":0.01}},"u_rotation":{"name":"Rotation","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","min":-3.1415,"max":3.1415,"step":0.01}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/halftone_cmyk/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Halftone CMYK","category":"style","version":2.3,"description":"Emulates a CMYK halftone. Which is the reprographic technique that simulates continuous-tone imagery through the use of dots, varying either in size or in spacing, thus generating a gradient-like effect.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_rotation":{"name":"Rotation","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","min":-3.1415,"max":3.1415,"step":0.01}}}}')},"./shaders/filters/hatching/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Hatching","category":"style","version":2.3,"description":"Emulates a black/white hatching. Which is an artistic technique used to create tonal or shading effects by drawing (or painting or scribing) closely spaced parallel lines","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_color_bg":{"name":"BackgroundColor","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_color_fg":{"name":"Hatch Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_rotation":{"name":"Rotation","description":"helpfull description for hovering","value":0.785398,"type":"float","config":{"type":"angle","min":-3.1415,"max":3.1415,"step":0.01}},"u_wave":{"name":"Scale","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/heat/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Heat","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Displacement amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_amount_chroma":{"name":"Chroma amount","description":"Amount of LUT transform","value":0.5,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_tex0":{"name":"Texture","description":"helpfull description for hovering","value":"../../images/rock_moss.jpg","type":"sampler2D","config":{"display":{"hidden":true}}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":10,"step":0.01}},"u_rotation":{"name":"Rotation","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","min":-3.1415,"max":3.1415,"step":0.01}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/hud_frame/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Frame HUD","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_margin":{"name":"Margin","description":"helpfull description for hovering","value":[0.05,0.05],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_middle_line_lenght":{"name":"Middle Line Lenght","description":"helpfull description for hovering","value":[0.025,0.025],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":0.1,"step":0.001}},"u_stroke_width":{"name":"stroke width","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":0.25,"step":0.001}},"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}}}}')},"./shaders/filters/hud_target/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Target HUD","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_position":{"name":"Target Position","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_shape":{"name":"Shape","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"option","options":["circle","triangle","square","pentagon","hexagon"]}},"u_shape_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_shape_width":{"name":"Shape width","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":10,"step":0.001}},"u_shape_size":{"name":"Shape width","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.01}},"u_lines_width":{"name":"Lines width","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":10,"step":0.001}},"u_lines_lenght":{"name":"Lines lenght","description":"helpfull description for hovering","value":5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":5,"step":0.1}},"u_lines_angle":{"name":"Lines Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_cross_width":{"name":"Lines width","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":10,"step":0.001}},"u_cross_size":{"name":"Lines width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.1}}}}')},"./shaders/filters/hue_saturation_lightness/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Hue, Saturation and lightness","category":"color","version":2,"description":"You can adjust the HUE to a different color value by moving its adjustment slider to the left or right. SATURATION is the intensity of a hue; LIGHTNESS is the relative degree of black or white mixed with a given hue.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_hue":{"name":"Hue","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01}},"u_saturation":{"name":"Saturation","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01,"display":{"min":-1,"max":1}}},"u_lightness":{"name":"Lightness","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01}}}}')},"./shaders/filters/hue_shift/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Hue Shift","category":"color","version":1,"description":"DEPRECATED! Replace by hue_saturation_lightness. Only present here for LEGACY support on the BE.","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_offset":{"name":"Offset","description":"helpfull description for hovering","value":0.2,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.1}}}}')},"./shaders/filters/image/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"empty","category":"untitled","version":2,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":2,"max":-1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}},"u_opacity":{"name":"Opacity","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_img":{"name":"Image","description":"helpfull description for hovering","value":"../../images/logo.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/invert/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Invert","category":"color","version":2,"description":"Invert the colors of image files, white becomes black, black becomes white, orange becomes blue and so on.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{}}')},"./shaders/filters/lens_distortion/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Lens Distortion","category":"camera","version":2.1,"description":"Emulates a chromatic and morphological distortion particularly associated with zoom lenses, particularly large-range zooms.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Intensity","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/lens_flair/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Lens Flare","category":"lighting","version":2.1,"description":"Emulates a photographic phenomenon in which bright light enters the camera lens, hits the camera\'s sensor, and scatters.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_sensibility":{"name":"Sensibility","description":"helpfull description for hovering","value":-0.68,"type":"float","config":{"type":"number","min":-1,"max":-0.5,"step":0.01}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_flair":{"name":"Flair","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_rays":{"name":"Rays","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_ghost":{"name":"Ghost","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_chromaab":{"name":"Chroma","description":"helpfull description for hovering","value":0.2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_dustTex":{"name":"Dust Texture","description":"helpfull description for hovering","value":"../../images/dust.png","type":"sampler2D","config":{"type":"image","allow_upload_file":false}}}}')},"./shaders/filters/lens_flair_00/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Sun Lens flair","category":"lighting","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0.7,0.6,0.5],"config":{"type":"color"}},"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/lens_flair_01/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Car lens flair","category":"lighting","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0.63,0.63,0.8],"config":{"type":"color"}},"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_tex0":{"name":"Texture","description":"helpfull description for hovering","value":"../../images/rgba.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lens_flair_02/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Summer lense flair","category":"lighting","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0.9,0.7,0.2],"config":{"type":"color"}},"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_tex0":{"name":"Texture","description":"helpfull description for hovering","value":"../../images/rgba.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/light_leaks/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Light Leaks","category":"lighting","version":2.1,"description":"Emulates light leaking into the chamber, exposing the film or sensor with extra light. This light is diffuse, although parts within the camera may cast shadows or reflect it in a particular way.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_coloration":{"name":"Coloration","description":"helpfull description for hovering","value":0.12,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_burns":{"name":"Burn","description":"helpfull description for hovering","value":0.25,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":50,"step":0.01}},"u_time_offset":{"name":"Time Offset","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}}}}')},"./shaders/filters/lighting/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Lighting","category":"lighting","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_time_offset":{"name":"Time Offset","description":"Time Offset","value":18,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":60,"step":0.01}}}}')},"./shaders/filters/line/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Line","category":"elements","version":2.5,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["rgba"],"target":"rgba","values":{"u_A":{"name":"A","description":"A end of the horizon line","value":[0.2,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_B":{"name":"B","description":"B end of the horizon line","value":[0.8,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_width":{"name":"Width","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":100,"step":1}},"u_stroke_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}}}}')},"./shaders/filters/lut_00/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Constant In","category":"color","version":2,"description":"The Constant In filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_00.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_01/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Joker tone","category":"color","version":2,"description":"The Joker tone filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_01.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_02/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Tenen House","category":"color","version":2,"description":"The Tenen House filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_02.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_03/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Fight Cab","category":"color","version":2,"description":"The Fight Cab filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_03.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_04/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Antoinette","category":"color","version":2,"description":"The Antoinette filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_04.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_05/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Moodalorian","category":"color","version":2,"description":"The Moodalorian filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_05.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_06/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Pulp Fusion","category":"color","version":2,"description":"The Pulp Fusion filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_06.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_07/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Fear & Loathing","category":"color","version":2,"description":"The Fear and Loathing filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_07.png","type":"sampler2D","config":{"type":"image","folder":"../../images/luts","allow_upload_file":true}}}}')},"./shaders/filters/lut_08/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Modern Times","category":"color","version":2,"description":"The Modern Times filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_08.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_09/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Grand Buda Pet","category":"color","version":2.1,"description":"The Grand Buda Pet filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_09.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_10/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Klick Bill","category":"color","version":2.1,"description":"The Klick Bill filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/row_10.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_11/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Twilikes","category":"color","version":2.1,"description":"The Twilikes filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_00.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_12/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Washed in translation","category":"color","version":2.1,"description":"The Washed in translation filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_01.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_13/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Breakfast Crab","category":"color","version":2.1,"description":"The Breakfast Crab filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_02.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_14/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Eternal sunshine","category":"color","version":2.1,"description":"The Eternal sunshine filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_03.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_15/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"BenHur","category":"color","version":2.1,"description":"The BenHur filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_04.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_16/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"MudMax","category":"color","version":2.1,"description":"The MudMax filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_05.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_17/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Beguile","category":"color","version":2.1,"description":"The Beguile filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_06.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_18/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Martian","category":"color","version":2.2,"description":"The Martian fitler.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_07.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_19/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Fisher King","category":"color","version":2.2,"description":"The Fisher King filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_08.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_20/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Revenant","category":"color","version":2.2,"description":"The Revenant filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_09.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_21/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Matrix","category":"color","version":2.2,"description":"The Matrix filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_10.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_22/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Dye hard","category":"color","version":2.2,"description":"The Dye hard filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_11.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_23/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"RoboCrop","category":"color","version":2.2,"description":"The RoboCrop filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_12.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_24/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Brasil","category":"color","version":2.2,"description":"The Brasil filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_13.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_25/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"300","category":"color","version":2.2,"description":"The 300 filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_14.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_26/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Salvation","category":"color","version":2.2,"description":"The Salvation filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_15.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_27/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Alien","category":"color","version":2.4,"description":"The Alien filter.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_16.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_28/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 28","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_17.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_29/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 29","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_18.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_30/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 30","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_19.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_31/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 31","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_20.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_32/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Prometheus","category":"color","version":2.4,"description":"The Prometheus fitler.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_21.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_33/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 33","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_22.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_34/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"The Thing","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_23.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_35/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 35","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_24.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_36/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 36","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_25.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_37/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 37","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_26.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_38/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 38","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_27.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_39/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 39","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_28.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_40/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 40","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_29.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_41/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 41","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_30.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/lut_42/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Colors 42","category":"color","version":2.6,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_lut":{"name":"LUT Texture","description":"helpfull description for hovering","value":"../../images/luts/square_33.png","type":"sampler2D","config":{"display":{"hidden":true}}}}}')},"./shaders/filters/mask/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Apply","category":"mask","version":1,"description":"Coply the mask into the alpha channel, making all black content of it intro transparent and white content into visible. If view is on it just copy the mask content into RGB channels.","require":["rgba","mask"],"sources":["rgba","mask"],"target":"rgba","hidden":true,"values":{"u_view":{"name":"View","description":"when true it will copy the mask to the RGB channels instead of the alpha channel visualizing the mask.","value":false,"type":"bool","config":{"type":"toggle","hidden":true}}}}')},"./shaders/filters/mask_blur/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Blur","category":"mask","version":2,"description":"Perform a Gaussian Blur to the mask band","require":["mask"],"sources":["mask"],"target":"mask","hidden":true,"values":{"u_value":{"name":"Magnitude","description":"helpfull description for hovering","value":4,"type":"float","config":{"type":"number","min":1,"max":10,"step":1,"display":{"min":1,"max":100}}}}}')},"./shaders/filters/mask_checkers/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Checkers","category":"mask","version":2.5,"description":"Generate or blend a checker pattern on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0,0],"type":"vec2","config":{"type":"xy","viewport":true,"min":-100,"max":100,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":25,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}}}}')},"./shaders/filters/mask_copy/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Copy","category":"mask","version":2.5,"description":"Copy (or blend) the content of any band or RGB channel into the mask band.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["rgba","mask","sdf","flow","depth"],"target":"mask","values":{"u_band":{"name":"Band","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["luma","red channel","green channel","blue","sdf","velocity flow","depth"]}},"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}}}}')},"./shaders/filters/mask_feather/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Feather","category":"mask","version":3,"description":"Use the SDF band to generate a feathered version of the mask with minimal morphological distortion.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["sdf"],"target":"mask","values":{"u_in":{"name":"Feather in","description":"helpfull description for hovering","value":0.6,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_out":{"name":"Feather out","description":"helpfull description for hovering","value":0.9,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/mask_gradient/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Gradient","category":"mask","version":2.6,"description":"Generate or blend a gradient pattern on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0,0],"type":"vec2","config":{"type":"xy","viewport":true,"min":-100,"max":100,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}},"u_in":{"name":"In","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}},"u_out":{"name":"Out","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}}}}')},"./shaders/filters/mask_grid/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Grid","category":"mask","version":2.5,"description":"Generate or blend a grid pattern on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0,0],"type":"vec2","config":{"type":"xy","viewport":true,"min":-100,"max":100,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":10,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}},"u_brick":{"name":"Offset","description":"helpfull description for hovering","value":false,"type":"bool","config":{"type":"toggle"}},"u_shape":{"name":"Shape","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["circle","triangle","square","pentagon","hexagon","cross","star"]}},"u_shape_angle":{"name":"Angle","description":"helpfull description for hovering","value":0.785375,"type":"float","config":{"type":"angle","min":-3.1415,"max":3.1415,"step":0.01}},"u_shape_size":{"name":"Size","description":"helpfull description for hovering","value":0.3,"type":"float","config":{"type":"number","min":0,"max":1,"step":1}}}}')},"./shaders/filters/mask_invert/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Invert","category":"mask","version":2,"description":"Inverts the mask band content.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","hidden":true,"values":{}}')},"./shaders/filters/mask_line/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Line","category":"mask","version":2.5,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_A":{"name":"A","description":"A end of the horizon line","value":[0.2,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_B":{"name":"Translation","description":"B end of the horizon line","value":[0.8,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_width":{"name":"Width","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":100,"step":1}}}}')},"./shaders/filters/mask_rays/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Rays","category":"mask","version":2.5,"description":"Generate or blend a ray pattern on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":2,"max":-1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_rays":{"name":"Rays","description":"helpfull description for hovering","value":10,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":100,"step":1}},"u_width":{"name":"Width","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_feather":{"name":"Feather","description":"helpfull description for hovering","value":0.01,"type":"float","config":{"type":"number","min":0,"max":0.5,"step":0.001}}}}')},"./shaders/filters/mask_shape/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Shape","category":"mask","version":2.5,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":2,"max":-1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":2,"step":1}},"u_shape":{"name":"Shape","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["circle","triangle","square","pentagon","hexagon","cross","star"]}},"u_fill":{"name":"Fill","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.1}},"u_stroke_width":{"name":"Stroke Width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_alignment":{"name":"Stroke Alignment","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"option","options":["out","center","in"]}}}}')},"./shaders/filters/mask_stripes/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Stripes","category":"mask","version":2.5,"description":"Generate or blend a stripe pattern on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["mask"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0,0],"type":"vec2","config":{"type":"xy","viewport":true,"min":-100,"max":100,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":10,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}},"u_width":{"name":"Width","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/mask_threshold/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Threshold","category":"mask","version":2,"description":"Converts the mask band into a binary mask mask. Where values are zero or one depending if they are under or above a given threshold value.","require":[],"sources":["mask"],"target":"mask","hidden":true,"values":{"u_threshold":{"name":"Threshold","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0.01,"max":1,"step":0.01}}}}')},"./shaders/filters/mask_trail/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Trail","category":"Motion","version":2.9,"description":"Given a mask, render the trail of it on the RGBA band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["mask"],"sources":["mask"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0.01,"max":1,"step":0.01}}}}')},"./shaders/filters/mask_upsampling/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mask Upsampling","category":"mask","version":2.6,"description":"Some usefull description","hidden":true,"thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask"],"sources":["rgba","mask"],"target":"mask","values":{"u_intensity_sigma":{"name":"Intensity","description":"Intensity Sigma","value":0.01,"type":"float","config":{"type":"number","min":0.001,"max":0.5,"step":0.0005}},"u_spatial_sigma":{"name":"Spatial","description":"Spatial Sigma","value":0.0025,"type":"float","config":{"type":"number","min":0.001,"max":0.5,"step":0.0005}},"u_amount":{"name":"Amount","description":"Radial amount","value":1,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.1}}}}')},"./shaders/filters/mirror/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mirror","category":"camera","version":2.5,"description":"Mirrors the RGBA content on X/Y axis","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","targets":["rgba","mask","sdf","flow","depth"],"values":{"u_offset_x":{"name":"X Offset","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.001}},"u_offset_y":{"name":"Y Offset","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.001}}}}')},"./shaders/filters/motion_blur/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Motion Blur","category":"Motion","version":2.9,"description":"Emulates the apparent streaking of moving objects due to rapid movement or long exposure.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","flow","flowDist"],"sources":["rgba","flow","flowDist"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":2.5,"type":"float","config":{"type":"number","min":0.01,"max":10,"step":0.01}}}}')},"./shaders/filters/motion_fire/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Motion Fire","category":"Motion","version":2.9,"description":"Given mask, simulates fire comming up from it","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask"],"sources":["rgba","mask"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":0.8,"type":"float","config":{"type":"number","min":0.01,"max":1,"step":0.01}}}}')},"./shaders/filters/neon/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Neon","category":"untitled","version":2,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask"],"sources":["rgba","mask"],"target":"rgba","hidden":true,"values":{"u_amount":{"name":"amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,0,0],"config":{"type":"color"}}}}')},"./shaders/filters/noise/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Noise","category":"camera","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Amount","description":"Amount","value":0.5,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_contrast":{"name":"Contrast","description":"Contrast","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":10,"step":0.01}},"u_saturation":{"name":"Saturation","description":"Saturation","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_speed":{"name":"speed","description":"Speed","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.0001}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0.001,"max":1,"step":0.01}}}}')},"./shaders/filters/outline/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Outline","category":"Composition","version":3,"description":"Add an outline to the RGB channel based on your mask","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","sdf"],"sources":["rgba","sdf"],"target":"rgba","values":{"u_color":{"name":"Target Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_offset":{"name":"Offset","description":"helpfull description for hovering","value":0.8,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_width":{"name":"Width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_feather":{"name":"Feather","description":"helpfull description for hovering","value":0.01,"type":"float","config":{"type":"number","min":0,"max":0.5,"step":0.001}}}}')},"./shaders/filters/outline_paper/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Outline Paper","category":"Composition","version":3,"description":"Add a tear paper outline to the RGB channel based on your mask","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","sdf"],"sources":["rgba","sdf"],"target":"rgba","values":{"u_color":{"name":"Target Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":10,"type":"float","config":{"type":"number","min":0,"max":100,"step":1}},"u_width":{"name":"Width","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.001}},"u_feather":{"name":"Feather","description":"helpfull description for hovering","value":0.01,"type":"float","config":{"type":"number","min":0,"max":0.5,"step":0.001}}}}')},"./shaders/filters/outline_ripples/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Outline Ripples","category":"Composition","version":3,"description":"Add rippling outlines to the RGB channel based on your mask","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","sdf"],"sources":["rgba","sdf"],"target":"rgba","values":{"u_color":{"name":"Target Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}}}}')},"./shaders/filters/pixelate/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Pixelate","category":"style","version":2.2,"description":"decimates a frame in a way that the subdivided sections reseamble lower definition pixels.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":100,"type":"float","config":{"type":"number","min":10,"max":500,"step":1}},"u_gap":{"name":"Gap","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":0,"max":0.5,"step":0.001}},"u_rgb":{"name":"RGB dots","description":"Resemble RGB dot matrix","value":false,"type":"bool","config":{"type":"toggle","hidden":false}}}}')},"./shaders/filters/posterize/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Posterize","category":"style","version":2.3,"description":"Posterization or posterisation of an image entails the conversion of a continuous gradation of tone to several regions of fewer tones, with abrupt changes from one tone to another.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_line":{"name":"Line","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}},"u_palette":{"name":"Palette","description":"helpfull description for hovering","value":20,"type":"float","config":{"type":"number","min":0,"max":100,"step":1}}}}')},"./shaders/filters/progress_bar/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Progress Bar","category":"elements","version":2.5,"description":"Draws a parametrize progress bar","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":1,"max":10,"step":0.5}},"u_fill_color":{"name":"Fill Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_stroke_offset":{"name":"Stroke Width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_width":{"name":"Stroke Width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_color":{"name":"Stroke Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_pct":{"name":"Porcentage","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/progress_pie/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Progress Pie","category":"elements","version":2.5,"description":"Draws a parametrize pie chard","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_fill":{"name":"Inner Fill","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_fill_color":{"name":"Fill Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_pct":{"name":"Porcentage","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle_max":{"name":"Angle GAP","description":"helpfull description for hovering","value":0.75,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/radial_blur/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Radial Blur","category":"camera","version":2.1,"description":"Blurring effect that originates at a single point and blurs outwards from it. ","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"Intensity","description":"helpfull description for hovering","value":-0.5,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/rain/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Rain","category":"style","version":2.5,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Rain Amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_fog":{"name":"Fog Amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_scale":{"name":"Rain scale","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":5,"step":0.01}}}}')},"./shaders/filters/ramp_01/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Mossa","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_01.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_02/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Terracotta","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_02.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_03/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Harvest","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_03.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_04/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Lime","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_04.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_05/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Indigo","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_05.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_06/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Thunderbird","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_06.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_07/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Patina","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_07.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_08/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Equator","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_08.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_09/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Anarchia","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_09.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_10/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Blue day","category":"color","version":2.4,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_ramp":{"name":"Gradient Texture","description":"helpfull description for hovering","value":"../../images/ramps/grad_10.png","type":"sampler2D","config":{"type":"image","folder":"../../images/ramps","allow_upload_file":true}}}}')},"./shaders/filters/ramp_chroma/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Chromatic Color Ramp","category":"color","version":2.4,"description":"Chromatic color ramp","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"hidden":true,"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/ramp_fire/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Fire Color Ramp","category":"color","version":2.4,"description":"Fire color ramp","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/ramp_heatmap/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Heatmap Color Ramp","category":"color","version":2.4,"description":"Heatmap color ramp","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/ramp_inigo/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Inigo\'s Color Palette","category":"color","version":2.4,"description":"Generative color ramp invented by Inigo Quiles https://iquilezles.org/www/articles/palettes/palettes.htm ","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_A":{"name":"A","description":"helpfull description for hovering","type":"vec3","value":[0.5,0.5,0.5],"config":{"type":"color"}},"u_B":{"name":"B","description":"helpfull description for hovering","type":"vec3","value":[0.5,0.5,0.5],"config":{"type":"color"}},"u_C":{"name":"C","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_D":{"name":"D","description":"helpfull description for hovering","type":"vec3","value":[0,0.33,0.67],"config":{"type":"color"}}}}')},"./shaders/filters/ramp_spectrum/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Light Spectrum Color Ramp","category":"color","version":2.4,"description":"Light Spectrum color ramp","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"LUT amount","description":"Amount of LUT transform","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/rectangle/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Rectangle","category":"elements","version":2.5,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["rgba"],"target":"rgba","values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":2,"step":0.001}},"u_fill":{"name":"Fill","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.1}},"u_fill_color":{"name":"Fill Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_stroke_width":{"name":"Stroke Width","description":"helpfull description for hovering","value":0.05,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_color":{"name":"Stroke Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_stroke_alignment":{"name":"Stroke Alignment","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"option","options":["out","center","in"]}}}}')},"./shaders/filters/saturation/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Saturate","category":"color","version":1,"version_app":0,"description":"desaturate","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_value":{"name":"Magnitude","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.1}}}}')},"./shaders/filters/scanlines/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"ScanLines","category":"style","version":2.2,"description":"Add the scan lines seen on old TVs and Scifi holograms","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_amount":{"name":"Amount","description":"Intensity of the scanlines","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_scale":{"name":"Scale","description":"scale of teh scanlines","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_gamma":{"name":"Gamma","description":"fake gamma produce disipated brightness","value":0.2,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_chroma":{"name":"Chroma offset","description":"Offset the RGB scanlines","value":true,"type":"bool","config":{"type":"toggle"}}}}')},"./shaders/filters/sdf_fill/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"SDF Fill","category":"sdf","version":2.6,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["sdf"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_threshold":{"name":"threshold","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/sdf_line/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"SDF Line","category":"mask","version":2.6,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["sdf"],"target":"sdf","values":{"u_operation":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["union","intersection","mix"]}},"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}},"u_A":{"name":"A","description":"A end of the horizon line","value":[0.2,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_B":{"name":"Translation","description":"B end of the horizon line","value":[0.8,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/sdf_shape/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"SDF Shape","category":"mask","version":2.6,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["sdf"],"target":"sdf","values":{"u_operation":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["union","intersection","mix"]}},"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0,0],"type":"vec2","config":{"type":"xy","viewport":true,"min":-100,"max":100,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1000,"step":1}},"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_shape":{"name":"Shape","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["circle","triangle","square","pentagon","hexagon","cross","star"]}}}}')},"./shaders/filters/sdf_stroke/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"SDF Stroke","category":"sdf","version":2.6,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["sdf"],"target":"mask","values":{"u_blend":{"name":"Blend","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["overwrite","multiply","add","substract"]}},"u_threshold":{"name":"threshold","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_width":{"name":"width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/sepia/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Sepia","category":"color","version":1,"description":"Turns an RGBA channels into sepia tones.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Intensity","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01}}}}')},"./shaders/filters/shake/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Camera Shake","category":"camera","version":2.5,"description":"Emulates camera shake","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","targets":["rgba","mask","sdf","flow","depth"],"hidden":false,"values":{"u_amount":{"name":"Amount","description":"helpfull description for hovering","value":0.35,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":0.5,"step":0.001}},"u_speed":{"name":"Speed","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":2,"step":0.001}}}}')},"./shaders/filters/shape/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Shape","category":"elements","version":2.5,"description":"Generate or blend a geometryic shape on the mask band","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":[],"sources":["rgba"],"target":"rgba","values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":2,"step":0.001}},"u_shape":{"name":"Shape","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"option","options":["circle","triangle","square","pentagon","hexagon","star"]}},"u_fill":{"name":"Fill","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.1}},"u_fill_color":{"name":"Fill Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}},"u_stroke_width":{"name":"Stroke Width","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_stroke_color":{"name":"Stroke Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_stroke_alignment":{"name":"Stroke Alignment","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"option","options":["out","center","in"]}}}}')},"./shaders/filters/sharpen/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Sharpen","category":"camera","version":2,"description":"Sharpens edges of the elements without increasing noise or blemish.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Intensity","description":"helpfull description for hovering","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}}}}')},"./shaders/filters/sketch/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Sketch","category":"style","version":2.3,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_line":{"name":"Line","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":2,"step":0.01}},"u_shades":{"name":"Shades","description":"helpfull description for hovering","value":6,"type":"float","config":{"type":"number","min":0,"max":100,"step":1}}}}')},"./shaders/filters/sort/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Pixel Sorting","category":"Distortions","version":2.7,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_amount":{"name":"Amount","description":"Amount of LUT transform","value":0.25,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}}}}')},"./shaders/filters/sparkles/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Sparkles","category":"lighting","version":2.5,"description":"Create light sparkles on bright points","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_thresold":{"name":"Threshold","description":"threshold sensibility","value":0.8,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_size":{"name":"Size","description":"flair size","value":0.5,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_sides":{"name":"Sides","description":"Spark sides","value":4,"type":"float","config":{"type":"number","min":2,"max":8,"step":1}},"u_angle":{"name":"angle","description":"Spark angle","value":4,"type":"float","config":{"type":"number","min":-3.1415,"max":3.1415,"step":0.001}},"u_amount":{"name":"Amount","description":"Amount","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}},"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[1,1,1],"config":{"type":"color"}}}}')},"./shaders/filters/stippling/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Stippling","category":"style","version":2.3,"description":"Emulation of a pattern simulating varying degrees of solidity or shading by using small dots.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_scale":{"name":"Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":10,"step":1}}}}')},"./shaders/filters/text/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Text","category":"untitled","version":2,"description":"Some usefull description","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":true,"values":{"u_translation":{"name":"Translation","description":"helpfull description for hovering","value":[0.5,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":2,"max":-1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_img":{"name":"Text Image","description":"helpfull description for hovering","type":"sampler2D","config":{"display":{"hidden":true}}},"u_imgResolution":{"name":"Translation","description":"helpfull description for hovering","value":[1,1],"type":"vec2"},"u_color":{"name":"Text Color","type":"vec3","value":[1,1,1]},"u_preserveBackground":{"name":"Preserve Background","type":"bool","value":"false","config":{"display":"hidden"}}}}')},"./shaders/filters/text_drop_shadows/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Text drop shadow","category":"style","version":2.4,"description":"Like the drop shadow effect, but uses alpha instead ofo a mask band and allows crisp edges.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba","mask"],"sources":["rgba","mask"],"target":"rgba","hidden":true,"values":{"u_color":{"name":"Color","description":"helpfull description for hovering","type":"vec3","value":[0,0,0],"config":{"type":"color"}},"u_opacity":{"name":"Opacity","description":"helpfull description for hovering","value":0.25,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":0,"max":360,"step":0.1}},"u_distance":{"name":"Distance","description":"helpfull description for hovering","value":0,"type":"float","config":{"showInline":true,"type":"number","min":0,"max":100,"step":0.01}},"u_softness":{"name":"Blur","description":"helpfull description for hovering","value":10,"type":"float","config":{"showInline":true,"type":"number","min":0,"max":100,"step":0.1}},"u_zoomScale":{"name":"Zoom Scale","description":"helpfull description for hovering","value":1,"type":"float","config":{"showInline":false,"hidden":true,"type":"number"}}}}')},"./shaders/filters/tilt_shift/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Tilt Shift","category":"camera","version":2.5,"description":"Tilt Shifft effect, or elective focus is often used to simulate a miniature scene.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_blur":{"name":"Blur","description":"Amount of out of focus blur","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.01}},"u_width":{"name":"Width","description":"Width of the focus area","value":0.5,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.01}},"u_A":{"name":"A","description":"A end of the horizon line","value":[0.2,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}},"u_B":{"name":"B","description":"B end of the horizon line","value":[0.8,0.5],"type":"vec2","config":{"type":"xy","viewport":true,"min":0,"max":1,"step":0.001}}}}')},"./shaders/filters/vhs/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"VHS","category":"style","version":2.2,"description":"decimates a frame in a way that the subdivided sections reseamble lower definition pixels.","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_distortion_lof":{"name":"Low frequency distortion","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":1000,"step":1}},"u_distortion_hif":{"name":"High frequency distortion","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":0,"max":1000,"step":1}},"u_distortion_tape":{"name":"Tape distortion","description":"helpfull description for hovering","value":1,"type":"float","config":{"type":"number","min":1,"max":100,"step":0.5}},"u_static":{"name":"Static Noise","description":"helpfull description for hovering","value":0.1,"type":"float","config":{"type":"number","min":0,"max":1,"step":0.01}},"u_chroma_bloom":{"name":"Chroma Bloom","description":"helpfull description for hovering","value":2,"type":"float","config":{"type":"number","min":0,"max":5,"step":0.1}}}}')},"./shaders/filters/vibrance/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Vibrance","category":"color","version":2,"description":"Vibrance is a smart-tool which cleverly increases the intensity of the more muted colors and leaves the already well-saturated colors alone. Prevents skin tones from becoming overly saturated and unnatural.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_vibrance":{"name":"vibrance","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":0,"max":10,"step":0.01}}}}')},"./shaders/filters/vignette/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"Vignette","category":"color","version":1,"description":"Effect that fades edges into its background without a definite border.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_value":{"name":"Intensity","description":"helpfull description for hovering","value":0.3,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.1}}}}')},"./shaders/filters/white_balance/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"White Balance","category":"color","version":2,"description":"It\'s the process of removing unrealistic color casts, so that objects which appear white in person are rendered white in your photo. Proper camera white balance has to take into account the color temperature of a light source, which refers to the relative warmth or coolness of white light.","require":["rgba"],"sources":["rgba"],"target":"rgba","values":{"u_temperature":{"name":"Temperature","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-0.5,"max":0.5,"step":0.001,"display":{"min":-10000,"max":-1000}}},"u_tint":{"name":"Tint","description":"helpfull description for hovering","value":0,"type":"float","config":{"type":"number","min":-1,"max":1,"step":0.01,"display":{"min":0,"max":100}}}}}')},"./shaders/filters/xerox/manifest.json":e=>{"use strict";e.exports=JSON.parse('{"name":"xerox","category":"lighting","version":2.5,"description":"Simuates xerox-like light beam","thumbnail":"test.png","preview":"preview.mp4","icon":"icons.png","require":["rgba"],"sources":["rgba"],"target":"rgba","hidden":false,"values":{"u_pct":{"name":"Translation","description":"Translation position of the light beam","value":0.05,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_width":{"name":"Width","description":"light beam width","value":0.1,"type":"float","config":{"type":"number","viewport":true,"min":0,"max":1,"step":0.001}},"u_angle":{"name":"Angle","description":"Angle of the lightbeam and path axis","value":0,"type":"float","config":{"type":"angle","viewport":true,"min":-3.1415,"max":3.1415,"step":0.01}},"u_amount":{"name":"Amount","description":"Amount of effect","value":1,"type":"float","config":{"showInline":true,"type":"percentage","min":0,"max":1,"step":0.01}}}}')}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={id:e,loaded:!1,exports:{}};return a[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=a,r.amdO={},e=[],r.O=(t,s,o,n)=>{if(!s){var a=1/0;for(d=0;d<e.length;d++){for(var[s,o,n]=e[d],i=!0,l=0;l<s.length;l++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(i=!1,n<a&&(a=n));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,o,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var n=Object.create(null);r.r(n);var a={};t=t||[null,s({}),s([]),s(s)];for(var i=2&o&&e;"object"==typeof i&&!~t.indexOf(i);i=s(i))Object.getOwnPropertyNames(i).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,r.d(n,a),n},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>(({6241:"InfiniteImageMagicTool",6991:"FaceBlurMagicTool",7068:"AssetsFeatureSwitch",7147:"BokehMagicTool",10051:"ImageVariationsMagicTool",10748:"RequestTeamAccess",11082:"SlowMotionMagicTool",11562:"Gen1MagicTool",12377:"QuickAccountDebugControls",16653:"TeamProjectsLibrary",19564:"Gen2MagicTool",20649:"TeamSharedWithMeLibrary",20941:"Composition",22942:"UserSegmentationSurvey",23631:"TextToColorGradeMagicTool",23649:"SubtitleMagicTool",26362:"Dashboard",26918:"UserProfile",27439:"NerfDashboard",28364:"TextToSpeech",30524:"TextToImageRecipe",36018:"Storyboard",36334:"heic",37308:"TeamSettings",37715:"WatchPage",38540:"ImageToImageMagicTool",39541:"ExplorePage",42242:"Creation",49007:"MagicTools",51127:"Workflow",52265:"Settings",52833:"Workflows",54847:"WatchVideoPlayer",55831:"Storyboards",57571:"TextToTextureMagicTool",58775:"DepthMagicTool",61519:"EraseReplaceMagicTool",62301:"CleanAudioMagicTool",63115:"NerfMagicTool",64677:"ExpandImageMagicTool",68422:"SceneDetectionMagicTool",69061:"Nerf",69065:"CreateMagicToolsCheckpoint",71497:"Asset",72229:"VideoEditor",74276:"TrainingResultPage",76384:"SubtitleVideoMagicTool",77849:"ImageToVideoMagicTool",77851:"UpscaleImageMagicTool",79211:"AcceptTeamInvite",79301:"TrainingDashboard",80642:"UpscaleVideoMagicTool",80737:"ReplaceBackdropMagicTool",86923:"zxcvbn",93895:"WorkflowEditor",94087:"RemoveSilenceMagicTool",94391:"MimeTypes",96483:"ColorizeMagicTool",96728:"CreateNerfCheckpoint",97230:"WordProcessorTool"}[e]||e)+"-"+{330:"ea879745b43512ff",517:"1ae74c0e76a4cdbf",1009:"d13079eef1fd13a8",1565:"5db0dd7f6c54facf",1604:"d5b84bbb41b1f90e",1908:"1ea7748031bead9c",2054:"8e10552d14477ec0",2117:"dbab3b015cd7eefe",2293:"8e99d1401897a356",2481:"07c532070b17df40",2755:"b4419d00bc000c6d",2795:"ca185668a1596ff7",2977:"db52014b60c15391",3043:"ffc0ed439e6aad50",3150:"d71ad964d2f97fb3",3180:"3f6b9b88ff32dd70",3393:"d983ffee0844524e",3441:"25292fe38d06c8c8",3578:"8a80cdb35422e6ed",3761:"451ab7508f04b26d",3973:"8546125ffce32624",4086:"93fe86d556869efe",4450:"deaa2150d825722f",4462:"c148c4046436dc56",5109:"fbbd55ae81778305",5173:"b37e3670e8eac356",5281:"158c3d8756e05351",5292:"c3d188422aee1e0e",5314:"10afcd7c31e7de64",5367:"0edff8acc1d5e697",5588:"295c4d69d96980c3",5752:"f9e2f8fbf3575e6b",5837:"65dfbe1f847ba126",6234:"0f5d4239c377e7d5",6241:"25c6275f7924b183",6292:"f05e913485d67064",6721:"abd969ef9145453b",6727:"20504945c86318df",6895:"bac87a19d4a1d16b",6991:"8f17ffabe268d916",7068:"accd6086216240c1",7147:"c478776e1cd5f002",7496:"a15e80216e1ec550",7590:"9ac0ba3dfb79b619",8127:"3953378f6b9d822f",8344:"3f898e94cb4f3829",8619:"4bb342b8aa8d3451",9109:"751613b3f8a1f857",9359:"9434973944e12ea6",9516:"495a9fe882c7bb4c",9808:"93cc29df7bfd856f",9931:"b708c780d3b86eca",9990:"1fd726e2c86a0511",9991:"065b570b16c8c7a1",10051:"93937edfce8bef9e",10106:"eca7433af7695e24",10291:"c2af419c6da0073c",10340:"6f2a65a7d15df873",10501:"e9cac320e3df8d7a",10509:"6751968e89fe6029",10668:"00bbd42b8b4e969d",10748:"038b5947640f13c7",10825:"f75f5f8e0f8e1a54",11002:"0dab95c0bd477fe1",11007:"8f6f95d6590ec9d1",11082:"8c510e0534d3c1ce",11287:"3f435060a0941e0c",11562:"69bf90e83b96c311",11977:"62117dbe5583ba52",11981:"538e3d30e6f7ff0b",12087:"7dda7f2cc2c58f92",12261:"78565a47d9ce6bf9",12377:"6a94bcd3f24bcada",12514:"cc7abb22c010ee43",12675:"e63c27a317a1f75b",12701:"885a639fd9d70e96",13159:"2b8db7a103315b64",13274:"1a2f155418f9b1f9",13419:"835c5fffd6f2a73f",13477:"8df3c0482d8c3988",14212:"bb9b201a722af7c3",14219:"d9bfbfbdb29677a8",14503:"d066aafdb59e8f00",14600:"1b967d61ff5ef79b",14953:"071e4aa02319fb3e",15571:"4e9cd4429c2080bc",15791:"d29dd5fd2d6502bc",16116:"08ec5b638d5994ae",16447:"a3b92698bb8dd44a",16509:"d7e8db73e51cb132",16653:"7c4305f46a3d6321",16804:"166995d03f0e7ae7",17029:"c80ce77ead06fd0f",17071:"84a840f59e4910ce",17313:"e15a16a8128b1279",17319:"8b73e2ff946b0b4a",17339:"825929311d641d8a",17457:"03eb26adbb69d52f",17665:"6a4d121912aa839b",17773:"8b5e3b2169b97f26",17862:"c534ae7e9eab6d0b",17938:"fcb981243cb7399a",18132:"ab534626e88f3fa0",18370:"9e851eafabe8e7e3",18496:"2abb54932bb277e6",18563:"886e22693008ac43",18650:"091224126a0c4bdc",18691:"7569c89cbaa49311",18941:"89d8ab549a682bcc",19416:"6e5af231c2fd6df2",19564:"a59e6c15e7e802b5",19647:"47149ea2ac9d1596",19674:"d3967cec46078321",20140:"488036daf2881865",20156:"5c44baf767aba32c",20226:"2b468c942bee5b2b",20278:"ba4facedcf157e41",20346:"5764d15638950056",20388:"94d1bac8c767458c",20448:"bc6b80adeda51765",20649:"a0c7df672d4ccb9e",20726:"bd86717854a828c7",20941:"7ba85a7a5be4971f",21351:"d9f108150d72d0af",21377:"514aed924ab9942f",21452:"469751b7d5956a59",22246:"7b523540cf8ed908",22267:"7db4f1966f1ee840",22294:"4eea593d1656200f",22329:"6a96feb113feb137",22432:"1ab31f81da856c26",22634:"fb5fb4a31bd0067d",22942:"98c5e70149036a25",22960:"2f03dbb3294dc7a0",23046:"b33c02b215a71d11",23196:"f7d55af72d3c9ac7",23286:"8c6659aca86a7964",23631:"b24e5075f3ca573d",23649:"db4e332498f690dd",23995:"21a5f54c52f99c58",24502:"df5e979fb4fc19e3",24752:"686d6515e0a4c893",24754:"4ede9b5fd1821306",24979:"93d29ecfd3f9cabc",25018:"9a8210440c15a52a",25025:"392bdecfb7303224",25163:"a09aacc7fc2624d7",25438:"df76c489c8fb4fba",25661:"ffa48d47561f12e8",25698:"91740b5ac2eeb808",25746:"e679565c0f0139b2",25855:"11e669e90559f026",25983:"8621c067719af3c1",26362:"c2c3aa3e33abc751",26789:"7f8c0264d153b774",26826:"f87a0e2938814cfb",26918:"0b14a37d7a0e0108",27253:"c60bc44c05c5d026",27439:"011ea1989232be4e",27503:"c5faf98c03e2b82c",27596:"8bd050b3fedaeae0",28158:"09db79fa6b44ca57",28314:"66355743061af25c",28364:"d83317e2aee2bb2c",28456:"0d2b8429d074f4bf",28475:"ca3c480873ecdc6e",28626:"c5c94faeb924e69d",28808:"71e7bf7f78ac3707",30086:"cf581125e76e7eeb",30290:"7baf733cdb9190bb",30377:"8de5f87f04b8472b",30435:"58adb9fb95d46359",30509:"30916b993e9963a4",30524:"f963973fdb92be0d",30711:"5635dfa99d44d8c1",30740:"ff1844878d871db7",31048:"13482bf004025178",31390:"4a8bdbe84117623f",31471:"e1e08aeea8a9257d",32195:"110770a1f6f6c685",32638:"efc6b6fe37d5984c",32793:"5c2008829548cc88",32915:"3e23a0dfdc52bdaf",32980:"a4fab8f77707f893",33289:"0e3e240b664c84a9",33509:"96a554a40ce43c54",33761:"562511f017c3249a",33889:"13fff554f0fa667d",33977:"02dbc75bca232616",34113:"07737b81ffb76443",34263:"95260c16bf5bcd01",34591:"dce3be824e58e4b8",34868:"071659875d2f8a64",34977:"8825e0e25f4990b6",35030:"60d844bd1663ece6",35412:"3f061dc69cc42768",35451:"ccb82baa4d1e48ef",35503:"544e4a679929f4d3",35790:"baa3912b44b17da8",35994:"f6d1e672473f2b15",36018:"08ec494f4c2d6b67",36113:"456a1d0186b0727f",36230:"39980917bbf1fbe1",36309:"e07b63ef019f71bf",36334:"7d874da44d241644",36428:"0e7cd2df275eb60c",36559:"66d8cbafa1bb13c9",36621:"4daf94d31a5bc95f",36965:"f7ec01beb7ec3473",36968:"29024a4685d59eb8",37308:"cc1e578b2bbf41ed",37432:"fc4d39af1150ef52",37715:"2671b45e25273687",37747:"3bc0b977bd22e5df",37896:"8a8b65a74aa17f37",38065:"294322007ecedda5",38188:"a6d7fe0eb11a386b",38418:"11777afdef9a08fc",38465:"3a81e73cbc167e3f",38540:"b6c794aafdb74034",38881:"d79d9a5d9a449470",38915:"d4cfbc4234db191a",38941:"c27d3561fe3a4bae",38945:"cda8abef15e89aed",39156:"10ec9f4f3c3eb317",39170:"12cf3e12ea69b2cc",39541:"d35fbeae63e9da50",39547:"ea82b4598bf39fcc",39642:"d1b66af3c1a11a7a",39687:"a2329f960ecca912",39908:"0a7817f87a772a55",40194:"0a300da762a821da",40294:"ba759239e51ac356",40319:"a5d145cc4f30df19",40638:"c33b46195d707c27",40800:"9daadf1efb3a1faa",40804:"17a3378396b49816",40916:"b11974d8602448f2",41148:"1cc9e6fe0faf6e08",41387:"4cb8c1be56f8f27f",41563:"fac861ed1c3580e4",41610:"da9b54e15ceeb682",42142:"062bc637b2b4522f",42242:"f2092a493096291f",42426:"b2b4ea4314fb6f06",42596:"eb885a9b697a61d5",42623:"42f66f4c1f65921f",42711:"83b1a83d376b4022",42751:"1e156ffe77407106",42813:"6b6c7eedb4499409",42877:"ca5ca421b55729e9",42950:"7304d0d5da5635f3",43059:"4769e51e3a12b2f5",43351:"11db8c60b7101326",43525:"4301c61b016b7b21",43604:"78ff28c27ae37119",43898:"1adeddacf2549130",44811:"c37926ed122cf84a",45186:"507cae63151b64e7",45403:"608dbe24931143be",45587:"047920b4d48cad36",45632:"1c9cfff2f2ed67dc",45720:"9d136612996aa093",45859:"2d5d53c3f97c1e8a",45876:"c4f8a651b8206722",46026:"4ab189df9cb0ac34",46039:"822bebfe35456c58",46115:"381a8f61c149283b",46345:"5e373c305584af07",46359:"8ef567dfd917a4a9",46367:"2741c41e06872c7b",46407:"a8244398aef8af7d",46427:"2cd18d1fbdb4c1dd",46590:"a5f595ffbcaa7eea",46816:"8bea88a56ae0bb35",46962:"0c34af94b7378b0f",47135:"1f990b210bf03f13",47168:"68620ef297c25266",47434:"2ca92a6173acbc33",47642:"08dea3c9ae9ded17",47662:"33b5b9036ce1af6c",47751:"5aac10364fe9e653",47830:"15976dce7a59265f",47954:"1cef35129d15cb0f",48593:"09fc1a7c181fd425",49007:"319ceeb45ba577fd",49277:"0b5c402c3cb6c7e4",49338:"404fee6fc6a9e1d7",49488:"5862fbbc2299cb0a",49535:"7c806a80bf750b9d",49570:"1eff23f8ae5576e1",49589:"cabe3a029e2aca83",49647:"919f73eaf9298bc6",49973:"8195f59eb4622163",50165:"a1ca15d06e233731",50317:"4f3d4150e03cda9d",50428:"71ae7b953dd83a35",50438:"65a4856c82e78e7a",50765:"09989b9820e6ff7d",51127:"2828fb85c377e071",51228:"d442b175d7ab4f2a",51559:"17720077defe2e7c",51605:"8dbbdc587b866110",51874:"b1f87b0a9525ec0e",51913:"15d27095c9313edf",52259:"46806f5499ef158e",52265:"d10af3b3644dbdcf",52273:"9231a06e7abb463b",52354:"75bcf1fbf3e73224",52833:"1c5ace53386d9fc5",54034:"f1b1713e11a60a53",54583:"c98de269bb58879d",54847:"8bfa689c5f074873",54848:"f5a723ee564c1065",54867:"13caa52cf62650c1",54916:"831862e6fb4dfbd9",55155:"1f88527c3c34d6ed",55467:"dd41d9616fd96334",55733:"edf483d8a003f4f6",55740:"1dde7ab3a21fa677",55831:"1ad9244ac606a8a8",55847:"9964d63d35d43496",55919:"85ee2c7e553300a1",56182:"db9a5751461e46cf",57047:"110e1c0716cbf025",57053:"b5c9e1cfe8411723",57414:"3bb7e268122f0ee1",57450:"8ce8c2c71fd11d1b",57571:"3e55351671e1d60f",57720:"7f49bbff05573dd4",57869:"364921b8402c47d8",57928:"80a0c37f2aea75cf",57976:"7bc03ce9721bfb71",58140:"284a1bf6048a8db4",58284:"ea46ebaa684c6c8d",58663:"62f3e42f434d9ca9",58717:"216aa9bdf4e4cf0d",58744:"957d593a25b55c86",58775:"d7d08100a637d1ba",58977:"fe5dc845f18cef6d",58979:"9faf33773213d17f",59393:"7c9da1003de5d7e3",59436:"dbfa377b8e607c47",59443:"6dc275400942b7ca",59501:"929a91c41f06765f",59554:"513faf311ff63d55",59904:"723db684626a7baf",60050:"93bfd2eed13c4abe",60646:"397ec6ddf77c52b2",61126:"1a4139068fbcf8f5",61160:"59358fca24385542",61299:"808caec9d17b41ad",61364:"bc0ec9cc33292942",61442:"9fd8bfc2c7466a25",61519:"51d88c26853123bf",61607:"771847096bf98627",61861:"05d1ed2c1d037e4e",61977:"00507d5cdf018e82",62163:"e92eee60a38ef76c",62301:"9bcf163a72c8b58c",62445:"0ed0ed686b7d2dc2",62455:"6f5e1fd2ae6d46ad",62579:"2a03922d3d59d88c",62814:"603d0459b247a567",62985:"8da2906096ffa90b",62988:"cb92c924f603df80",63034:"30299758c8e0c4a4",63087:"33b17c354c6d78a5",63115:"1cec8f1e88ba1817",63831:"d809cd3ead1cbf18",64204:"c7153f3ec6db1bc8",64500:"2707694bdd4ba938",64579:"9479e3af747e2e62",64650:"90ba50bc3cef4aed",64677:"ee8710227b282002",64853:"6a26d1a2d3cad67b",64950:"7a4f5e656f99ec62",64992:"06edb5d8290f7d52",65104:"3de31b03dc5ef19c",65356:"3c2f70a8a15cb018",65388:"fddd39af2ed218dd",65399:"5d5e3c44648bea05",65405:"91c3af1dc267ff32",65640:"8ce1b5705b845346",65842:"8ac4e0bd6618868a",65934:"6853a5af22dde229",65959:"99390c4b0fc194d9",66146:"8a2bb77833dc087c",66870:"ce7a84a42d373783",67380:"b15b5c8d8c1c9163",67826:"528809d43df0558f",67882:"7b38ee357d2d3aa1",67973:"30715b3310f17e91",67975:"8738e4e2126b2768",68422:"76dc9a0e1c760dfa",68570:"f23c914310833a17",68721:"b24e919edaa31507",68804:"050e82c96d34d010",68808:"0eff26a25b0c1954",68846:"5ebcc9e026126a2b",69061:"4766e70161d06111",69065:"91a82058ff194ce0",69829:"8c8cd671b4a2bf56",69957:"b7f216e59da5b4d6",70047:"1974b84879e34ed0",70306:"9d99979ce549a16f",70418:"e7e697eff3924be2",70656:"75460cec6eaa7a91",71071:"d420690456684cfb",71449:"c8b50fbd598929c8",71497:"e82c64fdb53ad748",71663:"a47435a75c2b6623",71883:"09ef1ea0c4716879",72e3:"e9402c9f425279ce",72229:"4f020e6551a59e61",72874:"485f717255a0f34b",72922:"914c7175b0c52ae8",73114:"f3071100331ad0cf",73229:"be279998a9e57fa8",73794:"ee9e64deec542a4d",73992:"bf5acd94b5d1146b",74149:"cdfb3b82a8f07830",74253:"193b2a80fdc9c1ce",74276:"4bd30ce319b4261f",74283:"d67cf00858e665d9",74635:"095d6173b2bdbb46",74722:"8f2448c6bbc64439",74818:"cf4da5771336654e",74982:"50fda41fa432ef28",74996:"99aca0366a934415",75033:"179b84ab8b15c5e2",75054:"58eebca51467fa40",75526:"b874d80448872b0c",75765:"e67c53940aab1fbe",75810:"a0f005fd953f010a",76384:"86500ba80d1e2b05",76426:"987ba3fd34551b3d",76525:"80102db5b555306d",76729:"33b7977ee2b393f3",76924:"e15b725ed480e492",77075:"ca95d5caf677f422",77184:"4d6476895e080d01",77346:"84425969c0ad81bb",77601:"922d9cc33fc05986",77795:"07d8faa9e543e2a3",77821:"128a51a9755fb374",77824:"fe0d082fcf297dac",77849:"afc26f5e0422da89",77851:"7c71fddb64b25cb4",77963:"61ad25d5c474c114",77978:"9f2e58789658dcbd",78294:"86edfd5134d2026f",78455:"e441b4fcdf33635e",78640:"904baffd335f35a7",78745:"4f41bafe7c6b31d8",78874:"f338a7ee6f4cedbe",79211:"85022d4c20b78706",79301:"c59c6c8adadc5dee",79348:"abe6f9d3299c4ed7",79355:"a8aadadd3159cbb6",79766:"252b5d374d8a69ab",79896:"7f1c1058e58d3e78",80098:"b522a7dc5b9ad530",80376:"7bf008440a762be2",80415:"b98e754dee44c550",80469:"ca78a411f61a217f",80642:"e75d7dcb8fd2d7d5",80686:"ecdb6aa652edc0e5",80737:"2809df63d0a70e49",80843:"a83c33083466922c",80937:"0fff74d04c623455",81069:"011625ebd1bef089",81195:"f801dcf5efa5a1cc",81320:"26285879a3482f3d",81370:"132014eb13da76dc",81377:"05bb06a68fed2abd",81446:"e3b02f25544634f0",81521:"ff955c96a422360c",81657:"93dcc5760e4117e4",81979:"915e28775e8dd132",82151:"fd67015c9e0ca0fc",82642:"5687634ae3ffcdb2",83031:"809ff36a6855259c",83506:"b6bc7562004ddc32",83806:"352df65d604efe22",83871:"0ab28eb1ebde2cff",84031:"17f7cfc1f35784d2",84032:"4a11f3accc95215b",84348:"5a86b2f9244823b9",84769:"18c1468c477a5911",84999:"954e5526466f57c1",85010:"f21b4ba8ef858fce",85121:"0c2d1dee5c279e99",85577:"5e71184e13d7fb84",85608:"2829e3609b49b4ad",85610:"fe28c6c74a5b1892",86097:"9a8145df6f0285f6",86127:"c0c9f88fb89f0476",86173:"936a8b32e50a8b52",86637:"0e84ac497d7f0fa9",86734:"90e4fc78c502afe9",86738:"44c26ff11c7b40e7",86855:"503db64f8387276e",86923:"b4b5e6307327b269",87165:"c9d45a9e71d2843d",87439:"5e1e3f25a172a08d",87615:"c8aca9270fb92165",87753:"acbbd3edb0f7fb4c",87914:"8168c62edd732f4a",88046:"6df93adf4d79ec6b",88842:"cee9e5aaa944378e",89056:"f9a6d95dbc9005f3",89070:"65008f22227df9cb",89210:"a6707351af90bf16",89278:"e54d06dc4da16f02",89308:"27601f27e645ef55",89473:"6504674dc7d3d404",89478:"4a5eb2b87acb454e",89599:"dee185e404821458",89733:"d0f9b83c4190f88b",89815:"bd22651d7a8a7ba2",89867:"46f9664d535d43ca",90100:"5ae5c0b93ee3d0c7",90200:"6febe9896fc65347",90431:"bd789478e31bcf9f",90461:"25af00a428fd317a",90499:"84d23dcbb7484a83",90668:"7e5987517a631693",90698:"da19c5cb5e70cbdb",90750:"15de9fe59ea1101d",90850:"903a097de2c56983",91394:"c035531f548bdb2a",91664:"841a0860a0b4f4b0",91990:"f6c01ccc4d5684e4",92353:"9882221f71783beb",92648:"b3d062e6935d9176",92963:"432ed7345d54f614",92991:"1962d150b7c590a3",93620:"6a4f8762a4065ff6",93693:"b2c8f1b992d5f0d0",93738:"e3e7611a6842ef0f",93806:"c8d14d44daf488c8",93895:"c11cf9c56420ddfa",93957:"9f5ae4b2cc196d49",94087:"696e4e9e9d3c259c",94326:"5efba79072d81d4b",94391:"c0a58e66b0855de4",94763:"70f33bb1221ae660",94900:"07f5a63485bf63e5",95083:"e5da88fa085a0f84",95173:"4994af97c785cc8f",95538:"8130ec70878503a8",95669:"aa24e02d391b7ab6",95723:"e51176ec7016b32e",96221:"fa0568254260faca",96379:"f7c0295b8b4288c0",96483:"605f7650d44eb9aa",96632:"226fe53c3f2fb345",96675:"50a49ce659590f11",96728:"5938803fa4997b34",96924:"87dba0c6b85ea29d",97206:"42f4c0d08c25959d",97230:"9b4c44f2dba37833",97426:"01fe3074ec7c044c",97588:"3194e2663930cf1d",98009:"521b59ceabada774",98330:"197536d6a7126477",98604:"a890192ca494cf87",98614:"7dfface03dd487ed",99079:"43cfb4ad00827be8",99213:"2494d065935be7e6",99362:"d87d313b04f42caa",99477:"36a44e2508c1728a",99500:"a09aa3ea1f521806",99575:"726c82d639ab5aee",99602:"ac0514050287087e",99853:"b74c3e102b722db9"}[e]+".prod.js"),r.miniCssF=e=>({6241:"InfiniteImageMagicTool",10748:"RequestTeamAccess",11562:"Gen1MagicTool",19564:"Gen2MagicTool",20941:"Composition",28364:"TextToSpeech",36018:"Storyboard",55831:"Storyboards",72229:"VideoEditor",97230:"WordProcessorTool"}[e]+"-"+{6241:"2b1aad363641b692",10748:"9ec9b034b5346765",11562:"2b1aad363641b692",19564:"4354413889753b4f",20941:"08f36bf3ce22a61f",28364:"6bca799cae1ded69",36018:"76c8af421af06df8",55831:"b5925305ed6e8340",72229:"08f36bf3ce22a61f",97230:"3de3fdccc0056ebc"}[e]+".css"),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},n="runway:",r.l=(e,t,s,a)=>{if(o[e])o[e].push(t);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var p=c[d];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==n+s){i=p;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",n+s),i.src=e),o[e]=[t];var u=(t,s)=>{i.onerror=i.onload=null,clearTimeout(m);var n=o[e];if(delete o[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(s))),t)return t(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,s)=>{var o=r.miniCssF(e),n=r.p+o;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var n=(i=s[o]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===e||n===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){var i;if((n=(i=a[o]).getAttribute("data-href"))===e||n===t)return i}})(o,n))return t();((e,t,s,o,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=s=>{if(a.onerror=a.onload=null,"load"===s.type)o();else{var i=s&&s.type,r=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=r,a.parentNode&&a.parentNode.removeChild(a),n(l)}},a.href=t,s?s.parentNode.insertBefore(a,s.nextSibling):document.head.appendChild(a)})(e,n,null,t,s)})),t={71401:0};r.f.miniCss=(s,o)=>{t[s]?o.push(t[s]):0!==t[s]&&{6241:1,10748:1,11562:1,19564:1,20941:1,28364:1,36018:1,55831:1,72229:1,97230:1}[s]&&o.push(t[s]=e(s).then((()=>{t[s]=0}),(e=>{throw delete t[s],e})))}}})(),(()=>{var e={71401:0};r.f.j=(t,s)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var n=new Promise(((s,n)=>o=e[t]=[s,n]));s.push(o[2]=n);var a=r.p+r.u(t),i=new Error;r.l(a,(s=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,o[1](i)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,s)=>{var o,n,[a,i,l]=s,c=0;if(a.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var d=l(r)}for(t&&t(s);c<a.length;c++)n=a[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},s=globalThis.webpackChunkrunway=globalThis.webpackChunkrunway||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),r.nc=void 0;var l=r.O(void 0,[56109],(()=>r("./app/index.tsx")));l=r.O(l)})();
//# sourceMappingURL=renderer-5a291bb8efc0d10c.prod.js.map
//# debugId=bd3cd7e6-5240-56b5-a997-0c9a3f57c704
